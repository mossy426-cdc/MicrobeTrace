{"version":3,"file":"main.js","mappings":"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;IAClB,MAAMC,CAAC,GAAGC,QAAQ,CAACF,QAAQ,CAACtL,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;IAC7C,MAAMyL,CAAC,GAAGD,QAAQ,CAACF,QAAQ,CAACtL,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;IAC7C,MAAMpQ,CAAC,GAAG4b,QAAQ,CAACF,QAAQ,CAACtL,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;IAC7C,MAAM0L,GAAG,GAAGH,CAAC,GAAG,GAAG,GAAGE,CAAC,GAAG,GAAG,GAAG7b,CAAC,GAAG,GAAG;IACvC,OAAO8b,GAAG,IAAI,MAAM,GAAG,SAAS,GAAG,SAAS;EAChD;EAEA;;;;;;EAMAC,IAAIA,CAACC,EAAE;IACH,OAAOA,EAAE,CAACA,EAAE,CAACrc,MAAM,GAAG,CAAC,CAAC;EAC5B;EAGAuW,UAAUA,CAACa,IAAI,EAAEL,QAAA,GAAgB,IAAI;IAEjC;IAEA,IAAI,CAAC/f,aAAa,CAACoM,IAAI,CAACgU,IAAI,CAAC;IAG7B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAEJ;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAIA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;;;;;EAKAkF,UAAUA,CAACC,OAAO;IACdA,OAAO,CAACC,YAAY,CAAC,OAAO,EAAE,8BAA8B,CAAC;IAC7D,MAAMC,eAAe,GAAG,EAAE;IAE1B;IACAA,eAAe,CAACtb,IAAI,CAAC,GAAG,GAAGob,OAAO,CAAC7oB,EAAE,CAAC;IACtC,MAAMgpB,QAAQ,GAAGH,OAAO,CAACI,SAAS,CAAC3c,MAAM;IACzC,KAAK,IAAI4c,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,QAAQ,EAAEE,CAAC,EAAE,EAAE;MAC/B,IAAI,CAAC,IAAI,CAAC7Y,QAAQ,CAAC,GAAG,GAAGwY,OAAO,CAACI,SAAS,CAACC,CAAC,CAAC,EAAEH,eAAe,CAAC,EAAE;QAC7DA,eAAe,CAACtb,IAAI,CAAC,GAAG,GAAGob,OAAO,CAACI,SAAS,CAACC,CAAC,CAAC,CAAC;MACpD;IACJ;IAEA;IACA,MAAMvjB,KAAK,GAAGkjB,OAAO,CAACM,oBAAoB,CAAC,GAAG,CAAC;IAC/C,MAAMC,MAAM,GAAGzjB,KAAK,CAAC2G,MAAM;IAC3B,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6b,MAAM,EAAE7b,CAAC,EAAE,EAAE;MAC7B,IAAIvN,EAAE,GAAG2F,KAAK,CAAC4H,CAAC,CAAC,CAACqB,GAAG;MACrB,IAAI,CAAC,IAAI,CAACyB,QAAQ,CAAC,GAAG,GAAGrQ,EAAE,EAAE+oB,eAAe,CAAC,EAAE;QAC3CA,eAAe,CAACtb,IAAI,CAAC,GAAG,GAAGzN,EAAE,CAAC;MAClC;MACA,MAAMqpB,OAAO,GAAG1jB,KAAK,CAAC4H,CAAC,CAAC,CAAC0b,SAAS;MAClC,KAAK,IAAI9c,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkd,OAAO,CAAC/c,MAAM,EAAEH,CAAC,EAAE,EAAE;QACrC,IAAI,CAAC,IAAI,CAACkE,QAAQ,CAAC,GAAG,GAAGgZ,OAAO,CAACld,CAAC,CAAC,EAAE4c,eAAe,CAAC,EAAE;UACnDA,eAAe,CAACtb,IAAI,CAAC,GAAG,GAAG4b,OAAO,CAACld,CAAC,CAAC,CAAC;QAC1C;MACJ;IACJ;IAEA;IACA,IAAImd,gBAAgB,GAAG,EAAE;IACzB,MAAMC,YAAY,GAAGxU,QAAQ,CAACyU,WAAW,CAACld,MAAM;IAChD,KAAK,IAAIoG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6W,YAAY,EAAE7W,CAAC,EAAE,EAAE;MACnC,MAAMrE,CAAC,GAAQ0G,QAAQ,CAACyU,WAAW,CAAC9W,CAAC,CAAC;MACtC,IAAI;QACA,IAAI,CAACrE,CAAC,CAACob,QAAQ,EAAE;MACrB,CAAC,CAAC,OAAO9Y,CAAC,EAAE;QACR,IAAIA,CAAC,CAAC6J,IAAI,KAAK,eAAe,EAAE,MAAM7J,CAAC,CAAC,CAAC;QACzC;MACJ;MACA,MAAM8Y,QAAQ,GAAGpb,CAAC,CAACob,QAAQ;MAC3B,MAAMC,MAAM,GAAGD,QAAQ,CAACnd,MAAM;MAC9B,KAAK,IAAIgc,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoB,MAAM,EAAEpB,CAAC,EAAE,EAAE;QAC7B,MAAMqB,IAAI,GAAGF,QAAQ,CAACnB,CAAC,CAAC;QACxB,IAAI,CAACqB,IAAI,CAACC,YAAY,EAAE;QACxB,IAAID,IAAI,CAACC,YAAY,CAACvZ,QAAQ,CAAC0Y,eAAe,CAAC,EAAE;UAC7CO,gBAAgB,IAAIK,IAAI,CAACE,OAAO;QACpC;MACJ;IACJ;IAEA,MAAMC,YAAY,GAAG/U,QAAQ,CAACgV,aAAa,CAAC,OAAO,CAAC;IACpDD,YAAY,CAAChB,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC;IAC7CgB,YAAY,CAACE,SAAS,GAAGV,gBAAgB;IACzC,MAAMW,OAAO,GAAGpB,OAAO,CAACqB,aAAa,EAAE,GAAGrB,OAAO,CAACsB,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI;IACpEtB,OAAO,CAACuB,YAAY,CAACN,YAAY,EAAEG,OAAO,CAAC;IAC3C,MAAMI,UAAU,GAAG,IAAIC,aAAa,EAAE;IACtC,OAAOD,UAAU,CAACE,iBAAiB,CAAC1B,OAAO,CAAC;EAChD;EAEA;;;;EAIA2B,cAAcA,CAAA;IACV,IAAI5kB,KAAK,GAAG,IAAI,CAAC8E,OAAO,CAACtD,IAAI,CAACxB,KAAK,CAACuM,MAAM,CAAC6M,CAAC,IAAIA,CAAC,CAAChe,OAAO,CAAC;IAC1D,IAAIypB,YAAY,GAAG7kB,KAAK,CAACuM,MAAM,CAAC6M,CAAC,IAAIA,CAAC,CAAChQ,MAAM,CAACqB,QAAQ,CAAC,kBAAkB,CAAC,CAAC;IAC3E,IAAI0H,SAAS,GAAG,IAAI9D,GAAG,CACnBwW,YAAY,CAACtX,GAAG,CAAC6L,CAAC,IAAIA,CAAC,CAACpN,MAAM,CAAC,CAAC1I,MAAM,CAClCuhB,YAAY,CAACtX,GAAG,CAAC6L,CAAC,IAAIA,CAAC,CAACnN,MAAM,CAAC,CAAC,CACvC,CAACwD,IAAI;IACN,IAAIqV,GAAG,GAAG,EAAE;IACZ,IAAI,CAAChgB,OAAO,CAACtD,IAAI,CAACzB,KAAK,CAACuG,OAAO,CAACC,CAAC,IAAG;MAChCI,MAAM,CAACC,IAAI,CAACL,CAAC,CAAC,CAACD,OAAO,CAACE,GAAG,IAAG;QACzB,IAAIse,GAAG,CAACte,GAAG,CAAC,EAAE;QACdse,GAAG,CAACte,GAAG,CAAC,GAAG;UACPiH,KAAK,EAAEjH,GAAG;UACV5E,IAAI,EAAE,IAAI,CAAC0a,QAAQ,CAAC,OAAO/V,CAAC,CAACC,GAAG,CAAC;SACpC;MACL,CAAC,CAAC;IACN,CAAC,CAAC;IACF,OAAOsB,IAAI,CAACE,SAAS,CACjB;MACI+c,aAAa,EAAE;QACX,eAAe,EAAE,IAAI,CAACjgB,OAAO,CAACtD,IAAI,CAACrB,QAAQ,CAACoN,GAAG,CAAC+V,CAAC,IAAIA,CAAC,CAAC7T,IAAI,CAAC;QAC5DuV,OAAO,EAAE;UACLC,YAAY,EAAE,EAAE;UAChBC,KAAK,EAAE,QAAQ;UACfC,MAAM,EAAE,EAAE;UACVC,GAAG,EAAE,CAAC;UACN,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;SACnB;QACD,gBAAgB,EAAE;UACdC,KAAK,EAAE,CAAC;UACR,mCAAmC,EAAE;YACjC,eAAe,EAAErlB,KAAK,CAAC0G;;SAE9B;QACD,aAAa,EAAE,EAAE;QACjB4e,KAAK,EAAEtlB,KAAK,CAACuN,GAAG,CAAC6L,CAAC,KAAK;UACnBmM,UAAU,EAAE,CAAC,MAAM,CAAC;UACpB9Y,QAAQ,EAAE,KAAK;UACf/F,MAAM,EAAE0S,CAAC,CAAC,IAAI,CAACtU,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,oBAAoB,CAAC,CAAC;UAC3DmhB,OAAO,EAAE,KAAK;UACdrT,SAAS,EAAE,CAACiH,CAAC,CAACpN,MAAM,EAAEoN,CAAC,CAACnN,MAAM,CAAC;UAC/BD,MAAM,EAAE,IAAI,CAAClH,OAAO,CAACtD,IAAI,CAACzB,KAAK,CAACiQ,SAAS,CAACzJ,CAAC,IAAIA,CAAC,CAACyC,GAAG,IAAIoQ,CAAC,CAACpN,MAAM,CAAC;UACjEyZ,OAAO,EAAE,CAAC;UACVxZ,MAAM,EAAE,IAAI,CAACnH,OAAO,CAACtD,IAAI,CAACzB,KAAK,CAACiQ,SAAS,CAACzJ,CAAC,IAAIA,CAAC,CAACyC,GAAG,IAAIoQ,CAAC,CAACnN,MAAM;SACnE,CAAC,CAAC;QACH,YAAY,EAAE;UACV,KAAK,EAAE,CAAC;UACR,KAAK,EAAE,CAAC;UACR,KAAK,EAAE,CAAC;UACRyZ,OAAO,EAAE,IAAI,CAAC5gB,OAAO,CAACtD,IAAI,CAACzB,KAAK,CAAC2G,MAAM;UACvC,KAAK,EAAE,CAAC;UACR,KAAK,EAAE,CAAC;UACR,KAAK,EAAE;SACV;QACD,oBAAoB,EAAE;UAClB,gBAAgB,EAAE,IAAI;UACtB,eAAe,EAAE;SACpB;QACD,iBAAiB,EAAE;UACfif,QAAQ,EAAE,IAAI,CAAC7gB,OAAO,CAACtD,IAAI,CAACrB,QAAQ,CAACuG,MAAM;UAC3C4e,KAAK,EAAEtlB,KAAK,CAAC0G,MAAM;UACnBkf,KAAK,EAAE,IAAI,CAAC9gB,OAAO,CAACtD,IAAI,CAACzB,KAAK,CAAC2G,MAAM;UACrC,8BAA8B,EAAEyL;SACnC;QACDyT,KAAK,EAAE,IAAI,CAAC9gB,OAAO,CAACtD,IAAI,CAACzB,KAAK,CAACwN,GAAG,CAAChH,CAAC,KAAK;UACrCgf,UAAU,EAAE,EAAE;UACdM,QAAQ,EAAE,IAAI;UACd3c,OAAO,EAAE3C,CAAC,CAAC2C,OAAO;UAClB4c,GAAG,EAAE,IAAI;UACT1rB,EAAE,EAAEmM,CAAC,CAACyC,GAAG;UACTkJ,kBAAkB,EAAE3L;SACvB,CAAC,CAAC;QACHwf,wBAAwB,EAAEjB,GAAG;QAC7BkB,QAAQ,EAAE;UACN,iBAAiB,EAAE,EAAE;UACrBC,YAAY,EAAE,QAAQ;UACtB,gBAAgB,EAAE,QAAQ;UAC1B9M,SAAS,EAAE,IAAI,CAACrU,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB;;;KAGjE,EACD,IAAI,EACJ,CAAC,CACJ;EACL;EAEA;;;;;EAKAoL,IAAIA,CAACqN,KAAK;IACN,IAAI,CAACA,KAAK,EAAEA,KAAK,GAAG,IAAI,CAAChY,OAAO;IAChC,OAAO,CAACgD,IAAI,CAACE,SAAS,CAAC8U,KAAK,CAAC,CAACpW,MAAM,GAAG,IAAI,GAAG,IAAI,EAAEqN,cAAc,EAAE,GAAG,IAAI;EAC/E;EAEA;;;;EAIAuI,QAAQA,CAAC/mB,KAAa;IAClB,MAAM2wB,KAAK,GAAG3wB,KAAK,CAACyc,WAAW,EAAE,CAAC9G,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;IACpD,IAAIgb,KAAK,IAAI,MAAM,EAAE,OAAO,SAAS;IACrC,IAAIA,KAAK,IAAI,IAAI,IAAIA,KAAK,IAAI,KAAK,EAAE,OAAO,IAAI;IAChD,IAAIA,KAAK,IAAI,MAAM,EAAE,OAAO,MAAM;IAClC,IAAIA,KAAK,IAAI,MAAM,EAAE,OAAO,MAAM;IAClC,IAAIA,KAAK,IAAI,YAAY,EAAE,OAAO,YAAY;IAC9C,IAAIA,KAAK,IAAI,YAAY,EAAE,OAAO,YAAY;IAC9C,IAAIA,KAAK,IAAI,SAAS,EAAE,OAAO,KAAK;IACpC,IAAIA,KAAK,IAAI,IAAI,EAAE,OAAO,kBAAkB;IAC5C,OAAO3wB,KAAK;IACZ,OAAO2wB,KAAK,CAAChb,OAAO,CAAC,eAAe,EAAEoY,CAAC,IAAIA,CAAC,CAAC3a,WAAW,EAAE,CAAC;EAC/D;EAEA;;;;;EAKAgU,WAAWA,CAAA;IACP,OAAO,IAAIlK,OAAO,CAAOC,OAAO,IAAG;MAC/B,IAAIoB,KAAK,GAAG7R,IAAI,CAACC,GAAG,EAAE;MACtB,IAAI/B,QAAQ,GAAG,IAAI,CAAC2E,OAAO,CAACtD,IAAI,CAACrB,QAAQ,GAAG,EAAE;MAC9C,IAAIJ,KAAK,GAAG,IAAI,CAAC+E,OAAO,CAACtD,IAAI,CAACzB,KAAK;QAC/BC,KAAK,GAAG,IAAI,CAAC8E,OAAO,CAACtD,IAAI,CAACxB,KAAK;QAC/B4Z,MAAM,GAAG7Z,KAAK,CAACwN,GAAG,CAAChH,CAAC,IAAIA,CAAC,CAACyC,GAAG,CAAC;MAClC,MAAMmd,QAAQ,GAAGpmB,KAAK,CAAC2G,MAAM;QACzBoU,QAAQ,GAAG9a,KAAK,CAAC0G,MAAM;MAC3B,IAAI0f,SAAS,GAAG,IAAI,CAAC9gB,IAAI,CAACvF,KAAK,GAAG,EAAE;MACpC,IAAIsmB,GAAG,GAAG,IAAI,CAACvhB,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,oBAAoB,CAAC;MAE1D;;;;;;MAMA,MAAMiiB,GAAG,GAAGA,CAAClsB,EAAE,EAAE8O,OAAO,KAAI;QACxB;QACA,IAAIkd,SAAS,CAAC5b,OAAO,CAACpQ,EAAE,CAAC,IAAI,CAAC,EAAE;QAChC;QACAgsB,SAAS,CAACve,IAAI,CAACzN,EAAE,CAAC;QAClB,IAAIwN,IAAI,GAAQ,EAAE;QAClB,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwe,QAAQ,EAAExe,CAAC,EAAE,EAAE;UAC/B,MAAMpB,CAAC,GAAGxG,KAAK,CAAC4H,CAAC,CAAC;UAClB,IAAI,CAACpB,CAAC,CAACyC,GAAG,EAAE;YACRzC,CAAC,CAACyC,GAAG,GAAGzC,CAAC,CAACnM,EAAE;UAChB;UACA,IAAImM,CAAC,CAACyC,GAAG,IAAI5O,EAAE,EAAE;YACbwN,IAAI,GAAGrB,CAAC;YACR;UACJ;QACJ;QACA,MAAMggB,SAAS,GAAGrd,OAAO,CAAC9O,EAAE;QAC5BwN,IAAI,CAACsB,OAAO,GAAGqd,SAAS;QACxBrd,OAAO,CAACnJ,KAAK,EAAE;QACf,IAAI8Z,GAAG,GAAG,IAAI,CAACvU,IAAI,CAACX,MAAM,CAACvK,EAAE,CAAC;QAC9B,IAAI,CAACyf,GAAG,EAAE;QACV,KAAK,IAAI/M,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqZ,QAAQ,EAAErZ,CAAC,EAAE,EAAE;UAC/B,MAAMsM,CAAC,GAAGS,GAAG,CAACD,MAAM,CAAC9M,CAAC,CAAC,CAAC;UACxB,IAAI,CAACsM,CAAC,EAAE;UACR,IAAI,CAACA,CAAC,CAAChe,OAAO,EAAE;UAChBge,CAAC,CAAClQ,OAAO,GAAGqd,SAAS;UACrBrd,OAAO,CAAClJ,KAAK,EAAE;UACfkJ,OAAO,CAACsd,aAAa,IAAIpN,CAAC,CAACiN,GAAG,CAAC;UAC/B,IAAID,SAAS,CAAC1f,MAAM,IAAIyf,QAAQ,EAAE;UAClC;UACAG,GAAG,CAAClN,CAAC,CAACpN,MAAM,EAAE9C,OAAO,CAAC;UACtBod,GAAG,CAAClN,CAAC,CAACnN,MAAM,EAAE/C,OAAO,CAAC;QAC1B;MACJ,CAAC,CAAC,CAAC;MAEH,KAAK,IAAI8P,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmN,QAAQ,EAAEnN,CAAC,EAAE,EAAE;QAC/B,MAAMzS,CAAC,GAAGxG,KAAK,CAACiZ,CAAC,CAAC;QAClBzS,CAAC,CAAC4C,MAAM,GAAG,CAAC;QACZ,MAAM/O,EAAE,GAAGmM,CAAC,CAACyC,GAAG;QAEhB;QACA,IAAIod,SAAS,CAAC5b,OAAO,CAACpQ,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE;UAE7B,MAAM8O,OAAO,GAAG;YACZ9O,EAAE,EAAE+F,QAAQ,CAACuG,MAAM,GAAG,CAAC,GAAGvG,QAAQ,CAACuG,MAAM,GAAG,CAAC;YAC7C3G,KAAK,EAAE,CAAC;YACRC,KAAK,EAAE,CAAC;YACRwmB,aAAa,EAAE,CAAC;YAChBC,cAAc,EAAE,CAAC;YACjBC,qBAAqB,EAAErf,SAAS;YAChCjM,OAAO,EAAE;WACZ;UAGD+E,QAAQ,CAAC0H,IAAI,CAACqB,OAAO,CAAC;UACtBod,GAAG,CAAClsB,EAAE,EAAE8O,OAAO,CAAC;UAChB,IAAIkd,SAAS,CAAC1f,MAAM,IAAIyf,QAAQ,EAAE;QACtC;MACJ;MAEA,IAAG,IAAI,CAACloB,SAAS,EAAE;QACfkK,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;MACrF;MAEAD,KAAK,GAAG7R,IAAI,CAACC,GAAG,EAAE;MAClB;MACA;MACA,KAAK,IAAI+E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6T,QAAQ,EAAE7T,CAAC,EAAE,EAAE;QAC/B,MAAMmS,CAAC,GAAGpZ,KAAK,CAACiH,CAAC,CAAC;QAClB,IAAI,CAACmS,CAAC,CAAChe,OAAO,EAAE;QAChB,IAAIqN,CAAC,GAAG,KAAK;UACTqC,CAAC,GAAG,KAAK;QACb,KAAK,IAAIrD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0e,QAAQ,EAAE1e,CAAC,EAAE,EAAE;UAC/B,MAAMG,IAAI,GAAG7H,KAAK,CAAC0H,CAAC,CAAC;UACrB,IAAI2R,CAAC,CAACpN,MAAM,IAAIpE,IAAI,CAACoB,GAAG,EAAE;YACtBP,CAAC,GAAG,IAAI;YACRb,IAAI,CAACuB,MAAM,EAAE;UACjB;UACA,IAAIiQ,CAAC,CAACnN,MAAM,IAAIrE,IAAI,CAACoB,GAAG,EAAE;YACtB8B,CAAC,GAAG,IAAI;YACRlD,IAAI,CAACuB,MAAM,EAAE;UACjB;UACA,IAAIV,CAAC,IAAIqC,CAAC,EAAE;QAChB;MACJ;MACA;MACA3K,QAAQ,CAACmG,OAAO,CAACgd,CAAC,IAAG;QACjBA,CAAC,CAACtjB,KAAK,GAAGsjB,CAAC,CAACtjB,KAAK,GAAG,CAAC;QACrBsjB,CAAC,CAACmD,cAAc,GAAGnD,CAAC,CAACtjB,KAAK,GAAGsjB,CAAC,CAACvjB,KAAK;QACpCujB,CAAC,CAACoD,qBAAqB,GAAGpD,CAAC,CAACkD,aAAa,GAAG,CAAC,GAAGlD,CAAC,CAACtjB,KAAK;MAC3D,CAAC,CAAC;MACF,IAAG,IAAI,CAAC/B,SAAS,EAAE;QACfkK,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;MACxF;MACArB,OAAO,EAAE;IACb,CAAC,CAAC;EACN;EAEA;;;;EAIAmK,iBAAiBA,CAAC8J,MAAM;IACpB,IAAI7S,KAAK,GAAG7R,IAAI,CAACC,GAAG,EAAE;IACtB,IAAI0kB,SAAS,GAAG,IAAI,CAAC9hB,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,qBAAqB,CAAC;IACjE,IAAItE,KAAK,GAAG,IAAI,CAAC+E,OAAO,CAACtD,IAAI,CAACzB,KAAK;MAC/BI,QAAQ,GAAG,IAAI,CAAC2E,OAAO,CAACtD,IAAI,CAACrB,QAAQ;IACzC,IAAIsH,CAAC,GAAG1H,KAAK,CAAC2G,MAAM;IACpB,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;MACxB,MAAMC,IAAI,GAAG7H,KAAK,CAAC4H,CAAC,CAAC;MAErBC,IAAI,CAACxM,OAAO,GAAG,IAAI;MACnB,MAAM8N,OAAO,GAAG/I,QAAQ,CAACyH,IAAI,CAACsB,OAAO,CAAC;MAEtC,IAAIA,OAAO,EAAE;QACT;QACA;QACA;QACA;QACAtB,IAAI,CAACxM,OAAO,GAAGwM,IAAI,CAACxM,OAAO,IAAI8N,OAAO,CAAC9N,OAAO;MAClD;MACA,IAAIwrB,SAAS,IAAI,MAAM,EAAE;QACrBhf,IAAI,CAACxM,OAAO,GAAGwM,IAAI,CAACxM,OAAO,IAAIoB,6CAAM,CAAC,IAAI,CAACsI,OAAO,CAACnC,KAAK,CAACE,OAAO,CAAC,CAACmZ,MAAM,EAAE,IAAIxf,6CAAM,CAACoL,IAAI,CAACgf,SAAS,CAAC,CAAC,CAAC5K,MAAM,EAAE;MAClH;MAEA;MACA;MACA;IACJ;IACA,IAAI,CAAC2K,MAAM,EAAE3wB,CAAC,CAACmZ,QAAQ,CAAC,CAAC2B,OAAO,CAAC,iBAAiB,CAAC;IAEnD,IAAG,IAAI,CAAC7S,SAAS,EAAE;MACfkK,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAErI,KAAK,CAACwM,MAAM,CAAC9E,CAAC,IAAIA,CAAC,CAACrM,OAAO,CAAC,CAAC;MAC5D+M,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAErI,KAAK,CAACwM,MAAM,CAAC9E,CAAC,IAAIA,CAAC,CAACrM,OAAO,CAAC,CAACsL,MAAM,CAAC;MAC1EyB,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;IAC7F;EAEJ;EAEA;;;;;EAKA2I,iBAAiBA,CAACiK,MAAe,EAAEE,YAAY,GAAG,IAAI;IAClD,IAAI/S,KAAK,GAAG7R,IAAI,CAACC,GAAG,EAAE;IACtB,IAAI2H,MAAM,GAAG,IAAI,CAAC/E,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,oBAAoB,CAAC;MACzD8U,SAAS,GAAG,IAAI,CAACrU,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB,CAAC;MACxDyiB,MAAM,GAAG,IAAI,CAAChiB,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,cAAc,CAAC;IACvD,IAAIrE,KAAK,GAAG,IAAI,CAAC8E,OAAO,CAACtD,IAAI,CAACxB,KAAK;IACnC,IAAIG,QAAQ,GAAG,IAAI,CAAC2E,OAAO,CAACtD,IAAI,CAACrB,QAAQ;IACzC,IAAIsH,CAAC,GAAGzH,KAAK,CAAC0G,MAAM;IAEpB,IAAG,IAAI,CAACzI,SAAS,EAAE;MACfkK,OAAO,CAACC,GAAG,CAAC,gCAAgCyB,MAAM,IAAIsP,SAAS,IAAI2N,MAAM,EAAE,CAAC;IAChF;IAEA,KAAK,IAAInf,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;MAGxB,MAAMiG,IAAI,GAAG5N,KAAK,CAAC2H,CAAC,CAAC;MAErB;MACA;MACA;MAGA,IAAIvM,OAAO,GAAG,IAAI;MAClB,IAAI2rB,UAAU,GAAG,KAAK;MAEtB;MACA,IAAKnZ,IAAI,CAACvE,WAAW,IAAI,CAACuE,IAAI,CAACxE,MAAM,CAACqB,QAAQ,CAACmD,IAAI,CAACpB,cAAc,CAAC,EAAE;QAEjE,IAAIoB,IAAI,CAAC5B,MAAM,KAAK,wBAAwB,IAAI4B,IAAI,CAAC3B,MAAM,KAAK,wBAAwB,IAAM2B,IAAI,CAAC5B,MAAM,KAAK,wBAAwB,IAAI4B,IAAI,CAAC3B,MAAM,KAAK,wBAAyB,EAAE;UACjL9D,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAE7L,6CAAW,CAACqR,IAAI,CAAC,CAAC;QACnE;QAEAA,IAAI,CAACxE,MAAM,CAACvB,IAAI,CAAC+F,IAAI,CAACpB,cAAc,CAAC;MACzC;MAEA;MACA,IAAIoB,IAAI,CAAC/D,MAAM,CAAC,IAAI,IAAI,EAAE;QAEtB;QACA,IAAI+D,IAAI,CAACxE,MAAM,CAACmD,MAAM,CAACya,QAAQ,IAAI,CAACA,QAAQ,CAACvc,QAAQ,CAACmD,IAAI,CAACpB,cAAc,CAAC,CAAC,CAAC9F,MAAM,GAAG,CAAC,EAAE;UACpF;UACAkH,IAAI,CAACxE,MAAM,GAAGwE,IAAI,CAACxE,MAAM,CAACmD,MAAM,CAACya,QAAQ,IAAI,CAACA,QAAQ,CAACvc,QAAQ,CAACmD,IAAI,CAACpB,cAAc,CAAC,CAAC;UACrFua,UAAU,GAAG,IAAI;UACjB3rB,OAAO,GAAG,IAAI;QAClB,CAAC,MAAM;UACHwS,IAAI,CAACxS,OAAO,GAAG,KAAK;UACpB;QACJ;MAEJ,CAAC,MAAM;QAEH,IAAIwS,IAAI,CAACvE,WAAW,EAAE;UAGlBjO,OAAO,GAAGwS,IAAI,CAAC/D,MAAM,CAAC,GAAGsP,SAAS;UAGlC,IAAI,CAAC/d,OAAO,EAAE;YAGV;YACA,IACIwS,IAAI,CAACxE,MAAM,CAAC1C,MAAM,GAAG,CAAC,IACtBkH,IAAI,CAACxE,MAAM,CAACmD,MAAM,CAACya,QAAQ,IAAG;cAC9B,MAAMC,UAAU,GAAG,YAAY,CAACC,IAAI,CAACF,QAAQ,CAAC;cAC9C,MAAMG,sBAAsB,GAAGH,QAAQ,CAACvc,QAAQ,CAACmD,IAAI,CAACpB,cAAc,CAAC;cACrE,OAAOwa,QAAQ,IAAI,CAACG,sBAAsB,IAAI,CAACF,UAAU;YACzD,CAAC,CAAC,CAACvgB,MAAM,GAAG,CAAC,EACf;cAEEkH,IAAI,CAACxE,MAAM,GAAGwE,IAAI,CAACxE,MAAM,CAACmD,MAAM,CAACya,QAAQ,IAAG;gBAC5C,MAAMC,UAAU,GAAG,YAAY,CAACC,IAAI,CAACF,QAAQ,CAAC;gBAC9C,MAAMG,sBAAsB,GAAGH,QAAQ,CAACvc,QAAQ,CAACmD,IAAI,CAACpB,cAAc,CAAC;gBACrE,OAAOwa,QAAQ,IAAI,CAACG,sBAAsB,IAAI,CAACF,UAAU;cACzD,CAAC,CAAC;cAEFF,UAAU,GAAG,IAAI;cACjB3rB,OAAO,GAAG,IAAI;YAClB;YACA,IAAIwS,IAAI,CAACxE,MAAM,CAAC1C,MAAM,GAAG,CAAC,EAAE;cACxBkH,IAAI,CAACxE,MAAM,GAAGwE,IAAI,CAACxE,MAAM,CAACmD,MAAM,CAACya,QAAQ,IAAI,CAACA,QAAQ,CAACvc,QAAQ,CAACmD,IAAI,CAACpB,cAAc,CAAC,CAAC;cACrFpR,OAAO,GAAG,IAAI;YAClB;YAGA;YACA,IAAIwS,IAAI,CAACxE,MAAM,CAAC,CAAC,CAAC,KAAKwE,IAAI,CAACpB,cAAc,EAAE;cACxCpR,OAAO,GAAG,IAAI;YAClB;UAGJ;QAEJ,CAAC,MAAM;UAEH;UACA2rB,UAAU,GAAG,IAAI;UACjB3rB,OAAO,GAAG,IAAI;QAElB;MAEJ;MAGA,IAAIA,OAAO,IAAI0rB,MAAM,IAAI,CAACC,UAAU,EAAE;QAClC3rB,OAAO,GAAGA,OAAO,IAAIwS,IAAI,CAACiH,EAAE;QAC5B;QACA,IAAI,CAACzZ,OAAO,IAAIwS,IAAI,CAACxE,MAAM,CAACmD,MAAM,CAACya,QAAQ,IAAI,CAACA,QAAQ,CAACvc,QAAQ,CAACmD,IAAI,CAACpB,cAAc,CAAC,CAAC,CAAC9F,MAAM,GAAG,CAAC,EAAE;UAChGkH,IAAI,CAACxE,MAAM,GAAGwE,IAAI,CAACxE,MAAM,CAACmD,MAAM,CAACya,QAAQ,IAAI,CAACA,QAAQ,CAACvc,QAAQ,CAACmD,IAAI,CAACpB,cAAc,CAAC,CAAC;UACrFpR,OAAO,GAAG,IAAI;QAClB;MACJ;MAEA,MAAM8N,OAAO,GAAG/I,QAAQ,CAACyN,IAAI,CAAC1E,OAAO,CAAC;MACtC,IAAIA,OAAO,IAAI2d,YAAY,EAAE;QAEzBzrB,OAAO,GAAGA,OAAO,IAAI8N,OAAO,CAAC9N,OAAO;MACxC;MAIA,IAAGA,OAAO,IAAIwS,IAAI,CAACxE,MAAM,CAAC1C,MAAM,GAAG,CAAC,EAAC;QACjCkH,IAAI,CAACxE,MAAM,GAAG,IAAI,CAACtE,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC;MACvE;MAIAuJ,IAAI,CAACxS,OAAO,GAAGA,OAAO;MAEtB;MACA;MACA;IAEJ;IAEA,IAAI,CAACurB,MAAM,EAAE3wB,CAAC,CAACmZ,QAAQ,CAAC,CAAC2B,OAAO,CAAC,iBAAiB,CAAC;IAEnD,IAAG,IAAI,CAAC7S,SAAS,EAAE;MACfkK,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;IAC7F;EACJ;EAEA;;;;EAIA6I,oBAAoBA,CAAC+J,MAAe;IAChC;IACA,IAAIzK,GAAG,GAAG,IAAI,CAACpX,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,sBAAsB,CAAC;IAC5D,IAAIlE,QAAQ,GAAG,IAAI,CAAC2E,OAAO,CAACtD,IAAI,CAACrB,QAAQ;IACzC,IAAIsH,CAAC,GAAGtH,QAAQ,CAACuG,MAAM;IACvByB,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEjI,QAAQ,CAAC;IACvC,KAAK,IAAIwH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;MACxB,MAAMuB,OAAO,GAAG/I,QAAQ,CAACwH,CAAC,CAAC;MAE3BuB,OAAO,CAAC9N,OAAO,GAAG8N,OAAO,CAACnJ,KAAK,IAAImc,GAAG;IAC1C;IACA,IAAI,CAACyK,MAAM,EAAE3wB,CAAC,CAACmZ,QAAQ,CAAC,CAAC2B,OAAO,CAAC,oBAAoB,CAAC,CAAC;IACvD;EACJ;EAGAsW,cAAcA,CAAC7H,IAAa;IACxB,IAAIxf,KAAK,GAAI,IAAI,CAAC+E,OAAO,CAACzC,OAAO,CAACtC,KAAK;IACvC,IAAI0H,CAAC,GAAG1H,KAAK,CAAC2G,MAAM;IACpB,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;MACxB,MAAMC,IAAI,GAAG7H,KAAK,CAAC4H,CAAC,CAAC;MACrB,IAAI4X,IAAI,IAAI3X,IAAI,CAACyf,KAAK,EAAEzf,IAAI,CAAC0f,QAAQ,GAAG,IAAI;MAC5C,IAAI,CAAC/H,IAAI,IAAK,IAAI,CAACza,OAAO,CAACzC,OAAO,CAACG,aAAa,CAACmF,CAAC,CAAC,CAAC2f,QAAQ,EAAE;QAC1D1f,IAAI,CAACyf,KAAK,GAAG,IAAI;QACjBzf,IAAI,CAAC2f,EAAE,GAAG3f,IAAI,CAAC0L,CAAC;QAChB1L,IAAI,CAAC4f,EAAE,GAAG5f,IAAI,CAAC6f,CAAC;MACpB;IACJ;EACJ;EAiBAtU,aAAaA,CAAA;IACT,IAAI,CAACuJ,iBAAiB,CAAC,IAAI,CAAC;IAC5B,IAAI,CAACC,WAAW,EAAE,CAAC3C,IAAI,CAAC,MAAK;MACzB,IAAI,CAAC4C,oBAAoB,CAAC,IAAI,CAAC;MAC/B5mB,CAAC,CAACmZ,QAAQ,CAAC,CAAC2B,OAAO,CAAC,oBAAoB,CAAC;MACzC,IAAI,CAAC4L,iBAAiB,CAAC,IAAI,CAAC;MAC5B,IAAI,CAACG,iBAAiB,CAAC,IAAI,CAAC;MAC5B,CAAC,SAAS,EAAE,MAAM,EAAE,MAAM,CAAC,CAACvW,OAAO,CAACwW,KAAK,IAAI9mB,CAAC,CAACmZ,QAAQ,CAAC,CAAC2B,OAAO,CAACgM,KAAK,GAAG,aAAa,CAAC,CAAC;MACxF,IAAI,CAAC1J,gBAAgB,EAAE;IAC3B,CAAC,CAAC;EACN;EAEA;;;;;EAKMoJ,wBAAwBA,CAACkL,SAAe;IAAA,IAAAC,MAAA;IAAA,OAAAvM,sJAAA;MAE1C,IAAIrgB,KAAK,GAAG,GAAG;QACfC,MAAM,GAAG,EAAE;QACXiU,GAAG,GAAG,IAAI;MAEV;MACA,IAAGyY,SAAS,EAAC;QACTC,MAAI,CAACC,kBAAkB,GAAGF,SAAS;MACvC;MAEAzY,GAAG,GAAG7S,sCACC,CAACurB,MAAI,CAACC,kBAAkB,CAAC,CAC/BvL,IAAI,CAAC,IAAI,CAAC,CACV7M,IAAI,CAAC,OAAO,EAAEzU,KAAK,CAAC,CACpByU,IAAI,CAAC,QAAQ,EAAExU,MAAM,CAAC;MAEvB;MACA,IAAIqrB,GAAG,GAAGsB,MAAI,CAAC7iB,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,oBAAoB,CAAC;QACtDoD,CAAC,GAAGkgB,MAAI,CAAC7iB,OAAO,CAACtD,IAAI,CAACxB,KAAK,CAAC0G,MAAM;QAClCohB,GAAG,GAAGC,MAAM,CAACC,gBAAgB;QAC7B9L,GAAG,GAAG6L,MAAM,CAACE,gBAAgB;QAC7BzmB,IAAI,GAAG2F,KAAK,CAACM,CAAC,CAAC;QACf6K,IAAI,GAAG,IAAI;MACf,KAAK,IAAI3K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;QACxB2K,IAAI,GAAGqV,MAAI,CAAC7iB,OAAO,CAACtD,IAAI,CAACxB,KAAK,CAAC2H,CAAC,CAAC,CAAC0e,GAAG,CAAC;QACtC7kB,IAAI,CAACmG,CAAC,CAAC,GAAG2K,IAAI;QACd,IAAIA,IAAI,GAAG4J,GAAG,EAAEA,GAAG,GAAG5J,IAAI;QAC1B,IAAIA,IAAI,GAAGwV,GAAG,EAAEA,GAAG,GAAGxV,IAAI;MAC9B;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAGA,IAAI4V,KAAK,GAAGJ,GAAG,GAAG5L,GAAG;MACrB,IAAIiM,KAAK,GAAG,EAAE;MAEd,MAAM7U,CAAC,GAAGlX,2CACM,EAAE,CACbkL,MAAM,CAAC,CAAC4U,GAAG,EAAE4L,GAAG,CAAC,CAAC,CAClBI,KAAK,CAAC,CAAC,CAAC,EAAEntB,KAAK,CAAC,CAAC;MAEtB,MAAMstB,IAAI,GAAGjsB,yCACC,EAAE,CACXkL,MAAM,CAAEgM,CAAS,CAAChM,MAAM,EAAE,CAAC,CAC3BghB,UAAU,CAAChV,CAAC,CAAC6U,KAAK,CAACA,KAAK,CAAC,CAAC,CAAC3mB,IAAI,CAAC;MAErC,MAAMimB,CAAC,GAAGrrB,2CACM,EAAE,CACbkL,MAAM,CAAC,CAAC,CAAC,EAAElL,mCAAM,CAACisB,IAAI,EAAE9hB,CAAC,IAAKA,CAAS,CAACG,MAAM,CAAC,CAAC,CAAC,CACjDwhB,KAAK,CAAC,CAACltB,MAAM,EAAE,CAAC,CAAC,CAAC;MAEvB,MAAMutB,GAAG,GAAGtZ,GAAG,CACVuZ,SAAS,CAAC,MAAM,CAAC,CACjBhnB,IAAI,CAAC6mB,IAAI,CAAC,CACVI,KAAK,EAAE,CACPC,MAAM,CAAC,GAAG,CAAC,CACXlZ,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CACpBA,IAAI,CAAC,WAAW,EAAEjJ,CAAC,IAAI,YAAY,GAAG+M,CAAC,CAAC/M,CAAC,CAACoiB,EAAE,CAAC,GAAG,GAAG,GAAGlB,CAAC,CAAClhB,CAAC,CAACG,MAAM,CAAC,GAAG,GAAG,CAAC;MAE7E6hB,GAAG,CACEG,MAAM,CAAC,MAAM,CAAC,CACdlZ,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CACZA,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAChBA,IAAI,CAAC,QAAQ,EAAEjJ,CAAC,IAAIvL,MAAM,GAAGysB,CAAC,CAAClhB,CAAC,CAACG,MAAM,CAAC,CAAC;MAE9C,IAAIkiB,IAAI,GAAGjB,MAAI;MAEf;;;MAGA,SAASkB,eAAeA,CAAA;QACpB,IAAIC,EAAE,GAAI1sB,qCAAgB,CAAC6S,GAAG,CAACrH,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QACzC,IAAIohB,aAAa,GAAIJ,IAAI,CAAC9jB,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,CAAC2N,WAAW,EAAE,KAAK,MAAM,GAAI,CAAC,GAAG,CAAC;QAE5G4W,IAAI,CAAC9jB,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB,CAAC,GAAIykB,EAAE,GAAG/tB,KAAK,GAAImtB,KAAK,GAAG,IAAI,GAAGhM,GAAG;QAChFlmB,CAAC,CAAC,iBAAiB,CAAC,CAAC+b,GAAG,CAACrC,UAAU,CAACkZ,IAAI,CAAC9jB,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB,CAAC,CAAC4kB,OAAO,CAACD,aAAa,CAAC,CAAC,CAAC;MAC7G;MAEA/Z,GAAG,CAACia,EAAE,CAAC,OAAO,EAAE,MAAK;QACjBL,eAAe,EAAE;QACjBlB,MAAI,CAACxU,aAAa,EAAE;MACxB,CAAC,CAAC;MAEFlE,GAAG,CAACia,EAAE,CAAC,WAAW,EAAE,MAAK;QACrB,IAAIJ,EAAE,GAAI1sB,qCAAgB,CAAC6S,GAAG,CAACrH,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QACzC5R,CAAC,CAAC,sBAAsB,CAAC,CAAC6a,IAAI,CAAC,OAAO,EAAE,oEAAoE,IAAK8W,MAAI,CAAC7iB,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,CAAC2N,WAAW,EAAE,KAAK,MAAM,GAAI,CAAE8W,EAAE,GAAG/tB,KAAK,GAAImtB,KAAK,GAAG,IAAI,GAAGhM,GAAG,EAAEnI,cAAc,EAAE,GAAGjW,IAAI,CAACoc,KAAK,CAAG4O,EAAE,GAAG/tB,KAAK,GAAImtB,KAAK,GAAG,IAAI,GAAGhM,GAAI,CAAC,CAACnI,cAAc,EAAE,CAAC,CAAC;MAC9T,CAAC,CAAC;MAEJ9E,GAAG,CAACia,EAAE,CAAC,WAAW,EAAE,MAAK;QACpB9sB,qCAAgB,CAAC+sB,cAAc,EAAE;QAClCla,GAAG,CAACia,EAAE,CAAC,WAAW,EAAEL,eAAe,CAAC;QACpC5Z,GAAG,CAACia,EAAE,CAAC,oBAAoB,EAAE,MAAK;UAC9BvB,MAAI,CAACxU,aAAa,EAAE;UACpBlE,GAAG,CACEia,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,CACrBA,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,CACnBA,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC;QAC/B,CAAC,CAAC;MACN,CAAC,CAAC;MAEF1nB,IAAI,GAAG,EAAE;IAAC;EAEd;;;;;;;;;;;;;;;cA1lIC1F,kDAAMA;MAAA;;;;AAFEiB,aAAa,GAAA/H,kDAAA,EAJzBwF,yDAAS,EAAE,EACXqB,0DAAU,CAAC;EACRutB,UAAU,EAAE;CACf,CAAC,2EA6dwBptB,oDAAQ,EACEU,oFAAmB,EAC/BG,wFAAuB,EACzBC,6DAAU,KA/dnBC,aAAa,CA8lIzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChoIuI;AAC3D;AAChD;AACK;AACG;AACJ;AAC8E;AAClF;AACU;AACX;AAE8C;AACH;AACpB;AAChB;AACnC;AACA;AAUO,IAAMlF,cAAc,GAApB,MAAMA,cAAe,SAAQ6C,kFAAsB;EAuFxDpF,YAC8EoV,SAA6B,EAAEsf,KAAiB,EACpHC,mBAAwC,EACzCrI,aAA4B,EAC3BsI,GAAsB;IAE9B,KAAK,CAACF,KAAK,CAACG,aAAa,CAAC;IALkD,KAAAzf,SAAS,GAATA,SAAS;IAC7E,KAAAuf,mBAAmB,GAAnBA,mBAAmB;IACpB,KAAArI,aAAa,GAAbA,aAAa;IACZ,KAAAsI,GAAG,GAAHA,GAAG;IAzFH,KAAAE,6BAA6B,GAAG,IAAIruB,wDAAY,EAAE;IAI5D,KAAAsuB,qCAAqC,GAAW,MAAM;IACtD,KAAAC,2CAA2C,GAAW,SAAS;IAC/D,KAAAC,kCAAkC,GAAQ,KAAK;IAC/C,KAAAC,wCAAwC,GAAQ,KAAK;IACrD,KAAAC,2BAA2B,GAAW,YAAY;IAClD,KAAAC,8BAA8B,GAAQ,GAAG;IAEzC,KAAAC,mBAAmB,GAAQ,CACzB;MAAEld,KAAK,EAAE,KAAK;MAAElS,KAAK,EAAE;IAAK,CAAE,EAC9B;MAAEkS,KAAK,EAAE,UAAU;MAAElS,KAAK,EAAE;IAAU,CAAE,CACzC;IACD,KAAAqvB,kCAAkC,GAAW,KAAK;IAElD,KAAAC,kBAAkB,GAAQ,CACxB;MAAEpd,KAAK,EAAE,KAAK;MAAElS,KAAK,EAAE;IAAK,CAAE,EAC9B;MAAEkS,KAAK,EAAE,IAAI;MAAElS,KAAK,EAAE;IAAI,CAAE,CAC7B;IACD,KAAAuvB,iCAAiC,GAAW,KAAK;IAEjD,KAAAC,iBAAiB,GAAQ,CACvB;MAAEtd,KAAK,EAAE,KAAK;MAAElS,KAAK,EAAE;IAAK,CAAE,EAC9B;MAAEkS,KAAK,EAAE,IAAI;MAAElS,KAAK,EAAE;IAAI,CAAE,CAC7B;IACD,KAAAyvB,gCAAgC,GAAW,KAAK;IAGhD,KAAAC,UAAU,GAAQ,CAChB;MAAExd,KAAK,EAAE,MAAM;MAAElS,KAAK,EAAE;IAAM,CAAE,EAChC;MAAEkS,KAAK,EAAE,gBAAgB;MAAElS,KAAK,EAAE;IAAgB,CAAE,CACrD;IACD,KAAA2vB,yBAAyB,GAAW,MAAM;IAE1C,KAAAC,cAAc,GAAY,KAAK;IAE/B,KAAAC,cAAc,GAAQ,CACpB;MAAE3d,KAAK,EAAE,gBAAgB;MAAElS,KAAK,EAAE;IAAgB,CAAE,EACpD;MAAEkS,KAAK,EAAE,gBAAgB;MAAElS,KAAK,EAAE;IAAgB,CAAE,EACpD;MAAEkS,KAAK,EAAE,WAAW;MAAElS,KAAK,EAAE;IAAW,CAAE,CAC3C;IACD,KAAA8vB,6BAA6B,GAAW,gBAAgB;IAExD,KAAAC,8BAA8B,GAAW,EAAE;IAG3C,KAAAC,aAAa,GAAQ,EAEpB;IACD,KAAAC,wBAAwB,GAAW,EAAE;IAErC,KAAAC,4BAA4B,GAAQ,GAAG;IACvC,KAAAC,+BAA+B,GAAQ,CAAC;IACxC,KAAAC,2BAA2B,GAAQ,CAAC;IACpC,KAAAC,2BAA2B,GAAQ,CAAC;IAEpC,KAAAC,yBAAyB,GAAY,KAAK;IAC1C,KAAAC,0BAA0B,GAAY,IAAI;IAC1C,KAAAC,0BAA0B,GAAY,IAAI;IAC1C,KAAAC,yBAAyB,GAAY,IAAI;IACzC,KAAAC,wBAAwB,GAAY,IAAI;IACxC,KAAAC,+BAA+B,GAAY,IAAI;IAC/C,KAAAC,0BAA0B,GAAY,IAAI;IAC1C,KAAAC,8BAA8B,GAAY,IAAI;IAE9C,KAAAC,eAAe,GAAY,KAAK;IAEhC,KAAAC,mBAAmB,GAAY,KAAK;IACpC,KAAAC,uBAAuB,GAAY,KAAK;IACxC,KAAAC,8BAA8B,GAAY,KAAK;IAE/C,KAAAC,OAAO,GAA0C,EAAE;IACnD,KAAAC,OAAO,GAAsE,EAAE;IAE/E,KAAAC,WAAW,GAAa,EAAE;IAC1B,KAAAC,eAAe,GAAa,EAAE;IAosD9B;;;;;IAKA,KAAAC,qBAAqB,GAAI9hB,CAAC,IAAI;MAC5B,IAAG,IAAI,CAAC6W,aAAa,CAAC3jB,SAAS,EAAE;QAC/BkK,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;MACxC;MACA,IAAI,CAACoiB,wCAAwC,GAAG9a,UAAU,CAAC3E,CAAC,CAAC;MAC7D,IAAI,CAAC6W,aAAa,CAACtY,gBAAgB,CAACoG,UAAU,CAAC3E,CAAC,CAAC,CAAC;IACpD,CAAC;IAED;;;;;IAKA,KAAA+hB,sBAAsB,GAAI/hB,CAAC,IAAI;MAC7B,IAAG,IAAI,CAAC6W,aAAa,CAAC3jB,SAAS,EAAE;QAC/BkK,OAAO,CAACC,GAAG,CAAC,cAAc,EAAE2C,CAAC,CAAC;MAChC;MACA,IAAI,CAACsf,qCAAqC,GAAGtf,CAAC;MAC9C,IAAIA,CAAC,CAACiH,WAAW,EAAE,KAAK,MAAM,EAAE;QAC9B,IAAG,IAAI,CAAC4P,aAAa,CAAC3jB,SAAS,EAAE;UAC/BkK,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;QACzB;QACApS,CAAC,CAAC,8CAA8C,CAAC,CAC9CwZ,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CACfuC,GAAG,CAAC,CAAC,CAAC,CACNjB,OAAO,CAAC,QAAQ,CAAC;QAElB9a,CAAC,CAAC,kBAAkB,CAAC,CAAC+2B,OAAO,EAAE;QACjC,IAAI,CAACnL,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,GAAG,MAAM;QAC5E,IAAI,CAACud,aAAa,CAAChY,eAAe,CAAC,MAAM,CAAC;QAC1C,IAAI,CAACijB,qBAAqB,CAAC,GAAG,CAAC;MACjC,CAAC,MAAM;QACL72B,CAAC,CAAC,8CAA8C,CAAC,CAC9CwZ,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CACnBuC,GAAG,CAAC,KAAK,CAAC,CACVjB,OAAO,CAAC,QAAQ,CAAC;QAClB9a,CAAC,CAAC,kBAAkB,CAAC,CAACg3B,SAAS,EAAE;QACnC,IAAI,CAACpL,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,GAAG,MAAM;QAC5E,IAAI,CAACud,aAAa,CAAChY,eAAe,CAAC,MAAM,CAAC;QAC1C,IAAI,CAACijB,qBAAqB,CAAC,OAAO,CAAC;MACrC;IACF,CAAC;IAluDC;IACA,IAAI,CAACzyB,EAAE,GAAG,IAAI,CAACsQ,SAAS,CAACuiB,MAAM,CAAC7yB,EAAE;EAEpC;EAEAiO,QAAQA,CAAA;IAEN,IAAI,CAACkjB,aAAa,CAAC1jB,IAAI,CACrB;MAAE4F,KAAK,EAAE,KAAK;MAAElS,KAAK,EAAE,IAAI,CAACqmB,aAAa,CAACvgB,IAAI,CAAC8V,MAAM,CAAC,IAAI,EAAE,IAAI;IAAC,CAAE,CAAC;IAEtE,IAAI,CAACoU,aAAa,CAAC1jB,IAAI,CACrB;MAAE4F,KAAK,EAAE,UAAU;MAAElS,KAAK,EAAE,IAAI,CAACqmB,aAAa,CAACvgB;IAAI,CAAE,CAAC;IAGxD,IAAI,CAACmpB,wCAAwC,GAAG,IAAI,CAAC5I,aAAa,CAACvjB,mBAAmB,CAACS,6BAA6B;IACpH,IAAI,CAACurB,qCAAqC,GAAG,IAAI,CAACzI,aAAa,CAACvjB,mBAAmB,CAACU,8BAA8B;IAClH,IAAI,CAAC6iB,aAAa,CAAClkB,aAAa,CAACwV,SAAS,CAAE5B,CAAC,IAAI;MAAG,IAAI,CAAC4b,wBAAwB,CAAC5b,CAAC,CAAC;IAAE,CAAC,CAAC;IACxF,IAAI,CAACsQ,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACL,SAAS,GAAG,IAAI,CAACygB,aAAa,CAACvgB,IAAI,CAAC8V,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC;IAEtF,IAAI,IAAI,CAAC8S,mBAAmB,CAACkD,OAAO,IAAE9lB,SAAS,EAAE;MAC/C,IAAI,CAAC4iB,mBAAmB,CAACkD,OAAO,GAAG,IAAI,CAAClD,mBAAmB,CACzDmD,4BAA4B,CAACla,SAAS,CAAE0B,IAAW,IAAI;QACrD,IAAI,CAACyY,WAAW,EAAE;MACpB,CAAC,CAAC;IACN;IAEC;IACA,IAAI,CAACzL,aAAa,CAACpiB,UAAU,CAAC0T,SAAS,CAAC,MAAK;MAC5C,IAAI,CAACoa,cAAc,EAAE;IACvB,CAAC,CAAC;IAEF;IACA,IAAI,CAAC1L,aAAa,CAACniB,gBAAgB,CAACyT,SAAS,CAAC,MAAK;MACjD,IAAI,CAACqa,sBAAsB,EAAE;IAC/B,CAAC,CAAC;IAEF,IAAI,CAAC3L,aAAa,CAAChiB,cAAc,CAACsT,SAAS,CAAC,MAAK;MAC/C,IAAI,CAAC0O,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAAC6E,OAAO,CAACoO,IAAI,IAAG;QAC9C,IAAI,CAAC8Y,UAAU,CAAC9Y,IAAI,CAACE,IAAI,EAAE,KAAK,CAAC;MACnC,CAAC,CAAC;IACN,CAAC,CAAC;IAEA;IACA5e,CAAC,CAAC,iBAAiB,CAAC,CAACymB,IAAI,EAAE;IAE3BzmB,CAAC,CAAC,WAAW,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MAEvC,IAAI,CAACtH,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,UAAU,CAAC,GAAG,IAAI;MAC3D,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,YAAY,CAAC,GAAG,KAAK;MAC9DrO,CAAC,CAAC,sCAAsC,CAAC,CAACg3B,SAAS,EAAE;MACrDh3B,CAAC,CAAC,oBAAoB,CAAC,CAAC+2B,OAAO,CAAC;QAE9B;QAEA/2B,CAAC,CAAC,IAAI,CAAC,CAACy3B,KAAK,EAAE,CAACC,IAAI,EAAE;MACxB,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF13B,CAAC,CAAC,aAAa,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MAEzC,IAAI,CAACtH,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK;MAC5D,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,YAAY,CAAC,GAAG,IAAI;MAC7DrO,CAAC,CAAC,sCAAsC,CAAC,CAAC+2B,OAAO,EAAE;MACnD/2B,CAAC,CAAC,oBAAoB,CAAC,CAAC+2B,OAAO,CAAC;QAE9B;QAEA/2B,CAAC,CAAC,IAAI,CAAC,CAACy3B,KAAK,EAAE,CAACC,IAAI,EAAE;MACxB,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF13B,CAAC,CAAC,wBAAwB,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MAEpD;MAEA,IAAI,CAACtH,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,uBAAuB,CAAC,GAAG,IAAI;MACxE,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,wBAAwB,CAAC,GAAG,KAAK;MAC1E,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,4BAA4B,CAAC,GAAG,KAAK;MAC9E,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACL,SAAS,GAAGnL,CAAC,CAAC,WAAW,CAAC,CAAC+b,GAAG,EAAE,CAACtW,QAAQ,EAAE;MAE3E;MAEA,IAAI,CAAC,IAAI,CAACmmB,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,YAAY,CAAC,EAAErO,CAAC,CAAC,qBAAqB,CAAC,CAACg3B,SAAS,EAAE;IACnG,CAAC,CAAC;IAEFh3B,CAAC,CAAC,yBAAyB,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MACrD,IAAI,CAACtH,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,uBAAuB,CAAC,GAAG,KAAK;MACzE,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,wBAAwB,CAAC,GAAG,IAAI;MACzE,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,4BAA4B,CAAC,GAAG,KAAK;MAC9ErO,CAAC,CAAC,qBAAqB,CAAC,CAAC+2B,OAAO,EAAE;IACpC,CAAC,CAAC;IAEF/2B,CAAC,CAAC,6BAA6B,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MACzD,IAAI,CAACtH,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,uBAAuB,CAAC,GAAG,KAAK;MACzE,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,wBAAwB,CAAC,GAAG,KAAK;MAC1E,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,4BAA4B,CAAC,GAAG,IAAI;MAC7ErO,CAAC,CAAC,qBAAqB,CAAC,CAAC+2B,OAAO,EAAE;IACpC,CAAC,CAAC;IAEF/2B,CAAC,CAAC,qBAAqB,CAAC,CAACymB,IAAI,EAAE;IAE/BzmB,CAAC,CAAC,iBAAiB,CAAC,CAACkzB,EAAE,CAAC,QAAQ,EAAE,MAAK;MAErC;MAEA,MAAMxU,IAAI,GAAG,IAAI,CAACkN,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAAC,CAAC,CAAC,CAAC,CAAG;MACpD,IAAIksB,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC7BD,MAAM,CAACE,SAAS,GAAI9iB,CAAM,IAAI;QAC5B,IAAIA,CAAC,CAACkB,MAAM,CAAC6hB,UAAU,KAAKF,UAAU,CAACG,IAAI,EAAE;UAC3C,IAAI,CAACnM,aAAa,CAACrO,UAAU,CAACxI,CAAC,CAACkB,MAAM,CAACqE,MAAM,CAAC,CAAC0J,IAAI,CAACja,KAAK,IAAG;YAC1D/J,CAAC,CAAC,WAAW,CAAC,CACXqmB,IAAI,CAACtc,KAAK,CAACwN,GAAG,CAAC,CAAChH,CAAC,EAAEoB,CAAC,KAAK;iDACS,IAAI,CAACia,aAAa,CAAC/W,SAAS,CAACtE,CAAC,CAACmQ,GAAG,CAAC,KAAK/O,CAAC,KAAK,CAAC,GAAG,UAAU,GAAG,EAAE,IAAI,IAAI,CAACia,aAAa,CAAC/W,SAAS,CAACtE,CAAC,CAACnM,EAAE,CAAC;+BACzH,CAAC,CAAC,CAClB0W,OAAO,CAAC,QAAQ,CAAC;UACtB,CAAC,CAAC;UACF9a,CAAC,CAAC,6BAA6B,CAAC,CAACwd,IAAI,CAAC,IAAI,CAACoO,aAAa,CAAC/W,SAAS,CAAC6J,IAAI,CAACE,IAAI,CAAC,CAAC;QAChF;MACF,CAAC;MACD+Y,MAAM,CAACK,UAAU,CAACtZ,IAAI,CAAC;IACzB,CAAC,CAAC;IAEF1e,CAAC,CAAC,WAAW,CAAC,CAACqmB,IAAI,CAAC;2BACG,IAAI,CAACuF,aAAa,CAACvgB,IAAI,CAAC8V,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC;2BAC1C,IAAI,CAACyK,aAAa,CAACvgB,IAAI;SACzC,CAAC,CAAC6nB,EAAE,CAAC,QAAQ,EAAGne,CAAC,IAAI;MAEpB;MACA,IAAI,CAAC6W,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACL,SAAS,GAAG4J,CAAC,CAACvJ,IAAI,CAAC;IAErD,CAAC,CAAC;IAENxL,CAAC,CAAC,oBAAoB,CAAC,CAACkzB,EAAE,CAAC,OAAO,EAAE,MAAK;MACvC,IAAI,CAAC+E,UAAU,EAAE,CAACjU,IAAI,CAACxY,IAAI,IAAG;QAC5B,IAAI,IAAI,CAACogB,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,wBAAwB,CAAC,EAAE;UAEtE;UAEA,IAAI,CAACud,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACL,SAAS,GAAG,EAAE,CAAC,CAAC;QAClD;QACA,IAAI,IAAI,CAACygB,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,4BAA4B,CAAC,EAAE;UAC1E,IAAI,CAACud,aAAa,CAAC3J,gBAAgB,EAAE,CAAC+B,IAAI,CAAC7B,SAAS,IAAI,IAAI,CAACyJ,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACL,SAAS,GAAGgX,SAAS,CAAC;QAChH;QACA,IAAI,CAAC+V,aAAa,CAAC1sB,IAAI,CAAC;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAM2sB,UAAU,GAAGn4B,CAAC,CAAC,oBAAoB,CAAC;IAE1C,MAAMo4B,QAAQ,GAAGA,CAACC,aAAa,EAAEj0B,EAAE,EAAEwH,IAAI,KAAI;MAC3C,MAAM0sB,KAAK,GAAGH,UAAU,CAAClhB,IAAI,CAAC,aAAa7S,EAAE,IAAI,CAAC;MAClD,MAAMm0B,MAAM,GAAGv4B,CAAC,CAAC,iEAAiEoE,EAAE,oBAAoB,CAAC,CAAC8uB,EAAE,CAAC,OAAO,EAAE;QACpH,MAAMsF,IAAI,GAAGx4B,CAAC,CAAC,IAAI,CAAC;QACpB,MAAMoE,EAAE,GAAGo0B,IAAI,CAAChtB,IAAI,CAAC,IAAI,CAAC;QAC1B,IAAIgtB,IAAI,CAAChb,IAAI,EAAE,KAAK,SAAS,EAAE;UAC7B6a,aAAa,CAACzM,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACnB,cAAc,CAACwH,IAAI,CAACzN,EAAE,CAAC;UAChEo0B,IAAI,CAACC,WAAW,CAAC,aAAa,CAAC,CAACC,QAAQ,CAAC,aAAa,CAAC,CAAClb,IAAI,CAAC,SAAS,CAAC;QACzE,CAAC,MAAM;UACL6a,aAAa,CAACzM,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACnB,cAAc,CAACsuB,MAAM,CAACN,aAAa,CAACzM,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACnB,cAAc,CAACmK,OAAO,CAACpQ,EAAE,CAAC,EAAE,CAAC,CAAC;UACtIo0B,IAAI,CAACC,WAAW,CAAC,aAAa,CAAC,CAACC,QAAQ,CAAC,aAAa,CAAC,CAAClb,IAAI,CAAC,SAAS,CAAC;QACzE;MACF,CAAC,CAAC;MACF,MAAMqG,GAAG,GAAG7jB,CAAC,CAAC,4FAA4FoE,EAAE,kBAAkBwH,IAAI,gBAAgB,CAAC;MACnJiY,GAAG,CAAC6O,MAAM,CAAC6F,MAAM,CAAC;MAClBJ,UAAU,CAACzF,MAAM,CAAC7O,GAAG,CAAC;IACxB,CAAC;IAED7jB,CAAC,CAAC,iBAAiB,CAAC,CAACkzB,EAAE,CAAC,OAAO,EAAE,MAAK;MACpC,IAAI,CAAC+E,UAAU,EAAE,CAACjU,IAAI,CAACxY,IAAI,IAAG;QAC5B,MAAMsS,KAAK,GAAG7R,IAAI,CAACC,GAAG,EAAE;QACxB,MAAM0sB,MAAM,GAAG,MAAM;QACrB,MAAMC,KAAK,GAAG,uBAAuB;QACrC,MAAMC,IAAI,GAAG,8BAA8B;QAC3C,MAAMC,KAAK,GAAG,uBAAuB;QACrC,MAAMC,OAAO,GAAG,mBAAmB;QACnC,MAAMC,WAAW,GAAG,kCAAkC;QACtD,MAAMC,UAAU,GAAGl5B,CAAC,CAAC,cAAc,CAAC,CAAC2pB,EAAE,CAAC,UAAU,CAAC;QACnD,MAAMwP,SAAS,GAAGn5B,CAAC,CAAC,aAAa,CAAC,CAAC2pB,EAAE,CAAC,UAAU,CAAC;QACjD,MAAMyP,QAAQ,GAAGp5B,CAAC,CAAC,YAAY,CAAC,CAAC2pB,EAAE,CAAC,UAAU,CAAC;QAC/C,MAAM0P,OAAO,GAAGr5B,CAAC,CAAC,oBAAoB,CAAC,CAAC2pB,EAAE,CAAC,UAAU,CAAC;QACtD,MAAM2P,UAAU,GAAGt5B,CAAC,CAAC,cAAc,CAAC,CAAC2pB,EAAE,CAAC,UAAU,CAAC;QACnD,MAAM4P,cAAc,GAAGv5B,CAAC,CAAC,kBAAkB,CAAC,CAAC2pB,EAAE,CAAC,UAAU,CAAC;QAC3D;QACAne,IAAI,CAAC8E,OAAO,CAACC,CAAC,IAAG;UACf,MAAMmQ,GAAG,GAAGnQ,CAAC,CAACmQ,GAAG;YAAEtc,EAAE,GAAGmM,CAAC,CAACnM,EAAE;UAC5B,IAAI80B,UAAU,IAAIxY,GAAG,KAAK,EAAE,EAAE0X,QAAQ,CAAC,IAAI,EAAEh0B,EAAE,EAAE,OAAO,CAAC;UACzD,IAAI+0B,SAAS,IAAIP,MAAM,CAAC1H,IAAI,CAACxQ,GAAG,CAAC,EAAE0X,QAAQ,CAAC,IAAI,EAAEh0B,EAAE,EAAE,UAAU,CAAC;UACjE,IAAIg1B,QAAQ,IAAIP,KAAK,CAAC3H,IAAI,CAACxQ,GAAG,CAAC,IAAI,CAACkY,MAAM,CAAC1H,IAAI,CAACxQ,GAAG,CAAC,EAAE0X,QAAQ,CAAC,IAAI,EAAEh0B,EAAE,EAAE,KAAK,CAAC;UAC/E,IAAIi1B,OAAO,IAAIP,IAAI,CAAC5H,IAAI,CAACxQ,GAAG,CAAC,IAAI,CAACqY,KAAK,CAAC7H,IAAI,CAACxQ,GAAG,CAAC,EAAE0X,QAAQ,CAAC,IAAI,EAAEh0B,EAAE,EAAE,aAAa,CAAC;UACpF,IAAIk1B,UAAU,IAAIN,OAAO,CAAC9H,IAAI,CAACxQ,GAAG,CAAC,EAAE0X,QAAQ,CAAC,IAAI,EAAEh0B,EAAE,EAAE,SAAS,CAAC;UAClE,IAAIm1B,cAAc,IAAIN,WAAW,CAAC/H,IAAI,CAACxQ,GAAG,CAAC,EAAE0X,QAAQ,CAAC,IAAI,EAAEh0B,EAAE,EAAE,WAAW,CAAC;QAC9E,CAAC,CAAC;QACF+N,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;MACrF,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF/d,CAAC,CAAC,mBAAmB,CAAC,CAACkzB,EAAE,CAAC,OAAO,EAAE,MAAK;MACtClzB,CAAC,CAAC,gBAAgB,CAAC,CAAC8a,OAAO,CAAC,OAAO,CAAC;IACtC,CAAC,CAAC;IAEF9a,CAAC,CAAC,0BAA0B,CAAC,CAACw5B,MAAM,CAAEzkB,CAAC,IAAI;MAEzC;MAEA,MAAMsb,GAAG,GAAGtb,CAAC,CAACvJ,IAAI,GAAGuJ,CAAC,CAACvJ,IAAI,GAAG,MAAM;MACpC,IAAI,CAACogB,aAAa,CAACrkB,mBAAmB,CAACkyB,OAAO,CAAC,yBAAyB,EAAEpJ,GAAG,CAAC;MAC9ErwB,CAAC,CAAC,0BAA0B,CAAC,CAAC+b,GAAG,CAACsU,GAAG,CAAC;MACtCle,OAAO,CAACC,GAAG,CAACie,GAAG,CAAC;MAChB,IAAIA,GAAG,CAACrU,WAAW,EAAE,KAAK,MAAM,EAAE;QAChChc,CAAC,CAAC,kBAAkB,CAAC,CAAC+2B,OAAO,EAAE;QAC/B/2B,CAAC,CAAC,8CAA8C,CAAC,CAC9CwZ,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CACfuC,GAAG,CAAC,CAAC,CAAC;QACT,IAAI,CAAC6P,aAAa,CAACvjB,mBAAmB,CAACS,6BAA6B,GAAG,CAAC;QACxEqJ,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAC;QAC3E,IAAI,CAACwZ,aAAa,CAACtY,gBAAgB,CAAC,CAAC,CAAC;MACxC,CAAC,MAAM;QACLtT,CAAC,CAAC,kBAAkB,CAAC,CAACg3B,SAAS,EAAE;QACjCh3B,CAAC,CAAC,8CAA8C,CAAC,CAC9CwZ,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CACnBuC,GAAG,CAAC,KAAK,CAAC;QACb,IAAI,CAAC6P,aAAa,CAACvjB,mBAAmB,CAACS,6BAA6B,GAAG,KAAK;QAC5EqJ,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAC;QAC3E,IAAI,CAACwZ,aAAa,CAACtY,gBAAgB,CAAC,KAAK,CAAC;MAC5C;MACA,IAAI,CAACsY,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,GAAGgiB,GAAG;MACzE,IAAI,CAACzE,aAAa,CAACvjB,mBAAmB,CAACgsB,qCAAqC,GAAGhE,GAAG;IACpF,CAAC,CAAC;IAEF,IAAIqJ,SAAS,GAAG,EAAE;IAClB,IAAI,CAAC9N,aAAa,CAACrkB,mBAAmB,CAACoyB,OAAO,CAAC,yBAAyB,EAAGrf,MAAM,IAAI;MACnFof,SAAS,GAAGpf,MAAM;MAElB,IAAIof,SAAS,EAAE;QACb15B,CAAC,CAAC,0BAA0B,CAAC,CAAC+b,GAAG,CAAC2d,SAAS,CAAC,CAAC5e,OAAO,CAAC,QAAQ,CAAC;MAChE;IACF,CAAC,CAAC;IAIF9a,CAAC,CAAC,gCAAgC,CAAC,CAACkzB,EAAE,CAAC,QAAQ,EAAGne,CAAC,IAAI;MAErD;MAEA,MAAMuG,CAAC,GAAGvG,CAAC,CAACvJ,IAAI,CAAC,CAAC;MAClB,IAAI,CAACogB,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,+BAA+B,CAAC,GAAGiN,CAAC;MAC7E,IAAIA,CAAC,KAAK,YAAY,EAAE;QACtBtb,CAAC,CAAC,0BAA0B,CAAC,CAACg3B,SAAS,EAAE;MAC3C,CAAC,MAAM;QACLh3B,CAAC,CAAC,0BAA0B,CAAC,CAAC+2B,OAAO,EAAE;MACzC;IACF,CAAC,CAAC,CAACyC,MAAM,EAAE;IAEXx5B,CAAC,CAAC,sBAAsB,CAAC,CAACkzB,EAAE,CAAC,QAAQ,EAAGne,CAAC,IAAI;MAE3C;MAEA,MAAMuG,CAAC,GAAGvG,CAAC,CAACvJ,IAAI,CAAC,CAAC;MAClB,IAAI,CAACogB,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,qBAAqB,CAAC,GAAGiN,CAAC;IACrE,CAAC,CAAC;IAEF,IAAIse,UAAU,GAAG,EAAE;IACnB,IAAI,CAAChO,aAAa,CAACrkB,mBAAmB,CAACoyB,OAAO,CAAC,cAAc,EAAGrf,MAAM,IAAI;MACxEsf,UAAU,GAAGtf,MAAM;IACrB,CAAC,CAAC;IAEFta,CAAC,CAAC,eAAe,CAAC,CACfkzB,EAAE,CAAC,QAAQ,EAAGne,CAAC,IAAI;MAElB;MAEA,MAAMuG,CAAC,GAAGvG,CAAC,CAACvJ,IAAI,CAAC;MACjB,IAAI,CAACogB,aAAa,CAACrkB,mBAAmB,CAACkyB,OAAO,CAAC,cAAc,EAAEne,CAAC,CAAC;MACjE,IAAI,CAACsQ,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,cAAc,CAAC,GAAGiN,CAAC;MAC5D,IAAI,CAACsQ,aAAa,CAAC9c,OAAO,CAACpD,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,GAAG0P,CAAC;IACvD,CAAC,CAAC,CACDS,GAAG,CAAC6d,UAAU,GAAGA,UAAU,GAAG,IAAI,CAAChO,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,cAAc,CAAC,CAAC,CACvFyM,OAAO,CAAC,QAAQ,CAAC;IAEpB;IACA;IACA;IACA;IACA;IAEA9a,CAAC,CAAC,6BAA6B,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MAEzD;MAEA,IAAI,CAACtH,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,4BAA4B,CAAC,GAAG,IAAI;IAC/E,CAAC,CAAC;IAEFrO,CAAC,CAAC,uBAAuB,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MAEnD;MAEA,IAAI,CAACtH,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,4BAA4B,CAAC,GAAG,KAAK;IAChF,CAAC,CAAC;IAEFrO,CAAC,CAAC,oBAAoB,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MAEhD;MAEA,IAAI,CAACtH,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,mBAAmB,CAAC,GAAG,IAAI;IACtE,CAAC,CAAC;IAEFrO,CAAC,CAAC,cAAc,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MAE1C;MAEA,IAAI,CAACtH,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,mBAAmB,CAAC,GAAG,KAAK;IACvE,CAAC,CAAC;IAEFrO,CAAC,CAAC,iBAAiB,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MAE7C;MAEA,IAAI,CAACtH,aAAa,CAACrkB,mBAAmB,CAACkyB,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC;IACtE,CAAC,CAAC;IAEF,IAAII,YAAY,CAACF,OAAO,CAAC,YAAY,CAAC,KAAK,MAAM,EAAE;MACjD35B,CAAC,CAAC,iBAAiB,CAAC,CAACi3B,MAAM,EAAE,CAACnc,OAAO,CAAC,OAAO,CAAC;IAChD;IAEA9a,CAAC,CAAC,gBAAgB,CAAC,CAACi3B,MAAM,EAAE,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAK;MAE5C;MAEA,IAAI,IAAI,CAACtH,aAAa,CAACtc,IAAI,CAACwqB,SAAS,EAAEC,aAAa,CAAC,IAAI,CAACnO,aAAa,CAACtc,IAAI,CAACwqB,SAAS,CAACE,QAAQ,CAAC;MAChG,IAAI,CAACpO,aAAa,CAACrkB,mBAAmB,CAACkyB,OAAO,CAAC,YAAY,EAAE,OAAO,CAAC;IACvE,CAAC,CAAC;IAEF,IAAG,IAAI,CAAC7N,aAAa,CAAC9c,OAAO,CAACzC,OAAO,CAACK,QAAQ,EAAC;MAC7C1M,CAAC,CAAC,SAAS,CAAC,CAACwd,IAAI,CAAC,QAAQ,CAAC;IAC7B;IAIA;IACA;IACA,IAAG,CAAC,IAAI,CAACoO,aAAa,CAAC9c,OAAO,CAACzC,OAAO,CAACI,WAAW,IAAI,CAAC,IAAI,CAACwtB,aAAa,EAAE;MACzE9nB,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;MACjCpS,CAAC,CAACk6B,OAAO,CAAC,2BAA2B,EAAE,IAAI,CAACtO,aAAa,CAACpR,YAAY,CAAC2f,IAAI,CAAC,IAAI,CAACvO,aAAa,CAAC,CAAC;MAChG,IAAI,CAACA,aAAa,CAAC9c,OAAO,CAACzC,OAAO,CAACK,QAAQ,GAAG,IAAI;MAClD,IAAI,CAACkf,aAAa,CAAC9c,OAAO,CAACzC,OAAO,CAACI,WAAW,GAAG,IAAI;MACrD;MACA;MACA;MACA;MACA;IACF;IAEAua,UAAU,CAAC,MAAK;MACd,IAAI,CAACoT,aAAa,EAAE;IACxB,CAAC,EAAE,IAAI,CAAC;IAEN;EACF;EAEA;;;EAGOA,aAAaA,CAAA;IAClB,MAAMC,aAAa,GAAGr6B,CAAC,CAAC,iBAAiB,CAAC;IAC1Cq6B,aAAa,CAACtD,OAAO,CAAC,MAAMsD,aAAa,CAACC,MAAM,EAAE,CAAC;IAEnD;IACAtT,UAAU,CAAC,MAAK;MACd,IAAIvb,KAAK,GAAGge,kDAAS,CAAC,IAAI,CAACmC,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAAC;MACvD,IAAGA,KAAK,IAAIA,KAAK,CAACiF,MAAM,GAAG,CAAC,EAAE;QAC5B,KAAI,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGlG,KAAK,CAACiF,MAAM,EAAEiB,CAAC,EAAE,EAAE;UACpC,IAAI,CAAC4oB,UAAU,CAAC9uB,KAAK,CAACkG,CAAC,CAAC,CAAC;QAC3B;MACF;IAAG,CAAC,EAAE,GAAG,CAAC;EAEd;EAEA;;;;;EAKA6oB,SAASA,CAAA;IAEP,IAAI,CAACzE,0BAA0B,GAAG,CAAC,IAAI,CAACA,0BAA0B;IAClE,IAAI,CAACC,yBAAyB,GAAG,CAAC,IAAI,CAACA,yBAAyB;IAChE,IAAI,CAACC,wBAAwB,GAAG,CAAC,IAAI,CAACA,wBAAwB;IAC9D,IAAI,CAACC,+BAA+B,GAAG,CAAC,IAAI,CAACA,+BAA+B;IAC5E,IAAI,CAACC,0BAA0B,GAAG,CAAC,IAAI,CAACA,0BAA0B;IAClE,IAAI,CAACC,8BAA8B,GAAG,CAAC,IAAI,CAACA,8BAA8B;EAC5E;EAEA;;;EAGAvZ,GAAGA,CAAA,GAEH;EAEA;;;;;EAKA4d,QAAQA,CAAA;IACN,IAAI,CAACpE,eAAe,GAAI,IAAI,CAACzK,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACzB,KAAK,CAAC2G,MAAM,KAAK,CAAC,GAAG,KAAK,GAAG,IAAK;EAC5F;EAEA;;;EAGAgqB,gCAAgCA,CAAA;IAC9B,OAAO,eAAe;EACxB;EAEA;;;EAGAC,iBAAiBA,CAAC5lB,CAAC;IACjB,MAAMuG,CAAC,GAAGvG,CAAC,CAACkB,MAAM,CAAC2kB,eAAe,CAAC,CAAC,CAAC,CAACC,SAAS;IAC/C,IAAI,CAACjP,aAAa,CAACrkB,mBAAmB,CAACkyB,OAAO,CAAC,cAAc,EAAEne,CAAC,CAAC;IACjE,IAAI,CAACsQ,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,cAAc,CAAC,GAAGiN,CAAC;IAC5D,IAAI,CAACsQ,aAAa,CAAC9c,OAAO,CAACpD,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,GAAG0P,CAAC;EACvD;EAEA;;;EAGAwf,YAAYA,CAAA;IACV,IAAI,CAACxE,mBAAmB,GAAG,CAAC,IAAI,CAACA,mBAAmB;EACtD;EAEAyE,UAAUA,CAAA,GAEV;EAEAC,UAAUA,CAAA,GAEV;EAEA;EAGA;EAEAC,iBAAiBA,CAAA,GAEjB;EAEAC,uBAAuBA,CAAA,GAEvB;EAEA;;;EAGAC,oBAAoBA,CAAA;IAClB,IAAI,CAAC5E,uBAAuB,GAAG,CAAC,IAAI,CAACA,uBAAuB;EAC9D;EAEA;;;;;EAKAW,wBAAwBA,CAACniB,CAAS;IAEhCiS,UAAU,CAAC,MAAK;MAEd,IAAI,CAAC4E,aAAa,CAAC9c,OAAO,CAACjD,QAAQ,GAAG,EAAE;MACxC,IAAI,CAACA,QAAQ,GAAG,EAAE;MAClB7L,CAAC,CAAC,sBAAsB,CAAC,CAACqmB,IAAI,CAAC,EAAE,CAAC;MAClCrmB,CAAC,CAAC,SAAS,CAAC,CAAC6a,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAACugB,KAAK,EAAE;MAE5C,IAAI,CAAC5E,8BAA8B,GAAG,KAAK;IAE7C,CAAC,EAAE,IAAI,CAAC;IAER,IAAI,CAACpC,6BAA6B,CAACtgB,IAAI,CAACiB,CAAC,CAAC;EAC5C;EAEA;;;;;EAKAsmB,WAAWA,CAACC,GAAW;IAErB,IAAI,CAACzvB,QAAQ,CAACgG,IAAI,CAACypB,GAAG,CAAC;IACvB,IAAI,CAAC1P,aAAa,CAAC9c,OAAO,CAACjD,QAAQ,CAACgG,IAAI,CAACypB,GAAG,CAAC;IAC7Ct7B,CAAC,CAAC,sBAAsB,CAAC,CAACqmB,IAAI,CAAC,IAAI,CAACuF,aAAa,CAAC9c,OAAO,CAACjD,QAAQ,CAAC+U,IAAI,CAAC,MAAM,CAAC,CAAC;EAClF;EAEA;;;;;EAKA2a,WAAWA,CAAA;IAETppB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACokB,8BAA8B,CAAC;IAChD,IAAI,CAAC5K,aAAa,CAAC/Y,uBAAuB,EAAE;IAC5C,MAAM2oB,iBAAiB,GAAG,IAAI,CAAC5P,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB,CAAC;IACpF,MAAMotB,cAAc,GAAG,IAAI,CAAC7P,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC;IAC1F,MAAMqtB,iBAAiB,GAAG,IAAI,CAAC9P,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,+BAA+B,CAAC;IACnG,MAAMstB,YAAY,GAAG,IAAI,CAAC/P,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,cAAc,CAAC;IAG7E8D,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAC3B,IAAI,IAAI,CAACwZ,aAAa,CAAC9c,OAAO,CAACzC,OAAO,CAACK,QAAQ,EAAE;MAC/CyF,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAACwZ,aAAa,CAAC9c,OAAO,CAACzC,OAAO,CAACK,QAAQ,CAAC;MAElF,IAAI,CAACkf,aAAa,CAAC1Z,SAAS,EAAE;MAE9BlS,CAAC,CAAC,SAAS,CAAC,CAACwd,IAAI,CAAC,QAAQ,CAAC;MAC3B;IACF,CAAC,MACI,IAAI,CAAC,IAAI,CAACoO,aAAa,CAAC9c,OAAO,CAACzC,OAAO,CAACK,QAAQ,EAAE;MACrDyF,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE,IAAI,CAACwZ,aAAa,CAAC9c,OAAO,CAACzC,OAAO,CAACK,QAAQ,CAAC;MAEtF,IAAI,CAACkf,aAAa,CAAC1Z,SAAS,EAAE;MAC9B,IAAI,CAAC0Z,aAAa,CAAC9c,OAAO,CAACzC,OAAO,CAACK,QAAQ,GAAG,IAAI;IACpD;IAEA,IAAI,CAACkf,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB,CAAC,GAAGmtB,iBAAiB;IAC9E,IAAI,CAAC5P,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,GAAGotB,cAAc;IACpF,IAAI,CAAC7P,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,+BAA+B,CAAC,GAAGqtB,iBAAiB;IAC7F,IAAI,CAAC9P,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,cAAc,CAAC,GAAGstB,YAAY;IAEvE,IAAI,CAAC/P,aAAa,CAAC9c,OAAO,CAACjD,QAAQ,GAAG,EAAE;IACxC,IAAI,CAACA,QAAQ,GAAG,EAAE;IAElBsG,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE,IAAI,CAACwZ,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAAC;IAE9D,IAAI,CAAC+qB,8BAA8B,GAAG,IAAI;IAE1C,IAAI,CAAC6E,WAAW,CAAC,aAAa,CAAC;IAE/BrU,UAAU,CAAC,MAAK;MACd;MACA,IAAI,CAAC4U,oBAAoB,EAAE;IAC7B,CAAC,EAAE,IAAI,CAAC;EACV;EAEA;;;;EAIAA,oBAAoBA,CAAA;IAClB,IAAI,CAAChQ,aAAa,CAAC9c,OAAO,CAAChD,IAAI,CAACK,SAAS,GAAGF,IAAI,CAACC,GAAG,EAAE;IACtDlM,CAAC,CAAC,SAAS,CAAC,CAAC6a,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;IAEnC7a,CAAC,CAAC,sBAAsB,CAAC,CAACqmB,IAAI,CAAC,EAAE,CAAC;IAClClU,OAAO,CAACC,GAAG,CAAC,IAAI,CAACokB,8BAA8B,CAAC;IAChD,IAAI,CAAC5K,aAAa,CAACtc,IAAI,CAACV,cAAc,GAAGoY,UAAU,CAAC,MAAK;MACvDhnB,CAAC,CAAC,mBAAmB,CAAC,CAACg3B,SAAS,EAAE;MAClC;IACF,CAAC,EAAE,KAAK,CAAC;IACT,MAAM6E,MAAM,GAAG,IAAI,CAACjQ,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAACiF,MAAM,GAAG,CAAC;IAC1D,MAAM4E,KAAK,GAAGumB,MAAM,GAAG,CAAC;IAExB;IACA,MAAMC,SAAS,GAAG,CAAC,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC;IAC1E,IAAI,CAAClQ,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAACoF,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK+qB,SAAS,CAACtnB,OAAO,CAAC1D,CAAC,CAACyb,MAAM,CAAC,GAAGuP,SAAS,CAACtnB,OAAO,CAACzD,CAAC,CAACwb,MAAM,CAAC,CAAC;IAG1G,IAAI,CAACX,aAAa,CAAC9c,OAAO,CAAChD,IAAI,CAACM,YAAY,GAAG,IAAI,CAACwf,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAACswB,IAAI,CAACrd,IAAI,IAAKA,IAAI,CAAC6N,MAAM,KAAK,OAAO,IAAM7N,IAAI,CAAC6N,MAAM,KAAK,MAAM,IAAI7N,IAAI,CAACsd,MAAM,KAAK,MAAO,CAAC;IAE7K,IAAI,CAACpQ,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAAC6E,OAAO,CAAC,CAACoO,IAAI,EAAEud,OAAO,KAAI;MACzD,MAAMne,KAAK,GAAG7R,IAAI,CAACC,GAAG,EAAE;MACxB,MAAMkH,MAAM,GAAG,CAACsL,IAAI,CAACE,IAAI,CAAC;MAC1B,IAAIF,IAAI,CAAC6N,MAAM,KAAK,SAAS,EAAE;QAC7B,IAAI,CAAC8O,WAAW,CAAC,WAAW3c,IAAI,CAACE,IAAI,gBAAgB,CAAC;QACtD;QACA;QACA,IAAI,CAACgN,aAAa,CAACrP,YAAY,CAACmC,IAAI,CAACM,QAAQ,CAAC,CAACgF,IAAI,CAACpH,WAAW,IAAG;UAChE,IAAI,CAACgP,aAAa,CAAChZ,SAAS,EAAE;UAC9B,IAAI,CAACgZ,aAAa,CAAC9c,OAAO,GAAG,IAAI,CAAC8c,aAAa,CAACrgB,eAAe,EAAE;UAEjE4G,OAAO,CAACC,GAAG,CAACwK,WAAW,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/C;UACA,IAAGA,WAAW,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAIA,WAAW,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAC;YAChH,IAAI,CAACgP,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,GAAG,MAAM;YAC5E,IAAI,CAACgmB,qCAAqC,GAAG,MAAM;YACnD,IAAI,CAACyC,sBAAsB,CAAC,MAAM,CAAC;YACnC,IAAI,CAAClL,aAAa,CAAChY,eAAe,CAAC,MAAM,CAAC;YAC1C,IAAI,CAACgY,aAAa,CAACvjB,mBAAmB,CAACU,8BAA8B,GAAG,MAAM;YAC9E/I,CAAC,CAAC,0BAA0B,CAAC,CAAC+b,GAAG,CAAC,MAAM,CAAC,CAACjB,OAAO,CAAC,QAAQ,CAAC;YAC3D3I,OAAO,CAACC,GAAG,CAAC,IAAI,CAACokB,8BAA8B,CAAC;YAChDx2B,CAAC,CAAC,6BAA6B,EAAE,iBAAiB,CAAC,CAACwZ,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACuC,GAAG,CAAC,KAAK,CAAC,CAACjB,OAAO,CAAC,QAAQ,CAAC;YAChG,IAAI,CAAC8Q,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB,CAAC,GAAG,KAAK;YAClE,IAAI,CAACmmB,wCAAwC,GAAG,OAAO;YACvD,IAAI,CAACqC,qBAAqB,CAAC,OAAO,CAAC;YACnC,IAAI,CAACjL,aAAa,CAACvjB,mBAAmB,CAACS,6BAA6B,GAAG,KAAK;UAC9E,CAAC,MAAM;YACL,IAAI,CAAC8iB,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,GAAG,MAAM;YAC5E,IAAI,CAACud,aAAa,CAAChY,eAAe,CAAC,MAAM,CAAC;YAC1C,IAAI,CAACygB,qCAAqC,GAAG,MAAM;YACnD,IAAI,CAACyC,sBAAsB,CAAC,MAAM,CAAC;YACnC,IAAI,CAAClL,aAAa,CAACvjB,mBAAmB,CAACU,8BAA8B,GAAG,MAAM;YAC9E/I,CAAC,CAAC,0BAA0B,CAAC,CAAC+b,GAAG,CAAC,MAAM,CAAC,CAACjB,OAAO,CAAC,QAAQ,CAAC;YAC3D9a,CAAC,CAAC,6BAA6B,EAAE,iBAAiB,CAAC,CAACwZ,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACuC,GAAG,CAAC,CAAC,CAAC,CAACjB,OAAO,CAAC,QAAQ,CAAC;YAC5F,IAAI,CAAC8Q,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC;YAC9D,IAAI,CAACmmB,wCAAwC,GAAG,GAAG;YACnD,IAAI,CAACqC,qBAAqB,CAAC,GAAG,CAAC;YAC/B,IAAI,CAACjL,aAAa,CAACvjB,mBAAmB,CAACS,6BAA6B,GAAG,CAAC;UAC1E;UACA,IAAI,CAAC8iB,aAAa,CAAC9c,OAAO,CAAChD,IAAI,CAACK,SAAS,GAAGF,IAAI,CAACC,GAAG,EAAE;UACtD,IAAI,CAAC0f,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACP,IAAI,GAAG2R,WAAW,CAAC,MAAM,CAAC;UAC1D,IAAI,CAACgP,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACN,YAAY,GAAG0R,WAAW,CAAC,QAAQ,CAAC;UACpE,IAAI4C,SAAS,GAAG,CAAC;UACjB,MAAM0c,SAAS,GAAG,kBAAkB;UACpCtf,WAAW,CAAC,OAAO,CAAC,CAACtM,OAAO,CAACsB,IAAI,IAAG;YAClC,IAAI,CAACsqB,SAAS,CAAChL,IAAI,CAACtf,IAAI,CAACxN,EAAE,CAAC,IAAIwN,IAAI,CAACxN,EAAE,KAAK,SAAS,EAAE;cACrD,MAAMsb,QAAQ,GAAG/O,MAAM,CAACC,IAAI,CAACgB,IAAI,CAAC;cAClC8N,QAAQ,CAACpP,OAAO,CAAEE,GAAG,IAAG;gBACtB,IAAI,IAAI,CAACob,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACpB,UAAU,CAACoK,OAAO,CAAChE,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;kBAClE,IAAI,CAACob,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACpB,UAAU,CAACyH,IAAI,CAACrB,GAAG,CAAC;gBACtD;gBACA,IAAI,CAAEG,MAAM,CAACgF,SAAS,CAACC,cAAc,CAACC,IAAI,CAACjE,IAAI,EAAE,QAAQ,CAAC,EAAG;kBAC3DA,IAAI,CAACwB,MAAM,GAAG,EAAE;gBAClB;gBACAoM,SAAS,IAAI,IAAI,CAACoM,aAAa,CAACxW,OAAO,CAACxD,IAAI,EAAE,IAAI,CAAC;cACrD,CAAC,CAAC;YACJ;UACF,CAAC,CAAC;UACF,IAAI+N,SAAS,GAAG,CAAC;UACjB/C,WAAW,CAAC,OAAO,CAAC,CAACtM,OAAO,CAACsH,IAAI,IAAG;YAClC+H,SAAS,IAAI,IAAI,CAACiM,aAAa,CAAC9V,OAAO,CAAC8B,IAAI,EAAE,IAAI,CAAC;UACrD,CAAC,CAAC;UAEF,IAAI,CAACgU,aAAa,CAAC1R,WAAW,EAAE;UAChC,IAAI,CAACmhB,WAAW,CAAC,aAAa7b,SAAS,kBAAkBG,SAAS,+BAA+B,CAAC;UAClG,IAAIsc,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;UAC1C,OAAOiE,SAAS;QAClB,CAAC,CAAC;QACF,IAAI,CAACoM,aAAa,CAACzO,aAAa,EAAE;QAClC,IAAI,CAACyO,aAAa,CAACxO,gBAAgB,EAAE;QACrC,IAAG,IAAI,CAACwO,aAAa,CAAC3jB,SAAS,EAAE;UAC/BkK,OAAO,CAACC,GAAG,CAAC,IAAI,CAACwZ,aAAa,CAAC9c,OAAO,CAAC;QACzC;MACF,CAAC,MAAM,IAAI4P,IAAI,CAAC6N,MAAM,KAAK,OAAO,EAAE;QAElC,IAAI,CAAC8O,WAAW,CAAC,WAAW3c,IAAI,CAACE,IAAI,cAAc,CAAC;QACpD,IAAIud,QAAQ,GAAG,CAAC;QAChB,IAAI,CAACvQ,aAAa,CAACrO,UAAU,CAACmB,IAAI,CAACM,QAAQ,CAAC,CAACgF,IAAI,CAACvD,IAAI,IAAG;UACvD,MAAMhP,CAAC,GAAGgP,IAAI,CAAC/P,MAAM;UACrB,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;YAC1B,MAAMC,IAAI,GAAG6O,IAAI,CAAC9O,CAAC,CAAC;YACpB,IAAI,CAACC,IAAI,EAAE;YACXuqB,QAAQ,IAAI,IAAI,CAACvQ,aAAa,CAACxW,OAAO,CAAC;cACrCpC,GAAG,EAAE,IAAI,CAAC4Y,aAAa,CAAC/W,SAAS,CAACjD,IAAI,CAACxN,EAAE,CAAC;cAC1Csc,GAAG,EAAE,IAAI,CAACkL,aAAa,CAAC/W,SAAS,CAACjD,IAAI,CAAC8O,GAAG,CAAC;cAC3CtN,MAAM,EAAEA;aACT,EAAEkC,KAAK,CAAC;UACX;UAEAnD,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;UAC7E,IAAI,CAACsd,WAAW,CAAC,aAAac,QAAQ,SAAS1b,IAAI,CAAC/P,MAAM,0BAA0B,CAAC;UACrF,IAAIurB,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;QAC5C,CAAC,CAAC;MAEJ,CAAC,MAAM,IAAImD,IAAI,CAAC6N,MAAM,KAAK,MAAM,EAAE;QAEjC,IAAI,CAAC8O,WAAW,CAAC,WAAW3c,IAAI,CAACE,IAAI,kBAAkB,CAAC;QACxD,IAAIwE,CAAC,GAAG,CAAC;QAET,MAAMgZ,OAAO,GAAG,EAAE;QAClB,MAAMC,OAAO,GAAG,EAAE;QAElB;;;;QAIA,MAAMC,WAAW,GAAG1kB,IAAI,IAAG;UACzB,MAAMhH,IAAI,GAAGD,MAAM,CAACC,IAAI,CAACgH,IAAI,CAAC;UAC9B,MAAMnG,CAAC,GAAGb,IAAI,CAACF,MAAM;UACrB,MAAM6rB,QAAQ,GAAG,EAAE;UACnB;UACA,KAAK,IAAI5qB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;YAC1B,IAAInB,GAAG,GAAG,IAAI,CAACob,aAAa,CAAC/W,SAAS,CAACjE,IAAI,CAACe,CAAC,CAAC,CAAC;YAC/C;YAEA,IAAGnB,GAAG,KAAK,UAAU,EAAE;cACrB;cACAoH,IAAI,CAACpH,GAAG,CAAC,GAAGkJ,UAAU,CAAC9B,IAAI,CAACpH,GAAG,CAAC,CAAC;YACnC,CAAC,MAAM,IAAIA,GAAG,KAAK,QAAQ,EAAE;cAC3B;cACAoH,IAAI,CAAC,sBAAsB,CAAC,GAAGA,IAAI,CAAC,QAAQ,CAAC,CAACiC,KAAK,CAAC,IAAI,CAAC;cACzD0iB,QAAQ,CAAC,sBAAsB,CAAC,GAAG3kB,IAAI,CAAC,sBAAsB,CAAC;cAC/DA,IAAI,CAAC,QAAQ,CAAC,GAAGxE,MAAM;cAEvB,IAAI,CAAC,IAAI,CAACwY,aAAa,CAACnX,QAAQ,CAAC,IAAI,CAACmX,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAAClB,UAAU,EAAE,sBAAsB,CAAC,EAAE;gBACpG,IAAI,CAACshB,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAAClB,UAAU,CAACuH,IAAI,CAAC,sBAAsB,CAAC;cACzE;YACF;YAEA0qB,QAAQ,CAAC/rB,GAAG,CAAC,GAAGoH,IAAI,CAACpH,GAAG,CAAC;YACzB;YACA;YAEA,IAAI,CAAC,IAAI,CAACob,aAAa,CAACnX,QAAQ,CAAC,IAAI,CAACmX,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAAClB,UAAU,EAAEkG,GAAG,CAAC,EAAE;cACjF,IAAI,CAACob,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAAClB,UAAU,CAACuH,IAAI,CAACrB,GAAG,CAAC;YACtD;UACF;UAEA,MAAMuZ,GAAG,GAAG,EAAE,GAAGwS,QAAQ,CAAC7d,IAAI,CAAC8d,MAAM,CAAC;UACtC,MAAMxS,GAAG,GAAG,EAAE,GAAGuS,QAAQ,CAAC7d,IAAI,CAACsd,MAAM,CAAC;UAEtCI,OAAO,CAACvqB,IAAI,CAACkY,GAAG,CAAC;UACjBsS,OAAO,CAACxqB,IAAI,CAACmY,GAAG,CAAC;UAEjB,MAAMyS,QAAQ,GAAGJ,OAAO,CAACriB,SAAS,CAAClF,CAAC,IAAIA,CAAC,IAAIiV,GAAG,CAAC;UACjD,MAAM2S,QAAQ,GAAGN,OAAO,CAACpiB,SAAS,CAACvH,CAAC,IAAIA,CAAC,IAAIuX,GAAG,CAAC;UAEjD;UAEA;UACA,IAAGyS,QAAQ,IAAI,CAAC,CAAC,IAAIC,QAAQ,IAAI,CAAC,CAAC,EAAE;YAEnC;YACAtZ,CAAC,IAAI,IAAI,CAACwI,aAAa,CAAC9V,OAAO,CAACnF,MAAM,CAAC8E,MAAM,CAAC;cAC3CO,MAAM,EAAE,EAAE,GAAGumB,QAAQ,CAAC7d,IAAI,CAAC8d,MAAM,CAAC;cAClCvmB,MAAM,EAAE,EAAE,GAAGsmB,QAAQ,CAAC7d,IAAI,CAACsd,MAAM,CAAC;cAClC5oB,MAAM,EAAEA,MAAM;cACdhO,OAAO,EAAE,IAAI;cACbqR,QAAQ,EAAGiI,IAAI,CAACie,MAAM,IAAI,MAAM,GAAG,IAAI,GAAG,KAAK;cAC/CC,aAAa,EAAEle,IAAI,CAACie,MAAM,IAAI,MAAM,GAAG,IAAI,GAAG,KAAK;cACnD7kB,QAAQ,EAAE4G,IAAI,CAACie,MAAM,IAAI,MAAM,GAAG,CAAC,GAAGjjB,UAAU,CAAC6iB,QAAQ,CAAC7d,IAAI,CAACie,MAAM,CAAC,CAAC;cACvEtpB,WAAW,EAAGqL,IAAI,CAACie,MAAM,IAAI,MAAM,GAAG,KAAK,GAAG,IAAI;cAClDnmB,cAAc,EAAEkI,IAAI,CAACie,MAAM,IAAI,MAAM,GAAG,EAAE,GAAGje,IAAI,CAACE;aACnD,EAAE2d,QAAQ,CAAC,EAAEjnB,KAAK,CAAC;UAExB,CAAC,MAAM;YAEN;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YAEC8N,CAAC,IAAI,IAAI,CAACwI,aAAa,CAAC9V,OAAO,CAACnF,MAAM,CAAC8E,MAAM,CAAC;cAC1CO,MAAM,EAAE,EAAE,GAAGumB,QAAQ,CAAC7d,IAAI,CAAC8d,MAAM,CAAC;cAClCvmB,MAAM,EAAE,EAAE,GAAGsmB,QAAQ,CAAC7d,IAAI,CAACsd,MAAM,CAAC;cAClC5oB,MAAM,EAAEA,MAAM;cACdhO,OAAO,EAAE,IAAI;cACbqR,QAAQ,EAAGiI,IAAI,CAACie,MAAM,IAAI,MAAM,GAAG,IAAI,GAAG,KAAK;cAC/C7kB,QAAQ,EAAE4G,IAAI,CAACie,MAAM,IAAI,MAAM,GAAG,CAAC,GAAGjjB,UAAU,CAAC6iB,QAAQ,CAAC7d,IAAI,CAACie,MAAM,CAAC,CAAC;cACvEtpB,WAAW,EAAGqL,IAAI,CAACie,MAAM,IAAI,MAAM,GAAG,KAAK,GAAG,IAAI;cAClDnmB,cAAc,EAAEkI,IAAI,CAACie,MAAM,IAAI,MAAM,GAAG,EAAE,GAAGje,IAAI,CAACE;aACnD,EAAE2d,QAAQ,CAAC,EAAEjnB,KAAK,CAAC;UACxB;UAED;QAGA,CAAC;QAED,IAAIoJ,IAAI,CAACrE,SAAS,KAAK,KAAK,IAAIqE,IAAI,CAACrE,SAAS,KAAK,MAAM,EAAE;UAEzD,MAAMwiB,QAAQ,GAAGpJ,uCAAS,CAAC/U,IAAI,CAACM,QAAQ,EAAE;YAAEpT,IAAI,EAAE;UAAO,CAAE,CAAC;UAC5D,MAAMJ,IAAI,GAAGioB,wCAAU,CAACuJ,aAAa,CAACH,QAAQ,CAACI,MAAM,CAACJ,QAAQ,CAACK,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;UAC9E1xB,IAAI,CAAC+L,GAAG,CAAC+kB,WAAW,CAAC;UACrB,IAAI,CAACjB,WAAW,CAAC,aAAajY,CAAC,SAAS5X,IAAI,CAACkF,MAAM,qCAAqC,CAAC;UACzF,IAAIe,CAAC,GAAG,CAAC;YAAEqD,CAAC,GAAG,CAAC;UAChB,MAAMqoB,OAAO,GAAG,EAAE;UAClB,MAAMna,CAAC,GAAGxX,IAAI,CAACkF,MAAM;UACrB;UACA,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqR,CAAC,EAAErR,CAAC,EAAE,EAAE;YAC1B,MAAMyR,CAAC,GAAG5X,IAAI,CAACmG,CAAC,CAAC;YACjB,MAAMyrB,EAAE,GAAGha,CAAC,CAAC1E,IAAI,CAAC8d,MAAM,CAAC;YACzB,IAAIW,OAAO,CAAC3oB,OAAO,CAAC4oB,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;cAC9BtoB,CAAC,EAAE;cACHqoB,OAAO,CAACtrB,IAAI,CAACurB,EAAE,CAAC;cAChB3rB,CAAC,IAAI,IAAI,CAACma,aAAa,CAACxW,OAAO,CAAC;gBAC9BpC,GAAG,EAAE,EAAE,GAAGoqB,EAAE;gBACZhqB,MAAM,EAAEA;eACT,EAAE,IAAI,CAAC;YACV;YACA,MAAMiqB,EAAE,GAAGja,CAAC,CAAC1E,IAAI,CAACsd,MAAM,CAAC;YACzB,IAAImB,OAAO,CAAC3oB,OAAO,CAAC6oB,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;cAC9BvoB,CAAC,EAAE;cACHqoB,OAAO,CAACtrB,IAAI,CAACwrB,EAAE,CAAC;cAChB5rB,CAAC,IAAI,IAAI,CAACma,aAAa,CAACxW,OAAO,CAAC;gBAC9BpC,GAAG,EAAE,EAAE,GAAGqqB,EAAE;gBACZjqB,MAAM,EAAEA;eACT,EAAE,IAAI,CAAC;YACV;UACF;UAEAjB,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;UAClF,IAAI,CAACsd,WAAW,CAAC,aAAa5pB,CAAC,SAASqD,CAAC,qCAAqC,CAAC;UAC/E,IAAImnB,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;QAE5C,CAAC,MAAM,IAAImD,IAAI,CAACrE,SAAS,KAAK,MAAM,EAAE;UAClC,MAAMijB,OAAO,GAAGxrB,IAAI,CAACC,KAAK,CAAC2M,IAAI,CAACM,QAAQ,CAAC;UACzC,IAAI,CAACse,OAAO,IAAIA,OAAO,CAAC5sB,MAAM,KAAK,CAAC,EAAE;UAEtC,MAAMlF,IAAI,GAAG8xB,OAAO;UACpB9xB,IAAI,CAAC+L,GAAG,CAAC+kB,WAAW,CAAC;UACrB,IAAI,CAACjB,WAAW,CAAC,aAAajY,CAAC,SAAS5X,IAAI,CAACkF,MAAM,8BAA8B,CAAC;UAClF,IAAIlF,IAAI,CAACkF,MAAM,GAAG,CAAC,EACjBC,MAAM,CAACC,IAAI,CAACpF,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC8E,OAAO,CAACE,GAAG,IAAG;YACjC,MAAM+sB,OAAO,GAAG,IAAI,CAAC3R,aAAa,CAAC/W,SAAS,CAACrE,GAAG,CAAC;YAEjD,IAAI,CAAC,IAAI,CAACob,aAAa,CAACnX,QAAQ,CAAC,IAAI,CAACmX,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAAClB,UAAU,EAAEizB,OAAO,CAAC,EAAE;cACrF,IAAI,CAAC3R,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAAClB,UAAU,CAACuH,IAAI,CAAC0rB,OAAO,CAAC;YAC1D;UACF,CAAC,CAAC;UACJ,IAAIpB,QAAQ,GAAG,CAAC;YAAEqB,UAAU,GAAG,CAAC;UAChC,MAAM/rB,CAAC,GAAGjG,IAAI,CAACkF,MAAM;UACrB,MAAMysB,OAAO,GAAG,EAAE;UAClB;UACA,KAAK,IAAIxrB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;YAE1B,MAAMyR,CAAC,GAAG5X,IAAI,CAACmG,CAAC,CAAC;YACjB,MAAMyrB,EAAE,GAAGha,CAAC,CAAC1E,IAAI,CAAC8d,MAAM,CAAC;YACzB,IAAIW,OAAO,CAAC3oB,OAAO,CAAC4oB,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;cAC9BI,UAAU,EAAE;cACZrB,QAAQ,IAAI,IAAI,CAACvQ,aAAa,CAACxW,OAAO,CAAC;gBACrCpC,GAAG,EAAE,EAAE,GAAGoqB,EAAE;gBACZhqB,MAAM,EAAEA;eACT,EAAE,IAAI,CAAC;YACV;YACA,MAAMiqB,EAAE,GAAGja,CAAC,CAAC1E,IAAI,CAACsd,MAAM,CAAC;YACzB,IAAImB,OAAO,CAAC3oB,OAAO,CAAC6oB,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;cAC9BG,UAAU,EAAE;cACZrB,QAAQ,IAAI,IAAI,CAACvQ,aAAa,CAACxW,OAAO,CAAC;gBACrCpC,GAAG,EAAE,EAAE,GAAGqqB,EAAE;gBACZjqB,MAAM,EAAEA;eACT,EAAE,IAAI,CAAC;YACV;UACF;UAEAjB,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;UACjF,IAAI,CAACsd,WAAW,CAAC,aAAac,QAAQ,SAASqB,UAAU,8BAA8B,CAAC;UACxF,IAAIvB,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;QAC5C,CAAC,MAAM;UAELjV,4CAAU,CAACoY,IAAI,CAACM,QAAQ,EAAE;YACxBmN,MAAM,EAAE,IAAI;YACZsR,aAAa,EAAE,IAAI;YACnBC,cAAc,EAAE,IAAI;YACpBC,QAAQ,EAAEL,OAAO,IAAG;cAClB,MAAM9xB,IAAI,GAAG8xB,OAAO,CAAC9xB,IAAI;cACzBA,IAAI,CAAC+L,GAAG,CAAC+kB,WAAW,CAAC;cACrB,IAAI,CAACjB,WAAW,CAAC,aAAajY,CAAC,SAAS5X,IAAI,CAACkF,MAAM,6BAA6B,CAAC;cACjF4sB,OAAO,CAACxxB,IAAI,CAACyZ,MAAM,CAACjV,OAAO,CAACE,GAAG,IAAG;gBAChC,MAAM+sB,OAAO,GAAG,IAAI,CAAC3R,aAAa,CAAC/W,SAAS,CAACrE,GAAG,CAAC;gBAEjD,IAAI,CAAC,IAAI,CAACob,aAAa,CAACnX,QAAQ,CAAC,IAAI,CAACmX,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAAClB,UAAU,EAAEizB,OAAO,CAAC,EAAE;kBACrF,IAAI,CAAC3R,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAAClB,UAAU,CAACuH,IAAI,CAAC0rB,OAAO,CAAC;gBAC1D;cACF,CAAC,CAAC;cACF,IAAIpB,QAAQ,GAAG,CAAC;gBAAEqB,UAAU,GAAG,CAAC;cAChC,MAAM/rB,CAAC,GAAGjG,IAAI,CAACkF,MAAM;cACrB,MAAMysB,OAAO,GAAG,EAAE;cAClB,KAAK,IAAIxrB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;gBAC1B,MAAMyR,CAAC,GAAG5X,IAAI,CAACmG,CAAC,CAAC;gBACjB,MAAMyrB,EAAE,GAAGha,CAAC,CAAC1E,IAAI,CAAC8d,MAAM,CAAC;gBACzB,IAAIW,OAAO,CAAC3oB,OAAO,CAAC4oB,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;kBAC9BI,UAAU,EAAE;kBACZrB,QAAQ,IAAI,IAAI,CAACvQ,aAAa,CAACxW,OAAO,CAAC;oBACrCpC,GAAG,EAAE,EAAE,GAAGoqB,EAAE;oBACZhqB,MAAM,EAAEA;mBACT,EAAE,IAAI,CAAC;gBACV;gBACA,MAAMiqB,EAAE,GAAGja,CAAC,CAAC1E,IAAI,CAACsd,MAAM,CAAC;gBACzB,IAAImB,OAAO,CAAC3oB,OAAO,CAAC6oB,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;kBAC9BG,UAAU,EAAE;kBACZrB,QAAQ,IAAI,IAAI,CAACvQ,aAAa,CAACxW,OAAO,CAAC;oBACrCpC,GAAG,EAAE,EAAE,GAAGqqB,EAAE;oBACZjqB,MAAM,EAAEA;mBACT,EAAE,IAAI,CAAC;gBACV;cACF;cAEAjB,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;cAChF,IAAI,CAACsd,WAAW,CAAC,aAAac,QAAQ,SAASqB,UAAU,6BAA6B,CAAC;cACvF,IAAIvB,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;YAC5C;WACD,CAAC;QACJ;MACJ,CAAC,MAAM,IAAImD,IAAI,CAAC6N,MAAM,KAAK,MAAM,EAAE;QAEjC,IAAI,CAAC8O,WAAW,CAAC,WAAW3c,IAAI,CAACE,IAAI,kBAAkB,CAAC;QACxD,IAAG,IAAI,CAACgN,aAAa,CAAC3jB,SAAS,EAAE;UAC/BkK,OAAO,CAACC,GAAG,CAACsM,IAAI,CAAC8d,MAAM,CAAC;QAC1B;QAEA,IAAIvrB,CAAC,GAAG,CAAC;QACT,MAAMQ,CAAC,GAAG,CAAC;QAEX,IAAIiN,IAAI,CAACrE,SAAS,KAAK,KAAK,IAAIqE,IAAI,CAACrE,SAAS,KAAK,MAAM,EAAE;UAEzD,MAAMwiB,QAAQ,GAAGpJ,uCAAS,CAAC/U,IAAI,CAACM,QAAQ,EAAE;YAAEpT,IAAI,EAAE;UAAO,CAAE,CAAC;UAC5D,MAAMJ,IAAI,GAAGioB,wCAAU,CAACuJ,aAAa,CAACH,QAAQ,CAACI,MAAM,CAACJ,QAAQ,CAACK,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;UAC9E1xB,IAAI,CAAC8E,OAAO,CAACsB,IAAI,IAAG;YAClB,IAAIgsB,QAAQ,GAAG;cACb5qB,GAAG,EAAE,IAAI,CAAC4Y,aAAa,CAAC/W,SAAS,CAAC,EAAE,GAAGjD,IAAI,CAAC8M,IAAI,CAAC8d,MAAM,CAAC,CAAC;cACzD9b,GAAG,EAAGhC,IAAI,CAACsd,MAAM,KAAK,MAAM,GAAI,EAAE,GAAG,IAAI,CAACpQ,aAAa,CAAC/W,SAAS,CAACjD,IAAI,CAAC8M,IAAI,CAACsd,MAAM,CAAC,CAAC;cACpF5oB,MAAM,EAAEA;aACT;YACDzC,MAAM,CAACC,IAAI,CAACgB,IAAI,CAAC,CAACtB,OAAO,CAACE,GAAG,IAAG;cAC9B,IAAI+sB,OAAO,GAAG,IAAI,CAAC3R,aAAa,CAAC/W,SAAS,CAACrE,GAAG,CAAC;cAC/C,IAAI,CAAC,IAAI,CAACob,aAAa,CAACnX,QAAQ,CAAC,IAAI,CAACmX,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACpB,UAAU,EAAEmzB,OAAO,CAAC,EAAE;gBACrF,IAAI,CAAC3R,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACpB,UAAU,CAACyH,IAAI,CAAC0rB,OAAO,CAAC;cAC1D;cACAK,QAAQ,CAACL,OAAO,CAAC,GAAG,IAAI,CAAC3R,aAAa,CAAC/W,SAAS,CAACjD,IAAI,CAACpB,GAAG,CAAC,CAAC;YAC7D,CAAC,CAAC;YACFS,CAAC,IAAI,IAAI,CAAC2a,aAAa,CAACxW,OAAO,CAACwoB,QAAQ,EAAEtoB,KAAK,CAAC;UAClD,CAAC,CAAC;UAEFnD,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;UAClF,IAAI,CAACsd,WAAW,CAAC,aAAapqB,CAAC,SAASQ,CAAC,qCAAqC,CAAC;UAC/E,IAAIwqB,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;QAE5C,CAAC,MACC,IAAImD,IAAI,CAACrE,SAAS,KAAK,MAAM,EAAE;UAC7B,MAAMijB,OAAO,GAAGxrB,IAAI,CAACC,KAAK,CAAC2M,IAAI,CAACM,QAAQ,CAAC;UACzC,IAAI,CAACse,OAAO,IAAIA,OAAO,CAAC5sB,MAAM,KAAK,CAAC,EAAE;UACtC4sB,OAAO,CAAChtB,OAAO,CAAC9E,IAAI,IAAG;YAErB,MAAMoG,IAAI,GAAGpG,IAAI,CAAC;YAElB,IAAIoG,IAAI,CAAC8M,IAAI,CAAC8d,MAAM,CAAC,IAAI5qB,IAAI,CAAC8M,IAAI,CAAC8d,MAAM,CAAC,CAAC/2B,QAAQ,EAAE,CAAC8P,IAAI,EAAE,EAAE;cAE5D,IAAIqoB,QAAQ,GAAG;gBACb5qB,GAAG,EAAE,IAAI,CAAC4Y,aAAa,CAAC/W,SAAS,CAAC,EAAE,GAAGjD,IAAI,CAAC8M,IAAI,CAAC8d,MAAM,CAAC,CAAC;gBACzD9b,GAAG,EAAGhC,IAAI,CAACsd,MAAM,KAAK,MAAM,GAAI,EAAE,GAAG,IAAI,CAACpQ,aAAa,CAAC/W,SAAS,CAACjD,IAAI,CAAC8M,IAAI,CAACsd,MAAM,CAAC,CAAC;gBACpF5oB,MAAM,EAAEA;eACT;cAEDzC,MAAM,CAACC,IAAI,CAACgB,IAAI,CAAC,CAACtB,OAAO,CAACE,GAAG,IAAG;gBAC9B,IAAI+sB,OAAO,GAAG,IAAI,CAAC3R,aAAa,CAAC/W,SAAS,CAACrE,GAAG,CAAC;gBAC/C,IAAI,CAAC,IAAI,CAACob,aAAa,CAACnX,QAAQ,CAAC,IAAI,CAACmX,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACpB,UAAU,EAAEmzB,OAAO,CAAC,EAAE;kBACrF,IAAI,CAAC3R,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACpB,UAAU,CAACyH,IAAI,CAAC0rB,OAAO,CAAC;gBAC1D;gBACAK,QAAQ,CAACL,OAAO,CAAC,GAAG,IAAI,CAAC3R,aAAa,CAAC/W,SAAS,CAACjD,IAAI,CAACpB,GAAG,CAAC,CAAC;cAC7D,CAAC,CAAC;cACFS,CAAC,IAAI,IAAI,CAAC2a,aAAa,CAACxW,OAAO,CAACwoB,QAAQ,EAAEtoB,KAAK,CAAC;YAClD;UACF,CAAC,CAAC;UAEFnD,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;UACjF,IAAI,CAACsd,WAAW,CAAC,aAAapqB,CAAC,SAASQ,CAAC,8BAA8B,CAAC;UAExE,IAAIwqB,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;QAE5C,CAAC,MAAM;UAELjV,4CAAU,CAACoY,IAAI,CAACM,QAAQ,EAAE;YACxBmN,MAAM,EAAE,IAAI;YACZsR,aAAa,EAAE,IAAI;YACnBC,cAAc,EAAE,IAAI;YACpBG,IAAI,EAAEryB,IAAI,IAAG;cAEX,MAAMoG,IAAI,GAAGpG,IAAI,CAACA,IAAI;cAEtB,IAAIoG,IAAI,CAAC8M,IAAI,CAAC8d,MAAM,CAAC,IAAI5qB,IAAI,CAAC8M,IAAI,CAAC8d,MAAM,CAAC,CAAC/2B,QAAQ,EAAE,CAAC8P,IAAI,EAAE,EAAE;gBAE5D,IAAIqoB,QAAQ,GAAG;kBACb5qB,GAAG,EAAE,IAAI,CAAC4Y,aAAa,CAAC/W,SAAS,CAAC,EAAE,GAAGjD,IAAI,CAAC8M,IAAI,CAAC8d,MAAM,CAAC,CAAC;kBACzD9b,GAAG,EAAGhC,IAAI,CAACsd,MAAM,KAAK,MAAM,GAAI,EAAE,GAAG,IAAI,CAACpQ,aAAa,CAAC/W,SAAS,CAACjD,IAAI,CAAC8M,IAAI,CAACsd,MAAM,CAAC,CAAC;kBACpF5oB,MAAM,EAAEA;iBACT;gBAEDzC,MAAM,CAACC,IAAI,CAACgB,IAAI,CAAC,CAACtB,OAAO,CAACE,GAAG,IAAG;kBAC9B,IAAI+sB,OAAO,GAAG,IAAI,CAAC3R,aAAa,CAAC/W,SAAS,CAACrE,GAAG,CAAC;kBAC/C,IAAI,CAAC,IAAI,CAACob,aAAa,CAACnX,QAAQ,CAAC,IAAI,CAACmX,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACpB,UAAU,EAAEmzB,OAAO,CAAC,EAAE;oBACrF,IAAI,CAAC3R,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACpB,UAAU,CAACyH,IAAI,CAAC0rB,OAAO,CAAC;kBAC1D;kBACAK,QAAQ,CAACL,OAAO,CAAC,GAAG,IAAI,CAAC3R,aAAa,CAAC/W,SAAS,CAACjD,IAAI,CAACpB,GAAG,CAAC,CAAC;gBAC7D,CAAC,CAAC;gBACFS,CAAC,IAAI,IAAI,CAAC2a,aAAa,CAACxW,OAAO,CAACwoB,QAAQ,EAAEtoB,KAAK,CAAC;cAClD;YACF,CAAC;YACDqoB,QAAQ,EAAEA,CAAA,KAAK;cAEbxrB,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;cAChF,IAAI,CAACsd,WAAW,CAAC,aAAapqB,CAAC,SAASQ,CAAC,6BAA6B,CAAC;cAEvE,IAAIwqB,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;YAC5C;WACD,CAAC;QACJ;MAEJ,CAAC,MAAM,IAAImD,IAAI,CAAC6N,MAAM,KAAK,QAAQ,EAAE;QAEnC,IAAI,CAAC8O,WAAW,CAAC,WAAW3c,IAAI,CAACE,IAAI,wBAAwB,CAAC;QAE9D,IAAIF,IAAI,CAACrE,SAAS,KAAK,KAAK,IAAIqE,IAAI,CAACrE,SAAS,KAAK,MAAM,EAAE;UAEzD,MAAMwiB,QAAQ,GAAGpJ,uCAAS,CAAC/U,IAAI,CAACM,QAAQ,EAAE;YAAEpT,IAAI,EAAE;UAAO,CAAE,CAAC;UAC5D,MAAMJ,IAAI,GAAGioB,wCAAU,CAACuJ,aAAa,CAACH,QAAQ,CAACI,MAAM,CAACJ,QAAQ,CAACK,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;YAAE/Q,MAAM,EAAE;UAAC,CAAE,CAAC;UAC7F,IAAIgR,OAAO,GAAG,EAAE;YAAEte,EAAE,GAAG,CAAC;YAAEC,EAAE,GAAG,CAAC;UAChCtT,IAAI,CAAC8E,OAAO,CAAC,CAACuT,GAAQ,EAAElS,CAAC,KAAI;YAC3B,IAAIA,CAAC,KAAK,CAAC,EAAE;cACXwrB,OAAO,GAAGtZ,GAAG;cACbsZ,OAAO,CAAC7sB,OAAO,CAAC,CAACwtB,IAAI,EAAE9a,CAAC,KAAI;gBAC1B,IAAIA,CAAC,GAAG,CAAC,EAAE;kBACTnE,EAAE,IAAI,IAAI,CAAC+M,aAAa,CAACxW,OAAO,CAAC;oBAC/BpC,GAAG,EAAE,IAAI,CAAC4Y,aAAa,CAAC/W,SAAS,CAAC,EAAE,GAAGipB,IAAI,CAAC;oBAC5C1qB,MAAM,EAAEA;mBACT,EAAEkC,KAAK,CAAC;gBACX;cACF,CAAC,CAAC;YACJ,CAAC,MAAM;cACL,MAAMU,MAAM,GAAG,IAAI,CAAC4V,aAAa,CAAC/W,SAAS,CAAC,EAAE,GAAGgP,GAAG,CAAC,CAAC,CAAC,CAAC;cACxDA,GAAG,CAACvT,OAAO,CAAC,CAACwtB,IAAI,EAAEhnB,CAAC,KAAI;gBACtB,IAAIA,CAAC,KAAK,CAAC,EAAE;gBACb,MAAMb,MAAM,GAAG,IAAI,CAAC2V,aAAa,CAAC/W,SAAS,CAAC,EAAE,GAAGsoB,OAAO,CAACrmB,CAAC,CAAC,CAAC;gBAC5D,IAAId,MAAM,KAAKC,MAAM,EAAE;gBACvB6I,EAAE,IAAI,IAAI,CAAC8M,aAAa,CAAC9V,OAAO,CAAC;kBAC/BE,MAAM,EAAEA,MAAM;kBACdC,MAAM,EAAEA,MAAM;kBACd7C,MAAM,EAAEA,MAAM;kBACd0E,QAAQ,EAAE4B,UAAU,CAACokB,IAAI,CAAC;kBAC1BrnB,QAAQ,EAAE,KAAK;kBACfpD,WAAW,EAAE,IAAI;kBACjBmD,cAAc,EAAEkI,IAAI,CAACE;iBACtB,EAAEtJ,KAAK,CAAC;cACX,CAAC,CAAC;YACJ;UACF,CAAC,CAAC;UAEFnD,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;UAC7F,IAAI,CAACsd,WAAW,CAAC,aAAaxc,EAAE,SAASrT,IAAI,CAACkF,MAAM,GAAG,CAAC,0CAA0C,CAAC;UACnG,IAAI,CAAC2qB,WAAW,CAAC,aAAavc,EAAE,SAAS,CAAC,CAACtT,IAAI,CAACkF,MAAM,GAAG,CAAC,KAAK,CAAC,IAAIlF,IAAI,CAACkF,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,0CAA0C,CAAC;UACpI,IAAIurB,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;QAE5C,CAAC,MAAM;UAEL,IAAI,CAACqQ,aAAa,CAACnN,cAAc,CAACC,IAAI,CAAC,CAACsF,IAAI,CAAEiH,CAAM,IAAI;YACtD,IAAI,CAACoQ,WAAW,CAAC,aAAapQ,CAAC,CAACpM,EAAE,SAASoM,CAAC,CAAC9L,EAAE,oCAAoC,CAAC;YACpF,IAAI,CAACkc,WAAW,CAAC,aAAapQ,CAAC,CAACnM,EAAE,SAASmM,CAAC,CAAC7L,EAAE,oCAAoC,CAAC;YACpF,IAAI6c,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;UAC5C,CAAC,CAAC;QACJ;MAEF,CAAC,MAAM;QAAE;QAEP,IAAI,CAACqQ,aAAa,CAAC1Z,SAAS,EAAE;QAC9B,IAAIlI,KAAK,GAAG,CAAC;QACb,IAAI+zB,QAAQ,GAAG,CAAC;QAChB,IAAI5B,QAAQ,GAAG,CAAC;QAChB,IAAI,CAACvQ,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACN,YAAY,GAAGwT,IAAI,CAACM,QAAQ;QAC5D,MAAM/T,IAAI,GAAG5E,kDAAqB,CAACqY,IAAI,CAACM,QAAQ,CAAC;QACjD,IAAI/N,CAAC,GAAGhG,IAAI,CAAC0Y,QAAQ,EAAE;UAAEhV,MAAM,GAAGsC,CAAC,CAACtC,MAAM;UAAEiV,MAAM,GAAG3S,CAAC,CAAC+sB,GAAG,CAACzmB,GAAG,CAAC,IAAI,CAACqU,aAAa,CAAC/W,SAAS,CAAC;UAAEpD,CAAC,GAAGmS,MAAM,CAAClT,MAAM;QAC/G,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;UAC1B,MAAMqE,MAAM,GAAG4N,MAAM,CAACjS,CAAC,CAAC;UACxBwqB,QAAQ,IAAI,IAAI,CAACvQ,aAAa,CAACxW,OAAO,CAAC;YACrCpC,GAAG,EAAEgD,MAAM;YACX5C,MAAM,EAAEA;WACT,EAAEkC,KAAK,CAAC;UACT,KAAK,IAAIwB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnF,CAAC,EAAEmF,CAAC,EAAE,EAAE;YAC1BinB,QAAQ,IAAI,IAAI,CAACnS,aAAa,CAAC9V,OAAO,CAAC;cACrCE,MAAM,EAAEA,MAAM;cACdC,MAAM,EAAE2N,MAAM,CAAC9M,CAAC,CAAC;cACjB1D,MAAM,EAAEA,MAAM;cACd0E,QAAQ,EAAE4B,UAAU,CAAC/K,MAAM,CAACgD,CAAC,CAAC,CAACmF,CAAC,CAAC,CAAC;cAClCN,cAAc,EAAEkI,IAAI,CAACE,IAAI;cACzBvL,WAAW,EAAE;aACd,EAAEiC,KAAK,CAAC;YACTtL,KAAK,EAAE;UACT;QACF;QACAmI,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;QACnF,IAAI,CAACsd,WAAW,CAAC,aAAac,QAAQ,SAAS1qB,CAAC,gCAAgC,CAAC;QACjF,IAAI,CAAC4pB,WAAW,CAAC,aAAa0C,QAAQ,SAAS/zB,KAAK,gCAAgC,CAAC;QACrF,IAAIiyB,OAAO,KAAKJ,MAAM,EAAE,IAAI,CAACtgB,WAAW,EAAE;MAC5C;IACF,CAAC,CAAC;EAEJ;EAEA;;;;EAIAA,WAAWA,CAAA;IACT,IAAIxR,KAAK,GAAG,IAAI,CAAC6hB,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACzB,KAAK;IACjD,IAAG,IAAI,CAAC6hB,aAAa,CAAC3jB,SAAS,EAAE;MAC/BkK,OAAO,CAACC,GAAG,CAACrI,KAAK,CAAC;IACpB;IACA,IAAI,CAAC6hB,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACb,kBAAkB,GAAGZ,KAAK;IAC1D;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA,IAAI,CAACk0B,eAAe,EAAE;EACxB;EAEA;;;EAGMA,eAAeA,CAAA;IAAA,IAAA9Y,KAAA;IAAA,OAAAC,sJAAA;MAEnB,IAAI,CAACD,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAAChD,IAAI,CAACM,YAAY,EAAE,OAAO+Y,KAAI,CAACyG,aAAa,CAAC1R,WAAW,EAAE;MAC1FiL,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACpB,UAAU,CAACyH,IAAI,CAAC,KAAK,CAAC;MACtD,IAAI4P,MAAM,GAAG,EAAE;MACftP,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE+S,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACzB,KAAK,CAAC2G,MAAM,EAAEyU,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACzB,KAAK,CAAC;MACvH,IAAIA,KAAK,GAAGob,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACzB,KAAK;MACjD,MAAM0H,CAAC,GAAG1H,KAAK,CAAC2G,MAAM;MACtB,MAAMwtB,SAAS,GAAG,GAAG,CAACpc,MAAM,CAACqD,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACL,SAAS,CAACuF,MAAM,CAAC;MAC9E,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;QAC1B,MAAMpB,CAAC,GAAGxG,KAAK,CAAC4H,CAAC,CAAC;QAClB,IAAI,CAACpB,CAAC,CAACmQ,GAAG,EAAE;UACVnQ,CAAC,CAACmQ,GAAG,GAAGwd,SAAS;QACnB,CAAC,MAAM;UACLzc,MAAM,CAAC5P,IAAI,CAACtB,CAAC,CAAC;QAChB;MACF;MAEA4B,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEqP,MAAM,CAAC;MAE1C,IAAI0D,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,UAAU,CAAC,EAAE;QACxD8W,KAAI,CAACkW,WAAW,CAAC,uBAAuB,CAAC;QACzC,IAAI7W,MAAM,SAAUW,KAAI,CAACyG,aAAa,CAAC9c,OAAe,CAACsS,KAAK,CAAC;UAC3DjW,SAAS,EAAEga,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACL,SAAS;UACpDgzB,OAAO,EAAEn+B,CAAC,CAAC,aAAa,CAAC,CAAC2pB,EAAE,CAAC,UAAU,CAAC;UACxC2O,KAAK,EAAE,CAACt4B,CAAC,CAAC,eAAe,CAAC,CAAC+b,GAAG,EAAE,EAAE/b,CAAC,CAAC,kBAAkB,CAAC,CAAC+b,GAAG,EAAE,CAAC,CAACxE,GAAG,CAACmC,UAAU,CAAC;UAC9E0kB,GAAG,EAAE,CAACp+B,CAAC,CAAC,cAAc,CAAC,CAAC+b,GAAG,EAAE,EAAE/b,CAAC,CAAC,cAAc,CAAC,CAAC+b,GAAG,EAAE,CAAC,CAACxE,GAAG,CAACmC,UAAU,CAAC;UACvE3P,KAAK,EAAE0X;SACR,CAAC;QACF,MAAM3D,KAAK,GAAG7R,IAAI,CAACC,GAAG,EAAE;QACxB,MAAM+E,CAAC,GAAGwQ,MAAM,CAAC/Q,MAAM;QACvB,KAAK,IAAIoG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7F,CAAC,EAAE6F,CAAC,EAAE,EAAE;UAC1BnG,MAAM,CAAC8E,MAAM,CAACgM,MAAM,CAAC3K,CAAC,CAAC,EAAE0N,MAAM,CAAC1N,CAAC,CAAC,CAAC;QACrC;QACA3E,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;MACpF;MACA,MAAMD,KAAK,GAAG7R,IAAI,CAACC,GAAG,EAAE;MACxB,KAAK,IAAI8W,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvR,CAAC,EAAEuR,CAAC,EAAE,EAAE;QAC1B,MAAMpR,IAAI,GAAG7H,KAAK,CAACiZ,CAAC,CAAC;QACrBpR,IAAI,CAAC,SAAS,CAAC,GAAGiiB,wCAAW,CAACjiB,IAAI,CAAC,KAAK,CAAC,CAAC;MAC5C;MACAO,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAE,CAACnG,IAAI,CAACC,GAAG,EAAE,GAAG4R,KAAK,EAAEC,cAAc,EAAE,EAAE,IAAI,CAAC;MAE9FoH,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAACtD,IAAY,CAAC2W,SAAS,SAASgD,KAAI,CAACyG,aAAa,CAAC3J,gBAAgB,EAAE;MAChG,MAAMkD,KAAI,CAACyG,aAAa,CAACjJ,yBAAyB,EAAE;MACpDlB,MAAM,CAAC5Q,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC,OAAO,CAAC,GAAGC,CAAC,CAAC,OAAO,CAAC,CAAC;MAC9C,IAAIoU,KAAI,CAACyG,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,+BAA+B,CAAC,EAAE;QAC7E,MAAM8W,KAAI,CAACyG,aAAa,CAACxJ,sBAAsB,EAAE;MACnD;MACA+C,KAAI,CAACkW,WAAW,CAAC,+CAA+C,CAAC;MACjE,MAAMrY,CAAC,SAASmC,KAAI,CAACyG,aAAa,CAAC7I,YAAY,CAACtB,MAAM,CAAC;MACvD0D,KAAI,CAACkW,WAAW,CAAC,YAAYrY,CAAC,mCAAmC,CAAC;MAClEmC,KAAI,CAACyG,aAAa,CAAC1R,WAAW,EAAE;MAGhCiL,KAAI,CAACkW,WAAW,CAAC,cAAc,CAAC;MAChClW,KAAI,CAACqR,8BAA8B,GAAG,KAAK;MAC3CxP,UAAU,CAAC,MAAK;QACd7B,KAAI,CAAC+O,GAAG,CAACoK,aAAa,EAAE;MAC1B,CAAC,EAAE,IAAI,CAAC;IAAC;EAEX;EAEA;;;;EAIAC,eAAeA,CAAEC,IAAa;IAE5B,IAAGA,IAAI,EAAC;MACNx+B,CAAC,CAAC,YAAY,CAAC,CAACumB,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC;IAC3C,CAAC,MAAM;MACLvmB,CAAC,CAAC,YAAY,CAAC,CAACumB,GAAG,CAAC,YAAY,EAAE,QAAQ,CAAC;IAC7C;EAEF;EAEA;;;;EAIAkY,YAAYA,CAAChzB,KAAgB;IAC3B,IAAI,CAAC0pB,cAAc,GAAG,IAAI;IAE1B,IAAIhkB,KAAK,CAACiH,IAAI,CAAC3M,KAAK,CAAC,CAACiF,MAAM,GAAG,CAAC,EAAE;MAEhCS,KAAK,CAACiH,IAAI,CAAC3M,KAAK,CAAC,CAAC8L,GAAG,CAACmH,IAAI,IAAG;QAC3B,IAAG,IAAI,CAACkN,aAAa,CAAC3jB,SAAS,EAAE;UAC/BkK,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEsM,IAAI,CAAC;QAC9B;QACA,IAAI,CAAC2Y,WAAW,CAAC3Y,IAAI,CAAC;MACxB,CAAC,CAAC;IACJ;IAEA,IAAI,CAACyW,cAAc,GAAG,KAAK;IAE3BnO,UAAU,CAAC,MAAK;MACd,IAAI,CAACmO,cAAc,GAAG,KAAK;IAE7B,CAAC,EAAE,IAAI,CAAC;EACV;EAEA;;;;;;;;EAQAkC,WAAWA,CAACqH,OAAQ;IAClB,IAAG,CAACA,OAAO,EAAE;MACXA,OAAO,GAAG,IAAI,CAAC9S,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAAC,CAAC,CAAC;IAC/C;IAEA,IAAG,IAAI,CAACmgB,aAAa,CAAC3jB,SAAS,EAAE;MAC/BkK,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEssB,OAAO,CAAC;IACpC;IAGA1+B,CAAC,CAAC,sBAAsB,CAAC,CAACqmB,IAAI,CAAC,EAAE,CAAC;IAElC,MAAMhM,SAAS,GAAGqkB,OAAO,CAAC9f,IAAI,CAAC/E,KAAK,CAAC,GAAG,CAAC,CAAC8kB,GAAG,EAAE,CAAC3iB,WAAW,EAAE;IAC7D,IAAI3B,SAAS,KAAK,KAAK,EAAE;MACvB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF;IAEA,IAAIA,SAAS,KAAK,cAAc,IAAIA,SAAS,KAAK,UAAU,EAAE;MAC5D;MACA,IAAIsd,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC7BD,MAAM,CAACE,SAAS,GAAGnmB,GAAG,IAAI,IAAI,CAACka,aAAa,CAACzR,WAAW,CAACzI,GAAG,CAACuE,MAAM,EAAEoE,SAAS,CAAC;MAC/Esd,MAAM,CAACK,UAAU,CAAC0G,OAAO,EAAE,OAAO,CAAC;MACnC;IACF;IACA,IAAIrkB,SAAS,KAAK,KAAK,EAAE;MACvB;MACA,IAAIsd,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC7BD,MAAM,CAACE,SAAS,GAAGnmB,GAAG,IAAI,IAAI,CAACka,aAAa,CAAC5S,UAAU,CAACtH,GAAG,CAACuE,MAAM,CAAC;MACnE0hB,MAAM,CAACK,UAAU,CAAC0G,OAAO,EAAE,OAAO,CAAC;MACnC;IACF;IACA,IAAIrkB,SAAS,KAAK,MAAM,EAAE;MACxB,MAAM2W,QAAQ,GAAG,IAAI,CAACpF,aAAa,CAAC/W,SAAS,CAAC6pB,OAAO,CAAC9f,IAAI,CAAC;MAC3D,IAAI+Y,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC7BD,MAAM,CAACE,SAAS,GAAInmB,GAAG,IAAI;QACzB,MAAM8S,MAAM,GAAG1S,IAAI,CAACC,KAAK,CAACL,GAAG,CAACuE,MAAM,CAAC,QAAQ,CAAW,CAAC;QACzD9D,OAAO,CAACC,GAAG,CAACoS,MAAM,CAAC;QACnB,IAAIA,MAAM,CAAC1Y,IAAI,IAAI0Y,MAAM,CAACvZ,IAAI,EAAE;UAC9B,MAAM2zB,WAAW,GAAG;YAAE5f,QAAQ,EAAEwF,MAAM;YAAE5F,IAAI,EAAEoS,QAAQ;YAAE3W,SAAS,EAAEA;UAAS,CAAC;UAC7E,IAAI,CAACuR,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAACoG,IAAI,CAAC+sB,WAAW,CAAC;UAClD,IAAI,CAACrE,UAAU,CAACqE,WAAW,CAAC;UAC5B;QACF,CAAC,MAAM;UACL,IAAI,CAAChT,aAAa,CAACzR,WAAW,CAACzI,GAAG,CAACuE,MAAM,EAAEoE,SAAS,CAAC;QACvD;MACF,CAAC;MACDsd,MAAM,CAACK,UAAU,CAAC0G,OAAO,EAAE,OAAO,CAAC;MACnC;IACF;IAEA/K,2CAAc,CAAC+K,OAAO,EAAGrkB,SAAS,KAAK,MAAM,IAAIA,SAAS,KAAK,KAAK,GAAI,aAAa,GAAG,MAAM,CAAC,CAAC2J,IAAI,CAACtF,IAAI,IAAG;MAC1G;MACAA,IAAI,CAACE,IAAI,GAAG,IAAI,CAACgN,aAAa,CAAC/W,SAAS,CAAC6J,IAAI,CAACE,IAAI,CAAC;MACnDF,IAAI,CAACrE,SAAS,GAAGqE,IAAI,CAACE,IAAI,CAAC/E,KAAK,CAAC,GAAG,CAAC,CAAC8kB,GAAG,EAAE,CAAC3iB,WAAW,EAAE;MACzD,IAAI,CAAC4P,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAACoG,IAAI,CAAC6M,IAAI,CAAC;MAC3C,IAAI,CAAC6b,UAAU,CAAC7b,IAAI,CAAC;IACvB,CAAC,CAAC;EACJ;EAEA;;;;EAIA4Y,cAAcA,CAAA;IACZ,MAAM+C,aAAa,GAAGr6B,CAAC,CAAC,iBAAiB,CAAC;IAC1Cq6B,aAAa,CAACtD,OAAO,CAAC,MAAMsD,aAAa,CAACC,MAAM,EAAE,CAAC;IAEnD,IAAI,CAAC1O,aAAa,CAAC9c,OAAO,CAACrD,KAAK,GAAG,EAAE;IACrC,IAAI,CAACgrB,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,OAAO,GAAG,EAAE;IAEjB,IAAI,CAACoI,aAAa,EAAE;EACtB;EAEA;;;EAGAvE,UAAUA,CAAC7b,IAAI;IACb,IAAG,IAAI,CAACkN,aAAa,CAAC3jB,SAAS,EAAE;MAC/BkK,OAAO,CAACC,GAAG,CAACsM,IAAI,CAAC;IACnB;IAEA;IACA,MAAMrE,SAAS,GAAGqE,IAAI,CAACrE,SAAS,GAAGqE,IAAI,CAACrE,SAAS,GAAG,IAAI,CAACuR,aAAa,CAAC/W,SAAS,CAAC6J,IAAI,CAACE,IAAI,CAAC,CAAC/E,KAAK,CAAC,GAAG,CAAC,CAAC8kB,GAAG,EAAE,CAAC3iB,WAAW,EAAE;IAC1H,MAAM+iB,OAAO,GAAG1kB,SAAS,CAAC7F,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC7C,MAAMwqB,QAAQ,GAAG3kB,SAAS,CAAC7F,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI6F,SAAS,CAAC7F,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IAClF,MAAMyqB,IAAI,GAAI5kB,SAAS,KAAK,MAAM,IAAIA,SAAS,KAAK,KAAM;IAC1D,MAAM6kB,MAAM,GAAI7kB,SAAS,KAAK,MAAO;IACrC,MAAM8kB,SAAS,GAAI9kB,SAAS,KAAK,MAAM,IAAIqE,IAAI,CAACM,QAAQ,CAAClT,IAAI,IAAI4S,IAAI,CAACM,QAAQ,CAAC/T,IAAK;IACpF,MAAMm0B,MAAM,GAAG,IAAI,CAACxT,aAAa,CAACnX,QAAQ,CAACiK,IAAI,CAACE,IAAI,CAAC5C,WAAW,EAAE,EAAE,MAAM,CAAC,IAAK0C,IAAI,CAAC6N,MAAM,IAAI7N,IAAI,CAAC6N,MAAM,CAACvQ,WAAW,EAAE,KAAK,MAAO;IACpI,IAAIijB,IAAI,EAAE;MACR,MAAMpC,QAAQ,GAAGpJ,uCAAS,CAAC/U,IAAI,CAACM,QAAQ,EAAE;QAAEpT,IAAI,EAAE;MAAO,CAAE,CAAC;MAC5D,MAAMJ,IAAI,GAAGioB,wCAAU,CAACuJ,aAAa,CAACH,QAAQ,CAACI,MAAM,CAACJ,QAAQ,CAACK,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9E,MAAMmC,OAAO,GAAG,EAAE;MAClB7zB,IAAI,CAAC8E,OAAO,CAACuT,GAAG,IAAG;QACjBlT,MAAM,CAACC,IAAI,CAACiT,GAAG,CAAC,CAACvT,OAAO,CAACE,GAAG,IAAG;UAC7B,MAAM+sB,OAAO,GAAG,IAAI,CAAC3R,aAAa,CAAC/W,SAAS,CAACrE,GAAG,CAAC;UACjD,IAAI,CAAC,IAAI,CAACob,aAAa,CAACnX,QAAQ,CAAC4qB,OAAO,EAAE9B,OAAO,CAAC,EAAE8B,OAAO,CAACxtB,IAAI,CAAC0rB,OAAO,CAAC;QAC3E,CAAC,CAAC;MACJ,CAAC,CAAC;MACF+B,YAAY,CAACD,OAAO,EAAE,IAAI,CAAC;IAC7B,CAAC,MAAM,IAAIH,MAAM,EAAE;MACf,IAAI1zB,IAAI,GAAG,EAAE;MACb2G,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClC,IAAM,OAAOsM,IAAI,CAACM,QAAQ,KAAM,QAAQ,EAAE;QACxCxT,IAAI,GAAGsG,IAAI,CAACC,KAAK,CAAC2M,IAAI,CAACM,QAAQ,CAAC;MAClC,CAAC,MAAM;QACL7M,OAAO,CAACC,GAAG,CAACsM,IAAI,CAAC;QACjBlT,IAAI,GAAG,CAACkT,IAAI,CAACM,QAAQ,CAAC;MACxB;MAEAsgB,YAAY,CAAC3uB,MAAM,CAACC,IAAI,CAACpF,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC+L,GAAG,CAAC,IAAI,CAACqU,aAAa,CAAC/W,SAAS,CAAC,EAAE,IAAI,CAAC;MAE1E,IAAI,CAACkqB,OAAO,IAAI,CAACC,QAAQ,IAAII,MAAM,EAAE;QACnC,IAAI,CAACG,SAAS,CAAC7gB,IAAI,CAACE,IAAI,EAAEpT,IAAI,EAAE,IAAI,CAAC;MACvC;MACA,IAAI,CAACuzB,OAAO,IAAI,CAACC,QAAQ,IAAI,CAACI,MAAM,EAAE;QACpC,IAAI,CAACI,SAAS,CAAC9gB,IAAI,CAACE,IAAI,EAAEpT,IAAI,EAAE,IAAI,CAAC;MACvC;MAEA,IAAI,CAACszB,aAAa,EAAE;IAExB,CAAC,MAAM,IAAIC,OAAO,EAAE;MAClB;MACA,IAAI,CAACnT,aAAa,CAACrO,UAAU,CAACmB,IAAI,CAACM,QAAQ,CAAC,CAACgF,IAAI,CAAEQ,MAAM,IAAI;QAC3D8a,YAAY,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;QAEjC,IAAI,CAACR,aAAa,EAAE;MACpB,CAAC,CAAC;IACN,CAAC,MAAM;MACLx4B,4CAAU,CAACoY,IAAI,CAACM,QAAQ,EAAE;QACxBmN,MAAM,EAAE,IAAI;QACZuR,cAAc,EAAE,IAAI;QACpBC,QAAQ,EAAEnZ,MAAM,IAAG;UACjB8a,YAAY,CAAC9a,MAAM,CAAC1Y,IAAI,CAACyZ,MAAM,CAAChO,GAAG,CAAC,IAAI,CAACqU,aAAa,CAAC/W,SAAS,CAAC,EAAE,IAAI,CAAC;UAExE,IAAI,CAACkqB,OAAO,IAAI,CAACC,QAAQ,IAAII,MAAM,EAAE;YACnC,IAAI,CAACG,SAAS,CAAC7gB,IAAI,CAACE,IAAI,EAAE4F,MAAM,EAAE,KAAK,CAAC;UAC1C;UACA,IAAI,CAACua,OAAO,IAAI,CAACC,QAAQ,IAAI,CAACI,MAAM,EAAE;YACpC,IAAI,CAACI,SAAS,CAAC9gB,IAAI,CAACE,IAAI,EAAE4F,MAAM,EAAE,KAAK,CAAC;UAC1C;UAEA,IAAI,CAACsa,aAAa,EAAE;QACtB;OACD,CAAC;IACJ;IAEA;IACA;IACA;;;IAGA,SAASQ,YAAYA,CAACD,OAAO,EAAEI,OAAO;MAGpC,MAAMpH,aAAa,GAAGoH,OAAO;MAC7B,MAAMC,IAAI,GAAG1/B,CAAC,CAAC,gGAAgG,CAAC,CAACwL,IAAI,CAAC,UAAU,EAAEkT,IAAI,CAACE,IAAI,CAAC;MAC5I,MAAM+gB,QAAQ,GAAG3/B,CAAC,CAAC,+BAA+B,CAAC;MACnDA,CAAC,CAAC,mCAAmC,CAAC,CACnC0yB,MAAM,CAAC1yB,CAAC,CAAC,4GAA4G,CAAC,CAACkzB,EAAE,CAAC,OAAO,EAAE,MAAK;QACvImF,aAAa,CAACzM,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAACktB,MAAM,CAACN,aAAa,CAACzM,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAACuO,SAAS,CAAC2L,CAAC,IAAIA,CAAC,CAAC/G,IAAI,KAAKF,IAAI,CAACE,IAAI,CAAC,EAAE,CAAC,CAAC;QACnIyZ,aAAa,CAACb,UAAU,CAAC9Y,IAAI,CAACE,IAAI,CAAC;QACnC5e,CAAC,CAAC,SAAS,CAAC,CAAC6a,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAACugB,KAAK,EAAE;QAC5Cp7B,CAAC,CAAC,SAAS,CAAC,CAACwd,IAAI,CAAC,QAAQ,CAAC;QAC3BkiB,IAAI,CAAC3I,OAAO,CAAC,MAAM2I,IAAI,CAACpF,MAAM,EAAE,CAAC;MACnC,CAAC,CAAC,CAAC,CACF5H,MAAM,CAAC1yB,CAAC,CAAC,+GAA+G,CAAC,CAACkzB,EAAE,CAAC,OAAO,EAAE,MAAK;QAC1IQ,uCAAM,CAAC,IAAIkM,IAAI,CAAC,CAAClhB,IAAI,CAACM,QAAQ,CAAC,EAAE;UAAEpT,IAAI,EAAE8S,IAAI,CAAC9S,IAAI,IAAI;QAAM,CAAE,CAAC,EAAE8S,IAAI,CAACE,IAAI,CAAC;MAC7E,CAAC,CAAC,CAAC,CACF8T,MAAM,CAAC,oBAAoB,GAAGhU,IAAI,CAACE,IAAI,GAAG,SAAS,CAAC,CACpD8T,MAAM,CAAC;;mDAEmC,CAACqM,OAAO,IAAI,CAACC,QAAQ,IAAI,CAACI,MAAM,IAAI,CAACD,SAAS,GAAG,SAAS,GAAG,EAAE;4DACtDzgB,IAAI,CAACE,IAAI,wCAAwC,CAACmgB,OAAO,IAAI,CAACC,QAAQ,IAAI,CAACI,MAAM,GAAG,UAAU,GAAG,EAAE;;mDAE5G,CAACL,OAAO,IAAI,CAACC,QAAQ,IAAII,MAAM,GAAG,SAAS,GAAG,EAAE;4DACvC1gB,IAAI,CAACE,IAAI,wCAAwC,CAACmgB,OAAO,IAAI,CAACC,QAAQ,IAAII,MAAM,GAAG,UAAU,GAAG,EAAE;;;4DAGlG1gB,IAAI,CAACE,IAAI;;mDAElBmgB,OAAO,GAAG,SAAS,GAAG,EAAE;4DACfrgB,IAAI,CAACE,IAAI,yCAAyCmgB,OAAO,GAAG,UAAU,GAAG,EAAE;;mDAEpFC,QAAQ,GAAG,SAAS,GAAG,EAAE;4DAChBtgB,IAAI,CAACE,IAAI,0CAA0CogB,QAAQ,GAAG,UAAU,GAAG,EAAE;;mDAEtFG,SAAS,GAAG,SAAS,GAAG,EAAE;4DACjBzgB,IAAI,CAACE,IAAI,2CAA2CugB,SAAS,GAAG,UAAU,GAAG,EAAE;;2BAEhH,CAAC,CAACU,QAAQ,CAACF,QAAQ,CAAC;MAEzCA,QAAQ,CAACE,QAAQ,CAACH,IAAI,CAAC;MACvB,MAAMI,UAAU,GAAG9/B,CAAC,CAAC,+BAA+B,CAAC;MACrD,MAAMmqB,OAAO,GAAG,uBAAuB,GAAGkV,OAAO,CAAC9nB,GAAG,CAACwoB,CAAC,IAAI,kBAAkBA,CAAC,KAAK1H,aAAa,CAACzM,aAAa,CAACtF,QAAQ,CAACyZ,CAAC,CAAC,WAAW,CAAC,CAACnf,IAAI,CAAC,IAAI,CAAC;MACjJkf,UAAU,CAACpN,MAAM,CAAC;uCACeqM,OAAO,IAAIC,QAAQ,GAAG,yBAAyB,GAAG,EAAE,eAAetgB,IAAI,CAACE,IAAI;uCAC5EF,IAAI,CAACE,IAAI,aAAawgB,MAAM,GAAG,IAAI,GAAG,QAAQ;uCAC9C1gB,IAAI,CAACE,IAAI,kDAAkDuL,OAAO;;uCAElE4U,OAAO,IAAIC,QAAQ,GAAG,yBAAyB,GAAG,EAAE,eAAetgB,IAAI,CAACE,IAAI;uCAC5EF,IAAI,CAACE,IAAI,aAAawgB,MAAM,GAAG,UAAU,GAAG,QAAQ;uCACpD1gB,IAAI,CAACE,IAAI,kDAAkDuL,OAAO;;uCAElE4U,OAAO,IAAIC,QAAQ,GAAG,yBAAyB,GAAG,EAAE,eAAetgB,IAAI,CAACE,IAAI;uCAC5EF,IAAI,CAACE,IAAI;uCACTF,IAAI,CAACE,IAAI,kDAAkDuL,OAAO;yBAChF,CAAC;MAEpB2V,UAAU,CAACD,QAAQ,CAACH,IAAI,CAAC;MAEzB,SAASM,YAAYA,CAACp0B,IAAI;QAExB,MAAMq0B,KAAK,GAAGjgC,CAAC,CAAC,eAAe0e,IAAI,CAACE,IAAI,WAAW,CAAC;QACpD,MAAM9N,CAAC,GAAGlF,IAAI,KAAK,MAAM,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;UAC7EmF,CAAC,GAAGnF,IAAI,KAAK,MAAM,GAAG,CAAC,UAAU,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;UACzG0hB,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;QAClF,CAACxc,CAAC,EAAEC,CAAC,EAAEuc,CAAC,CAAC,CAAChd,OAAO,CAAC,CAAC4vB,IAAI,EAAEvuB,CAAC,KAAI;UAC5B3R,CAAC,CAACigC,KAAK,CAAChjB,GAAG,CAACtL,CAAC,CAAC,CAAC,CAACoK,GAAG,CAAC,MAAM,CAAC;UAC3BmkB,IAAI,CAAC5vB,OAAO,CAAC/Q,KAAK,IAAG;YACnB,IAAI84B,aAAa,CAACzM,aAAa,CAACnX,QAAQ,CAAC4qB,OAAO,EAAE9/B,KAAK,CAAC,EAAES,CAAC,CAACigC,KAAK,CAAChjB,GAAG,CAACtL,CAAC,CAAC,CAAC,CAACoK,GAAG,CAACxc,KAAK,CAAC;UACtF,CAAC,CAAC;UACF,IAAIS,CAAC,CAACigC,KAAK,CAAChjB,GAAG,CAACtL,CAAC,CAAC,CAAC,CAACoK,GAAG,EAAE,KAAK,MAAM,IAClC,EAAEpK,CAAC,KAAK,CAAC,IAAI/F,IAAI,KAAK,MAAM,CAAC;UAAI;UACjC,EAAE+F,CAAC,KAAK,CAAC,IAAI/F,IAAI,KAAK,MAAM,CAAC,EAAE;YAAE;YACjC;YACA5L,CAAC,CAACigC,KAAK,CAAChjB,GAAG,CAACtL,CAAC,CAAC,CAAC,CAACoK,GAAG,CAACsjB,OAAO,CAAC1tB,CAAC,CAAC,CAAC;YAC/B;UACF;QACF,CAAC,CAAC;MACJ;MAEA+tB,IAAI,CAACG,QAAQ,CAAC,aAAa,CAAC;MAC5BG,YAAY,CAAChgC,CAAC,CAAC,kBAAkB0e,IAAI,CAACE,IAAI,YAAY,CAAC,CAACpT,IAAI,CAAC,MAAM,CAAC,CAAC;MAErE,SAAS20B,KAAKA,CAACprB,CAAA,GAAS,IAAI;QAC1B,MAAMnJ,IAAI,GAAG5L,CAAC,CAAC+U,CAAC,GAAGA,CAAC,CAACkB,MAAM,GAAG,kBAAkByI,IAAI,CAACE,IAAI,YAAY,CAAC,CAACpT,IAAI,CAAC,MAAM,CAAC;UACjFy0B,KAAK,GAAGjgC,CAAC,CAAC,eAAe0e,IAAI,CAACE,IAAI,IAAI,CAAC;UACvCwhB,KAAK,GAAGpgC,CAAC,CAACigC,KAAK,CAAChjB,GAAG,CAAC,CAAC,CAAC,CAAC;UACvBojB,MAAM,GAAGrgC,CAAC,CAACigC,KAAK,CAAChjB,GAAG,CAAC,CAAC,CAAC,CAAC;UACxBqjB,KAAK,GAAGtgC,CAAC,CAACigC,KAAK,CAAChjB,GAAG,CAAC,CAAC,CAAC,CAAC;QACzB,IAAIrR,IAAI,KAAK,MAAM,EAAE;UACnBw0B,KAAK,CAACpJ,SAAS,EAAE,CAAC/f,IAAI,CAAC,OAAO,CAAC,CAACuG,IAAI,CAAC,IAAI,CAAC;UAC1C6iB,MAAM,CAACrJ,SAAS,EAAE,CAAC/f,IAAI,CAAC,OAAO,CAAC,CAACuG,IAAI,CAAC,UAAU,CAAC;UACjD8iB,KAAK,CAACvJ,OAAO,EAAE;UACfiJ,YAAY,CAACp0B,IAAI,CAAC;QACpB,CAAC,MAAM,IAAIA,IAAI,KAAK,MAAM,EAAE;UAC1Bw0B,KAAK,CAACpJ,SAAS,EAAE,CAAC/f,IAAI,CAAC,OAAO,CAAC,CAACuG,IAAI,CAAC,QAAQ,CAAC;UAC9C6iB,MAAM,CAACrJ,SAAS,EAAE,CAAC/f,IAAI,CAAC,OAAO,CAAC,CAACuG,IAAI,CAAC,QAAQ,CAAC;UAC/C8iB,KAAK,CAACtJ,SAAS,EAAE;UACjBgJ,YAAY,CAACp0B,IAAI,CAAC;QACpB,CAAC,MAAM;UACLq0B,KAAK,CAAClJ,OAAO,EAAE;QACjB;QACAsB,aAAa,CAACkI,cAAc,CAAC7hB,IAAI,CAAC;QAElC1e,CAAC,CAAC,SAAS,CAAC,CAAC6a,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAACugB,KAAK,EAAE;MAC9C;MAAC;MAED,MAAMoF,SAAS,GAAGrnB,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;MACvD,MAAMqnB,cAAc,GAAGD,SAAS,CAACE,gBAAgB,CAAC,QAAQ,CAAC;MAE3D,KAAK,IAAI/uB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8uB,cAAc,CAAC/vB,MAAM,EAAEiB,CAAC,EAAE,EAAE;QAC9C8uB,cAAc,CAAC9uB,CAAC,CAAC,CAAC2M,gBAAgB,CAAC,QAAQ,EAAGF,KAAK,IAAI;UACrD;UACAia,aAAa,CAACkI,cAAc,CAAC7hB,IAAI,CAAC;QACpC,CAAC,CAAC;MACJ;MAEA1e,CAAC,CAAC,kBAAkB0e,IAAI,CAACE,IAAI,IAAI,CAAC,CAACsU,EAAE,CAAC,QAAQ,EAAEiN,KAAK,CAAC;MACtDA,KAAK,EAAE;IACT;EACF;EAEA;;;EAGAI,cAAcA,CAAC7hB,IAAI;IACjB1e,CAAC,CAAC,6BAA6B,CAAC,CAACqZ,IAAI,CAAC,CAAC1H,CAAC,EAAEgvB,EAAE,KAAI;MAC9C,MAAMC,GAAG,GAAG5gC,CAAC,CAAC2gC,EAAE,CAAC;MACjB,MAAME,KAAK,GAAGD,GAAG,CAACp1B,IAAI,CAAC,UAAU,CAAC;MAClC,MAAMs1B,OAAO,GAAGF,GAAG,CAAC3pB,IAAI,CAAC,QAAQ,CAAC;MAClC,MAAM0O,CAAC,GAAG,IAAI,CAACiG,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAACwL,IAAI,CAACyH,IAAI,IAAIA,IAAI,CAACE,IAAI,KAAKiiB,KAAK,CAAC;MAC5E1uB,OAAO,CAACC,GAAG,CAACuT,CAAC,CAAC;MACd,IAAIA,CAAC,EAAE;QACLA,CAAC,CAAC4G,MAAM,GAAGqU,GAAG,CAAC3pB,IAAI,CAAC,6BAA6B,CAAC,CAACzL,IAAI,CAAC,MAAM,CAAC;QAC/Dma,CAAC,CAAC6W,MAAM,GAAGsE,OAAO,CAAC7jB,GAAG,CAAC,CAAC,CAAC,CAAC1X,KAAK;QAC/BogB,CAAC,CAACqW,MAAM,GAAG8E,OAAO,CAAC7jB,GAAG,CAAC,CAAC,CAAC,CAAC1X,KAAK;QAC/BogB,CAAC,CAACgX,MAAM,GAAGmE,OAAO,CAAC7jB,GAAG,CAAC,CAAC,CAAC,CAAC1X,KAAK;MACjC;IACF,CAAC,CAAC;EAEJ;EAEA;;;EAGAg6B,SAASA,CAACvO,QAAa,EAAExM,MAAW,EAAEuc,MAAe;IACnD,IAAIA,MAAM,EAAE;MACV,MAAMv1B,IAAI,GAAUgZ,MAAM;MAC1B,MAAMwc,UAAU,GAAGrwB,MAAM,CAACC,IAAI,CAACpF,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1C,IAAI,IAAI,CAACirB,OAAO,CAACxf,IAAI,CAACqG,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,KAAKA,QAAQ,CAAC,EAAE;QACnD,MAAMiQ,aAAa,GAAG,IAAI,CAACxK,OAAO,CAACxf,IAAI,CAACqG,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,KAAKA,QAAQ,CAAC;QACrEiQ,aAAa,CAACjD,GAAG,GAAGxZ,MAAM,CAACjN,GAAG,CAAE+F,CAAM,IAAKA,CAAC,CAAC0jB,UAAU,CAAC,CAAC;MAC3D,CAAC,MAAM;QACL,IAAI,CAACvK,OAAO,CAAC5kB,IAAI,CACf;UACEmf,QAAQ,EAAEA,QAAQ;UAAEgN,GAAG,EAAExZ,MAAM,CAACjN,GAAG,CAAE+F,CAAM,IAAM,EAAE,GAAGA,CAAC,CAAC0jB,UAAU,CAAE;SACrE,CAAC;MACN;IAEF,CAAC,MACI;MACH,IAAI,IAAI,CAACvK,OAAO,CAACxf,IAAI,CAACqG,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,KAAKA,QAAQ,CAAC,EAAE;QACnD,MAAMiQ,aAAa,GAAG,IAAI,CAACxK,OAAO,CAACxf,IAAI,CAACqG,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,KAAKA,QAAQ,CAAC;QACrEiQ,aAAa,CAACjD,GAAG,GAAGxZ,MAAM,CAAChZ,IAAI,CAAC+L,GAAG,CAAE+F,CAAM,IAAKA,CAAC,CAACkH,MAAM,CAAC1Y,IAAI,CAACyZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3E,CAAC,MAAM;QACL,IAAI,CAACkR,OAAO,CAAC5kB,IAAI,CACf;UACEmf,QAAQ,EAAEA,QAAQ;UAAEgN,GAAG,EAAExZ,MAAM,CAAChZ,IAAI,CAAC+L,GAAG,CAAE+F,CAAM,IAAM,EAAE,GAAGA,CAAC,CAACkH,MAAM,CAAC1Y,IAAI,CAACyZ,MAAM,CAAC,CAAC,CAAC,CAAE;SACrF,CAAC;MACN;IACF;EACF;EAEA;;;EAGAia,SAASA,CAACxO,QAAa,EAAExM,MAAW,EAAEuc,MAAe;IACnD,IAAIA,MAAM,EAAE;MACV,MAAMv1B,IAAI,GAAUgZ,MAAM;MAC1B,MAAMe,MAAM,GAAG5U,MAAM,CAACC,IAAI,CAACpF,IAAI,CAAC,CAAC,CAAC,CAAC;MACnC,IAAI,IAAI,CAACkrB,OAAO,CAACzf,IAAI,CAACqG,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,KAAKA,QAAQ,CAAC,EAAE;QACnD,MAAMkQ,aAAa,GAAG,IAAI,CAACxK,OAAO,CAACzf,IAAI,CAACqG,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,KAAKA,QAAQ,CAAC;QACrEkQ,aAAa,CAAClD,GAAG,GAAGxZ,MAAM,CAACjN,GAAG,CAAE+F,CAAM,KAAM;UAC1CtH,MAAM,EAAE,EAAE,GAAGsH,CAAC,CAACiI,MAAM,CAAC,CAAC,CAAC,CAAC;UACzBtP,MAAM,EAAE,EAAE,GAAGqH,CAAC,CAACiI,MAAM,CAAC,CAAC,CAAC;SACzB,CAAC,CAAC;MACL,CAAC,MAAM;QACLpT,OAAO,CAACC,GAAG,CAAC,gBAAgBoS,MAAM,EAAE,CAAC;QACrC,IAAI,CAACkS,OAAO,CAAC7kB,IAAI,CAAC;UAChBmf,QAAQ,EAAEA,QAAQ;UAClBgN,GAAG,EAAExZ,MAAM,CAACjN,GAAG,CAAE+F,CAAM,KAAM;YAC3BtH,MAAM,EAAE,EAAE,GAAGsH,CAAC,CAACiI,MAAM,CAAC,CAAC,CAAC,CAAC;YACzBtP,MAAM,EAAE,EAAE,GAAGqH,CAAC,CAACiI,MAAM,CAAC,CAAC,CAAC;WACzB,CAAC;SACH,CAAC;MAEJ;IAEF,CAAC,MACI;MACH,IAAI,IAAI,CAACmR,OAAO,CAACzf,IAAI,CAACqG,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,KAAKA,QAAQ,CAAC,EAAE;QACnD,MAAMkQ,aAAa,GAAG,IAAI,CAACxK,OAAO,CAACzf,IAAI,CAACqG,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,KAAKA,QAAQ,CAAC;QACrEkQ,aAAa,CAAClD,GAAG,GAAGxZ,MAAM,CAAChZ,IAAI,CAAC+L,GAAG,CAAE+F,CAAM,KAAM;UAC/CtH,MAAM,EAAE,EAAE,GAAGsH,CAAC,CAACkH,MAAM,CAAC1Y,IAAI,CAACyZ,MAAM,CAAC,CAAC,CAAC,CAAC;UACrCtP,MAAM,EAAE,EAAE,GAAGqH,CAAC,CAACkH,MAAM,CAAC1Y,IAAI,CAACyZ,MAAM,CAAC,CAAC,CAAC;SACrC,CAAC,CAAC;MACL,CAAC,MAAM;QACL,IAAI,CAACmR,OAAO,CAAC7kB,IAAI,CAAC;UAChBmf,QAAQ,EAAEA,QAAQ;UAClBgN,GAAG,EAAExZ,MAAM,CAAChZ,IAAI,CAAC+L,GAAG,CAAE+F,CAAM,KAAM;YAChCtH,MAAM,EAAE,EAAE,GAAGsH,CAAC,CAACkH,MAAM,CAAC1Y,IAAI,CAACyZ,MAAM,CAAC,CAAC,CAAC,CAAC;YACrCtP,MAAM,EAAE,EAAE,GAAGqH,CAAC,CAACkH,MAAM,CAAC1Y,IAAI,CAACyZ,MAAM,CAAC,CAAC,CAAC;WACrC,CAAC;SACH,CAAC;MAEJ;IACF;EAEF;EAEA;;;EAGAuZ,aAAaA,CAAA;IACX;IACA,IAAIqC,iBAAiB,GAAa,EAAE;IACpC,IAAI,CAAC1K,OAAO,CAACnmB,OAAO,CAACgN,CAAC,IAAG;MACvBA,CAAC,CAAC0gB,GAAG,CAAC1tB,OAAO,CAACmhB,CAAC,IAAI0P,iBAAiB,CAACtvB,IAAI,CAAC4f,CAAC,CAAC,CAAC;IAC/C,CAAC,CAAC;IACF0P,iBAAiB,GAAG56B,yCAAM,CAAC46B,iBAAiB,CAAC;IAE7C;IACA,IAAIC,gBAAgB,GAAa,EAAE;IACnC,IAAI,CAAC1K,OAAO,CAACpmB,OAAO,CAACgN,CAAC,IAAIA,CAAC,CAAC0gB,GAAG,CAAC1tB,OAAO,CAACmhB,CAAC,IAAG;MAC1C2P,gBAAgB,CAACvvB,IAAI,CAAC4f,CAAC,CAACzb,MAAM,CAAC;MAC/BorB,gBAAgB,CAACvvB,IAAI,CAAC4f,CAAC,CAACxb,MAAM,CAAC;IACjC,CAAC,CAAC,CAAC;IACHmrB,gBAAgB,GAAG76B,yCAAM,CAAC66B,gBAAgB,CAAC;IAE3C,IAAI,CAACxK,eAAe,GAAGwK,gBAAgB,CAAC7qB,MAAM,CAAC+G,CAAC,IAAIA,CAAC,IAAI,CAAC6jB,iBAAiB,CAACpF,IAAI,CAACtK,CAAC,IAAEA,CAAC,IAAEnU,CAAC,CAAC,CAAC;IAC1F,IAAI,CAACqZ,WAAW,GAAGwK,iBAAiB,CAAC5qB,MAAM,CAAC+G,CAAC,IAAIA,CAAC,IAAI,CAAC,IAAI,CAACsZ,eAAe,CAACmF,IAAI,CAACtK,CAAC,IAAEA,CAAC,IAAEnU,CAAC,CAAC,CAAC;EAC5F;EAEA;;;;EAIAka,UAAUA,CAACxG,QAAQ,EAAEqQ,gBAAgB,GAAC,IAAI;IACxC,IAAI,CAAC5K,OAAO,GAAG,IAAI,CAACA,OAAO,CAAClgB,MAAM,CAAC+G,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,IAAIA,QAAQ,CAAC;IAC/D,IAAI,CAAC0F,OAAO,GAAG,IAAI,CAACA,OAAO,CAACngB,MAAM,CAAC+G,CAAC,IAAIA,CAAC,CAAC0T,QAAQ,IAAIA,QAAQ,CAAC;IAC/D,IAAIqQ,gBAAgB,EAAE,IAAI,CAACvC,aAAa,EAAE;EAC5C;EAEA;;;;;EAKM7G,UAAUA,CAAA;IAAA,IAAA5S,MAAA;IAAA,OAAAD,sJAAA;MACd,MAAMkc,MAAM,GAAGjc,MAAI,CAACuG,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAAC8K,MAAM,CAACoP,CAAC,IAAIN,MAAI,CAACuG,aAAa,CAACnX,QAAQ,CAACkR,CAAC,CAACtL,SAAS,EAAE,KAAK,CAAC,CAAC;MAC5G,MAAMknB,iBAAiB,GAAGlc,MAAI,CAACuG,aAAa,CAAC9c,OAAO,CAACrD,KAAK,CAAC8K,MAAM,CAACoP,CAAC,IAAIA,CAAC,CAAC4G,MAAM,KAAK,MAAM,IAAI5G,CAAC,CAACqW,MAAM,IAAI,MAAM,IAAIrW,CAAC,CAACqW,MAAM,IAAI,EAAE,CAAC;MACnI,IAAIsF,MAAM,CAAC5wB,MAAM,KAAK,CAAC,IAAI6wB,iBAAiB,CAAC7wB,MAAM,KAAK,CAAC,EAAE,OAAO,EAAE;MACpE,IAAIlF,IAAI,GAAG,EAAE;MACb,KAAK,IAAImG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2vB,MAAM,CAAC5wB,MAAM,EAAEiB,CAAC,EAAE,EAAE;QACtC,IAAI6vB,KAAK,GAAGF,MAAM,CAAC3vB,CAAC,CAAC;QACrB,IAAI5H,KAAK,SAASsb,MAAI,CAACuG,aAAa,CAACrO,UAAU,CAACikB,KAAK,CAACxiB,QAAQ,CAAC;QAC/DxT,IAAI,GAAGA,IAAI,CAAC8B,MAAM,CAACvD,KAAK,CAAC;MAC3B;MAEA,KAAI,IAAI+M,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyqB,iBAAiB,CAAC7wB,MAAM,EAAEoG,CAAC,EAAE,EAAC;QAC/C,IAAIyqB,iBAAiB,CAACzqB,CAAC,CAAC,CAACuD,SAAS,IAAI,KAAK,EAAE;UAC3C,MAAMonB,GAAG,GAAGF,iBAAiB,CAACzqB,CAAC,CAAC;UAChC,MAAM4qB,QAAQ,GAAGD,GAAG,CAAC,QAAQ,CAAC;UAC5B,MAAMn7B,4CAAU,CAACm7B,GAAG,CAACziB,QAAQ,EAAE;YAC7BmN,MAAM,EAAE,IAAI;YACZuR,cAAc,EAAE,IAAI;YACpBC,QAAQ,EAAEnZ,MAAM,IAAG;cACjBA,MAAM,CAAChZ,IAAI,CAAC8E,OAAO,CAAEsB,IAAI,IAAI;gBAC3B,IAAIA,IAAI,CAAC8vB,QAAQ,CAAC,IAAI,EAAE,IAAI9vB,IAAI,CAAC8vB,QAAQ,CAAC,IAAIrwB,SAAS,IAAIO,IAAI,CAAC8vB,QAAQ,CAAC,IAAI,IAAI,EAAG;kBAClFl2B,IAAI,GAAGA,IAAI,CAAC8B,MAAM,CAAC;oBACjB,IAAI,EAAEsE,IAAI,CAACxN,EAAE;oBACb,KAAK,EAAEwN,IAAI,CAAC8vB,QAAQ;mBACrB,CAAC;gBACJ;cACF,CAAC,CAAC;YACJ;WAAE,CAAC;UACT;QACA,CAAC,MAAM;UACL,MAAMhjB,IAAI,GAAG6iB,iBAAiB,CAACzqB,CAAC,CAAC;UACjC,MAAM4qB,QAAQ,GAAGhjB,IAAI,CAAC,QAAQ,CAAC;UAC/B,MAAMme,QAAQ,GAAGpJ,uCAAS,CAAC/U,IAAI,CAACM,QAAQ,EAAE;YAAEpT,IAAI,EAAE;UAAO,CAAE,CAAC;UAC5D,MAAM+1B,QAAQ,GAAGlO,wCAAU,CAACuJ,aAAa,CAACH,QAAQ,CAACI,MAAM,CAACJ,QAAQ,CAACK,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;UAClF,MAAMmC,OAAO,GAAG,EAAE;UAClBsC,QAAQ,CAACrxB,OAAO,CAACuT,GAAG,IAAG;YACrBlT,MAAM,CAACC,IAAI,CAACiT,GAAG,CAAC,CAACvT,OAAO,CAACE,GAAG,IAAG;cAC7B,MAAM+sB,OAAO,GAAGlY,MAAI,CAACuG,aAAa,CAAC/W,SAAS,CAACrE,GAAG,CAAC;cACjD,IAAI,CAAC6U,MAAI,CAACuG,aAAa,CAACnX,QAAQ,CAAC4qB,OAAO,EAAE9B,OAAO,CAAC,EAAE8B,OAAO,CAACxtB,IAAI,CAAC0rB,OAAO,CAAC;YAC3E,CAAC,CAAC;YACF,IAAK1Z,GAAG,CAAC6d,QAAQ,CAAC,IAAI,EAAE,IAAI7d,GAAG,CAAC6d,QAAQ,CAAC,IAAIrwB,SAAS,IAAIwS,GAAG,CAAC6d,QAAQ,CAAC,IAAI,IAAI,EAAG;cAChFl2B,IAAI,GAAGA,IAAI,CAAC8B,MAAM,CAAC;gBACjB,IAAI,EAAEuW,GAAG,CAAC,IAAI,CAAC;gBACf,KAAK,EAAEA,GAAG,CAAC6d,QAAQ;eACpB,CAAC;YACJ;UACF,CAAC,CAAC;UACA;QACJ;MACF;MACA,OAAOl2B,IAAI;IAAC;EACd;EAEM0sB,aAAaA,CAAC1sB,IAAK;IAAA,IAAAoc,MAAA;IAAA,OAAAxC,sJAAA;MACvB,IAAI,CAAC5Z,IAAI,EAAE;QACTA,IAAI,SAASoc,MAAI,CAACqQ,UAAU,EAAE;MAChC;MACAj4B,CAAC,CAAC,oBAAoB,CAAC,CAACy3B,KAAK,EAAE,CAAC/E,MAAM,CAAC,yFAAyF,CAAC;MACjI,IAAI1yB,CAAC,CAAC,WAAW,CAAC,CAAC2pB,EAAE,CAAC,UAAU,CAAC,EAAE;QACjCne,IAAI,SAASoc,MAAI,CAACgE,aAAa,CAACxK,KAAK,CAAC;UACpCrX,KAAK,EAAEyB,IAAI;UACXL,SAAS,EAAEyc,MAAI,CAACgE,aAAa,CAAC9c,OAAO,CAACtD,IAAI,CAACL,SAAS;UACpDmtB,KAAK,EAAE,CAAC5e,UAAU,CAAC1Z,CAAC,CAAC,eAAe,CAAC,CAAC+b,GAAG,EAAE,CAACtW,QAAQ,EAAE,CAAC,EAAE,CAACiU,UAAU,CAAC1Z,CAAC,CAAC,kBAAkB,CAAC,CAAC+b,GAAG,EAAE,CAACtW,QAAQ,EAAE,CAAC,CAAC;UAC7G24B,GAAG,EAAE,CAAC,CAAC1kB,UAAU,CAAC1Z,CAAC,CAAC,cAAc,CAAC,CAAC+b,GAAG,EAAE,CAACtW,QAAQ,EAAE,CAAC,EAAE,CAACiU,UAAU,CAAC1Z,CAAC,CAAC,cAAc,CAAC,CAAC+b,GAAG,EAAE,CAACtW,QAAQ,EAAE,CAAC;SACvG,CAAC;MACJ;MACAmuB,2HAAc,CAACpoB,IAAI,CAAC+L,GAAG,CAACoU,GAAG,IAAIA,GAAG,CAACjL,GAAG,CAAC/N,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,CAACqR,IAAI,CAAC,UAAS4d,MAAyB;QAChG5hC,CAAC,CAAC,oBAAoB,CAAC,CAACy3B,KAAK,EAAE,CAAC/E,MAAM,CAACkP,MAAM,CAAC;MAAE,CAAC,CAAC;IAAA;EACtD;EAmDAC,0BAA0BA,CAAA;IACxB,IAAI,CAACjW,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,+BAA+B,CAAC,GAAG,IAAI,CAACimB,2CAA2C;EAC9H;EAEAwN,2BAA2BA,CAAA;IACzB,IAAI,CAAClW,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAACkmB,kCAAkC;EAC3G;EAEAwN,iBAAiBA,CAAA;IACf/hC,CAAC,CAAC,cAAc,CAAC,CAACs6B,MAAM,EAAE;IAC1Bt6B,CAAC,CAAC,SAAS,CAAC,CAAC6a,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAACugB,KAAK,EAAE;IAC5C,IAAI,CAAC/D,WAAW,CAAC,IAAI2K,IAAI,CAAC,CAAC17B,8CAAY,CAAC,IAAI,CAACslB,aAAa,CAAChM,YAAY,CAAC,MAAM,GAAG,IAAI,CAACgM,aAAa,CAAC9c,OAAO,CAAChD,IAAI,CAACE,SAAS,GAAG,GAAG,EAAE,IAAI,CAAC0oB,8BAA8B,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,oBAAoB,CAAC,CAAC;EACtM;EAEA6C,sBAAsBA,CAAA;IACpB,IAAI,IAAI,CAAClD,qCAAqC,IAAI,IAAI,CAACzI,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,EAAC;MACpH,IAAI,CAACgmB,qCAAqC,GAAG,IAAI,CAACzI,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,yBAAyB,CAAC,CAAC2N,WAAW,EAAE;IAChI;IAEA,IAAI,IAAI,CAACsY,2CAA2C,IAAI,IAAI,CAAC1I,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,+BAA+B,CAAC,EAAC;MAC9H,IAAI,CAACimB,2CAA2C,GAAG,IAAI,CAAC1I,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,+BAA+B,CAAC;IAChI;IAEA,IAAI,IAAI,CAACkmB,kCAAkC,IAAI,IAAI,CAAC3I,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,qBAAqB,CAAC,EAAE;MAC9G,IAAI,CAACkmB,kCAAkC,GAAG,IAAI,CAAC3I,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,qBAAqB,CAAC;IAC3G;IAEA,IAAI,IAAI,CAACmmB,wCAAwC,IAAI,IAAI,CAAC5I,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB,CAAC,EAAC;MAC5G,IAAI,CAACmmB,wCAAwC,GAAG,IAAI,CAAC5I,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,gBAAgB,CAAC;IAC9G;IAEA,IAAI,IAAI,CAAComB,2BAA2B,IAAI,IAAI,CAAC7I,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,cAAc,CAAC,EAAC;MAC/F,IAAI,CAAComB,2BAA2B,GAAG,IAAI,CAAC7I,aAAa,CAAC9c,OAAO,CAAC7J,KAAK,CAACoJ,OAAO,CAAC,cAAc,CAAC;IAC7F;EACF;;;;;cA7wDGglB,kDAAM;QAAA6O,IAAA,GAACx9B,kFAAsB,CAACkB,mCAAmC;MAAA;IAAA;;;;;;;;;;;;;cAtFnEE,kDAAMA;MAAA;;;;AAFIjE,cAAc,GAAA7C,kDAAA,EAP1BI,yDAAS,CAAC;EACTI,QAAQ,EAAE,gBAAgB;EAC1BC,QAAA,EAAAC,oEAA4C;EAE5CyiC,eAAe,EAAE5O,mEAAuB,CAAC6O,MAAM;;CAChD,CAAC,2EA0FyFrO,8DAAkB,EAAST,sDAAU,EAC/FQ,qFAAmB,EAC1B/sB,qFAAa,EACtBysB,6DAAiB,KA3FrB3xB,cAAc,CAs2D1B;;AAED,WAAiBA,cAAc;EAChBA,cAAA,CAAAwgC,iBAAiB,GAAG,OAAO;AAC1C,CAAC,EAFgBxgC,cAAc,KAAdA,cAAc;;;;;;;;;;;;;;;;;;;ACl4DsE;AAEjC;AAK7D,IAAMvB,4BAA4B,GAAlC,MAAMA,4BAA4B;EAGvChB,YAAoBijC,wBAAkD;IAAlD,KAAAA,wBAAwB,GAAxBA,wBAAwB;IAFpC,KAAAC,iBAAiB,GAAG,IAAIC,GAAG,EAAwC;EAED;EAE1E;;;;EAIAC,qBAAqBA,CAAC9jB,IAAY,EAAE+jB,aAA2C;IAC7E,IAAI,CAACH,iBAAiB,CAACI,GAAG,CAAChkB,IAAI,EAAE+jB,aAAa,CAAC;EACjD;EAEA;;;;EAIAE,+BAA+BA,CAAA;IAC7B,MAAM/iB,KAAK,GAAG,IAAI,CAAC0iB,iBAAiB,CAAC/oB,IAAI;IACzC,MAAMa,MAAM,GAAG,IAAInJ,KAAK,CAAS2O,KAAK,CAAC;IACvC,IAAIS,GAAG,GAAG,CAAC;IACX,KAAK,IAAI,CAAC/P,GAAG,EAAEjL,KAAK,CAAC,IAAI,IAAI,CAACi9B,iBAAiB,EAAE;MAC/CloB,MAAM,CAACiG,GAAG,EAAE,CAAC,GAAG/P,GAAG;IACrB;IACA,OAAO8J,MAAM;EACf;EAEAwoB,eAAeA,CAACC,sBAAiC,EAAEruB,SAA6B;IAC9E,MAAMiuB,aAAa,GAAG,IAAI,CAACH,iBAAiB,CAACvlB,GAAG,CAAC8lB,sBAAgC,CAAC;IAClF,IAAIJ,aAAa,KAAKtxB,SAAS,EAAE;MAC/B,MAAM,IAAI2xB,KAAK,CAAC,wBAAwB,CAAC;IAC3C,CAAC,MAAM;MACL,MAAMC,QAAQ,GAAmB;QAAEC,OAAO,EAAEx+B,6EAAsB,CAACkB,mCAAmC;QAAEu9B,QAAQ,EAAEzuB;MAAS,CAAE;MAC7H,MAAMpN,QAAQ,GAAGtB,mDAAQ,CAACo9B,MAAM,CAAC;QAC/B/+B,SAAS,EAAE,CAAC4+B,QAAQ;OACrB,CAAC;MACF,MAAMI,mBAAmB,GAAG,IAAI,CAACd,wBAAwB,CAACe,uBAAuB,CAAyBX,aAAa,CAAC;MACxH,OAAOU,mBAAmB,CAACD,MAAM,CAAC97B,QAAQ,CAAC;IAC7C;EACF;;;;;;;AAvCWhH,4BAA4B,GAAAtB,iDAAA,EAHxC6G,yDAAU,CAAC;EACVutB,UAAU,EAAE;CACb,CAAC,0EAI8CkP,mEAAwB,KAH3DhiC,4BAA4B,CAwCxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CkK;AAK5I;AAE0D;AACR;AACkB;AAC2B;AACT;AACZ;AACH;AAC4B;AAChB;AACJ;AACL;AACD;AACH;AACS;AAgB/F,IAAMC,yBAAyB,GAA/B,MAAMA,yBAAyB;EAmBpC,IAAIojC,YAAYA,CAAA;IAAK,OAAO,IAAI,CAACC,aAAa;EAAE;EAChD,IAAIC,aAAaA,CAAA;IAAK,OAAO,IAAI,CAACC,cAAc;EAAE;EAClD,IAAIC,sBAAsBA,CAAA;IAAK,OAAO,IAAI,CAACC,uBAAuB;EAAE;EACpE,IAAIC,uBAAuBA,CAAA;IAAK,OAAO,IAAI,CAACL,aAAa,CAACM,WAAW;EAAE;EAEvE5kC,YAAoB6kC,OAAuB,EACjCC,MAA+B,EAC/BC,4BAA0D;IAFhD,KAAAF,OAAO,GAAPA,OAAO;IACjB,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,4BAA4B,GAA5BA,4BAA4B;IAvB9B,KAAAP,cAAc,GAAG,IAAI;IACrB,KAAAE,uBAAuB,GAAG,IAAI;IAC9B,KAAAM,gBAAgB,GAAG,IAAI7B,GAAG,EAA4D;IACtF,KAAA8B,+BAA+B,GAAY,IAAIC,OAAO,EAAE;IAExD,KAAAC,uCAAuC,GAC7C,CAAC/vB,SAA6B,EAAEgwB,UAAuC,KAAK,IAAI,CAACC,wBAAwB,CAACjwB,SAAS,EAAEgwB,UAAU,CAAC;IAC1H,KAAAE,yCAAyC,GAC9ClwB,SAA6B,IAAK,IAAI,CAACmwB,0BAA0B,CAACnwB,SAAS,CAAC;IAIrE,KAAAowB,eAAe,GAAG,IAAI/+B,wDAAY,EAAE;IAEpC,KAAAg/B,eAAe,GAAG,IAAIh/B,wDAAY,EAAE;IAW5C,IAAI,CAACi/B,oBAAoB,GAAG,IAAI,CAACZ,MAAM,CAACjQ,aAAa;IAErD,IAAI,CAACkQ,4BAA4B,CAAC3B,qBAAqB,CAAC7gC,kFAAc,CAACwgC,iBAAiB,EAAExgC,kFAAc,CAAC;IACzG,IAAI,CAACwiC,4BAA4B,CAAC3B,qBAAqB,CAAC1gC,uGAAa,CAACqgC,iBAAiB,EAAErgC,uGAAa,CAAC;IACvG,IAAI,CAACqiC,4BAA4B,CAAC3B,qBAAqB,CAACxgC,0GAAc,CAACmgC,iBAAiB,EAAEngC,0GAAc,CAAC;IACzG,IAAI,CAACmiC,4BAA4B,CAAC3B,qBAAqB,CAACvgC,oGAAY,CAACkgC,iBAAiB,EAAElgC,oGAAY,CAAC;IACrG,IAAI,CAACkiC,4BAA4B,CAAC3B,qBAAqB,CAAC5gC,+HAAqB,CAACugC,iBAAiB,EAAEvgC,+HAAqB,CAAC;IACvH,IAAI,CAACuiC,4BAA4B,CAAC3B,qBAAqB,CAAC3gC,sHAAiB,CAACsgC,iBAAiB,EAAEtgC,sHAAiB,CAAC;IAC/G,IAAI,CAACsiC,4BAA4B,CAAC3B,qBAAqB,CAACtgC,mIAAsB,CAACigC,iBAAiB,EAAEjgC,mIAAsB,CAAC;IACzH,IAAI,CAACiiC,4BAA4B,CAAC3B,qBAAqB,CAAC1/B,mHAAiB,CAACq/B,iBAAiB,EAAEr/B,mHAAiB,CAAC;IAC/G,IAAI,CAACqhC,4BAA4B,CAAC3B,qBAAqB,CAACz/B,gHAAkB,CAACo/B,iBAAiB,EAAEp/B,gHAAkB,CAAC;IACjH,IAAI,CAACohC,4BAA4B,CAAC3B,qBAAqB,CAACl/B,2GAAc,CAAC6+B,iBAAiB,EAAE7+B,2GAAc,CAAC;IACzG,IAAI,CAAC6gC,4BAA4B,CAAC3B,qBAAqB,CAAC/+B,0GAAgB,CAAC0+B,iBAAiB,EAAE1+B,0GAAgB,CAAC;IAC7G,IAAI,CAAC0gC,4BAA4B,CAAC3B,qBAAqB,CAACx/B,uGAAe,CAACm/B,iBAAiB,EAAEn/B,uGAAe,CAAC;IAC3G,IAAI,CAACmhC,4BAA4B,CAAC3B,qBAAqB,CAAC9+B,gHAAkB,CAACy+B,iBAAiB,EAAEz+B,gHAAkB,CAAC;EACnH;EAEAqhC,WAAWA,CAAA;IACT,IAAI,CAACrB,aAAa,CAACsB,OAAO,EAAE;EAC9B;EAEAC,UAAUA,CAAA;IAER,IAAI,CAACvB,aAAa,GAAG,IAAIF,wDAAY,CACnC,IAAI,CAACsB,oBAAoB,EACzB,IAAI,CAACP,uCAAuC,EAC5C,IAAI,CAACG,yCAAyC,CAC/C;IACD,IAAI,CAAChB,aAAa,CAACwB,gCAAgC,GAAG,IAAI;IAC1D,IAAI,CAACxB,aAAa,CAACyB,yBAAyB,GAAIvlB,KAAK,IAAK,IAAI,CAACwlB,+BAA+B,CAACxlB,KAAK,CAAC;IAErG,IAAI,IAAI,CAAC8jB,aAAa,CAACM,WAAW,EAAE;MAClC,IAAI,CAACN,aAAa,CAAC2B,0BAA0B,EAAE;IACjD;IAEA;IACA,IAAI,CAAC3B,aAAa,CAAC1Q,EAAE,CAAC,0BAA0B,EAAEsS,WAAW,IAAG;MAC9D,IAAI,CAACC,qBAAqB,CAACD,WAAW,CAAC;IACzC,CAAC,CAAC;IAEF,IAAI,CAACE,yBAAyB,CAAC,IAAI,CAAC;EAEtC;EAEAC,gBAAgBA,CAACpgC,KAAc;IAC7B,IAAI,CAACq+B,aAAa,CAACgC,KAAK,EAAE;IAC1B,IAAI,CAAC9B,cAAc,GAAGv+B,KAAK;IAC3B,IAAI,CAAC,IAAI,CAACu+B,cAAc,EAAE;MACxB,IAAI,CAACE,uBAAuB,GAAG,KAAK;IACtC;EACF;EAEA0B,yBAAyBA,CAACngC,KAAc;IACtC,IAAI,CAACq+B,aAAa,CAACgC,KAAK,EAAE;IAC1B,IAAIrgC,KAAK,IAAI,CAAC,IAAI,CAACs+B,aAAa,EAAE;MAChC,MAAM,IAAIb,KAAK,CAAC,wDAAwD,CAAC;IAC3E;IACA,IAAI,CAACgB,uBAAuB,GAAGz+B,KAAK;EACtC;EAEAsgC,OAAOA,CAAC9gC,KAAa,EAAEC,MAAc;IACnC,IAAI,CAAC4+B,aAAa,CAACiC,OAAO,CAAC9gC,KAAK,EAAEC,MAAM,CAAC;EAC3C;EAEA8gC,eAAeA,CAACpxB,SAA6B;IAC3C,OAAO,IAAI,CAAC4vB,gBAAgB,CAACrnB,GAAG,CAACvI,SAAS,CAAC;EAC7C;EAEOqxB,cAAcA,CAACC,WAAmB;IAEvC,MAAMtxB,SAAS,GAAGvD,KAAK,CAACiH,IAAI,CAAC,IAAI,CAACksB,gBAAgB,CAAC1zB,IAAI,EAAE,CAAC,CAACqG,IAAI,CAC5DvC,SAAS,IAAKA,SAAS,CAACiuB,aAAa,EAAEl9B,QAAQ,EAAE,KAAKugC,WAAW,CAC7C;IAEvB,IAAItxB,SAAS,EAAE;MACb,MAAMuxB,aAAa,GAAGvxB,SAAS,CAACuiB,MAAM;MACtC,IAAI,CAAC2M,aAAa,CAACmC,cAAc,CAACE,aAAa,CAAC;IAClD;IAEA,OAAOvxB,SAAS;EAElB;EAEQiwB,wBAAwBA,CAACjwB,SAA6B,EAAEgwB,UAAuC;IACrG,MAAM/B,aAAa,GAAG+B,UAAU,CAAC/B,aAAa;IAC9C,MAAMvnB,YAAY,GAAG,IAAI,CAACipB,4BAA4B,CAACvB,eAAe,CAACH,aAAa,EAAEjuB,SAAS,CAAC;IAChG,MAAM5V,SAAS,GAAGsc,YAAY,CAAC8qB,QAAQ;IAEvC,IAAI,CAAC5B,gBAAgB,CAAC1B,GAAG,CAACluB,SAAS,EAAE0G,YAAY,CAAC;IAElD,IAAI,IAAI,CAAC0oB,cAAc,EAAE;MACvBpvB,SAAS,CAACyxB,2BAA2B,GAAG,CAACzxB,SAAS,EAAE3P,KAAK,EAAEC,MAAM,KAAK,IAAI,CAACohC,0CAA0C,CAAC1xB,SAAS,EAAE3P,KAAK,EAAEC,MAAM,CAAC;MAC/I0P,SAAS,CAAC2xB,oCAAoC,GAAG,CAAC3xB,SAAS,EAAEtP,OAAO,KAAK,IAAI,CAACkhC,4CAA4C,CAAC5xB,SAAS,EAAEtP,OAAO,CAAC;MAC9IsP,SAAS,CAAC6xB,gCAAgC,GAAG,CAAC7xB,SAAS,EAAE8xB,aAAa,EAAEC,aAAa,KAAK,IAAI,CAACC,+CAA+C,CAAChyB,SAAS,EAAE8xB,aAAa,EAAEC,aAAa,CAAC;MAEvL,IAAI,IAAI,CAACzC,uBAAuB,EAAE;QAChC,IAAI,CAAC2C,0BAA0B,CAACC,MAAM,CAACxrB,YAAY,CAACyrB,QAAQ,CAAC;MAC/D,CAAC,MAAM;QACL,IAAI,CAAC1C,OAAO,CAAC2C,UAAU,CAAC1rB,YAAY,CAACyrB,QAAQ,CAAC;QAC9C,MAAME,oBAAoB,GAAGjoC,SAAS,CAAC6F,eAAe;QACtD,IAAI,CAACqgC,oBAAoB,CAACgC,WAAW,CAACD,oBAAoB,CAAC;MAC7D;IACF,CAAC,MAAM;MACL,IAAI,CAAC5C,OAAO,CAAC2C,UAAU,CAAC1rB,YAAY,CAACyrB,QAAQ,CAAC;MAC9C,MAAMI,OAAO,GAAI7rB,YAAY,CAACyrB,QAAqC,CAACK,SAAS,CAAC,CAAC,CAAgB;MAC/FxyB,SAAS,CAACzN,OAAO,CAAC+/B,WAAW,CAACC,OAAO,CAAC;IACxC;IAEA,OAAO;MACLnoC,SAAS;MACTqoC,OAAO,EAAE,IAAI,CAACrD;KACf;EACH;EAEQe,0BAA0BA,CAACnwB,SAA6B;IAC9D,MAAM0G,YAAY,GAAG,IAAI,CAACkpB,gBAAgB,CAACrnB,GAAG,CAACvI,SAAS,CAAC;IACzD,IAAI0G,YAAY,KAAK/J,SAAS,EAAE;MAC9B,MAAM,IAAI2xB,KAAK,CAAC,iDAAiD,CAAC;IACpE;IACA,IAAI,CAACsB,gBAAgB,CAAC8C,MAAM,CAAC1yB,SAAS,CAAC;IAEvC,MAAMmyB,QAAQ,GAAGzrB,YAAY,CAACyrB,QAAQ;IAEtC,IAAInyB,SAAS,CAACyyB,OAAO,EAAE;MACrB,IAAI,IAAI,CAACnD,uBAAuB,EAAE;QAChC,MAAMqD,YAAY,GAAG,IAAI,CAACV,0BAA0B,CAACnyB,OAAO,CAACqyB,QAAQ,CAAC;QACtE,IAAIQ,YAAY,GAAG,CAAC,EAAE;UACpB,MAAM,IAAIrE,KAAK,CAAC,+CAA+C,CAAC;QAClE;QACA,IAAI,CAAC2D,0BAA0B,CAACrM,MAAM,CAAC+M,YAAY,CAAC;MACtD,CAAC,MAAM;QACL,MAAMvoC,SAAS,GAAGsc,YAAY,CAAC8qB,QAAQ;QACvC,MAAMa,oBAAoB,GAAGjoC,SAAS,CAAC6F,eAAe;QACtD,IAAI,CAACqgC,oBAAoB,CAACsC,WAAW,CAACP,oBAAoB,CAAC;QAC3D,IAAI,CAAC5C,OAAO,CAACoD,UAAU,CAACV,QAAQ,CAAC;MACnC;IACF,CAAC,MAAM;MACL,MAAM/nC,SAAS,GAAGsc,YAAY,CAAC8qB,QAAQ;MACvC,MAAMa,oBAAoB,GAAGjoC,SAAS,CAAC6F,eAAe;MACtD+P,SAAS,CAACzN,OAAO,CAACqgC,WAAW,CAACP,oBAAoB,CAAC;MACnD,IAAI,CAAC5C,OAAO,CAACoD,UAAU,CAACV,QAAQ,CAAC;IACnC;IAEA,IAAInyB,SAAS,CAACiuB,aAAa,KAAKtxB,SAAS,EAAC;MACxC,IAAI,CAACyzB,eAAe,CAAChxB,IAAI,CAACY,SAAS,CAACiuB,aAAa,CAACl9B,QAAQ,EAAE,CAAC;IAC/D;IAEA2V,YAAY,CAAC8pB,OAAO,EAAE;EACxB;EAEQI,+BAA+BA,CAACxlB,KAAa;IACnD,IAAI,CAACykB,+BAA+B,GAAG,IAAI,CAACS,oBAAoB,CAACwC,qBAAqB,EAAE;EAC1F;EAEQpB,0CAA0CA,CAAC1xB,SAA6B,EAAE3P,KAAa,EAAEC,MAAc;IAC7G,MAAMyiC,2BAA2B,GAAG/yB,SAAS,CAACzN,OAAO,CAACugC,qBAAqB,EAAE;IAC7E,MAAM3iC,IAAI,GAAG4iC,2BAA2B,CAAC5iC,IAAI,GAAG,IAAI,CAAC0/B,+BAA+B,CAAC1/B,IAAI;IACzF,MAAMC,GAAG,GAAG2iC,2BAA2B,CAAC3iC,GAAG,GAAG,IAAI,CAACy/B,+BAA+B,CAACz/B,GAAG;IAEtF,MAAMsW,YAAY,GAAG,IAAI,CAACkpB,gBAAgB,CAACrnB,GAAG,CAACvI,SAAS,CAAC;IACzD,IAAI0G,YAAY,KAAK/J,SAAS,EAAE;MAC5B,MAAM,IAAI2xB,KAAK,CAAC,oEAAoE,CAAC;IACzF;IACA,MAAMlkC,SAAS,GAAGsc,YAAY,CAAC8qB,QAAQ;IACvCpnC,SAAS,CAAC8F,kBAAkB,CAACC,IAAI,EAAEC,GAAG,EAAEC,KAAK,EAAEC,MAAM,CAAC;EACxD;EAEO0iC,eAAeA,CAAC1B,WAAmB;IACxC,MAAMtxB,SAAS,GAAGvD,KAAK,CAACiH,IAAI,CAAC,IAAI,CAACksB,gBAAgB,CAAC1zB,IAAI,EAAE,CAAC,CAACqG,IAAI,CAC5DvC,SAAS,IAAKA,SAAS,CAACiuB,aAAa,EAAEl9B,QAAQ,EAAE,KAAKugC,WAAW,CAC7C;IAEvB,IAAItxB,SAAS,EAAE;MACb,MAAMuxB,aAAa,GAAGvxB,SAAS,CAACuiB,MAAM;MACtC,IAAIgP,aAAa,IAAIA,aAAa,CAAChP,MAAM,EAAE;QACzCgP,aAAa,CAAChP,MAAM,CAACqQ,WAAW,CAACrB,aAAa,CAAC;MACjD;IACF,CAAC,MAAM;MACL,MAAM,IAAIjD,KAAK,CAAC,yCAAyC,CAAC;IAC5D;EACF;EAEA;;;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEQsD,4CAA4CA,CAAC5xB,SAA6B,EAAEtP,OAAgB;IAClG,MAAMgW,YAAY,GAAG,IAAI,CAACkpB,gBAAgB,CAACrnB,GAAG,CAACvI,SAAS,CAAC;IACzD,IAAI0G,YAAY,KAAK/J,SAAS,EAAE;MAC5B,MAAM,IAAI2xB,KAAK,CAAC,sEAAsE,CAAC;IAC3F;IACA,MAAMlkC,SAAS,GAAGsc,YAAY,CAAC8qB,QAAQ;IACvCpnC,SAAS,CAACqG,aAAa,CAACC,OAAO,CAAC;EAClC;EAEQshC,+CAA+CA,CAAChyB,SAA6B,EAAE8xB,aAA4B,EAAEC,aAAqB;IACxI,MAAMrrB,YAAY,GAAG,IAAI,CAACkpB,gBAAgB,CAACrnB,GAAG,CAACvI,SAAS,CAAC;IACzD,IAAI0G,YAAY,KAAK/J,SAAS,EAAE;MAC5B,MAAM,IAAI2xB,KAAK,CAAC,yEAAyE,CAAC;IAC9F;IACA,MAAMlkC,SAAS,GAAGsc,YAAY,CAAC8qB,QAAQ;IACvCpnC,SAAS,CAACwG,SAAS,CAACmhC,aAAa,CAAC;EACpC;EAEQhB,qBAAqBA,CAACD,WAAgB;IAC5CrzB,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEozB,WAAW,CAAC;IACnD,IAAI,CAACT,eAAe,CAACjxB,IAAI,CAAC0xB,WAAW,CAACmC,MAAM,CAAC;EAC/C;;;;;;;;;;;;;cAjPCnE,qDAAS;QAAAtB,IAAA,GAAC,wBAAwB,EAAE;UAAEpF,IAAI,EAAE2G,4DAAgB;UAAEmE,MAAM,EAAE;QAAI,CAAE;MAAA;;cAE5E9hC,kDAAMA;MAAA;;cAENA,kDAAMA;MAAA;;;;AAjBIvF,yBAAyB,GAAAvB,kDAAA,EAdrCI,yDAAS,CAAC;EACTI,QAAQ,EAAE,wBAAwB;EAClCC,QAAQ,EAAE,qDAAqD;;CAWhE,CAAC,2EAyB6B8jC,0DAAc,EACzBjQ,sDAAU,EACYhzB,0FAA4B,KA1BzDC,yBAAyB,CA+PrC;;;;;;;;;;;;;;;;;;AClSsC;AAEzB,MAAOoG,cAAc;EAQjCrH,YAAmBssB,aAA4B;IAA5B,KAAAA,aAAa,GAAbA,aAAa;IANxB,KAAAic,YAAY,GAAGC,MAAM,CAAC,QAAQ,CAAC;IAC/B,KAAAC,YAAY,GAAG,CAAC,CAAC,CAAc;IAC/B,KAAAC,cAAc,GAAG,CAAC,SAAS,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,YAAY,CAAC;IACvE,KAAAC,QAAQ,GAAG,EAAE;IACb,KAAAC,QAAQ,GAAG,EAAE;IAMd,KAAAC,eAAe,GAAIl9B,IAAI,IAAI;MAChC,IAAI,CAACA,IAAI,CAACsjB,QAAQ,EAAE;QAClB,MAAM3c,IAAI,GAAG,IAAI,CAACw2B,QAAQ,CAACn9B,IAAI,CAAC;QAChC,IAAI,CAACg9B,QAAQ,CAACp2B,IAAI,CAACD,IAAI,CAAC;QACxB,MAAMy2B,MAAM,GAAG,IAAIhiC,6CAAgB,CAACuL,IAAI,CAAC;QACzC,OAAOy2B,MAAM;MACf,CAAC,MAAM;QACL,MAAME,QAAQ,GAAG,IAAI,CAACH,QAAQ,CAACn9B,IAAI,CAAC;QACpC,IAAI,CAACg9B,QAAQ,CAACp2B,IAAI,CAAC02B,QAAQ,CAAC;QAC5B,MAAMC,OAAO,GAAG,IAAIniC,6CAAgB,CAACkiC,QAAQ,CAAC;QAC9C,KAAK,MAAME,KAAK,IAAIx9B,IAAI,CAACsjB,QAAQ,EAAE;UACjC,MAAM3c,IAAI,GAAG,IAAI,CAACu2B,eAAe,CAACM,KAAK,CAAC;UACxCD,OAAO,CAACE,QAAQ,CAAC92B,IAAI,CAAC;QACxB;QACA,OAAO42B,OAAO;MAChB;IACF,CAAC;IAEM,KAAAJ,QAAQ,GAAIn9B,IAAI,IAAI;MACzB,MAAM2G,IAAI,GAAQ,EAAE;MACpBA,IAAI,CAACxN,EAAE,GAAG6G,IAAI,CAAC2T,IAAI;MACnBhN,IAAI,CAACoB,GAAG,GAAG/H,IAAI,CAAC2T,IAAI;MACpB,IAAI3T,IAAI,CAAC2K,cAAc,CAAC,cAAc,CAAC,IACnC3K,IAAI,CAAC09B,YAAY,CAAC/yB,cAAc,CAAC,WAAW,CAAC,IAC7C3K,IAAI,CAAC09B,YAAY,CAACC,SAAS,CAAChzB,cAAc,CAAC,KAAK,CAAC,EAAG;QACtDhE,IAAI,CAACg3B,SAAS,GAAG39B,IAAI,CAAC09B,YAAY,CAACC,SAAS,CAACC,GAAG;MAClD;MACA,KAAK,MAAMC,SAAS,IAAIn4B,MAAM,CAACC,IAAI,CAAC3F,IAAI,CAAC89B,UAAU,CAAC,EAAE;QACpD,IAAID,SAAS,KAAK,KAAK,EAAE;UACvBl3B,IAAI,CAACk3B,SAAS,CAAC,GAAG79B,IAAI,CAAC89B,UAAU,CAACD,SAAS,CAAC,CAACvjC,KAAK;QACpD,CAAC,MAAM;UACLqM,IAAI,CAACk3B,SAAS,CAAC,GAAG79B,IAAI,CAAC89B,UAAU,CAACD,SAAS,CAAC;QAC9C;MACF;MACA,OAAOl3B,IAAI;IACb,CAAC;IAEM,KAAAo3B,gBAAgB,GAAI/9B,IAAI,IAAI;MACjC,MAAMg+B,MAAM,GAAGh+B,IAAI,CAACi+B,SAAS,EAAE;MAC/B,KAAK,MAAMC,IAAI,IAAIF,MAAM,EAAE;QACzB,IAAIG,SAAS,GAAG,EAAE;QAClB,KAAK,MAAMC,QAAQ,IAAIF,IAAI,CAACG,YAAY,CAAC,IAAI,CAAC,EAAE;UAC9C,MAAMC,SAAS,GAAG,IAAI,CAACtB,QAAQ,CAACjuB,SAAS,CAAEsD,CAAC,IAAIA,CAAC,CAAClZ,EAAE,KAAKilC,QAAQ,CAACjlC,EAAE,CAAC;UACrE,MAAMolC,UAAU,GAAG,IAAI,CAACvB,QAAQ,CAACsB,SAAS,CAAC;UAC3C,IAAIC,UAAU,CAAC5zB,cAAc,CAAC,WAAW,CAAC,EAAE;YAC1CwzB,SAAS,GAAGA,SAAS,CAAC97B,MAAM,CAACk8B,UAAU,CAACZ,SAAS,CAAC;UACpD;QACF;QACAO,IAAI,CAAC39B,IAAI,CAACo9B,SAAS,GAAGQ,SAAS;MACjC;MACA,OAAOn+B,IAAI;IACb,CAAC;IAEM,KAAAw+B,YAAY,GAAIC,WAAW,IAAI;MACpCv3B,OAAO,CAACC,GAAG,CAACs3B,WAAW,CAAC;MACxB,OAAO,IAAI,CAACvB,eAAe,CAACuB,WAAW,CAACz+B,IAAI,CAAC;IAC/C,CAAC;IAGM,KAAA0+B,YAAY,GAAG,CAAC1+B,IAAI,EAAE2+B,QAAQ,EAAEC,iBAAiB,GAAG,KAAK,EAAEC,cAAc,GAAIl4B,IAAI,IAAK,EAAE,KAAI;MACjG,MAAMm4B,OAAO,GAAGH,QAAQ,GAAIn4B,CAAC,IAAK,IAAI,CAACu4B,gBAAgB,CAACv4B,CAAC,EAAE,UAAU,CAAC,GAAG,IAAI,CAACw4B,cAAc;MAE5F,SAASC,OAAOA,CAACt4B,IAAI,EAAEu4B,OAAO;QAC5B,IAAIv4B,IAAI,CAACgE,cAAc,CAAC,UAAU,CAAC,EAAE;UACnC,MAAMw0B,aAAa,GAAGx4B,IAAI,CAAC2c,QAAQ,CAAChX,GAAG,CAAEkxB,KAAK,IAAI;YAChD,MAAM4B,OAAO,GAAGH,OAAO,CAACzB,KAAK,EAAEsB,OAAO,CAACn4B,IAAI,CAAC,CAAC;YAC7C,OAAOy4B,OAAO;UAChB,CAAC,CAAC;UACF,OAAO,IAAID,aAAa,CAAC7zB,MAAM,CAAEzB,CAAC,IAAK,CAAC,CAACA,CAAC,CAAC,CAAC8L,IAAI,CAAC,GAAG,CAAC,GAAG,GACtD,GAAGipB,iBAAiB,GAAGj4B,IAAI,CAACgN,IAAI,GAAG,EAAE,GAAGkrB,cAAc,CAACl4B,IAAI,CAAC,IAAIm4B,OAAO,CAACn4B,IAAI,CAAC,GAAGu4B,OAAO,EAAE;QAC7F;QACA;QACA,MAAMhB,IAAI,GAAG,GAAGv3B,IAAI,CAACgN,IAAI,GAAGkrB,cAAc,CAACl4B,IAAI,CAAC,IAAIm4B,OAAO,CAACn4B,IAAI,CAAC,GAAGu4B,OAAO,EAAE;QAC7E,OAAOhB,IAAI;MACb;MAEA,MAAMZ,QAAQ,GAAGt9B,IAAI;MACrB,MAAMq/B,QAAQ,GAAGP,OAAO,CAACxB,QAAQ,CAAC;MAClC,OAAO2B,OAAO,CAAC3B,QAAQ,EAAE+B,QAAQ,CAAC,GAAG,GAAG;IAC1C,CAAC;IAGM,KAAAN,gBAAgB,GAAG,CAACp4B,IAAI,EAAE24B,KAAK,EAAE;MAACC,OAAO,GAAG,KAAK;MAAEC,UAAU,GAAG;IAAK,CAAC,GAAE,EAAE,KAAI;MACnF,IAAI,CAAC74B,IAAI,CAACm3B,UAAU,EAAE,OAAO13B,SAAS;MAEtC,IAAI,CAACm5B,OAAO,IAAI,CAACC,UAAU,EAAE;QAC3B,IAAI,CAAC74B,IAAI,CAACm3B,UAAU,CAACwB,KAAK,CAAC,EAAE;UAC3B,IAAIA,KAAK,KAAK,IAAI,CAAC1C,YAAY,EAAE,OAAOj2B,IAAI,CAACgN,IAAI;UACjD,OAAOvN,SAAS;QAClB;QACA,MAAM9L,KAAK,GAAGqM,IAAI,CAACm3B,UAAU,CAACwB,KAAK,CAAC,CAAChlC,KAAK;QAC1C,IAAI,CAAC,IAAI,CAACmlC,YAAY,CAACnlC,KAAK,CAAC,EAAE,OAAO8L,SAAS;QAC/C,OAAO9L,KAAK;MACd,CAAC,MAAM,IAAIilC,OAAO,EAAE;QAClB,IAAI54B,IAAI,CAACm3B,UAAU,CAACwB,KAAK,CAAC,EAAE,OAAO34B,IAAI,CAACm3B,UAAU,CAACwB,KAAK,CAAC,CAACC,OAAO;QACjE,OAAOn5B,SAAS;MAClB,CAAC,MAAM,IAAIo5B,UAAU,EAAE;QACrB,IAAI74B,IAAI,CAACm3B,UAAU,CAACwB,KAAK,CAAC,EAAE,OAAO34B,IAAI,CAACm3B,UAAU,CAACwB,KAAK,CAAC,CAACE,UAAU;QACpE,OAAOp5B,SAAS;MAClB;MACA,OAAOA,SAAS;IAClB,CAAC;IAEM,KAAA44B,cAAc,GAAIr4B,IAAI,IAAI;MAC/B;MACA,IAAIA,IAAI,CAACm3B,UAAU,IAAIn3B,IAAI,CAACm3B,UAAU,CAAC4B,GAAG,KAAKt5B,SAAS,EAAE;QACxD,OAAOO,IAAI,CAACm3B,UAAU,CAAC4B,GAAG;MAC5B;MACA,OAAOt5B,SAAS;IAClB,CAAC;IAEM,KAAAq5B,YAAY,GAAInlC,KAAK,IAAI;MAC9B,IAAI,CAAC,CAAC,QAAQ,EAAE,SAAS,EAAE,QAAQ,CAAC,CAACkP,QAAQ,CAAC,OAAOlP,KAAK,CAAC,EAAE;QAC3D,OAAO,KAAK;MACd;MACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAI,IAAI,CAACyiC,cAAc,CAACvzB,QAAQ,CAAClP,KAAK,CAACyW,WAAW,EAAE,CAAC,EAAE;QAClF,OAAO,KAAK,CAAC,CAAC;MAChB;MACA;MACA,OAAO,IAAI;IACb,CAAC;IAEM,KAAA4uB,mBAAmB,GAAIj8B,MAAM,IAAI;MACtC,MAAMu5B,QAAQ,GAAG,EAAE;MACnB,KAAK,IAAIv2B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhD,MAAM,CAACqvB,GAAG,CAACttB,MAAM,GAAG,CAAC,EAAEiB,CAAC,EAAE,EAAE;QAC9C,KAAK,IAAImF,CAAC,GAAGnF,CAAC,GAAG,CAAC,EAAEmF,CAAC,GAAGnI,MAAM,CAACqvB,GAAG,CAACttB,MAAM,EAAEoG,CAAC,EAAE,EAAE;UAC9C,MAAMc,IAAI,GAAG;YACX5B,MAAM,EAAErH,MAAM,CAACqvB,GAAG,CAACrsB,CAAC,CAAC;YACrBsE,MAAM,EAAEtH,MAAM,CAACqvB,GAAG,CAAClnB,CAAC,CAAC;YACrBgB,QAAQ,EAAEnJ,MAAM,CAACA,MAAM,CAACgD,CAAC,CAAC,CAACmF,CAAC,CAAC;YAC7BzD,WAAW,EAAE,IAAI;YACjBmD,cAAc,EAAE;WACjB;UACD0xB,QAAQ,CAACr2B,IAAI,CAAC+F,IAAI,CAAC;QACrB;MACF;MACA,IAAI,CAACswB,QAAQ,GAAGA,QAAQ;IAC1B,CAAC;IAEM,KAAA2C,UAAU,GAAG,CAAC9gC,KAAK,EAAE+gC,QAAQ,KAAI;MACtC,MAAM3O,QAAQ,GAAG,EAAE;MACnB,KAAK,MAAMvqB,IAAI,IAAI7H,KAAK,EAAE;QACxB,IAAI+gC,QAAQ,CAACl1B,cAAc,CAAC,iBAAiB,CAAC,EAAE;UAC9C,KAAK,IAAIjE,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACm5B,QAAQ,CAACC,eAAe,CAACr6B,MAAM,EAAEiB,CAAC,EAAE,EAAE;YACpD,MAAMq5B,IAAI,GAAGp5B,IAAI,CAACk5B,QAAQ,CAACC,eAAe,CAACp5B,CAAC,CAAC,CAACnB,GAAG,CAAC;YAClD,IAAIw6B,IAAI,EAAE;cACRp5B,IAAI,CAACq5B,QAAQ,GAAGH,QAAQ,CAACC,eAAe,CAACp5B,CAAC,CAAC,CAACu5B,KAAK,CAACF,IAAI,CAAC,CAACC,QAAQ;cAChEr5B,IAAI,CAACu5B,QAAQ,GAAGL,QAAQ,CAACC,eAAe,CAACp5B,CAAC,CAAC,CAACu5B,KAAK,CAACF,IAAI,CAAC,CAACI,SAAS;YACnE;UACF;QACF;QACAjP,QAAQ,CAACtqB,IAAI,CAACD,IAAI,CAAC;MACrB;MACA,OAAOuqB,QAAQ;IACjB,CAAC;IAGM,KAAAtf,GAAG,GAAIwuB,OAAO,IAAI;MACvB,MAAMngC,YAAY,GAAI,IAAI,CAACy+B,YAAY,CAAC0B,OAAO,CAACpgC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC;MAClE,MAAMqgC,QAAQ,GAAG,IAAI,CAAC7B,YAAY,CAAC4B,OAAO,CAAC;MAC3C,MAAME,cAAc,GAAGllC,kDAAqB,CAAC6E,YAAY,CAAC,CAACyY,QAAQ,EAAE;MACrE,MAAM6nB,WAAW,GAAG,IAAI,CAACxC,gBAAgB,CAACsC,QAAQ,CAAC;MACnD,IAAI,CAACV,mBAAmB,CAACW,cAAc,CAAC;MACxC,MAAME,gBAAgB,GAAI,IAAI,CAAC9B,YAAY,CAAC0B,OAAO,CAACpgC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC;MACvE,IAAI,CAACg9B,QAAQ,GAAG,IAAI,CAAC4C,UAAU,CAAC,IAAI,CAAC5C,QAAQ,EAAEoD,OAAO,CAACv/B,IAAI,CAAC;MAC5D,OAAO;QAAE/B,KAAK,EAAE,IAAI,CAACk+B,QAAQ;QAAEj+B,KAAK,EAAE,IAAI,CAACk+B,QAAQ;QAAEj9B,IAAI,EAAEugC,WAAW;QAAEE,MAAM,EAAED;MAAgB,CAAC;IACnG,CAAC;IAzKC,IAAI,CAAC7f,aAAa,GAAGA,aAAa;EACpC;;;;;;;;;;;;;;;;ACXI,MAAO+f,aAAa;EAkDtBrsC,YAAA;IAjDQ,KAAA0R,MAAM,GAAa,CACvB,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC3E,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAEtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAEtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAEtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACtF,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,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MAAM,CAAC,IAAI,CAACsxC,SAAS,CAAC,CAAC,CAAC,CAAC;IAC7E,IAAI,CAACzkE,aAAa,CAAC9c,OAAO,CAACnC,KAAK,CAACE,OAAO,GAAG,IAAI,CAACyQ,CAAC,CAACyhC,MAAM,CAAC,IAAI,CAACsxC,SAAS,CAAC,CAAC,CAAC,CAAC;IAC3E,IAAI,CAACzkE,aAAa,CAAC/E,iBAAiB,CAAC,IAAI,CAAC;IAC1C,IAAI,CAAC+E,aAAa,CAAClF,iBAAiB,CAAC,IAAI,CAAC;IAC1C,IAAI,CAACkF,aAAa,CAACjF,WAAW,EAAE,CAAC3C,IAAI,CAAC,MAAK;MACzC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC1T,OAAO,CAAEwW,KAAa,IAAI;QACxChjB,MAAc,CAACgX,OAAO,CAACgM,KAAK,GAAG,aAAa,CAAC;MAChD,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAi0B,gBAAgBA,CAAA;IACd,IAAI,CAAC2xC,OAAO,EAAE;EAChB;EACAzxC,mBAAmBA,CAAA;IACjB;EAAA;EAGF1jB,sBAAsBA,CAAA;IACpB,IAAI,CAAClpB,OAAO,GAAIvK,MAAc,CAAC27B,OAAO,CA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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,qHAAqH,UAAU,UAAU,UAAU,WAAW,KAAK,KAAK,WAAW,WAAW,KAAK,KAAK,UAAU,UAAU,WAAW,WAAW,KAAK,KAAK,UAAU,YAAY,WAAW,UAAU,UAAU,UAAU,WAAW,YAAY,WAAW,YAAY,WAAW,YAAY,YAAY,YAAY,YAAY,YAAY,MAAM,KAAK,UAAU,WAAW,UAAU,UAAU,KAAK,KAAK,UAAU,WAAW,KAAK,KAAK,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,KAAK,KAAK,WAAW,WAAW,KAAK,KAAK,WAAW,UAAU,WAAW,WAAW,WAAW,WAAW,UAAU,WAAW,KAAK,KAAK,WAAW,UAAU,UAAU,WAAW,WAAW,KAAK,KAAK,UAAU,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,KAAK,MAAM,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,UAAU,WAAW,KAAK,KAAK,UAAU,WAAW,KAAK,KAAK,UAAU,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,KAAK,MAAM,WAAW,KAAK,MAAM,WAAW,KAAK,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,YAAY,OAAO,WAAW,aAAa,aAAa,aAAa,MAAM,MAAM,WAAW,WAAW,8CAA8C,mBAAmB,oBAAoB,mBAAmB,6BAA6B,GAAG,WAAW,yBAAyB,uBAAuB,GAAG,wBAAwB,oBAAoB,oBAAoB,6BAA6B,8BAA8B,GAAG,sBAAsB,uBAAuB,gEAAgE,cAAc,eAAe,gBAAgB,kDAAkD,sDAAsD,+DAA+D,iDAAiD,sDAAsD,8BAA8B,kBAAkB,iBAAiB,yBAAyB,mBAAmB,kBAAkB,GAAG,kBAAkB,iBAAiB,yBAAyB,GAAG,0BAA0B,qBAAqB,iBAAiB,wBAAwB,wBAAwB,yBAAyB,uBAAuB,GAAG,8CAA8C,gCAAgC,6BAA6B,GAAG,0BAA0B,0GAA0G,sBAAsB,yBAAyB,2BAA2B,uBAAuB,wBAAwB,oBAAoB,4BAA4B,GAAG,UAAU,wBAAwB,mBAAmB,mBAAmB,yBAAyB,mCAAmC,GAAG,UAAU,iBAAiB,mBAAmB,kBAAkB,oBAAoB,sCAAsC,yBAAyB,kCAAkC,wCAAwC,GAAG,8BAA8B,oBAAoB,kBAAkB,mBAAmB,8BAA8B,yBAAyB,yBAAyB,gBAAgB,kCAAkC,GAAG,iBAAiB,gBAAgB,0BAA0B,GAAG,gBAAgB,mBAAmB,GAAG,yBAAyB,8BAA8B,GAAG,yBAAyB,6BAA6B,GAAG,yBAAyB,8BAA8B,GAAG,yBAAyB,6BAA6B,GAAG,yBAAyB,8BAA8B,GAAG,yBAAyB,6BAA6B,GAAG,yBAAyB,8BAA8B,GAAG,yBAAyB,6BAA6B,GAAG,yBAAyB,8BAA8B,GAAG,0BAA0B,6BAA6B,GAAG,0BAA0B,8BAA8B,GAAG,0BAA0B,6BAA6B,GAAG,0BAA0B,8BAA8B,GAAG,0BAA0B,6BAA6B,GAAG,0BAA0B,8BAA8B,GAAG,0BAA0B,6BAA6B,GAAG,0BAA0B,8BAA8B,GAAG,0BAA0B,6BAA6B,GAAG,0BAA0B,8BAA8B,GAAG,0BAA0B,2BAA2B,GAAG,+BAA+B,kCAAkC,GAAG,uDAAuD,6BAA6B,yEAAyE,yCAAyC,iBAAiB,yBAAyB,iDAAiD,GAAG,qBAAqB;AAC7tK;AACA;;;;;;;;;;;ACtLA;AACA,4CAA4C,mBAAO,CAAC,qEAA0D;AAC9G,kCAAkC,mBAAO,CAAC,8DAAmD;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,oHAAoH,WAAW,WAAW,WAAW,WAAW,UAAU,KAAK,KAAK,UAAU,UAAU,WAAW,WAAW,UAAU,KAAK,UAAU,KAAK,WAAW,YAAY,YAAY,WAAW,KAAK,KAAK,WAAW,UAAU,UAAU,UAAU,KAAK,KAAK,UAAU,KAAK,KAAK,UAAU,WAAW,UAAU,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,WAAW,UAAU,WAAW,KAAK,KAAK,UAAU,UAAU,UAAU,KAAK,KAAK,WAAW,UAAU,KAAK,KAAK,WAAW,UAAU,WAAW,UAAU,WAAW,KAAK,KAAK,UAAU,KAAK,KAAK,UAAU,UAAU,UAAU,WAAW,WAAW,KAAK,KAAK,UAAU,WAAW,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,UAAU,WAAW,KAAK,MAAM,UAAU,WAAW,KAAK,KAAK,WAAW,UAAU,KAAK,KAAK,WAAW,UAAU,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,WAAW,UAAU,KAAK,KAAK,UAAU,KAAK,KAAK,WAAW,KAAK,KAAK,UAAU,UAAU,KAAK,MAAM,WAAW,WAAW,WAAW,WAAW,KAAK,MAAM,UAAU,WAAW,UAAU,UAAU,KAAK,MAAM,WAAW,WAAW,WAAW,WAAW,MAAM,MAAM,WAAW,WAAW,WAAW,MAAM,OAAO,WAAW,MAAM,MAAM,WAAW,MAAM,YAAY,OAAO,WAAW,WAAW,WAAW,aAAa,MAAM,YAAY,OAAO,WAAW,UAAU,WAAW,UAAU,WAAW,UAAU,WAAW,aAAa,aAAa,UAAU,MAAM,YAAY,OAAO,WAAW,MAAM,MAAM,WAAW,WAAW,MAAM,MAAM,UAAU,WAAW,UAAU,WAAW,UAAU,WAAW,WAAW,WAAW,WAAW,MAAM,MAAM,UAAU,UAAU,WAAW,MAAM,MAAM,UAAU,MAAM,MAAM,UAAU,WAAW,UAAU,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,MAAM,MAAM,UAAU,UAAU,WAAW,MAAM,MAAM,UAAU,WAAW,MAAM,MAAM,UAAU,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,UAAU,UAAU,MAAM,OAAO,UAAU,MAAM,MAAM,WAAW,MAAM,MAAM,UAAU,MAAM,MAAM,aAAa,aAAa,WAAW,UAAU,UAAU,UAAU,UAAU,MAAM,MAAM,WAAW,UAAU,UAAU,WAAW,WAAW,WAAW,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,MAAM,MAAM,UAAU,WAAW,MAAM,MAAM,WAAW,MAAM,QAAQ,WAAW,MAAM,MAAM,UAAU,WAAW,WAAW,MAAM,MAAM,UAAU,WAAW,MAAM,MAAM,WAAW,WAAW,WAAW,MAAM,MAAM,UAAU,UAAU,UAAU,WAAW,WAAW,MAAM,MAAM,UAAU,UAAU,UAAU,WAAW,MAAM,MAAM,W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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,6IAA6I,WAAW,WAAW,WAAW,KAAK,KAAK,WAAW,KAAK,KAAK,UAAU,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,WAAW,WAAW,WAAW,UAAU,WAAW,KAAK,KAAK,WAAW,UAAU,KAAK,KAAK,WAAW,UAAU,KAAK,KAAK,WAAW,UAAU,KAAK,KAAK,WAAW,UAAU,KAAK,KAAK,WAAW,UAAU,KAAK,KAAK,WAAW,UAAU,KAAK,MAAM,YAAY,UAAU,UAAU,KAAK,MAAM,YAAY,WAAW,KAAK,MAAM,YAAY,UAAU,KAAK,MAAM,YAAY,WAAW,WAAW,KAAK,MAAM,WAAW,KAAK,MAAM,WAAW,MAAM,MAAM,WAAW,WAAW,MAAM,MAAM,YAAY,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,YAAY,MAAM,MAAM,WAAW,UAAU,WAAW,UAAU,MAAM,MAAM,WAAW,UAAU,MAAM,MAAM,WAAW,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,UAAU,WAAW,MAAM,MAAM,UAAU,WAAW,MAAM,MAAM,WAAW,UAAU,MAAM,MAAM,UAAU,WAAW,MAAM,MAAM,UAAU,WAAW,MAAM,MAAM,YAAY,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,WAAW,MAAM,MAAM,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,MAAM,UAAU,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,UAAU,WAAW,WAAW,UAAU,UAAU,UAAU,MAAM,MAAM,WAAW,UAAU,WAAW,WAAW,WAAW,OAAO,KAAK,MAAM,WAAW,MAAM,YAAY,OAAO,WAAW,aAAa,aAAa,aAAa,MAAM,MAAM,WAAW,WAAW,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,iCAAiC,yBAAyB,uBAAuB,4BAA4B,GAAG,yBAAyB,+BAA+B,GAAG,eAAe,mBAAmB,GAAG,2CAA2C,sHAAsH,yBAAyB,6BAA6B,8BAA8B,oCAAoC,2BAA2B,0BAA0B,+BAA+B,gCAAgC,wCAAwC,6BAA6B,WAAW,kCAAkC,wCAAwC,6BAA6B,WAAW,kCAAkC,wCAAwC,6BAA6B,WAAW,0BAA0B,wCAAwC,6BAA6B,WAAW,8BAA8B,wCAAwC,6BAA6B,WAAW,+BAA+B,wCAAwC,6BAA6B,WAAW,OAAO,eAAe,iCAAiC,sBAAsB,uBAAuB,OAAO,+CAA+C,gCAAgC,iCAAiC,iBAAiB,qCAAqC,0BAA0B,WAAW,kBAAkB,iCAAiC,qCAAqC,0CAA0C,OAAO,uBAAuB,wBAAwB,0BAA0B,WAAW,mCAAmC,2BAA2B,WAAW,OAAO,yBAAyB,sBAAsB,oCAAoC,mCAAmC,wCAAwC,WAAW,OAAO,2BAA2B,yBAAyB,mBAAmB,0BAA0B,WAAW,OAAO,0CAA0C,uBAAuB,mBAAmB,2BAA2B,WAAW,OAAO,wBAAwB,0BAA0B,gBAAgB,+BAA+B,WAAW,OAAO,2BAA2B,yBAAyB,wBAAwB,2BAA2B,0BAA0B,OAAO,uBAAuB,yBAAyB,uBAAuB,OAAO,+BAA+B,yBAAyB,2BAA2B,gCAAgC,4CAA4C,WAAW,2BAA2B,yBAAyB,iCAAiC,WAAW,0BAA0B,yBAAyB,iCAAiC,WAAW,OAAO,+BAA+B,yBAAyB,uBAAuB,2BAA2B,yBAAyB,iCAAiC,WAAW,0BAA0B,yBAAyB,iCAAiC,WAAW,OAAO,iDAAiD,oCAAoC,OAAO,gDAAgD,wBAAwB,OAAO,GAAG,eAAe,WAAW,4BAA4B,uBAAuB,GAAG,iBAAiB,8BAA8B,gCAAgC,wBAAwB,oCAAoC,4BAA4B,4BAA4B,iCAAiC,GAAG,2DAA2D,iCAAiC,gCAAgC,2EAA2E,2CAA2C,eAAe,uCAAuC,mCAAmC,iCAAiC,4CAA4C,yCAAyC,8BAA8B,8BAA8B,iCAAiC,sCAAsC,oCAAoC,qCAAqC,4CAA4C,oDAAoD,wCAAwC,mBAAmB,eAAe,WAAW,OAAO,GAAG,oBAAoB,mCAAmC,GAAG,yDAAyD,4BAA4B,8EAA8E,+CAA+C,eAAe,yBAAyB,iDAAiD,wBAAwB,GAAG,+BAA+B,kCAAkC,GAAG,+BAA+B,kCAAkC,GAAG,mEAAmE,6BAA6B,GAAG,mBAAmB;AACv1N;AACA;;;;;;;;;;;AC7MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/base-component.directive.ts","./src/app/contactTraceCommonServices/common.service.ts","./src/app/filesComponent/files-plugin.component.ts","./src/app/golden-layout-component.service.ts","./src/app/golden-layout-host.component.ts","./src/app/helperClasses/auspiceHandler.ts","./src/app/helperClasses/colorIterator.ts","./src/app/helperClasses/customShapes.ts","./src/app/helperClasses/dialogSettings.ts","./src/app/helperClasses/inlineWorker.ts","./src/app/microbe-trace-next-plugin-visuals.ts","./src/app/microbe-trace-next-plugin.component.ts","./src/app/visualizationComponents/AggregateComponent/aggregate.component.ts","./src/app/visualizationComponents/AlignmentViewComponent/alignment-view-plugin-component.ts","./src/app/visualizationComponents/AlignmentViewComponent/generateAlignmentViewCanvas.ts","./src/app/visualizationComponents/BubbleComponent/bubble.component.ts","./src/app/visualizationComponents/CrosstabComponent/crosstab-plugin.component.ts","./src/app/visualizationComponents/GanttComponent/constants/color-schemes.ts","./src/app/visualizationComponents/GanttComponent/gantt-chart/gantt-chart.component.ts","./src/app/visualizationComponents/GanttComponent/gantt-chart/gantt-chart.service.ts","./src/app/visualizationComponents/GanttComponent/gantt-plugin.component.ts","./src/app/visualizationComponents/HeatmapComponent/heatmap.component.ts","./src/app/visualizationComponents/MapComponent/map-plugin.component.ts","./src/app/visualizationComponents/PhylogeneticComponent/phylogenetic-plugin.component.ts","./src/app/visualizationComponents/TableComponent/table-plugin-component.ts","./src/app/visualizationComponents/TimelineComponent/timeline-component.component.ts","./src/app/visualizationComponents/TwoDComponent/twoD-plugin.component.ts","./src/app/visualizationComponents/WaterfallComponent/waterfall.component.ts","./src/app/workers/workModule.ts","./src/assets/metronic/app/core/core.module.ts","./src/assets/metronic/app/core/directives/menu-aside-offcanvas.directive.ts","./src/assets/metronic/app/core/directives/menu-aside-toggle.directive.ts","./src/assets/metronic/app/core/directives/menu-aside.directive.ts","./src/assets/metronic/app/core/directives/menu-horizontal-offcanvas.directive.ts","./src/assets/metronic/app/core/directives/menu-horizontal.directive.ts","./src/assets/metronic/app/core/services/layout-config.service.ts","./src/assets/metronic/app/core/services/layout/layout-ref.service.ts","./src/assets/metronic/app/core/services/utils.service.ts","./src/environments/environment.prod.ts","./src/main.ts","./src/shared/app.constants.ts","./src/shared/common/app-component-base.ts","./src/shared/common/nav/app-url.service.ts","./src/shared/common/pipes/localize.pipe.ts","./src/shared/common/session/app-session.service.ts","./src/shared/common/ui/app-ui-customization.service.ts","./src/shared/dnd.directive.ts","./src/shared/helpers/PrimengTableHelper.ts","./src/shared/utils/event-emitter.service.ts","./src/shared/utils/local-storage.service.ts","./src/shared/utils/utils.module.ts","./src/app/visualizationComponents/PhylogeneticComponent/tidytree.js","webpack:///./src/app/golden-layout-host.component.ts?addb","./src/app/visualizationComponents/MapComponent/map-plugin.component.css","./src/app/app.component.scss","./src/app/visualizationComponents/AggregateComponent/aggregate.component.scss","./src/app/visualizationComponents/AlignmentViewComponent/alignment-view-plugin-component.scss","./src/app/visualizationComponents/BubbleComponent/bubble.component.scss","./src/app/visualizationComponents/CrosstabComponent/crosstab-plugin.component.scss","./src/app/visualizationComponents/GanttComponent/gantt-chart/gantt-chart.component.scss","./src/app/visualizationComponents/GanttComponent/gantt-plugin.component.scss","./src/app/visualizationComponents/HeatmapComponent/heatmap.component.scss","./src/app/visualizationComponents/PhylogeneticComponent/phylogenetic-plugin.component.scss","./src/app/visualizationComponents/TimelineComponent/timeline-component.component.scss","./src/app/visualizationComponents/TwoDComponent/twoD-plugin.component.scss","./src/app/visualizationComponents/WaterfallComponent/waterfall.component.scss","./src/app/filesComponent/files-plugin.component.less","./src/app/microbe-trace-next-plugin.component.less","./src/app/visualizationComponents/TableComponent/table-plugin-component.less","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MicrobeTraceNextHomeComponent } from './microbe-trace-next-plugin.component';\n\nconst routes: Routes = [\n  { path: '', component: MicrobeTraceNextHomeComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {})],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\nimport {} from '@angular/common/http';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'sample-app';\n}\n\n\n","import { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgModule, Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AppRoutingModule } from './app-routing.module';\nimport { RouterModule, ExtraOptions } from '@angular/router';\n\nimport  Lara  from '@primeng/themes/lara';\nimport { providePrimeNG } from 'primeng/config';\n\nimport { AppComponent } from './app.component';\nimport * as $ from 'jquery';\nimport { provideHttpClient, withInterceptorsFromDi, withJsonpSupport } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\n// import { ServiceProxyModule } from '@shared/service-proxies/service-proxy.module';\nimport { UtilsModule } from '@shared/utils/utils.module';\n// import { AbpModule } from 'abp-ng2-module/dist/src/abp.module';\n// import { ModalModule, TooltipModule, TabsModule, BsDropdownModule, PopoverModule } from 'ngx-bootstrap';\n// import { TableModule } from 'primeng/components/table/table';\n// import { FileUploadModule, ListboxModule, RadioButtonModule, CalendarModule, PaginatorModule, ProgressBarModule, ConfirmDialogModule, DropdownModule, AccordionModule, SidebarModule, MultiSelect, MultiSelectModule, SliderModule } from 'primeng/primeng';\n\nimport { GoldenLayoutComponentService } from './golden-layout-component.service';\nimport { GoldenLayoutHostComponent } from './golden-layout-host.component';\n\nimport { TableModule } from 'primeng/table';\nimport { FileUploadModule } from 'primeng/fileupload';\nimport { ListboxModule } from 'primeng/listbox';\nimport { RadioButtonModule } from 'primeng/radiobutton';\nimport { CalendarModule } from 'primeng/calendar';\nimport { PaginatorModule } from 'primeng/paginator';\nimport { ProgressBarModule } from 'primeng/progressbar';\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { AccordionModule } from 'primeng/accordion';\nimport { SidebarModule } from 'primeng/sidebar';\nimport { MultiSelectModule } from 'primeng/multiselect';\nimport { SliderModule } from 'primeng/slider';\nimport { TabViewModule } from 'primeng/tabview';\nimport { SelectButtonModule } from 'primeng/selectbutton';\nimport { TreeModule } from 'primeng/tree';\nimport { DialogModule } from 'primeng/dialog';\nimport { OrderListModule } from 'primeng/orderlist';\nimport { MicrobeTraceNextHomeComponent } from './microbe-trace-next-plugin.component';\nimport { AppSessionService } from '@shared/common/session/app-session.service';\nimport { AppUiCustomizationService } from '@shared/common/ui/app-ui-customization.service';\nimport { AppUrlService } from '@shared/common/nav/app-url.service';\nimport { FilesComponent } from './filesComponent/files-plugin.component';\nimport { PhylogeneticComponent } from './visualizationComponents/PhylogeneticComponent/phylogenetic-plugin.component';\nimport { TimelineComponent } from './visualizationComponents/TimelineComponent/timeline-component.component';\nimport { TwoDComponent } from './visualizationComponents/TwoDComponent/twoD-plugin.component';\nimport { CoreModule } from '@metronic/app/core/core.module';\nimport { TableComponent } from './visualizationComponents/TableComponent/table-plugin-component';\nimport { MapComponent } from './visualizationComponents/MapComponent/map-plugin.component';\nimport { AlignmentViewComponent } from './visualizationComponents/AlignmentViewComponent/alignment-view-plugin-component';\nimport { LeafletModule } from '@asymmetrik/ngx-leaflet';\nimport { LeafletMarkerClusterModule } from '@asymmetrik/ngx-leaflet-markercluster';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { DndDirective } from '@shared/dnd.directive';\n\nimport {MatSelectModule} from '@angular/material/select';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { CrosstabComponent } from './visualizationComponents/CrosstabComponent/crosstab-plugin.component';\nimport { AggregateComponent } from './visualizationComponents/AggregateComponent/aggregate.component';\nimport { BubbleComponent } from './visualizationComponents/BubbleComponent/bubble.component';\n\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { TabsModule } from 'ngx-bootstrap/tabs';\nimport { ModalModule } from 'ngx-bootstrap/modal';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\n\nimport { GanttComponent } from './visualizationComponents/GanttComponent/gantt-plugin.component';\nimport { GanttChartComponent } from './visualizationComponents/GanttComponent/gantt-chart/gantt-chart.component';\nimport { GanttChartService } from './visualizationComponents/GanttComponent/gantt-chart/gantt-chart.service';\nimport { HeatmapComponent } from './visualizationComponents/HeatmapComponent/heatmap.component';\nimport { WaterfallComponent } from './visualizationComponents/WaterfallComponent/waterfall.component';\nimport { GoogleTagManagerModule } from 'angular-google-tag-manager';\n// import * as PlotlyJS from 'plotly.js-dist-min';\n// import { PlotlyModule } from 'angular-plotly.js';\n\n// It is required to have JQuery as global in the window object.\nwindow['$'] = $;\n\nconst routerOptions: ExtraOptions = {\n  // Your router configurations\n};\n// PlotlyModule.plotlyjs = PlotlyJS;\n\n@Component({\n  template: `<h1>Test2</h1>`,\n  selector: `app-tested`,\n})\nexport class TestedComponent {\n  constructor() { }\n\n}\n\n\n@NgModule({ declarations: [\n        AppComponent,\n        MicrobeTraceNextHomeComponent,\n        FilesComponent,\n        TwoDComponent,\n        TableComponent,\n        GoldenLayoutHostComponent,\n        MapComponent,\n        TestedComponent,\n        DndDirective,\n        PhylogeneticComponent,\n        TimelineComponent,\n        AlignmentViewComponent,\n        CrosstabComponent,\n        AggregateComponent,\n        GanttChartComponent,\n        GanttComponent,\n        HeatmapComponent,\n        BubbleComponent,\n        WaterfallComponent,\n    ],\n    exports: [\n        SelectButtonModule\n    ],\n    bootstrap: [AppComponent], imports: [BrowserModule,\n        BrowserAnimationsModule,\n        FormsModule,\n        MatButtonModule,\n        MatInputModule,\n        MatMenuModule,\n        MatSliderModule,\n        MatToolbarModule,\n        MatSelectModule,\n        MatProgressSpinnerModule,\n        MatIconModule,\n        ModalModule.forRoot(),\n        TooltipModule.forRoot(),\n        TabsModule.forRoot(),\n        BsDropdownModule.forRoot(),\n        PopoverModule.forRoot(),\n        FileUploadModule,\n        AppRoutingModule,\n        UtilsModule,\n        TableModule,\n        ListboxModule,\n        RadioButtonModule,\n        CalendarModule,\n        PaginatorModule,\n        ProgressBarModule,\n        CoreModule,\n        ConfirmDialogModule,\n        DropdownModule,\n        TabViewModule,\n        SelectButtonModule,\n        TreeModule,\n        DialogModule,\n        AccordionModule,\n        SidebarModule,\n        MultiSelectModule,\n        SliderModule,\n        LeafletModule,\n        LeafletMarkerClusterModule,\n        OrderListModule,\n        GoogleTagManagerModule.forRoot({ id: 'G-0MWHB1NG2M', }),\n        CommonModule], providers: [\n          providePrimeNG({\n            theme: {\n                preset: Lara,\n            },\n        }),\n        AppSessionService,\n        AppUiCustomizationService,\n        AppUrlService,\n        GanttChartService,\n        GoldenLayoutComponentService,\n        provideHttpClient(withInterceptorsFromDi(), withJsonpSupport()),\n    ] })\nexport class AppModule { }\n","import { Directive, InjectionToken } from '@angular/core';\nimport { ComponentContainer } from \"golden-layout\";\n  \n@Directive()\nexport abstract class BaseComponentDirective {\n    constructor(public rootHtmlElement: HTMLElement) {\n\n    }\n\n    setPositionAndSize(left: number, top: number, width: number, height: number) {\n        this.rootHtmlElement.style.left = this.numberToPixels(left);\n        this.rootHtmlElement.style.top = this.numberToPixels(top);\n        this.rootHtmlElement.style.width = this.numberToPixels(width);\n        this.rootHtmlElement.style.height = this.numberToPixels(height);\n    } \n\n    setVisibility(visible: boolean) {\n        if (visible) {\n            this.rootHtmlElement.style.display = '';\n        } else {\n            this.rootHtmlElement.style.display = 'none';\n        }\n    }\n\n    setZIndex(value: string) {\n        this.rootHtmlElement.style.zIndex = value;\n    }\n\n    /**\n     * Convert a number to a string and adds 'px' at end of the string\n     * @param value a number to be converted into string\n     * @returns the string\n     */\n    private numberToPixels(value: number): string {\n        return value.toString(10) + 'px';\n    }\n}\n\nexport namespace BaseComponentDirective {\n    const GoldenLayoutContainerTokenName = 'GoldenLayoutContainer'; \n    export const GoldenLayoutContainerInjectionToken = new InjectionToken<ComponentContainer>(GoldenLayoutContainerTokenName);\n}\n","import { Injectable, OnInit, Output, EventEmitter, Injector, Directive } from '@angular/core';\nimport { BehaviorSubject, Observable, of, Subject } from 'rxjs';\nimport * as d3 from 'd3';\nimport * as patristic from 'patristic';\nimport * as Papa from 'papaparse';\nimport * as _ from 'lodash';\nimport moment from 'moment';\nimport { WorkerModule } from '../workers/workModule';\nimport { LocalStorageService } from '@shared/utils/local-storage.service';\n//import countriesJson from '../data/countries.json';\n//import countiesJson from '../data/counties.json';\n//import statesJson from '../data/states.json';\n//import landJson from '../data/land.json';\n//import starsJson from '../data/stars.json';\n\nimport AuspiceHandler from '@app/helperClasses/auspiceHandler';\nimport { AppComponentBase } from '@shared/common/app-component-base';\nimport { StashObjects, StashObject } from '../helperClasses/interfaces';\nimport { MicrobeTraceNextVisuals } from '../microbe-trace-next-plugin-visuals';\nimport { HttpClient } from '@angular/common/http';\nimport { GraphData, LinkDatum, NodeDatum } from '@app/visualizationComponents/TwoDComponent/data';\n\n\nexport interface ExportOptions {\n    filename: string;\n    filetype: string;\n    scale: number;\n    quality: number;\n  }\n\n@Directive()\n@Injectable({\n    providedIn: 'root',\n})\nexport class CommonService extends AppComponentBase implements OnInit {\n\n    @Output() LoadViewEvent = new EventEmitter();\n\n    decoder: any = new TextDecoder('utf-8');\n    r01: any = Math.random;\n\n    thresholdHistogram: any;\n\n    computer: WorkerModule;\n\n    activeTab: string = 'Files';\n\n    // Set this to true to enable the debug mode/console logs to appear\n    public debugMode: boolean = false;\n\n    private linkElementSource = new BehaviorSubject<HTMLElement | null>(null);\n    private nodeElementSource = new BehaviorSubject<HTMLElement | null>(null);\n\n    currentLinkTableElement = this.linkElementSource.asObservable();\n\n    currentNodeTableElement = this.nodeElementSource.asObservable();\n\n\n    setLinkTableElement(element: HTMLElement | null) {\n        this.linkElementSource.next(element);\n    }\n\n    setNodeTableElement(element: HTMLElement | null) {\n        this.nodeElementSource.next(element);\n    }\n\n    GlobalSettingsModel: any = {\n        SelectedColorNodesByVariable: 'None',\n        SelectedColorLinksByVariable: 'None',\n        SelectedNodeColorVariable: 'None',\n        SelectedLinkColorVariable: '#a6cee3',\n        SelectedPruneWityTypesVariable: 'None',\n        SelectedStatisticsTypesVariable: 'Hide',\n        SelectedClusterMinimumSizeVariable: 0,\n        SelectedLinkSortVariable: 'Distance',\n        SelectedLinkThresholdVariable: 0.015,\n        SelectedDistanceMetricVariable: 'tn93',\n        SelectedLinkColorTableTypesVariable: 'Hide',\n        SelectedNodeColorTableTypesVariable: 'Hide',\n\n        SelectedColorVariable: '#ff8300',\n        SelectedBackgroundColorVariable: '#ffffff',\n        SelectedApplyStyleVariable: '',\n        SelectedRevealTypesVariable: 'Everything'\n    };\n\n    // EventEmitter to notify components of changes\n    metricChanged: EventEmitter<string> = new EventEmitter();\n\n    // EventEmitter to notify components of changes\n    sessionDestroyed: EventEmitter<boolean> = new EventEmitter();\n\n    // EventEmitter to notify components of changes\n    newSession: EventEmitter<boolean> = new EventEmitter();\n\n    // EventEmitter to notify components of changes\n    styleFileApplied: EventEmitter<boolean> = new EventEmitter();\n\n    // EventEmitter to notify components of changes\n    tableCleared: EventEmitter<string> = new EventEmitter();\n\n    // EventEmitter to notify components of changes\n    statisticsChanged: EventEmitter<string> = new EventEmitter();\n\n    // EventEmitter to notify components of changes\n    FP_removeFiles: EventEmitter<string> = new EventEmitter();\n\n    // EventEmitter to notify components of changes\n    twoD_saveNodePos: EventEmitter<string> = new EventEmitter();\n\n    /**\n     * Returns an object that will eventually be filled with data. It is accessed throught commonService.session.data\n     * It will store a list of nodes, links, and clusters as well as fields that can be used for each\n     */\n    dataSkeleton = () => {\n        return {\n            nodes: [],\n            links: [],\n            unoNodes: [],\n            unoLinks: [],\n            clusters: [],\n            nodeFields: [\n                'index',\n                '_id',\n                'selected',\n                'cluster',\n                'visible',\n                'degree',\n                'origin'\n            ],\n            nodeExclusions: [],\n            linkFields: [\n                'index',\n                'source',\n                'target',\n                'distance',\n                'visible',\n                'cluster',\n                'origin',\n                'nn',\n                'directed'\n            ],\n            clusterFields: [\n                'id',\n                'nodes',\n                'links',\n                'sum_distances',\n                'links_per_node',\n                'mean_genetic_distance',\n                'visible'\n            ],\n            nodeFilter: {},\n            linkFilter: {},\n            clusterFilter: {},\n            nodeFilteredValues: [],\n            linkFilteredValues: [],\n            clusterFilteredValues: [],\n            nodeTableColumns: [],\n            linkTableColumns: [],\n            clusterTableColumns: [],\n            tree: {},\n            newickString: '',\n            reference:\n                'CCTCAGGTCACTCTTTGGCAACGACCCCTCGTCACAATAAAGATAGGGGGGCAACTAAAGGAAGCTCTATTAGATACAGGAGCAGATGATACAGTATTAGAAGAAATGAGTTTGCCAGGAAGATGGAAACCAAAAATGATAGGGGGAATTGGAGGTTTTATCAAAGTAAGACAGTATGATCAGATACTCATAGAAATCTGTGGACATAAAGCTATAGGTACAGTATTAGTAGGACCTACACCTGTCAACATAATTGGAAGAAATCTGTTGACTCAGATTGGTTGCACTTTAAATTTTCCCATTAGCCCTATTGAGACTGTACCAGTAAAATTAAAGCCAGGAATGGATGGCCCAAAAGTTAAACAATGGCCATTGACAGAAGAAAAAATAAAAGCATTAGTAGAAATTTGTACAGAGATGGAAAAGGAAGGGAAAATTTCAAAAATTGGGCCTGAAAATCCATACAATACTCCAGTATTTGCCATAAAGAAAAAAGACAGTACTAAATGGAGAAAATTAGTAGATTTCAGAGAACTTAATAAGAGAACTCAAGACTTCTGGGAAGTTCAATTAGGAATACCACATCCCGCAGGGTTAAAAAAGAAAAAATCAGTAACAGTACTGGATGTGGGTGATGCATATTTTTCAGTTCCCTTAGATGAAGACTTCAGGAAGTATACTGCATTTACCATACCTAGTATAAACAATGAGACACCAGGGATTAGATATCAGTACAATGTGCTTCCACAGGGATGGAAAGGATCACCAGCAATATTCCAAAGTAGCATGACAAAAATCTTAGAGCCTTTTAGAAAACAAAATCCAGACATAGTTATCTATCAATACATGGATGATTTGTATGTAGGATCTGACTTAGAAATAGGGCAGCATAGAACAAAAATAGAGGAGCTGAGACAACATCTGTTGAGGTGGGGACTTACCACACCAGACAAAAAACATCAGAAAGAACCTCCATTCCTTTGGATGGGTTATGAACTCCATCCTGATAAATGGACAGTACAGCCTATAGTGCTGCCAGAAAAAGACAGCTGGACTGTCAATGACATACAGAAGTTAGTGGGGAAATTGAATTGGGCAAGTCAGATTTACCCAGGGATTAAAGTAAGGCAATTATGTAAACTCCTTAGAGGAACCAAAGCACTAACAGAAGTAATACCACTAACAGAAGAAGCAGAGCTAGAACTGGCAGAAAACAGAGAGATTCTAAAAGAACCAGTACATGGAGTGTATTATGACCCATCAAAAGACTTAATAGCAGAAATACAGAAGCAGGGGCAAGGCCAATGGACATATCAAATTTATCAAGAGCCATTTAAAAATCTGAAAACAGGAAAATATGCAAGAATGAGGGGTGCCCACACTAATGATGTAAAACAATTAACAGAGGCAGTGCAAAAAATAACCACAGAAAGCATAGTAATATGGGGAAAGACTCCTAAATTTAAACTGCCCATACAAAAGGAAACATGGGAAACATGGTGGACAGAGTATTGGCAAGCCACCTGGATTCCTGAGTGGGAGTTTGTTAATACCCCTCCCTTAGTGAAATTATGGTACCAGTTAGAGAAAGAACCCATAGTAGGAGCAGAAACCTTC'\n        };\n    };\n\n    watermark: any = 'data:image/png;base64,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';\n    HXB2: any = 'TGGAAGGGCTAATTCACTCCCAACGAAGACAAGATATCCTTGATCTGTGGATCTACCACACACAAGGCTACTTCCCTGATTAGCAGAACTACACACCAGGGCCAGGGATCAGATATCCACTGACCTTTGGATGGTGCTACAAGCTAGTACCAGTTGAGCCAGAGAAGTTAGAAGAAGCCAACAAAGGAGAGAACACCAGCTTGTTACACCCTGTGAGCCTGCATGGAATGGATGACCCGGAGAGAGAAGTGTTAGAGTGGAGGTTTGACAGCCGCCTAGCATTTCATCACATGGCCCGAGAGCTGCATCCGGAGTACTTCAAGAACTGCTGACATCGAGCTTGCTACAAGGGACTTTCCGCTGGGGACTTTCCAGGGAGGCGTGGCCTGGGCGGGACTGGGGAGTGGCGAGCCCTCAGATCCTGCATATAAGCAGCTGCTTTTTGCCTGTACTGGGTCTCTCTGGTTAGACCAGATCTGAGCCTGGGAGCTCTCTGGCTAACTAGGGAACCCACTGCTTAAGCCTCAATAAAGCTTGCCTTGAGTGCTTCAAGTAGTGTGTGCCCGTCTGTTGTGTGACTCTGGTAACTAGAGATCCCTCAGACCCTTTTAGTCAGTGTGGAAAATCTCTAGCAGTGGCGCCCGAACAGGGACCTGAAAGCGAAAGGGAAACCAGAGGAGCTCTCTCGACGCAGGACTCGGCTTGCTGAAGCGCGCACGGCAAGAGGCGAGGGGCGGCGACTGGTGAGTACGCCAAAAATTTTGACTAGCGGAGGCTAGAAGGAGAGAGATGGGTGCGAGAGCGTCAGTATTAAGCGGGGGAGAATTAGATCGATGGGAAAAAATTCGGTTAAGGCCAGGGGGAAAGAAAAAATATAAATTAAAACATATAGTATGGGCAAGCAGGGAGCTAGAACGATTCGCAGTTAATCCTGGCCTGTTAGAAACATCAGAAGGCTGTAGACAAATACTGGGACAGCTACAACCATCCCTTCAGACAGGATCAGAAGAACTTAGATCATTATATAATACAGTAGCAACCCTCTATTGTGTGCATCAAAGGATAGAGATAAAAGACACCAAGGAAGCTTTAGACAAGATAGAGGAAGAGCAAAACAAAAGTAAGAAAAAAGCACAGCAAGCAGCAGCTGACACAGGACACAGCAATCAGGTCAGCCAAAATTACCCTATAGTGCAGAACATCCAGGGGCAAATGGTACATCAGGCCATATCACCTAGAACTTTAAATGCATGGGTAAAAGTAGTAGAAGAGAAGGCTTTCAGCCCAGAAGTGATACCCATGTTTTCAGCATTATCAGAAGGAGCCACCCCACAAGATTTAAACACCATGCTAAACACAGTGGGGGGACATCAAGCAGCCATGCAAATGTTAAAAGAGACCATCAATGAGGAAGCTGCAGAATGGGATAGAGTGCATCCAGTGCATGCAGGGCCTATTGCACCAGGCCAGATGAGAGAACCAAGGGGAAGTGACATAGCAGGAACTACTAGTACCCTTCAGGAACAAATAGGATGGATGACAAATAATCCACCTATCCCAGTAGGAGAAATTTATAAAAGATGGATAATCCTGGGATTAAATAAAATAGTAAGAATGTATAGCCCTACCAGCATTCTGGACATAAGACAAGGACCAAAGGAACCCTTTAGAGACTATGTAGACCGGTTCTATAAAACTCTAAGAGCCGAGCAAGCTTCACAGGAGGTAAAAAATTGGATGACAGAAACCTTGTTGGTCCAAAATGCGAACCCAGATTGTAAGACTATTTTAAAAGCATTGGGACCAGCGGCTACACTAGAAGAAATGATGACAGCATGTCAGGGAGTAGGAGGACCCGGCCATAAGGCAAGAGTTTTGGCTGAAGCAATGAGCCAAGTAACAAATTCAGCTACCATAATGATGCAGAGAGGCAATTTTAGGAACCAAAGAAAGATTGTTAAGTGTTTCAATTGTGGCAAAGAAGGGCACACAGCCAGAAATTGCAGGGCCCCTAGGAAAAAGGGCTGTTGGAAATGTGGAAAGGAAGGACACCAAATGAAAGATTGTACTGAGAGACAGGCTAATTTTTTAGGGAAGATCTGGCCTTCCTACAAGGGAAGGCCAGGGAATTTTCTTCAGAGCAGACCAGAGCCAACAGCCCCACCAGAAGAGAGCTTCAGGTCTGGGGTAGAGACAACAACTCCCCCTCAGAAGCAGGAGCCGATAGACAAGGAACTGTATCCTTTAACTTCCCTCAGGTCACTCTTTGGCAACGACCCCTCGTCACAATAAAGATAGGGGGGCAACTAAAGGAAGCTCTATTAGATACAGGAGCAGATGATACAGTATTAGAAGAAATGAGTTTGCCAGGAAGATGGAAACCAAAAATGATAGGGGGAATTGGAGGTTTTATCAAAGTAAGACAGTATGATCAGATACTCATAGAAATCTGTGGACATAAAGCTATAGGTACAGTATTAGTAGGACCTACACCTGTCAACATAATTGGAAGAAATCTGTTGACTCAGATTGGTTGCACTTTAAATTTTCCCATTAGCCCTATTGAGACTGTACCAGTAAAATTAAAGCCAGGAATGGATGGCCCAAAAGTTAAACAATGGCCATTGACAGAAGAAAAAATAAAAGCATTAGTAGAAATTTGTACAGAGATGGAAAAGGAAGGGAAAATTTCAAAAATTGGGCCTGAAAATCCATACAATACTCCAGTATTTGCCATAAAGAAAAAAGACAGTACTAAATGGAGAAAATTAGTAGATTTCAGAGAACTTAATAAGAGAACTCAAGACTTCTGGGAAGTTCAATTAGGAATACCACATCCCGCAGGGTTAAAAAAGAAAAAATCAGTAACAGTACTGGATGTGGGTGATGCATATTTTTCAGTTCCCTTAGATGAAGACTTCAGGAAGTATACTGCATTTACCATACCTAGTATAAACAATGAGACACCAGGGATTAGATATCAGTACAATGTGCTTCCACAGGGATGGAAAGGATCACCAGCAATATTCCAAAGTAGCATGACAAAAATCTTAGAGCCTTTTAGAAAACAAAATCCAGACATAGTTATCTATCAATACATGGATGATTTGTATGTAGGATCTGACTTAGAAATAGGGCAGCATAGAACAAAAATAGAGGAGCTGAGACAACATCTGTTGAGGTGGGGACTTACCACACCAGACAAAAAACATCAGAAAGAACCTCCATTCCTTTGGATGGGTTATGAACTCCATCCTGATAAATGGACAGTACAGCCTATAGTGCTGCCAGAAAAAGACAGCTGGACTGTCAATGACATACAGAAGTTAGTGGGGAAATTGAATTGGGCAAGTCAGATTTACCCAGGGATTAAAGTAAGGCAATTATGTAAACTCCTTAGAGGAACCAAAGCACTAACAGAAGTAATACCACTAACAGAAGAAGCAGAGCTAGAACTGGCAGAAAACAGAGAGATTCTAAAAGAACCAGTACATGGAGTGTATTATGACCCATCAAAAGACTTAATAGCAGAAATACAGAAGCAGGGGCAAGGCCAATGGACATATCAAATTTATCAAGAGCCATTTAAAAATCTGAAAACAGGAAAATATGCAAGAATGAGGGGTGCCCACACTAATGATGTAAAACAATTAACAGAGGCAGTGCAAAAAATAACCACAGAAAGCATAGTAATATGGGGAAAGACTCCTAAATTTAAACTGCCCATACAAAAGGAAACATGGGAAACATGGTGGACAGAGTATTGGCAAGCCACCTGGATTCCTGAGTGGGAGTTTGTTAATACCCCTCCCTTAGTGAAATTATGGTACCAGTTAGAGAAAGAACCCATAGTAGGAGCAGAAACCTTCTATGTAGATGGGGCAGCTAACAGGGAGACTAAATTAGGAAAAGCAGGATATGTTACTAATAGAGGAAGACAAAAAGTTGTCACCCTAACTGACACAACAAATCAGAAGACTGAGTTACAAGCAATTTATCTAGCTTTGCAGGATTCGGGATTAGAAGTAAACATAGTAACAGACTCACAATATGCATTAGGAATCATTCAAGCACAACCAGATCAAAGTGAATCAGAGTTAGTCAATCAAATAATAGAGCAGTTAATAAAAAAGGAAAAGGTCTATCTGGCATGGGTACCAGCACACAAAGGAATTGGAGGAAATGAACAAGTAGATAAATTAGTCAGTGCTGGAATCAGGAAAGTACTATTTTTAGATGGAATAGATAAGGCCCAAGATGAACATGAGAAATATCACAGTAATTGGAGAGCAATGGCTAGTGATTTTAACCTGCCACCTGTAGTAGCAAAAGAAATAGTAGCCAGCTGTGATAAATGTCAGCTAAAAGGAGAAGCCATGCATGGACAAGTAGACTGTAGTCCAGGAATATGGCAACTAGATTGTACACATTTAGAAGGAAAAGTTATCCTGGTAGCAGTTCATGTAGCCAGTGGATATATAGAAGCAGAAGTTATTCCAGCAGAAACAGGGCAGGAAACAGCATATTTTCTTTTAAAATTAGCAGGAAGATGGCCAGTAAAAACAATACATACTGACAATGGCAGCAATTTCACCGGTGCTACGGTTAGGGCCGCCTGTTGGTGGGCGGGAATCAAGCAGGAATTTGGAATTCCCTACAATCCCCAAAGTCAAGGAGTAGTAGAATCTATGAATAAAGAATTAAAGAAAATTATAGGACAGGTAAGAGATCAGGCTGAACATCTTAAGACAGCAGTACAAATGGCAGTATTCATCCACAATTTTAAAAGAAAAGGGGGGATTGGGGGGTACAGTGCAGGGGAAAGAATAGTAGACATAATAGCAACAGACATACAAACTAAAGAATTACAAAAACAAATTACAAAAATTCAAAATTTTCGGGTTTATTACAGGGACAGCAGAAATCCACTTTGGAAAGGACCAGCAAAGCTCCTCTGGAAAGGTGAAGGGGCAGTAGTAATACAAGATAATAGTGACATAAAAGTAGTGCCAAGAAGAAAAGCAAAGATCATTAGGGATTATGGAAAACAGATGGCAGGTGATGATTGTGTGGCAAGTAGACAGGATGAGGATTAGAACATGGAAAAGTTTAGTAAAACACCATATGTATGTTTCAGGGAAAGCTAGGGGATGGTTTTATAGACATCACTATGAAAGCCCTCATCCAAGAATAAGTTCAGAAGTACACATCCCACTAGGGGATGCTAGATTGGTAATAACAACATATTGGGGTCTGCATACAGGAGAAAGAGACTGGCATTTGGGTCAGGGAGTCTCCATAGAATGGAGGAAAAAGAGATATAGCACACAAGTAGACCCTGAACTAGCAGACCAACTAATTCATCTGTATTACTTTGACTGTTTTTCAGACTCTGCTATAAGAAAGGCCTTATTAGGACACATAGTTAGCCCTAGGTGTGAATATCAAGCAGGACATAACAAGGTAGGATCTCTACAATACTTGGCACTAGCAGCATTAATAACACCAAAAAAGATAAAGCCACCTTTGCCTAGTGTTACGAAACTGACAGAGGATAGATGGAACAAGCCCCAGAAGACCAAGGGCCACAGAGGGAGCCACACAATGAATGGACACTAGAGCTTTTAGAGGAGCTTAAGAATGAAGCTGTTAGACATTTTCCTAGGATTTGGCTCCATGGCTTAGGGCAACATATCTATGAAACTTATGGGGATACTTGGGCAGGAGTGGAAGCCATAATAAGAATTCTGCAACAACTGCTGTTTATCCATTTTCAGAATTGGGTGTCGACATAGCAGAATAGGCGTTACTCGACAGAGGAGAGCAAGAAATGGAGCCAGTAGATCCTAGACTAGAGCCCTGGAAGCATCCAGGAAGTCAGCCTAAAACTGCTTGTACCAATTGCTATTGTAAAAAGTGTTGCTTTCATTGCCAAGTTTGTTTCATAACAAAAGCCTTAGGCATCTCCTATGGCAGGAAGAAGCGGAGACAGCGACGAAGAGCTCATCAGAACAGTCAGACTCATCAAGCTTCTCTATCAAAGCAGTAAGTAGTACATGTAACGCAACCTATACCAATAGTAGCAATAGTAGCATTAGTAGTAGCAATAATAATAGCAATAGTTGTGTGGTCCATAGTAATCATAGAATATAGGAAAATATTAAGACAAAGAAAAATAGACAGGTTAATTGATAGACTAATAGAAAGAGCAGAAGACAGTGGCAATGAGAGTGAAGGAGAAATATCAGCACTTGTGGAGATGGGGGTGGAGATGGGGCACCATGCTCCTTGGGATGTTGATGATCTGTAGTGCTACAGAAAAATTGTGGGTCACAGTCTATTATGGGGTACCTGTGTGGAAGGAAGCAACCACCACTCTATTTTGTGCATCAGATGCTAAAGCATATGATACAGAGGTACATAATGTTTGGGCCACACATGCCTGTGTACCCACAGACCCCAACCCACAAGAAGTAGTATTGGTAAATGTGACAGAAAATTTTAACATGTGGAAAAATGACATGGTAGAACAGATGCATGAGGATATAATCAGTTTATGGGATCAAAGCCTAAAGCCATGTGTAAAATTAACCCCACTCTGTGTTAGTTTAAAGTGCACTGATTTGAAGAATGATACTAATACCAATAGTAGTAGCGGGAGAATGATAATGGAGAAAGGAGAGATAAAAAACTGCTCTTTCAATATCAGCACAAGCATAAGAGGTAAGGTGCAGAAAGAATATGCATTTTTTTATAAACTTGATATAATACCAATAGATAATGATACTACCAGCTATAAGTTGACAAGTTGTAACACCTCAGTCATTACACAGGCCTGTCCAAAGGTATCCTTTGAGCCAATTCCCATACATTATTGTGCCCCGGCTGGTTTTGCGATTCTAAAATGTAATAATAAGACGTTCAATGGAACAGGACCATGTACAAATGTCAGCACAGTACAATGTACACATGGAATTAGGCCAGTAGTATCAACTCAACTGCTGTTAAATGGCAGTCTAGCAGAAGAAGAGGTAGTAATTAGATCTGTCAATTTCACGGACAATGCTAAAACCATAATAGTACAGCTGAACACATCTGTAGAAATTAATTGTACAAGACCCAACAACAATACAAGAAAAAGAATCCGTATCCAGAGAGGACCAGGGAGAGCATTTGTTACAATAGGAAAAATAGGAAATATGAGACAAGCACATTGTAACATTAGTAGAGCAAAATGGAATAACACTTTAAAACAGATAGCTAGCAAATTAAGAGAACAATTTGGAAATAATAAAACAATAATCTTTAAGCAATCCTCAGGAGGGGACCCAGAAATTGTAACGCACAGTTTTAATTGTGGAGGGGAATTTTTCTACTGTAATTCAACACAACTGTTTAATAGTACTTGGTTTAATAGTACTTGGAGTACTGAAGGGTCAAATAACACTGAAGGAAGTGACACAATCACCCTCCCATGCAGAATAAAACAAATTATAAACATGTGGCAGAAAGTAGGAAAAGCAATGTATGCCCCTCCCATCAGTGGACAAATTAGATGTTCATCAAATATTACAGGGCTGCTATTAACAAGAGATGGTGGTAATAGCAACAATGAGTCCGAGATCTTCAGACCTGGAGGAGGAGATATGAGGGACAATTGGAGAAGTGAATTATATAAATATAAAGTAGTAAAAATTGAACCATTAGGAGTAGCACCCACCAAGGCAAAGAGAAGAGTGGTGCAGAGAGAAAAAAGAGCAGTGGGAATAGGAGCTTTGTTCCTTGGGTTCTTGGGAGCAGCAGGAAGCACTATGGGCGCAGCCTCAATGACGCTGACGGTACAGGCCAGACAATTATTGTCTGGTATAGTGCAGCAGCAGAACAATTTGCTGAGGGCTATTGAGGCGCAACAGCATCTGTTGCAACTCACAGTCTGGGGCATCAAGCAGCTCCAGGCAAGAATCCTGGCTGTGGAAAGATACCTAAAGGATCAACAGCTCCTGGGGATTTGGGGTTGCTCTGGAAAACTCATTTGCACCACTGCTGTGCCTTGGAATGCTAGTTGGAGTAATAAATCTCTGGAACAGATTTGGAATCACACGACCTGGATGGAGTGGGACAGAGAAATTAACAATTACACAAGCTTAATACACTCCTTAATTGAAGAATCGCAAAACCAGCAAGAAAAGAATGAACAAGAATTATTGGAATTAGATAAATGGGCAAGTTTGTGGAATTGGTTTAACATAACAAATTGGCTGTGGTATATAAAATTATTCATAATGATAGTAGGAGGCTTGGTAGGTTTAAGAATAGTTTTTGCTGTACTTTCTATAGTGAATAGAGTTAGGCAGGGATATTCACCATTATCGTTTCAGACCCACCTCCCAACCCCGAGGGGACCCGACAGGCCCGAAGGAATAGAAGAAGAAGGTGGAGAGAGAGACAGAGACAGATCCATTCGATTAGTGAACGGATCCTTGGCACTTATCTGGGACGATCTGCGGAGCCTGTGCCTCTTCAGCTACCACCGCTTGAGAGACTTACTCTTGATTGTAACGAGGATTGTGGAACTTCTGGGACGCAGGGGGTGGGAAGCCCTCAAATATTGGTGGAATCTCCTACAGTATTGGAGTCAGGAACTAAAGAATAGTGCTGTTAGCTTGCTCAATGCCACAGCCATAGCAGTAGCTGAGGGGACAGATAGGGTTATAGAAGTAGTACAAGGAGCTTGTAGAGCTATTCGCCACATACCTAGAAGAATAAGACAGGGCTTGGAAAGGATTTTGCTATAAGATGGGTGGCAAGTGGTCAAAAAGTAGTGTGATTGGATGGCCTACTGTAAGGGAAAGAATGAGACGAGCTGAGCCAGCAGCAGATAGGGTGGGAGCAGCATCTCGAGACCTGGAAAAACATGGAGCAATCACAAGTAGCAATACAGCAGCTACCAATGCTGCTTGTGCCTGGCTAGAAGCACAAGAGGAGGAGGAGGTGGGTTTTCCAGTCACACCTCAGGTACCTTTAAGACCAATGACTTACAAGGCAGCTGTAGATCTTAGCCACTTTTTAAAAGAAAAGGGGGGACTGGAAGGGCTAATTCACTCCCAAAGAAGACAAGATATCCTTGATCTGTGGATCTACCACACACAAGGCTACTTCCCTGATTAGCAGAACTACACACCAGGGCCAGGGGTCAGATATCCACTGACCTTTGGATGGTGCTACAAGCTAGTACCAGTTGAGCCAGATAAGATAGAAGAGGCCAATAAAGGAGAGAACACCAGCTTGTTACACCCTGTGAGCCTGCATGGGATGGATGACCCGGAGAGAGAAGTGTTAGAGTGGAGGTTTGACAGCCGCCTAGCATTTCATCACGTGGCCCGAGAGCTGCATCCGGAGTACTTCAAGAACTGCTGACATCGAGCTTGCTACAAGGGACTTTCCGCTGGGGACTTTCCAGGGAGGCGTGGCCTGGGCGGGACTGGGGAGTGGCGAGCCCTCAGATCCTGCATATAAGCAGCTGCTTTTTGCCTGTACTGGGTCTCTCTGGTTAGACCAGATCTGAGCCTGGGAGCTCTCTGGCTAACTAGGGAACCCACTGCTTAAGCCTCAATAAAGCTTGCCTTGAGTGCTTCAAGTAGTGTGTGCCCGTCTGTTGTGTGACTCTGGTAACTAGAGATCCCTCAGACCCTTTTAGTCAGTGTGGAAAATCTCTAGCA';\n    // layout: any = new GoldenLayout({\n    //     settings: {\n    //         selectionEnabled: true,\n    //         showPopoutIcon: false\n    //     },\n    //     content: [\n    //         {\n    //             type: 'stack',\n    //             content: []\n    //         }\n    //     ]\n    // }, $('#main-panel'));\n\n    /**\n     * @returns an object that stores the common widgets/settings used throughout MicrobeTrace\n     */\n    defaultWidgets = () => {\n        return {\n            '3DNet-link-tooltip-variable': 'None',\n            '3DNet-link-transparency': 0,\n            '3DNet-link-width': 1.6,\n            '3DNet-node-tooltip-variable': '_id',\n            '3DNet-node-radius': 4,\n            '3DNet-node-radius-variable': 'None',\n            'align-sw': false,\n            'align-none': true,\n            'alignView-charSetting': 'hide',\n            'alignView-colorSchemeName': 'n',\n            'alignView-customColorScheme': {\n                'A': '#ccff00',\n                'C': '#ffff00',\n                'G': '#ff9900',\n                'T': '#ff6600',\n                'ambig': '#ffffff',\n            },\n            'alignView-labelField': '_id',\n            'alignView-rulerMinorInterval': 20,\n            'alignView-selectedSize': 'l',\n            'alignView-showMiniMap': true,\n            'alignView-sortField': 'index',\n            'alignView-spanWidth': 10,\n            'alignView-spanHeight': 16,\n            'alignView-topDisplay': 'logo',\n            'ambiguity-resolution-strategy': 'AVERAGE',\n            'ambiguity-threshold': 0.015,\n            'background-color': '#ffffff',\n            'background-color-contrast': '#000000',\n            'bubble-x': 'cluster',\n            'bubble-y': 'None',\n            'bubble-charge': 0.05,\n            'bubble-size': 20,\n            'bubble-collapsed': false,\n            'choropleth-aggregate-as': 'states',\n            'choropleth-aggregate-on': 'None',\n            'choropleth-basemap-show': false,\n            'choropleth-color-high': '#800026',\n            'choropleth-color-low': '#ffffcc',\n            'choropleth-color-medium': '#fd8d3c',\n            'choropleth-satellite-show': false,\n            'choropleth-transparency': 0.3,\n            'cluster-minimum-size': 1,\n            'default-view': '2D Network', // 'Phylogenetic Tree' 'Alignment View'\n            'default-distance-metric': 'tn93',\n            'filtering-epsilon': -8,\n            'flow-showNodes': 'selected',\n            'gantt-date-list': '',\n            'globe-countries-show': false,\n            'globe-field-lat': 'None',\n            'globe-field-lon': 'None',\n            'globe-field-tract': 'None',\n            'globe-field-zipcode': 'None',\n            'globe-field-county': 'None',\n            'globe-field-state': 'None',\n            'globe-field-country': 'None',\n            'globe-link-show': true,\n            'globe-link-transparency': 0,\n            'globe-node-jitter': -2,\n            'globe-node-show': true,\n            'globe-node-transparency': 0,\n            'globe-stars-show': true,\n            'heatmap-invertX': false,\n            'heatmap-invertY': false,\n            'heatmap-color-high': '#a50026',\n            'heatmap-color-medium': '#ffffbf',\n            'heatmap-color-low': '#313695',\n            'heatmap-axislabels-show': false,\n            'histogram-axis-x': true,\n            'histogram-scale-log': false,\n            'histogram-variable': 'links-distance',\n            'infer-directionality-false': true,\n            'link-color': '#a6cee3',\n            'link-color-table-counts': true,\n            'link-color-table-frequencies': false,\n            'link-color-variable': 'None',\n            'link-directed': false,\n            'link-bidirectional': false,\n            'link-label-variable': 'None',\n            'link-label-decimal-length' : 3,\n            'link-length': 0.125,\n            'link-opacity': 0,\n            'link-show-nn': false,\n            'link-sort-variable': 'distance',\n            'link-threshold': 0.015,\n            'link-tooltip-variable': ['None'],\n            'link-width': 3,\n            \"link-width-max\":27,\n            \"link-width-min\":3,\n            'link-width-variable': 'None',\n            'link-width-reciprocal': true,\n            'link-origin-array-order': [],\n            'map-basemap-show': false,\n            'map-collapsing-on': true,\n            'map-counties-show': false,\n            'map-countries-show': true,\n            'map-field-lat': 'None',\n            'map-field-lon': 'None',\n            'map-field-tract': 'None',\n            'map-field-zipcode': 'None',\n            'map-field-county': 'None',\n            'map-field-state': 'None',\n            'map-field-country': 'None',\n            'map-link-show': true,\n            'map-link-tooltip-variable': 'None',\n            'map-link-transparency': 0,\n            'map-node-jitter': -2,\n            'map-node-show': true,\n            'map-node-tooltip-variable': '_id',\n            'map-node-transparency': 0,\n            'map-satellite-show': false,\n            'map-states-show': true,\n            \"mst-computed\": false,\n            'network-friction': 0.4,\n            'network-gravity': 0.05,\n            'network-link-strength': 0.124,\n            'node-charge': 200,\n            'node-border-width' : 2.0,\n            'node-color': '#1f77b4',\n            'node-color-table-counts': true,\n            'node-color-table-frequencies': false,\n            'node-color-variable': 'None',\n            'node-highlight': false,\n            'node-label-size': 16,\n            'node-label-variable': 'None',\n            'node-label-orientation': 'Right',\n            'node-opacity' : 0,\n            'node-radius': 20,\n            'node-radius-variable': 'None',\n            \"node-radius-min\": 20,\n            \"node-radius-max\": 100,\n            'node-symbol': 'ellipse',\n            'node-symbol-table-counts': true,\n            'node-symbol-table-frequencies': false,\n            'node-symbol-variable': 'None',\n            'node-symbol-table-visible': 'Hide',\n            'node-timeline-variable' : 'None',\n            'node-tooltip-variable': ['_id'],\n            'physics-tree-branch-type': 'Straight',\n            'physics-tree-charge': 30,\n            'physics-tree-friction': 0.05,\n            'physics-tree-gravity': 0.05,\n            'physics-tree-lateral-strength': 0.025,\n            'physics-tree-layout': 'Horizontal',\n            'physics-tree-node-label-variable': 'None',\n            'physics-tree-tooltip': 'id',\n            'physics-tree-type': 'tree',\n            'polygon-color': '#bbccee',\n            'polygon-color-table-name-sort': 'DESC',\n            'polygon-color-table-counts-sort': 'DESC',\n            'polygon-color-table-counts': true,\n            'polygon-color-table-frequencies': false,\n            'polygons-color-show': false,\n            'polygons-foci': 'cluster',\n            'polygons-gather-force': 0,\n            'polygons-label-show' : false,\n            'polygon-label-orientation' : 'top',\n            'polygons-label-size' : 16,\n            'polygons-show' : false,\n            'polygon-color-table-visible': false,\n            'reference-source-file': true,\n            'reference-source-first': false,\n            'reference-source-consensus': false,\n            'scatterplot-xVar': 'index',\n            'scatterplot-yVar': 'distance',\n            'scatterplot-logScale': false,\n            'scatterplot-showNodes': false,\n            'search-field': '_id',\n            'selected-color': '#ff8300',\n            'selected-color-contrast': '#000000',\n            'selected-node-stroke-color': '#ff8300',\n            'selected-node-stroke-width': '4px',\n            'timeline-date-field': 'None',\n            'timeline-noncumulative': true,\n            'tree-animation-on': true,\n            'tree-branch-distances-hide': true,\n            'tree-branch-distance-size': 12,\n            'tree-branch-nodes-show': false,\n            'tree-horizontal-stretch': 1,\n            'tree-layout-vertical': false,\n            'tree-layout-horizontal': true,\n            'tree-layout-circular': false,\n            'tree-labels-align': false,\n            'tree-labels-show': false,\n            'tree-leaf-label-show': false,\n            'tree-leaf-label-size': 12,\n            'tree-leaf-node-radius-variable': 'None',\n            'tree-leaf-node-show': true,\n            'tree-leaf-node-size': 9,\n            'tree-mode-square': true,\n            'tree-mode-smooth': false,\n            'tree-mode-straight': false,\n            'tree-round-true': false,\n            'tree-ruler-show': true,\n            'tree-tooltip-show': true,\n            'tree-type': 'weighted',\n            'tree-vertical-stretch': 1,\n            'triangulate-false': true,\n            'twoD-settings-visible': 'Hide'\n        };\n    }\n\n    /**\n     * @returns a session object. It has the data object, information on goldenLayout layout, widgets, as well as other settings\n     */   \n    sessionSkeleton = () => {\n        return {\n            data: this.dataSkeleton(),\n            files: [],\n            layout: {\n                content: [\n                    {\n                        type: 'files'\n                    }\n                ],\n                type: 'stack'\n            },\n            messages: [],\n            meta: {\n                loadTime: 0,\n                readyTime: Date.now(),\n                startTime: 0,\n                anySequences: false\n            },\n            network: {\n                allPinned: false,\n                timelinePinned : false,\n                nodes: [],\n                timelineNodes: [],\n                initialLoad: false,\n                launched : false,\n                \n            },\n            state: {\n                timeStart: 0,\n                timeEnd: new Date(),\n                timeTarget: null\n            },\n            style: {\n                linkAlphas: [1],\n                linkColors: d3.schemePaired,\n                linkValueNames: {},\n                nodeAlphas: [1],\n                nodeColors: [d3.schemeCategory10[0]].concat(d3.schemeCategory10.slice(2)),\n                nodeColorsTable: {},\n                nodeColorsTableHistory: {\n                    'null' : '#EAE553'\n                },\n                nodeColorsTableKeys: {},\n                linkColorsTable: {},\n                linkColorsTableKeys: {},\n                nodeSymbols: [\n                    'ellipse',\n                    'triangle',\n                    'rectangle',\n                    'barrel',\n                    'rhomboid',\n                    'diamond',\n                    'pentagon',\n                    'hexagon',\n                    'heptagon',\n                    'octagon',\n                    'star',\n                    'tag',\n                    'vee'\n                ],\n                nodeSymbolsTable: {},\n                nodeSymbolsTableKeys: {},\n                nodeValueNames: {},\n                polygonAlphas: [0.5],\n                polygonColors: ['#bbccee','#cceeff','#ccddaa','#eeeebb','#ffcccc','#dddddd'],\n                polygonValueNames: {},\n                overwrite: {},\n                widgets: this.defaultWidgets()\n            },\n            timeline: 0 as any,\n            warnings: []\n        };\n    }\n    /**\n     * \n     * @returns object found at commonService.temp  which include a matrix for links between nodes and color/alpha mapping functions\n     */\n    tempSkeleton = () => {\n        return {\n            componentCache: {},\n            mapData: {},\n            matrix: {},\n            messageTimeout: null,\n            /* functions in style object get replaced If user decides to color a node, link, or polygon variable.\n             * these functions are replaced with one from the d3 package usind d3.scaleOrdinal(...).domain(...)\n             */\n            style: {\n                linkAlphaMap: () => 1 - this.session.style.widgets['link-opacity'],\n                linkColorMap: () => this.session.style.widgets['link-color'],\n                nodeAlphaMap: () => 1,\n                nodeColorMap: () => this.session.style.widgets['node-color'],\n                nodeSymbolMap: () => this.session.style.widgets['node-symbol'],\n                polygonAlphaMap: () => 0.5,\n                polygonColorMap: () => this.session.style.widgets['polygon-color']\n            },\n            trees: {}\n        };\n    }\n    temp: any = this.tempSkeleton();\n    session = this.sessionSkeleton();\n\n    //table = new Tabulator(\"#recall-stashes-available\", {\n    //    height: \"100%\",\n    //    layout: \"fitColumns\",\n    //    selectable: 1,\n    //    columns: [\n    //        { title: \"Name\", field: \"name\" },\n    //        { title: \"Date\", field: \"date\", align: \"right\", sorter: \"date\" }\n    //    ]\n    //});\n\n    /**\n     * @param injector \n     * @param localStorageService \n     * @param visuals - this injection allows users to access all the views from commonService (ie. commonService.visuals.twoD)\n     * @param http \n     */\n    constructor(injector: Injector,\n        public localStorageService: LocalStorageService,\n        public visuals: MicrobeTraceNextVisuals,\n        private http: HttpClient,\n        // private srv: GoldenLayoutService\n    ) {\n\n        super(injector);\n\n        //debugger;\n\n         // (window as any).context = ((window as any).context == undefined ? {} : (window as any).context);\n         this.computer = new WorkerModule();\n         this.resetData();\n                console.log('Constructor: Temp initialized:', this.temp);\n\n        // this.initialize();\n    }\n\n    ngOnInit() {\n        this.initialize();\n    }\n\n\n    /**\n     * Sets (window as any).context.commonSerive = this; and also calls reset() which sets commonService.temp and commonService.session back to default values (except \n     * temp.mapData, session.files, session.meta)\n     */\n    initialize() {\n       \n        this.reset();\n    }\n\n    /**\n     * Capitalizes the first letter of a string\n     * @param s - Expects a string\n     * @returns - the string with first letter capitalized. If typeof s != string returns empty string\n     */\n    capitalize(s) {\n        if (typeof s !== 'string') return ''\n        return s.charAt(0).toUpperCase() + s.slice(1)\n    }\n\n\n    /**\n     * Set commonService.session and commonService.temp back to default values\n     */\n    clearData() {\n        this.session = this.sessionSkeleton();\n\n        this.temp = this.tempSkeleton();\n    }\n\n    /**\n     * Update Legacy Node Symbols if loading new files\n     */\n    updateLegacyNodeSymbols() {\n        this.session.style.nodeSymbols = [\n            'ellipse',\n            'square',\n            'triangle',\n            'hexagon',\n            'diamond',\n            'barrel',\n            'pentagon',\n            'octagon',\n            'star',\n            'tag',\n            'vee'\n        ]\n    }\n\n\n    /**\n     * @returns a default node object\n     */\n    defaultNode(): any {\n\n        return {\n            index: this.session.data.nodes.length,\n            _id: '',\n            selected: false,\n            cluster: 1,\n            visible: true,\n            degree: 0,\n            data: {},\n            origin: [],\n            hasDistance: false\n        }\n    }\n\n    // BehaviorSubject to store the threshold\n    private _linkThreshold$ = new BehaviorSubject<number>(0.015);\n\n    // Expose as observable so components can subscribe\n    linkThreshold$ = this._linkThreshold$.asObservable();\n\n     // Call this to set a new threshold value\n     setLinkThreshold(newThreshold: number): void {\n        // Only emit if the value actually changed\n        if (this._linkThreshold$.value !== newThreshold) {\n            this.session.style.widgets[\"link-threshold\"] = newThreshold;\n            this._linkThreshold$.next(newThreshold);\n        }\n    }\n\n    // Example: read-only convenience accessor to get the current threshold\n    get linkThreshold(): number {\n        return this._linkThreshold$.value;\n    }\n\n     // BehaviorSubject to store the threshold\n     private _networkUpdated$ = new BehaviorSubject<boolean>(false);\n\n     // Expose as observable so components can subscribe\n     networkUpdated$ = this._networkUpdated$.asObservable();\n \n     get networkUpdated(): boolean {\n         return this._networkUpdated$.value;\n     }\n \n     setNetworkUpdated(newPruned: boolean): void {\n         this._networkUpdated$.next(newPruned);\n     }\n\n\n    // Shared method to notify components of link threshold changes\n    onMetricChanged( metric: string) {\n        this.metricChanged.emit(metric);\n    }\n\n    onNewSession() {\n        this.newSession.emit();\n        this.reset();\n    }\n\n    onSessionDestroyed() {\n        this.reset();\n        this.sessionDestroyed.emit();\n    }\n\n    onStyleFileApplied() {\n        this.styleFileApplied.emit();\n    }\n\n    onTableCleared(tableId: string) {\n        this.tableCleared.emit(tableId);\n    }\n\n    onStatisticsChanged(statisticsType?: string) {\n        this.statisticsChanged.emit(statisticsType);\n    }\n\n\n    /** \n     * XXXXX Not currently used; not sure of future use XXXXX\n     * @returns boolean\n     */\n    onlyUnique(value, index, self) {\n        return self.indexOf(value) === index;\n    }\n\n    /**\n     * Checks if an array or string contains a specified value.\n     * @param container - Where to search such as a []\n     * @param {any} value - The value to search for.\n     * @returns {boolean} - `true` if the `container` parameter contains the `value` parameter, and `false` otherwise.\n     */\n    includes(container: any, value: any) {\n        let returnValue = false;\n        const pos = container.indexOf(value);\n        if (pos >= 0) {\n            returnValue = true;\n        }\n\n        return returnValue;\n    };\n\n    /**\n     * Sanitizes user input to prevent cross-site scripting (XSS) attacks.\n     * @param {string|number|boolean} t - The user input to be sanitized.\n     * @param {boolean} [e=0 | false] - An optional parameter that specifies whether to encode the sanitized output as HTML entities.\n     * @returns {string} - The sanitized output.\n     */\n    filterXSS(t, e: any = 0) {\n        const argType: any = typeof t;\n        if(argType==='object'){\n            return JSON.stringify(t);\n        }\n        else if (argType === 'number' || argType === 'boolean') {\n            const tempT = t.toString();\n            t = tempT;\n        }\n        else if (argType != 'string' && argType != 'number')\n            t = '';\n\n        const i = t.replace(/javascript/gi, 'j&#97;vascript').replace(/expression/gi, 'expr&#101;ssion').replace(/onload/gi, 'onlo&#97;d').replace(/script/gi, '&#115;cript').replace(/onerror/gi, 'on&#101;rror');\n        return e === !0 ? i : i.replace(/>/g, '&gt;').replace(/</g, '&lt;')\n    };\n\n    /**\n     * @param {any} a an input value\n     * @returns {boolean} whether a is a number\n     */\n    isNumber(a: any): boolean {\n        return typeof a == 'number';\n    };\n\n    /**\n     * Adds a new node to an array of nodes.\n     * @param {Node} newNode - The new node to be added to the array.\n     * @param {boolean | null} [check=null] - An optional parameter that specifies whether to check for duplicates before adding the new node.\n     * @returns {number} - `1` if a new node was added to the array, `0` otherwise.\n     */\n    addNode(newNode: any, check: any = null): number {\n\n        //  If no _id, set _id to id\n        if (this.isNumber(newNode._id)) {\n            newNode._id = '' + newNode._id;\n            if (!newNode._id || newNode._id === '') {\n                newNode._id = newNode.id;\n            }\n        } else {\n            if (newNode.id) {\n                newNode._id = newNode.id;\n            }\n        }\n        newNode._id = newNode._id.trim();\n\n        if (this.session.data.nodeExclusions.indexOf(newNode._id) > -1) {\n            return 0;\n        }\n\n        if (check) {\n            let nodes = this.session.data.nodes;\n\n            const n = nodes.length;\n            for (let i = 0; i < n; i++) {\n                const node = nodes[i];\n                if (node._id == newNode._id) {\n                    newNode.origin = this.uniq(newNode.origin.concat(node.origin));\n                    Object.assign(node, newNode);\n                    return 0;\n                }\n            }\n        }\n\n\n\n        let newElement = Object.assign(this.defaultNode(), newNode);\n\n        if (Object.prototype.hasOwnProperty.call(newNode, 'data') && Object.prototype.hasOwnProperty.call(newNode.data, 'data')) {\n          newElement.data = newNode.data.data;\n        }\n        this.session.data.nodes.push(newElement);\n\n        return 1;\n    };\n\n    /**\n     * Adds a new link to an array of links.\n     * @param {Object} newLink- The new link to be added to the array.\n     * @param {boolean | null} [check=null] - An optional parameter that specifies whether to check for duplicates before adding the new link.\n     * @returns {number} - `1` if a new link was added to the array, `0` otherwise.\n     */\n    addLink(newLink: any, check: any = true): number {\n\n        if(newLink.source === \"KF773571\" && newLink.target === \"KF773578\"){\n            console.log('new link 1: ', JSON.stringify(newLink));\n            // console.log('new link 2: ', JSON.stringify(newLink));\n        }\n\n        if(newLink.source === \"KF773430\" && newLink.target === \"KF773432\"){\n            console.log('new link 2: ', JSON.stringify(newLink));\n            // console.log('new link 2: ', JSON.stringify(newLink));\n        }\n    \n        const serv = this;\n        const matrix = serv.temp.matrix;\n    \n        if (typeof newLink.source == 'number') {\n            newLink.source = newLink.source.toString().trim();\n        } else {\n            newLink.source = newLink.source.trim();\n        }\n        if (typeof newLink.target == 'number') {\n            newLink.target = newLink.target.toString().trim();\n        } else {\n            newLink.target = newLink.target.trim();\n        }\n    \n        if (!matrix[newLink.source]) {\n            matrix[newLink.source] = {};\n        }\n        if (!matrix[newLink.target]) {\n            matrix[newLink.target] = {};\n        }\n        if (newLink.source == newLink.target) return 0;\n        let linkIsNew = 1;\n        const sdlinks = serv.session.data.links;\n\n        if (matrix[newLink.source][newLink.target]) {\n            const oldLink = matrix[newLink.source][newLink.target];\n            let myorigin = this.uniq(newLink.origin.concat(oldLink.origin));\n            // console.log(JSON.stringify(myorigin));\n\n            // Ensure no empty origins\n            myorigin = myorigin.filter(origin => origin != '');\n\n            // Ensure new link keeps distance if already defined previously\n            if (oldLink.hasDistance) {\n                newLink.hasDistance = true;\n                newLink['distance'] = oldLink['distance'];\n                newLink.distanceOrigin = oldLink.distanceOrigin;\n            }\n\n            oldLink[\"origin\"] = myorigin;\n            newLink[\"origin\"] = myorigin;\n            // console.log(\"old link isL \" + `${JSON.stringify(oldLink)} ${JSON.stringify(newLink)}`);\n\n            // Only override if new isn't directed and old may be, and ensure its in the right direction\n            if(oldLink.directed) {\n                newLink.directed = true;\n                newLink.source = oldLink.source;\n                newLink.target = oldLink.target;\n            }\n            \n\n            _.merge(oldLink, newLink);\n\n            if (oldLink.origin.length > 0) {\n\n                if(this.debugMode) {\n                    console.log('old link origin: ', oldLink.origin);\n                }\n\n                // Array order hasn't been set yet, so we need to set it\n                if (this.session.style.widgets['link-origin-array-order'].length == 0) {\n                    this.session.style.widgets['link-origin-array-order'] = oldLink.origin;\n                }\n\n                if(this.debugMode) {\n                    console.log('old link array order: ', this.session.style.widgets['link-origin-array-order']);\n                }\n\n                oldLink.origin = this.session.style.widgets['link-origin-array-order'];\n                \n                if(this.debugMode) {\n                    console.log('old link origin: ', oldLink.origin);\n                }\n\n            }\n\n            // TODO remove when confident this function never causes issues - used to debug easier\n            // Object.assign(oldLink, newLink);\n            // Object.assign(newLink, oldLink);\n\n\n            if(newLink[\"bidirectional\"]){\n                oldLink[\"bidirectional\"] = true;\n            }\n\n            linkIsNew = 0;\n        } else if (serv.temp.matrix[newLink.target][newLink.source]) {\n            console.warn(\"This scope should be unreachable. If you're using this code, something's wrong.\");\n            const oldLink = matrix[newLink.target][newLink.source];\n            const origin = this.uniq(newLink.origin.concat(oldLink.origin));\n            Object.assign(oldLink, newLink, { origin: origin });\n            linkIsNew = 0;\n        } else {\n\n             if (newLink.hasDistance) {\n                newLink = Object.assign({\n                index: sdlinks.length,\n                source: \"\",\n                target: \"\",\n                visible: false,\n                cluster: 1,\n                origin: [],\n                hasDistance: true\n                }, newLink);\n            } else {\n                newLink = Object.assign({\n                index: sdlinks.length,\n                source: \"\",\n                target: \"\",\n                visible: false,\n                cluster: 1,\n                origin: [],\n                hasDistance: false\n                }, newLink);\n    \n            }\n               // Always add the new link without merging\n               sdlinks.push(newLink);\n               matrix[newLink.source][newLink.target] = newLink;\n               matrix[newLink.target][newLink.source] = newLink;\n\n               linkIsNew = 1;\n\n        }\n\n        if (newLink.origin.length > 1 && (!this.session.style.widgets['link-origin-array-order'] || this.session.style.widgets['link-origin-array-order'].length == 0)) {\n            this.session.style.widgets['link-origin-array-order'] = newLink.origin;\n        }\n        \n       \n        return linkIsNew;\n\n        // TODO Remove when not needed\n        // this.session.data.linkFilteredValues = [...this.session.data.links];\n        // return linkIsNew;\n    };\n\n    /**\n     * Removes duplicate elements from an array.\n     * @param {Array} a - The array to be processed.\n     * @returns {Array} - The array containing only the unique elements of the input array `a`.\n     */\n    uniq(a: any) {\n        const seen = {};\n        const out = [];\n        const len = a.length;\n        let j = 0;\n        for (let i = 0; i < len; i++) {\n            const item = a[i];\n            if (seen[item] !== 1) {\n                seen[item] = 1;\n                out[j++] = item;\n            }\n        }\n        return out;\n    }\n\n    public getSelectedNode(nodes: any[]): any {\n        return nodes.find(node => node.selected);\n    }\n    \n    /**\n     * This takes the information needed for twod network from microbetrace session file\n     */\n    // public legacyMicrobetraceAdapter (json : MicrobeTraceSessionGraphData) : GraphData {\n\n    //     let nodes : NodeDatum[] = json.nodes.map(x => {\n    //         return {\n    //             id: x.id,\n    //             color: \"\"\n    //         }\n    //     });\n\n    //     let links : LinkDatum[] = json.links.map(x => {\n    //         return {\n    //             source: x.source,\n    //             target: x.target,\n    //             chapter : String(x.distance)\n    //         }\n    //     });\n\n    //     return {\n    //         nodes : nodes,\n    //         links : links\n    //     }\n\n    // }\n\n    getColorByIndex( index : number ) {\n\n        let variable = this.session.style.widgets['node-color-variable'];\n        let color = this.session.style.widgets['node-color'];\n\n\n        if (variable == 'None') {\n\n            return color;\n\n        } else {\n\n            return this.temp.style.nodeColorMap( this.session.data.nodes[index][variable]);\n\n        }\n    }\n\n    public convertToGraphDataArray(microbeData: any): GraphData {\n        const nodes = microbeData.nodes.map((node) => ({\n          ...node, // Spread existing properties\n          id: node._id, // Ensure the id property is set correctly\n          group: node.cluster,\n          color: this.getColorByIndex(node.index), // Add or override the color property\n          label: (this.session.style.widgets['node-label-variable'] === 'None') ? '' : node.label, // Ensure label is defined\n            nodeSize: node.nodeSize ?? 20, // Default node size\n            borderWidth: node.borderWidth ?? 1 // Default border width\n        }));\n      \n        const links = microbeData.links.map((link) => ({\n          ...link, // Spread existing properties\n          source: link.source, // Ensure source is correctly set\n          target: link.target, // Ensure target is correctly set\n          group: link.cluster ?? null, // Ensure group is set, default to null if undefined\n          chapter: link.distance ? link.distance.toString() : null, // Convert distance to string for chapter\n          linkWidth: 1,\n          label: link.label ?? '', // Ensure label is defined\n          borderWidth: link.borderWidth ?? 1 // Default border width for links\n        }));\n      \n        return {\n          nodes,\n          links\n        };\n      }\n      updateNodesAndGeneratePanels(graphData: any): { updatedNodes: any[], panels: any[], groups: any[] } {\n        // Update nodes with new group information based on foci\n        const updatedNodes = graphData.nodes.map(node => ({\n          ...node,\n          group: node[this.session.style.widgets['polygons-foci']] // Set the group property based on the foci\n        }));\n      \n        // Generate panels based on the updated nodes\n        const uniqueGroups = Array.from(new Set(updatedNodes.map(node => node.group)));\n      \n        const panels = uniqueGroups.map(group => {\n          const groupNodes = updatedNodes.filter(node => node.group === group);\n          const groupColor = this.temp.style.polygonColorMap(group) || '#000'; // Use color map or default color\n\n        //   this.temp.style.polygonColorMap(group[this.session.style.widgets['polygons-foci']]);\n\n          return {\n            nodes: groupNodes.map(node => node.id),\n            label: (this.session.style.widgets['polygons-label-show']) ? `${this.session.style.widgets['polygons-foci']} ${group}` : '',\n            labelPosition: (this.session.style.widgets['polygon-label-orientation']) ? this.session.style.widgets['polygon-label-orientation'] : 'top',\n            borderColor: groupColor,\n            borderWidth: 2,\n            fillColor: groupColor,\n            color: groupColor,\n            padding: 10,\n            dashedOutline: true,\n            // sideIconSymbol: '',\n            // sideIconShape: GraphNodeShape.Circle,\n            // sideIconShapeStroke: '#777',\n            // sideIconCursor: 'pointer',\n            // sideIconFontSize: '24px',\n            // sideIconShapeSize: 50,\n          };\n        });\n\n        const groups = uniqueGroups.map(group => ({\n            key: group,\n            values: updatedNodes.filter(node => node.group === group)\n          }));\n      \n        return { updatedNodes, panels, groups };\n      }\n\n      public halveLinksArray(links: LinkDatum[]): LinkDatum[] {\n        const halfIndex = Math.ceil(links.length / 4); // Ensures that for an odd number of links, the larger half is returned\n        \n        return links.slice(0, 10000);\n    }\n\n\n    /**\n     * I think this function allows users to import an svg image into MT. Not sure if it currently works.\n     * @param svg \n     */\n    processSVG(svg: any) {\n        const nodes = [];\n\n        const $xml: any = document.getElementById(svg);\n        if ($xml.find('#edges').length) {\n            $xml.find('#nodes circle').each((i, node) => {\n                const $node: any = document.getElementById(node);\n                const gephid = $node.attr('class');\n                nodes.push(gephid);\n                this.addNode(\n                    {\n                        id: gephid + '',\n                        color: $node.attr('fill'),\n                        size: parseFloat($node.attr('r')),\n                        origin: ['Scraped Gephi SVG']\n                    },\n                    false\n                );\n            });\n            this.session.data.nodeFields.push('color');\n            this.session.data.nodeFields.push('size');\n            $xml.find('#edges path').each((i, link) => {\n                const $link = $(link);\n                const coords = $link.attr('class').split(' ');\n                const base = {\n                    source: coords[0] + '',\n                    target: coords[1] + '',\n                    color: $link.attr('stroke'),\n                    origin: ['Scraped MicrobeTrace SVG']\n                };\n                base[this.session.style.widgets['default-distance-metric']] = 0;\n                this.addLink(base, true);\n            });\n            this.session.data.linkFields.push('color');\n        } else {\n            $xml.find('.nodes g').each((i, node) => {\n                nodes.push(\n                    $(node)\n                        .attr('transform')\n                        .slice(10, -1)\n                        .split(',')\n                        .map(parseFloat)\n                );\n                this.addNode(\n                    {\n                        id: i + '',\n                        origin: ['Scraped SVG']\n                    },\n                    false\n                );\n            });\n            $xml.find('line').each((i, link) => {\n                const $l: any = document.getElementById(link);\n                const source = nodes.findIndex(d => {\n                    return (\n                        Math.abs(d[0] - parseFloat($l.attr('x1'))) < 0.0001 &&\n                        Math.abs(d[1] - parseFloat($l.attr('y1'))) < 0.0001\n                    );\n                });\n                const target = nodes.findIndex(d => {\n                    return (\n                        Math.abs(d[0] - parseFloat($l.attr('x2'))) < 0.0001 &&\n                        Math.abs(d[1] - parseFloat($l.attr('y2'))) < 0.0001\n                    );\n                });\n                if (source < 0 || target < 0) return;\n                const base = {\n                    source: source + '',\n                    target: target + '',\n                    origin: ['Scraped SVG']\n                };\n                base[this.session.style.widgets['default-distance-metric']] = 0;\n                this.addLink(base, true);\n            });\n        }\n        this.runHamsters();\n    };\n\n    /**\n     * Loads JSON, MicrobeTrace, or HivTrace files into MicrobeTrace\n     * @param json \n     * @param {string} extension file extension such as json, hivtrace, or microbetrace\n     */\n    processJSON(json: any, extension: string) {\n        if(this.debugMode) {\n            console.log(\"Trying to process JSON file\");\n        }\n        let data;\n        try {\n            if(json.result) {\n                data = JSON.parse(json.result);\n            } else {\n                data = JSON.parse(json);\n            }\n        } catch (error) {\n\n            // abp.notify.error(\n            //     'File Not Recognized! Are you certain this is a MicrobeTrace Session or HIV-TRACE Output File?'\n            // );\n            console.error(error);\n            return;\n        }\n        if (extension == 'microbetrace') {\n            this.session = this.sessionSkeleton();\n\n            this.applySession(data);\n        } else {\n            if (data.meta && data.tree) {\n              // this.applyAuspice(data);\n            } else {\n              if (data.version) {\n                  this.applyGHOST(data);\n              } else {\n                console.log(\"Trying to load HIVTrace file\");\n                  this.applyHIVTrace(data);\n              }\n           }\n        }\n\n    };\n\n    /**\n     * Updates commonService.session with information from stashObject. Variables updated include data, files, state, style, and layout.\n     */\n    applySession(stashObject: StashObjects) {\n        //If anything here seems eccentric, assume it's to maintain compatibility with\n        //session files from older versions of MicrobeTrace.\n        $(\"#launch\").prop(\"disabled\", true);\n\n        console.log('applySession called with this:', this);\n       console.log('applySession - temp:', this.temp);\n\n        $(document).trigger(\"stop-force-simulation\"); // stop previous network ticks so previous polygon won't show up\n        $(document).off('.2d');\n\n        if(this.debugMode) {\n            console.log('applying session:', stashObject);\n        }\n\n        if(stashObject.session) {\n\n        } else {\n            stashObject = {\n                tabs : [{\n                    label: 'Files',\n                    templateRef: null,\n                    tabTitle: 'Files',\n                    isActive: true,\n                    componentRef: null\n                }],\n                session: stashObject\n            }\n        }\n\n        const oldSession = stashObject.session;\n        console.log('this.temp: ', this.temp);\n        this.temp.matrix = [];\n        this.session.files = oldSession.files;\n        this.session.state = oldSession.state;\n        this.session.style = oldSession.style;\n\n        this.session.meta.startTime = Date.now();\n\n\n        if(oldSession.layout) {\n            this.session.layout = oldSession.layout;\n        }\n\n        // layout.root.removeChild(layout.root.contentItems[0]);\n\n        const nodes = oldSession.data.nodes,\n            links = oldSession.data.links,\n            n = nodes.length,\n            m = links.length;\n\n        for (let i = 0; i < n; i++) this.addNode(nodes[i]);\n        for (let j = 0; j < m; j++) {\n            // Add distance property for files saved prior to distance visibility fix\n            if ((links[j].origin).includes('Genetic Distance')) {\n                links[j].hasDistance = true;\n                links[j].distanceOrigin = 'Genetic Distance';\n            } else if (links[j].distance && links[j].distance > 0) {\n                links[j].hasDistance = true;\n            }\n            this.addLink(links[j]);\n        }\n        // for (let j = 0; j < m; j++) this.addLink(links[j]);\n        ['nodeFields', 'linkFields', 'clusterFields', 'nodeExclusions'].forEach(v => {\n            if (oldSession.data[v]) this.session.data[v] = this.uniq(this.session.data[v].concat(oldSession.data[v]));\n        });\n        // TODO: See about this process data functionality\n        this.processData();\n\n\n        if (oldSession.network) this.session.network = oldSession.network;\n         if (oldSession.data.geoJSONLayerName !== \"\") {\n            this.session.data['geoJSON'] = oldSession.data.geoJSON;\n            this.session.data['geoJSONLayerName'] = oldSession.data.geoJSONLayerName;\n        }\n        // TODO see if this is needed\n        // sessionApplied = true;\n\n        this.applyStyle(this.session.style);\n\n        // TODO: See if this is needed\n        // if (!links[0]['distance']) {\n        //     if (links[0]['tn93']) {\n        //         this.session.style.widgets['link-sort-variable'] = 'tn93';\n        //     } else {\n        //         this.session.style.widgets['link-sort-variable'] = 'snps';\n        //     }\n        // }\n        this.finishUp();\n\n        // TODO: implement this later\n        // $(\"#network-statistics-show\").parent().trigger(\"click\");\n    };\n\n    /**\n     * XXXXX Review if function is necessary XXXXX\n     * Sets session.data.nodeFilteredValues = session.data.nodes\n     */\n    processData() {\n        let nodes = this.session.data.nodes;\n        if(this.debugMode) {\n            console.log('processing data: ', nodes);\n        }\n\n        this.session.data.nodeFilteredValues = nodes;\n        //Add links for nodes with no edges\n        // this.uniqueNodes.forEach(x => {\n        //     this.commonService.addLink(Object.assign({\n        //         source: '' + x,\n        //         target: '' + x,\n        //         origin: origin,\n        //         visible: true,\n        //         distance: 0,\n        //     }, 'generated'));\n        // })\n\n        // this.processSequence()\n    }\n\n    /**\n     * Updates session.style with information from style object parameter, also updated Link Color Map, Node Color Map, and Polygon Color Map Functions\n     */\n    applyStyle(style) {\n        if(this.debugMode) {\n            console.log('applying style: ', style);\n        }\n        this.session.style = style;\n        this.session.style.widgets = Object.assign({},\n            this.defaultWidgets(),\n            style.widgets\n        );\n        this.createLinkColorMap();\n        this.createNodeColorMap();\n        this.createPolygonColorMap();\n\n        // finds id s in template/html where id=widget name, updated the value to the new value in the style file\n        let $id = null;\n        for (let id in this.session.style.widgets) {\n            $id = $(\"#\" + id);\n            if ($id.length > 0) {\n                if (this.includes([\"radio\", \"checkbox\"], ($id[0].type))) {\n                    if (this.session.style.widgets[id]) $id.trigger(\"click\");\n                } else {\n                    if (id == 'default-distance-metric') {\n                        $id.val(this.session.style.widgets[id].toLowerCase());\n                        $(\"#\" + id+'2').val(this.session.style.widgets[id].toLowerCase());\n                    } else {\n                        $id.val(this.session.style.widgets[id]);\n                    }                    \n                }\n            }\n        }\n\n        // TODO uncomment if was meant to be\n        // this.visuals.microbeTrace.applyStyleFileSettings();\n        \n        this.onStyleFileApplied();\n\n\n        // this.visuals.microbeTrace.homepageTabs.forEach(tab => {\n        //     if (tab.componentRef && tab.componentRef.instance.updateVisualization) {\n        //         tab.componentRef.instance.applyStyleFileSettings();\n        //     }\n        // })\n\n        // TODO: See if this is needed\n        // Need session applied variable since this will break restoring full microbe trace file vs loading a style file\n        // if (!sessionApplied) {\n        // // Trigger global style updates\n        // $(\"#node-color-variable\").trigger(\"change\");\n        // $(\"#node-color-border\").trigger(\"change\");\n        // $(\"#link-color-variable\").trigger(\"change\");\n        // $(\"#selected-color\").trigger(\"change\");\n        // $(\"#background-color\").trigger(\"change\");\n\n        // // 2d Network Specific\n        // $('#node-radius-variable').trigger(\"change\");\n        // $('#node-symbol-variable').trigger(\"change\");\n        // $('#node-label-variable').trigger(\"change\");\n        // } else {\n        // sessionApplied = false;\n        // }\n    };\n\n    applyHIVTrace(hivtrace) {\n      console.log(\"Running applyHIVTrace\");\n        this.resetData();\n        this.session.meta.startTime = Date.now();\n        hivtrace[\"trace_results\"][\"Nodes\"].forEach(node => {\n          let newNode = {\n            _id: node.id,\n            origin: \"HIVTRACE Import\",\n          }\n          if (Object.prototype.hasOwnProperty.call(node, \"patient_attributes\")){ \n            console.log(\"had patient_attributes\");\n            newNode = JSON.parse(JSON.stringify(node.patient_attributes));\n            Object.keys(\n                hivtrace[\"trace_results\"][\"Nodes\"][0][\"patient_attributes\"]\n            ).forEach(key => {\n                if (!this.session.data.nodeFields.includes(key))\n                    this.session.data.nodeFields.push(key);\n            });\n          }\n          this.addNode(newNode, false);\n        });\n        this.processData();\n        let n = hivtrace[\"trace_results\"][\"Edges\"].length;\n        let metric = this.session.style.widgets['default-distance-metric'];\n        for (let i = 0; i < n; i++) {\n            const link = hivtrace[\"trace_results\"][\"Edges\"][i];\n            const newLink = {\n                source: \"\" + link.sequences[0],\n                target: \"\" + link.sequences[1],\n                origin: [\"HIVTRACE Import\"],\n                visible: true\n            };\n            newLink[metric] = parseFloat(link.length);\n            newLink[\"distance\"] = newLink[metric];\n            this.addLink(newLink, false);\n        }\n        this.session.data.linkFields.push(metric);\n        this.runHamsters();\n    };\n\n    applyGHOST(ghost) {\n        this.session = this.sessionSkeleton();\n        this.session.meta.startTime = Date.now();\n        ghost[\"samples\"].forEach(node => {\n            const newNode = JSON.parse(JSON.stringify(node));\n            newNode.origin = [\"GHOST Import\"];\n            newNode.genotypes = JSON.stringify(newNode.genotypes);\n            newNode._id = \"\" + newNode._id;\n            this.addNode(newNode, false);\n        });\n        [\"genotypes\", \"group\", \"_id\", \"name\"].forEach(key => {\n            if (!this.session.data.nodeFields.includes(key)) {\n                this.session.data.nodeFields.push(key);\n            }\n        });\n        const links = ghost[\"links\"];\n        const n = links.length;\n        for (let i = 0; i < n; i++) {\n            const link = links[i];\n            const newLink = Object.assign({}, link, {\n                source: \"\" + link.source,\n                target: \"\" + link.target,\n                distance: parseFloat(link.dist),\n                origin: [\"GHOST Import\"],\n                visible: true\n            });\n            this.addLink(newLink, false);\n        }\n        [\n            \"density\",\n            \"dist\",\n            \"shared\",\n            \"src_genotype\",\n            \"src_haps\",\n            \"tgt_genotype\",\n            \"tgt_haps\"\n        ].forEach(key => {\n            if (!this.session.data.linkFields.includes(key))\n                this.session.data.linkFields.push(key);\n        });\n        this.runHamsters();\n    };\n\n    applyAuspice(auspice) {\n      return new Promise(resolve => {\n        const auspiceHandler = new AuspiceHandler(this);\n        const auspiceData = auspiceHandler.run(auspice);\n        resolve(auspiceData);\n      });\n    };\n\n    openAuspiceUrl(url) {\n      \n      return new Promise(resolve => {\n        let auspiceDataHolder = {};\n        this.http.get(url).subscribe((data: Object) => {\n          auspiceDataHolder = {\n            tree: data[\"tree\"],\n            meta: data[\"meta\"],\n            version: data[\"version\"],\n          };\n          // const auspiceHandler = new AuspiceHandler(this);\n          // const auspiceData = auspiceHandler.run(auspiceDataHolder);\n          resolve(auspiceDataHolder);\n        });\n      });\n      this.updateNetwork();\n      this.updateStatistics();\n    };\n\n    /**\n     * Decodes the given `x` using the utf-8 TextDecoder object.\n     * @param {ArrayBuffer} x - The data to be decoded.\n     * @returns {string} - The decoded string.\n     */\n    decode(x) {\n        return this.decoder.decode(x);\n    };\n\n    /**\n     * Asynchronously parses fasta text on another thread to generate an array of nodes with id and seq\n     * @param {string} text fasta string\n     * @returns {Promise<Array>} A Promise that resolves to an array of nodes with id and seq.\n     */\n    parseFASTA(text): Promise<any> {\n      return new Promise(resolve => {\n        let response = this.computer.compute_parse_fastaWorker.postMessage(text);\n\n        this.computer.compute_parse_fastaWorker.onmessage().subscribe((response) => {\n          let nodes = JSON.parse(this.decode(new Uint8Array(response.data.nodes)));\n          if(this.debugMode) {\n            console.log(\"FASTA Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n          }\n          resolve(nodes);\n\n        });\n      });\n    };\n\n    private fromWorker(worker: Worker): Observable<MessageEvent<any>> {\n        return new Observable(observer => {\n          const messageHandler = (event: MessageEvent<any>) => observer.next(event);\n          const errorHandler = (error: ErrorEvent) => observer.error(error);\n      \n          worker.addEventListener('message', messageHandler);\n          worker.addEventListener('error', errorHandler);\n      \n          // Cleanup function\n          return () => {\n            worker.removeEventListener('message', messageHandler);\n            worker.removeEventListener('error', errorHandler);\n            worker.terminate();\n          };\n        });\n      }\n\n    /**\n     * Asynchronously parses csv matrix file content and adds nodes and links to session.data\n     * @param {string} file content from csv matrix file\n     * @returns {Promise} A Promise that resolves to an object with {numberOfNodesAdded, numberOfLinksAdded, totalNumberofNodes, totalNumberofLinks}\n     */\n   parseCSVMatrix(file) {\n    console.log('parsing csv matrix');\n    return new Promise((resolve, reject) => { // Added reject for error handling\n        let check = this.session.files.length > 1;\n        const origin = [file.name];\n        let nn = 0,\n            nl = 0;        \n        this.computer.compute_parse_csv_matrixWorker.postMessage(file.contents);\n\n        // Convert worker messages to Observable\n        const workerObservable = this.fromWorker(this.computer.compute_parse_csv_matrixWorker);\n\n        const sub = workerObservable.subscribe({\n            next: (response: MessageEvent<any>) => {\n                const data = JSON.parse(\n                    this.decode(new Uint8Array(response.data.data))\n                );\n                if(this.debugMode) {\n                    console.log(\n                        'CSV Matrix Transit time: ',\n                        (Date.now() - response.data.start).toLocaleString(),\n                        'ms'\n                    );              \n                }\n             \n                const start = Date.now();\n                const nodes = data.nodes;\n                const tn = nodes.length;\n                for (let i = 0; i < tn; i++) {\n                    nn += this.addNode(\n                        {\n                            _id: this.filterXSS(nodes[i]),\n                            origin: origin,\n                        },\n                        check\n                    );\n                }\n                const links = data.links;\n                const tl = links.length;\n                for (let j = 0; j < tl; j++) {\n                    nl += this.addLink(\n                        Object.assign(links[j], {\n                            origin: origin,\n                            hasDistance: true,\n                            distanceOrigin: origin,\n                        }),\n                        check\n                    );\n                }\n\n                if(this.debugMode) {\n                    console.log(\n                        'CSV Matrix Merge time: ',\n                        (Date.now() - start).toLocaleString(),\n                        'ms'\n                    );             \n                }\n\n                resolve({ nn, nl, tn, tl });\n                sub.unsubscribe();\n            },\n            error: (err: ErrorEvent) => {\n                console.error('Worker error:', err);\n                reject(err);\n                sub.unsubscribe();\n            }\n        });\n    });\n};\n\n    /**\n     * XXXXX function not currently called XXXXX\n     * @param auspiceData \n     * @returns \n     */\n    auspiceCallBack(auspiceData) {\n        this.clearData();\n        this.session = this.sessionSkeleton();\n        this.session.meta.startTime = Date.now();\n        this.session.data.tree = auspiceData['tree'];\n        this.session.data.newickString = auspiceData['newick'];\n        let nodeCount = 0;\n        auspiceData['nodes'].forEach(node => {\n            if (!/NODE0*/.exec(node.id)) {\n            const nodeKeys = Object.keys(node);\n            nodeKeys.forEach( key => {\n                if (this.session.data.nodeFields.indexOf(key) === -1) {\n                this.session.data.nodeFields.push(key);\n                }\n                if (! Object.prototype.hasOwnProperty.call(node, 'origin') ) {\n                node.origin = [];\n                }\n                nodeCount += this.addNode(node, true);\n            });\n            }\n        });\n        let linkCount = 0;\n        auspiceData['links'].forEach(link => {\n            linkCount += this.addLink(link, true);\n        });\n        this.runHamsters();\n        // this.showMessage(` - Parsed ${nodeCount} New Nodes and ${linkCount} new Links from Auspice file.`);\n        this.processData();\n        return nodeCount;\n    };\n\n    /**\n     * Generates new sequences\n     * ported from https://github.com/CDCgov/SeqSpawnR/blob/91d5857dbda5998839a002fbecae0f494dca960a/R/SequenceSpawner.R\n     * @param {string} idPrefix - prefix to label generated sequences\n     * @param {number} count - number of sequences to generate\n     * @param {number} snps - number of snps to add to a new sequence is random value from 0 - snps\n     * @param {string} seed -reference sequence for generating new sequences \n     * @returns list of objects representings seq, each seq objects has {id: string, seq: string}\n     */\n    generateSeqs(idPrefix, count?, snps?, seed?) {\n        const start = Date.now();\n        if (!count) count = 1000;\n        if (!snps) snps = 100;\n        if (!seed) seed = this.session.data.reference;\n\n        const sampleCodons = [\n            \"GCA\",\n            \"GCC\",\n            \"GCG\",\n            \"GCT\",\n            \"AAC\",\n            \"AAT\",\n            \"GAC\",\n            \"GAT\",\n            \"TGC\",\n            \"TGT\",\n            \"GAC\",\n            \"GAT\",\n            \"GAA\",\n            \"GAG\",\n            \"TTC\",\n            \"TTT\",\n            \"GGA\",\n            \"GGC\",\n            \"GGG\",\n            \"GGT\",\n            \"CAC\",\n            \"CAT\",\n            \"ATA\",\n            \"ATC\",\n            \"ATT\",\n            \"AAA\",\n            \"AAG\",\n            \"CTA\",\n            \"CTC\",\n            \"CTG\",\n            \"CTT\",\n            \"TTA\",\n            \"TTG\",\n            \"ATG\",\n            \"AAC\",\n            \"AAT\",\n            \"CCA\",\n            \"CCC\",\n            \"CCG\",\n            \"CCT\",\n            \"CAA\",\n            \"CAG\",\n            \"AGA\",\n            \"AGG\",\n            \"CGA\",\n            \"CGC\",\n            \"CGG\",\n            \"CGT\",\n            \"AGC\",\n            \"AGT\",\n            \"TCA\",\n            \"TCC\",\n            \"TCG\",\n            \"TCT\",\n            \"ACA\",\n            \"ACC\",\n            \"ACG\",\n            \"ACT\",\n            \"GTA\",\n            \"GTC\",\n            \"GTG\",\n            \"GTT\",\n            \"TGG\",\n            \"TAC\",\n            \"TAT\",\n            \"CAA\",\n            \"CAG\",\n            \"GAA\",\n            \"GAG\"\n        ];\n        const sampleSNPs = [\"A\", \"C\", \"G\", \"T\"];\n\n        const sample = (vec, nCodons) => {\n            const samples = [];\n            for (let x = 0; x < nCodons; x++) {\n                let idx = Math.floor(this.r01() * vec.length);\n                samples.push(vec[idx]);\n            }\n            return samples;\n        }\n\n        const seqs = [];\n\n        seqs.push({ id: idPrefix + \"0\", seq: seed });\n\n        while (seqs.length < count) {\n            // number codons to vary\n            let nCodons = Math.floor(this.r01() * 10) + 1;\n\n            // randomly select this many to check for existence\n            const randomCodonSet = sample(sampleCodons, nCodons).join(\"\");\n\n            // try again if not present\n            if (seqs[seqs.length - 1].seq.indexOf(randomCodonSet) == -1) continue;\n\n            // sequence to mutate\n            let oldseed = seqs[Math.floor(this.r01() * seqs.length)].seq;\n\n            // select codons to replace randomCodonSet\n            const replacementCodonSet = sample(sampleCodons, nCodons).join(\"\");\n\n            // replace codon set\n            let newseed = oldseed.replace(randomCodonSet, replacementCodonSet);\n\n            // add snp substitutions randomly across entire sequence\n            // - randomly sample addedSNP\n            // - randomly pick SNPS to replace\n            let addedSNPs = Math.floor(this.r01() * snps);\n            for (let j = 0; j < addedSNPs; j++) {\n                let randomSNP = sample(sampleSNPs, 1)[0];\n                let locOfSNP = Math.floor(this.r01() * seed.length);\n                newseed =\n                    newseed.substr(0, locOfSNP) + randomSNP + newseed.substr(locOfSNP + 1);\n            }\n\n            seqs.push({ id: idPrefix + \"\" + seqs.length, seq: newseed });\n        }\n        if(this.debugMode) {\n            console.log(\"Sequence spawn time:\", (Date.now() - start).toLocaleString(), 'ms');\n        }\n        return seqs;\n    };\n\n    align(params): Promise<void> {\n        return new Promise(resolve => {\n            if (params.aligner == \"none\") {\n                return resolve(params.nodes);\n            }\n            const n = params.nodes.length;\n            const referenceLength = params.reference.length;\n\n\n            this.computer.compute_align_swWorker.postMessage(params);\n\n\n            const sub = this.computer.compute_align_swWorker.onmessage().subscribe((response) => {\n\n                let subset = JSON.parse(this.decode(new Uint8Array(response.data.nodes)));\n                console.log(\"Alignment transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n                const start = Date.now();\n                let minPadding = Infinity,\n                    d = null;\n                for (let i = 0; i < n; i++) {\n                    d = subset[i];\n                    if (!d._seq) d._seq = \"\";\n                    if (minPadding > d._padding) minPadding = d._padding;\n                }\n                for (let j = 0; j < n; j++) {\n                    d = subset[j];\n                    d._seq = \"-\".repeat(d._padding - minPadding) + d._seq;\n                    if (d._seq.length > referenceLength) {\n                        d._seq = d._seq.substring(0, referenceLength);\n                    } else {\n                        d._seq = d._seq.padEnd(referenceLength, \"-\");\n                    }\n                }\n                this.session.data.nodeFields.push('_score');\n                this.session.data.nodeFields.push('_padding');\n                this.session.data.nodeFields.push('_cigar');\n                console.log(\"Alignment Padding time: \", (Date.now() - start).toLocaleString(), \"ms\");\n                resolve(subset);\n                sub.unsubscribe();\n            });\n        });\n    };\n\n    computeConsensus(nodes = null): Promise<any> {\n\n\n        if (!nodes) nodes = this.session.data.nodes.filter(d => d.seq);\n\n        return new Promise(resolve => {\n\n            this.computer.compute_consensusWorker.postMessage({ data: nodes });\n\n            const sub = this.computer.compute_consensusWorker.onmessage().subscribe((response) => {\n\n                if(this.debugMode) {\n                    console.log(\"Consensus Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n                }\n                resolve(this.decode(new Uint8Array(response.data.consensus)));\n                sub.unsubscribe();\n            });\n\n            //let computer: WorkerModule = new WorkerModule();\n            //let response = computer.compute_consensus({ data: nodes });\n\n\n            //console.log(\"Consensus Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n            //resolve(this.decode(new Uint8Array(response.data.consensus)));\n\n        });\n\n    };\n\n\n    computeAmbiguityCounts(): Promise<void> {\n        return new Promise(resolve => {\n            let nodes = this.session.data.nodes;\n            let subset = nodes.filter(d => d.seq);\n            const subsetLength = subset.length;\n\n            this.computer.compute_ambiguity_countsWorker.postMessage(subset);\n\n            const sub = this.computer.compute_ambiguity_countsWorker.onmessage().subscribe((response) => {\n\n                console.log(\"Ambiguity Count Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n                const start = Date.now();\n                const dists = new Float32Array(response.data.counts);\n                for (let j = 0; j < subsetLength; j++) {\n                    nodes[subset[j].index]._ambiguity = dists[j];\n                }\n                this.session.data.nodeFields.push('_ambiguity');\n                console.log(\"Ambiguity Count Merge time: \", (Date.now() - start).toLocaleString(), \"ms\");\n                resolve();\n                sub.unsubscribe();\n            });\n\n            //let computer: WorkerModule = new WorkerModule();\n            //let response = computer.compute_ambiguity_counts(subset);\n\n\n            //console.log(\"Ambiguity Count Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n            //let start = Date.now();\n            //const dists = new Float32Array(response.data.counts);\n            //for (let j = 0; j < subsetLength; j++) {\n            //    nodes[subset[j].index]._ambiguity = dists[j];\n            //}\n            //this.session.data.nodeFields.push('_ambiguity');\n            //console.log(\"Ambiguity Count Merge time: \", (Date.now() - start).toLocaleString(), \"ms\");\n            //resolve();\n\n        });\n    };\n\n\n    computeConsensusDistances(): Promise<void> {\n\n        return new Promise(resolve => {\n            let start = Date.now();\n            let nodes = this.session.data.nodes;\n            let nodesLength = nodes.length;\n            let subset = [];\n            for (let i = 0; i < nodesLength; i++) {\n                const node = nodes[i];\n                if (node.seq) {\n                    subset.push({\n                        index: i,\n                        seq: node.seq\n                    });\n                } else {\n                    subset.push({\n                        index: i,\n                        seq: \"\"\n                    });\n                }\n            }\n\n            let subsetLength = subset.length;\n            this.computer.compute_consensusWorker.postMessage({\n                data: {\n                    consensus: this.session.data['consensus'],\n                    subset: subset,\n                    start: start\n                }\n            });\n\n            const sub = this.computer.compute_consensusWorker.onmessage().subscribe((response) => {\n\n                const dists = new Uint16Array(response.data.dists);\n                console.log(\"Consensus Difference Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n                start = Date.now();\n                for (let j = 0; j < subsetLength; j++) {\n                    nodes[subset[j].index]._diff = dists[j];\n                }\n                this.session.data.nodeFields.push('_diff');\n                console.log(\"Consensus Difference Merge time: \", (Date.now() - start).toLocaleString(), \"ms\");\n                resolve();\n                sub.unsubscribe();\n            });\n        });\n    };\n\n    /**\n     * Asychronously uses a worker to calculate snp or tn93 distances between each set of nodes and then add links\n     * @param subset an array of nodes\n     * @returns a promise that resolves to the number of new links added from this.addLink()\n     */\n    computeLinks(subset): Promise<any> {\n        return new Promise(resolve => {\n\n            let k = 0;\n\n            this.computer.compute_linksWorker.postMessage({\n                nodes: subset,\n                metric: this.session.style.widgets['default-distance-metric'],\n                strategy: this.session.style.widgets[\"ambiguity-resolution-strategy\"],\n                threshold: this.session.style.widgets[\"ambiguity-threshold\"]\n            });\n\n            const sub = this.computer.compute_linksWorker.onmessage().subscribe((response) => {\n\n                let dists = this.session.style.widgets['default-distance-metric'].toLowerCase() == 'snps' ?\n                    new Uint16Array(response.data.links) :\n                    new Float32Array(response.data.links);\n                    if(this.debugMode) {\n                        console.log(\"Links Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n                    }\n                let start = Date.now();\n                let check = this.session.files.length > 1;\n                let n = subset.length;\n                let l = 0;\n                console.log('link same compute---', n);\n                for (let i = 0; i < n; i++) {\n                    const sourceID = subset[i]._id;\n                    for (let j = 0; j < i; j++) {\n                        let targetID = subset[j]._id;\n                        console.log('link same compute')\n                        k += this.addLink({\n                            source: sourceID,\n                            target: targetID,\n                            distance: dists[l++],\n                            origin: ['Genetic Distance'],\n                            distanceOrigin: 'Genetic Distance',\n                            hasDistance: true,\n                            directed: false\n                        }, check);\n                    }\n                }\n                if(this.debugMode) {\n                    console.log(\"Links Merge time: \", (Date.now() - start).toLocaleString(), \"ms\");\n                }\n                resolve(k);\n                sub.unsubscribe(); // remove the subscription once done\n            });\n        });\n    };\n\n    \n\n    getDM(): Promise<any> {\n        const start = Date.now();\n        return new Promise(resolve => {\n            let dm : any = '';\n            if (this.session.data['newick']){\n                let treeObj = patristic.parseNewick(this.session.data['newick']);\n                dm = treeObj.toMatrix();\n            } else {\n                let labels = this.session.data.nodes.map(d => d._id);\n                labels = labels.sort();\n                let metric = this.session.style.widgets['link-sort-variable'];\n                const n = labels.length;\n                dm = new Array(n);\n                const m = new Array(n);\n                for (let i = 0; i < n; i++) {\n                    dm[i] = new Array(n);\n                    dm[i][i] = 0;\n                    let source = labels[i];\n                    let row = this.temp.matrix[source];\n                    if (!row) {\n                        console.error('Incompletely populated temp.matrix! Couldn\\'t find ' + source);\n                        continue;\n                    }\n                    for (let j = 0; j < i; j++) {\n                        const link = row[labels[j]];\n                        if (link) {\n                            dm[i][j] = dm[j][i] = link[metric];\n                        } else {\n                            dm[i][j] = dm[j][i] = null;\n                        }\n                    }\n                }\n            }\n            // console.log('matrixx: ',  JSON.stringify(this.temp.matrix));\n\n            if(this.debugMode) {\n                console.log(\"DM Compute time: \", (Date.now() - start).toLocaleString(), \"ms\");\n            }\n            resolve(dm);\n        });\n    };\n\n    computeTree(): Promise<any> {\n\n        if(this.debugMode) {\n            console.log('computing tree')\n        }\n        return new Promise(resolve => {\n\n          if (this.temp.treeObj) {\n            resolve(this.temp.treeObj.toNewick());\n          } else if(this.session.data['newick']){\n            resolve(this.session.data['newick']);\n          } else {\n            this.getDM().then(dm => {\n                this.computer.compute_treeWorker.postMessage({\n                    // labels: Object.keys(this.temp.matrix).sort(), <- This doesn't work because temp.matrix retains blank objects\n                    labels: this.session.data.nodes.map(a => a._id),\n                    matrix: dm,\n                    round: this.session.style.widgets[\"tree-round\"]\n                });\n\n\n                const sub = this.computer.compute_treeWorker.onmessage().subscribe((response) => {\n\n                  const treeObj = this.decode(new Uint8Array(response.data.tree));\n\n                  const treeString = patristic.parseJSON(treeObj).toNewick();\n\n                  if(this.debugMode) {\n                    console.log('Tree Transit time: ', (Date.now() - response.data.start).toLocaleString(), 'ms');\n                  }\n                  resolve(treeString);\n\n              });\n\n            });\n          }\n        })\n    };\n\n\n    computeDirectionality(): Promise<void> {\n        return new Promise(resolve => {\n\n            this.computer.compute_directionalityWorker.postMessage({\n                links: this.session.data.links,\n                tree: this.temp.tree\n            });\n\n            const sub = this.computer.compute_directionalityWorker.onmessage().subscribe((response) => {\n\n                const flips = new Uint8Array(response.data.output);\n                if(this.debugMode) {\n                    console.log(\"Directionality Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n                }\n                const start = Date.now();\n                const n = flips.length;\n                for (let i = 0; i < n; i++) {\n                    if (flips[i]) {\n                        let fliplink = this.session.data.links[i];\n                        let fliptemp = fliplink.source;\n                        fliplink.source = fliplink.target;\n                        fliplink.target = fliptemp;\n                        fliplink.directed = true;\n                    }\n                }\n                if(this.debugMode) {\n                    console.log(\"Directionality Integration time: \", (Date.now() - start).toLocaleString(), \"ms\");\n                }\n                resolve();\n\n            });\n\n        });\n    };\n\n    computeMST(): Promise<void> {\n        return new Promise((resolve, reject) => {\n\n            this.computer.compute_mstWorker.postMessage({\n                links: this.session.data.links,\n                matrix: this.temp.matrix,\n                epsilon: this.session.style.widgets[\"filtering-epsilon\"],\n                metric: this.session.style.widgets['link-sort-variable']\n            });\n\n            const sub = this.computer.compute_mstWorker.onmessage().subscribe((response) => {\n            if (response.data == \"Error\") {\n              return reject(\"MST washed out\");\n            }\n            const output = new Uint8Array(response.data.links);\n            if(this.debugMode) {\n                console.log(\"MST Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n            }\n            const start = Date.now();\n            let links = this.session.data.links;\n            const numLinks = links.length;\n            for (let i = 0; i < numLinks; i++) {\n              links[i].nn = output[i] ? true : false;\n            }\n            if(this.debugMode) {\n                console.log(\"MST Merge time: \", (Date.now() - start).toLocaleString(), \"ms\");\n            }\n            resolve();\n            sub.unsubscribe();\n          });\n        });\n      };\n\n\n    computeNN(): Promise<void> {\n        return new Promise((resolve, reject) => {\n\n            this.computer.compute_nnWorker.postMessage({\n                links: this.session.data.links,\n                matrix: this.temp.matrix,\n                epsilon: this.session.style.widgets[\"filtering-epsilon\"],\n                metric: this.session.style.widgets['link-sort-variable']\n            });\n\n            const sub = this.computer.compute_nnWorker.onmessage().subscribe((response) => {\n\n                if (response.data == \"Error\") {\n                    return reject(\"Nearest Neighbor washed out\");\n                }\n                const output = new Uint8Array(response.data.links);\n                if(this.debugMode) {\n                    console.log(\"NN Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n                }\n                const start = Date.now();\n                let links = this.session.data.links;\n                const numLinks = links.length;\n                for (let i = 0; i < numLinks; i++) {\n                    links[i].nn = output[i] ? true : false;\n                }\n                if(this.debugMode) {\n                    console.log(\"NN Merge time: \", (Date.now() - start).toLocaleString(), \"ms\");\n                }\n                resolve();\n                sub.unsubscribe();\n            });\n        });\n    };\n\n    computeTriangulation(): Promise<void> {\n        return new Promise((resolve, reject) => {\n\n            const metric = this.session.style.widgets['link-sort-variable'];\n            this.getDM().then(dm => {\n                this.computer.compute_triangulationWorker.postMessage({\n                    matrix: dm\n                });\n\n                const sub = this.computer.compute_triangulationWorker.onmessage().subscribe((response) => {\n\n                    if (response.data == \"Error\") return reject(\"Triangulation washed out\");\n                    if(this.debugMode) {\n                        console.log(\"Triangulation Transit time: \", (Date.now() - response.data.start).toLocaleString(), \"ms\");\n                    }\n                    let start = Date.now();\n                    let matrix = JSON.parse(this.decode(new Uint8Array(response.data.matrix)));\n                    let labels = Object.keys(this.temp.matrix);\n                    const n = labels.length;\n                    for (let i = 0; i < n; i++) {\n                        let source = labels[i];\n                        let row = this.temp.matrix[source];\n                        for (let j = 0; j < i; j++) {\n                            const target = labels[j];\n                            if (!row[target]) {\n                                this.addLink({\n                                    source: source,\n                                    target: target,\n                                    origin: ['Triangulation'],\n                                    visible: false\n                                });\n                            }\n                            row[target][metric] = matrix[i][j];\n                        }\n                    }\n                    if(this.debugMode) {\n                        console.log(\"Triangulation Merge time: \", (Date.now() - start).toLocaleString(), \"ms\");\n                    }\n                    resolve();\n                    sub.unsubscribe();\n                })\n            });\n        });\n    };\n\n    async runHamsters() {\n\n        console.log('running hamsters');\n        if (!this.session.style.widgets['triangulate-false']) this.computeTriangulation();\n        // this.computeNN();\n        console.log('computeTree');\n        this.computeTree();\n        console.log('compute tree end');\n        if (!this.session.style.widgets['infer-directionality-false']) this.computeDirectionality();\n        this.finishUp();\n    };\n\n    /**\n     * Sets node/link values to null when they aren't present. Check each field in nodeField and linkFields, and if the key includes 'date', sets any null or empty string\n     * value to the min date value found. Populates options for #search-field, #link-sort-variable, #node-color-variable, #link-color-variable, set value for #default-distance-metric.\n     * Next calls updateThresholdHistogram, tagClusters, setClusterVisibility, setLinkVisibilty, setNodeVisibility functions. Updates network statistic table.\n     * Launches default view.\n     */\n    async finishUp() {\n\n        clearTimeout(this.temp.messageTimeout);\n        // cycles through each node and link and if variable in nodeFields/linkFields not a key for the node/link, it is added with value of null\n        [\"node\", \"link\"].forEach(v => {\n            let n = this.session.data[v + \"s\"].length;\n            let fields = this.session.data[v + \"Fields\"];\n            for (let i = 0; i < n; i++) {\n                let d = this.session.data[v + \"s\"][i];\n                fields.forEach(field => {\n                    if (!(field in d)) d[field] = null;\n                });\n            }\n        });\n\n        \n         // patch missing date fields to earliest date in the the data\n        let fields = this.session.data[\"nodeFields\"];\n        let nodeSkeleton = this.dataSkeleton();\n        let fieldsToCheck = fields.filter(f => !nodeSkeleton.nodeFields.includes(f) && f != '_ambiguity' && f != '_diff'); \n        let n = this.session.data.nodes.length;\n        let k = fieldsToCheck.length;\n        // for each field in fieldsToCheck (fieldsToCheck are nodeFields that are not default from dataSkeleton() and also not '_ambiguity' and not '_diff' )\n        for (let j = 0; j < k; j++) {\n            const field = fieldsToCheck[j];\n            const times = [];\n            // for each node check if node[field] is valid time and if so push to times []\n            for (let i = 0; i < n; i++) {\n                let node = this.session.data.nodes[i];\n                if (node[field] != null) {\n                    const time = moment(node[field]); \n                    if (time.isValid() && isNaN(node[field])) //#315\n                        times.push(time.toDate());\n                }\n            }\n\n            // If column has the word date in it, date expected to be in column \n            if (field.toLowerCase().includes(\"date\")){\n        \n                const minTime = Math.min(...times);\n                const minTimeString = new Date(minTime).toString();\n                // for each node d, if d[field] == null or empty string (\"\", \" \", \"  \" ...) set d[field] to minTimeString\n                this.session.data.nodes.forEach(d => {\n                    if (d[field] == null || (d[field] && String(d[field]).trim() == \"\"))  {\n                        d[field] = minTimeString;\n                    } \n                });\n            }\n        };\n\n        // TODO:: See if this is needed\n        // this.foldMultiSelect();\n\n        $(\"#search-field\")\n            .html(this.session.data.nodeFields.map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\"))\n            .val(this.session.style.widgets[\"search-field\"]);\n        $(\"#search-form\").css(\"display\", \"flex\");\n        $(\"#link-sort-variable\")\n            .html(this.session.data.linkFields.map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\"))\n            .val(this.session.style.widgets[\"link-sort-variable\"]);\n        $(\"#node-color-variable\")\n            .html(\n                \"<option selected>None</option>\" +\n                this.session.data.nodeFields.map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\"))\n            .val(this.session.style.widgets[\"node-color-variable\"]);\n        $(\"#default-distance-metric\")\n            .val(this.session.style.widgets[\"default-distance-metric\"]);\n        $(\"#link-color-variable\")\n        .html(\n            \"<option>None</option>\" +\n            this.session.data.linkFields.map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\"))\n        .val(this.session.style.widgets[\"link-color-variable\"]);\n        try {\n            this.updateThresholdHistogram();\n        } catch (error) {\n            console.error(error);\n            $(\"#loading-information-modal\").hide();\n            // abp.notify.error(\"Something went wrong! Please click here to start a new session and try again.\");\n            //.delay(0)\n            //.ondismiss(() => window.location.reload());\n        }\n\n        this.setLinkVisibility(true);\n\n        $(\"#SettingsTab\").attr(\"data-target\", \"#global-settings-modal\");\n        this.session.meta.loadTime = Date.now() - this.session.meta.startTime;\n        console.log(\"Total load time:\", this.session.meta.loadTime.toLocaleString(), \"ms\");\n\n        this.tagClusters().then(() => {\n            this.setClusterVisibility(true);\n            this.setLinkVisibility(true);\n            this.setNodeVisibility(true);\n            [\"cluster\", \"link\", \"node\"].forEach(thing => $(document).trigger(thing + \"-visibility\"));// $window.trigger(thing + \"-visibility\"));\n            this.updateStatistics();\n            $(\"#network-statistics-wrapper\").fadeIn();\n            // console.log\n        });\n\n        setTimeout(() => {\n            if(this.debugMode) {\n                console.log('launching view: ',this.session.style.widgets['default-view']);\n            }\n            this.launchView(this.session.style.widgets['default-view']);\n            //this.launchView('Aggregate');\n            //setTimeout(() => { $('#overlay button').click()}, 100)\n            // currently loading all views isn't ready and is leading to bugs where default data is seeping in when new data is loaded\n            //delayFunction(10, loadOtherViews) \n            function convertName(s: string) {\n                // can't do alignment view yet;\n                if (s == 'geo_map') {\n                    return 'Map';\n                } else if (s == 'table') {\n                    return 'Table'\n                } else if (s == 'timeline') {\n                    return 'Epi Curve' \n                } else if (s == '2d_network') {\n                    return '2D Network'\n                } else if (s == 'sequences') {\n                    //return 'Alignment View';\n                    return false;\n                    // need to add crosstab as well and fix alignment view; they are not being added to cs.session.layout.content;\n                    // on another note it doesn't close all previous view when new data is added from overlay\n                } else if (s == 'phylogenetic_tree') {\n                    return 'Phylogenetic Tree'\n                } else {\n                    console.log(`view ${s} is not currently defined`);\n                    return false;\n                }\n            }\n            async function delayFunction(x, callback) {\n                await new Promise(resolve => setTimeout(resolve, x)).then(() => {\n                    callback();\n                })\n            }\n            async function loadOtherViews() {\n                this.session.layout.content.forEach(async view => {\n                    let viewName = convertName(view.type)\n                    if (view.type == this.session.style.widgets['default-view']) {\n                        return;\n                    } else if (viewName){\n                        this.visuals.microbeTrace.Viewclick(viewName);\n                    }\n                    if (viewName == 'Epi Curve') {\n                        this.visuals.epiCurve.viewActive = false;\n                    }\n                })\n                this.visuals.microbeTrace.Viewclick(convertName( this.session.style.widgets['default-view']))\n            }\n\n        }, 1000);\n        \n        /*if (localStorage.getItem(\"stash-auto\") == \"true\") {\n            this.temp.autostash = {\n                time: Date.now(),\n                interval: setInterval(() => {\n                    let newTime = Date.now();\n                    this.localStorageService.setItem(\"stash-\" + newTime + \"-autostash\", JSON.stringify(this.session));\n                    this.localStorageService.removeItem(\"stash-\" + this.temp.autostash.time + \"-autostash\", (error) => {\n\n                      \n                        abp.notify.warn('Error while attempting to remove stash');\n\n                    });\n\n                    this.temp.autostash.time = newTime;\n                }, 60000)\n            };\n        }*/\n        $(\".hideForHIVTrace\").css(\"display\", \"flex\");\n\n    };\n\n    foldMultiSelect() {\n        this.foldRaces();\n        this.foldExposures();\n    }\n\n    foldRaces() {\n        if(this.session.data.nodeFields.find(x => x === \"Race\")){\n            return;\n        }\n\n        this.session.data.nodeFields.push(\"Race\");\n        this.session.data.nodeFields.push(\"RaceDetails\");\n\n        const races: { id: string, displayValue: string }[] = [\n            { id: \"RaceAsian\", displayValue: \"Asian\" },\n            { id: \"RaceAmericanIndian\", displayValue: \"American Indian\" },\n            { id: \"RaceBlack\", displayValue: \"Black\" },\n            { id: \"RaceWhite\", displayValue: \"White\" },\n            { id: \"RaceNativeHawaiian\", displayValue: \"Native Hawaiian\" }\n        ];\n\n        if (this.session.data.nodes) {\n\n            this.session.data.nodes.forEach(node => {\n                if (!node.Race) {\n\n                    let selectedRace: string = \"\";\n                    const raceDetails: string[] = [];\n\n                    races.forEach(race => {\n                        if (node[race.id] && node[race.id].toLowerCase() === \"true\") {\n                            \n                            raceDetails.push(race.displayValue);\n\n                            if (!selectedRace) {\n                                selectedRace = race.displayValue;\n                            } else {\n                                selectedRace = \"Mixed\";\n                            }\n                        }\n\n                        //Remove race properties\n                        delete node[race.id];\n                    });\n\n                    node.Race = selectedRace;\n                    node.RaceDetails = raceDetails.join(\" | \");\n                }\n            })\n        }\n\n        //Remove race fields from nodeFields\n        races.forEach(race=>{\n            this.session.data.nodeFields = this.session.data.nodeFields.filter(x=>x != race.id);\n        })\n\n    }\n\n    foldExposures(){\n        if(this.session.data.nodeFields.find(x => x === \"Exposure\")){\n            return;\n        }\n\n        this.session.data.nodeFields.push(\"Exposure\");\n        this.session.data.nodeFields.push(\"ExposureDetails\");\n\n        const exposures: { id: string, displayValue: string }[] = [\n            { id: \"ExposureInfoDomesticTraveled\", displayValue: \"Domestic Traveled\"},\n            { id: \"ExposureInfoInternationalTraveled\", displayValue: \"International Traveled\"},\n            { id: \"ExposureInfoCorrectionalFacility\", displayValue: \"Correctional Facility\"},\n            { id: \"ExposureInfoCovidAnimal\", displayValue: \"Covid Animal\"},\n            { id: \"ExposureInfoCruiseShipTraveled\", displayValue: \"Cruise Ship Traveled\"},\n            { id: \"ExposureInfoWorkplace\", displayValue: \"Workplace\"},\n            { id: \"ExposureInfoWorkplaceIsCriticalInfra\", displayValue: \"Workplace Is Critical Infra\"},\n            { id: \"ExposureInfoWorkplaceSetting\", displayValue: \"Workplace Setting\"},\n            { id: \"ExposureInfoAdultLivingFacility\", displayValue: \"Adult Living Facility\"},\n            { id: \"ExposureInfoSchool\", displayValue: \"School\"},\n            { id: \"ExposureInfoKnownCovid19ContactnCoVID\", displayValue: \"Known Covid19 Contact nCoVID\"}            \n        ];\n\n        if (this.session.data.nodes) {\n\n            this.session.data.nodes.forEach((node, index) => {\n                if (!node.Exposure) {\n\n                    let selectedRace: string = \"\";\n                    const exposureDetails: string[] = [];\n\n                    exposures.forEach(exposure => {\n                        if (exposure.id != \"ExposureInfoWorkplaceIsCriticalInfra\" && \n                            exposure.id != \"ExposureInfoWorkplaceSetting\" && \n                            node[exposure.id] && node[exposure.id].toLowerCase() === \"true\") {\n                            \n                            if(exposure.id === \"ExposureInfoWorkplace\"){\n                                exposureDetails.push(`${exposure.displayValue} {\"Is the workplace critical infrastructure\" : \"${this.session.data.nodes[index].ExposureInfoWorkplaceIsCriticalInfra}\", \"Workplace Setting\" : \"${this.session.data.nodes[index].ExposureInfoWorkplaceSetting}\"}`);\n                            }\n                            else{\n                                exposureDetails.push(exposure.displayValue);\n                            }\n\n                            if (!selectedRace) {\n                                selectedRace = exposure.displayValue;\n                            } else {\n                                selectedRace = \"Multiple\";\n                            }\n                        }\n\n                        //Remove exposure properties\n                        delete node[exposure.id];\n                    });\n\n                    node.Exposure = selectedRace;\n                    node.ExposureDetails = exposureDetails.join(\" | \");\n                }\n            })\n        }\n\n        //Remove exposure fields from nodeFields\n        exposures.forEach(exposure=>{\n            this.session.data.nodeFields = this.session.data.nodeFields.filter(x=>x != exposure.id);\n        })\n    }\n\n    /**\n     * Gets a list of all visible node objects\n     * @param {boolean} [copy=false] - optional boolean value to set if you want to deepcopy the nodes\n     * @returns a list of node objects\n     */    \n    getVisibleNodes(copy: any = false) {\n        let nodes = this.session.data.nodeFilteredValues;\n        let n = nodes.length;\n        let out = [];\n        for (let i = 0; i < n; i++) {\n            const node = nodes[i];\n            if (node.visible) {\n                if (copy) {\n                    out.push(JSON.parse(JSON.stringify(node)));\n                } else {\n                    out.push(node);\n                }\n            }\n        }\n        return out;\n    };\n\n    /**\n     * Gets a list of all visible links objects; Similar to twoD.getVlinks(), and twoD.getLLinks()\n     * \n     * A link that has multiple origin is stored as a single object\n     * \n     * Each link's source and target are strings of the node _id\n     * @param {boolean} [copy=false] - optional boolean value to set if you want to deepcopy the links\n     * @returns a array of link objects;\n     */    \n    getVisibleLinks(copy: any = false) {\n        let links = this.session.data.links;\n        let n = links.length;\n        let out = [],\n            link = null;\n        if (copy) {\n            for (let i = 0; i < n; i++) {\n                link = links[i];\n                if (link.visible) out.push(JSON.parse(JSON.stringify(link)));\n            }\n        } else {\n            for (let j = 0; j < n; j++) {\n                link = links[j];\n                if (link.visible) out.push(link);\n            }\n        }\n        if(this.debugMode) {\n            console.log('get visible links: ', _.cloneDeep(out));\n        }\n        return out;\n    };\n\n    /**\n     * Gets a list of all visible cluster objects\n     * @param {boolean} [copy=false] - optional boolean value to set if you want to deepcopy the cluster\n     * @returns a list of cluster objects\n     */\n    getVisibleClusters(copy: any = false) {\n        let clusters = this.session.data.clusters;\n        if(this.debugMode) {\n            console.log('get vis: ', clusters);\n        }\n        const n = clusters.length;\n        const out = [];\n        let cluster = null;\n        if (copy) {\n            for (let i = 0; i < n; i++) {\n                cluster = clusters[i];\n                if (cluster.visible) out.push(JSON.parse(JSON.stringify(cluster)));\n            }\n        } else {\n            for (let j = 0; j < n; j++) {\n                cluster = clusters[j];\n                if (cluster.visible) out.push(cluster);\n            }\n        }\n        return out;\n    };\n\n    /**\n     * updates the network statistics table with number of visible nodes, visible links, clusters, and selected links\n     * @returns undefined\n     */\n    updateStatistics() {\n\n        if ($(\"#network-statistics-hide\").is(\":checked\")) return;\n        let vnodes = this.getVisibleNodes();\n        let vlinks = this.getVisibleLinks();\n        let linkCount = 0;\n        let clusterCount = 0;\n        if (this.session.style.widgets[\"timeline-date-field\"] == 'None') {\n            linkCount = vlinks.length;\n            // const minSize = this.session.style.widgets['cluster-minimum-size'];\n            clusterCount = this.session.data.clusters.filter(\n              cluster => cluster.visible && cluster.nodes > 1).length;\n        } else {\n            let n = vlinks.length;\n            for (let i = 0; i < n; i++) {\n                const src = vnodes.find(d => d._id == vlinks[i].source || d.id == vlinks[i].source);\n                const tgt = vnodes.find(d => d._id == vlinks[i].target || d.id == vlinks[i].target);\n                if (src && tgt) linkCount++;\n            }\n            \n            n = vnodes.length;\n            const clusters = {};\n            for (let i = 0; i < n; i++) {\n                const id = vnodes[i].cluster;\n                if (clusters[id]) clusters[id]++;\n                else clusters[id] = 1;\n            }\n            clusterCount = this.session.data.clusters.filter(cluster => clusters[cluster.id] && clusters[cluster.id]>2 && cluster.visible && cluster.nodes > 1).length;\n\n        }\n        const singletons = vnodes.filter(d => d.degree == 0).length;\n        $(\"#numberOfSelectedNodes\").text(vnodes.filter(d => d.selected).length.toLocaleString());\n        $(\"#numberOfNodes\").text(vnodes.length.toLocaleString());\n        $(\"#numberOfVisibleLinks\").text(linkCount.toLocaleString());\n        $(\"#numberOfSingletonNodes\").text(singletons.toLocaleString());\n        $(\"#numberOfDisjointComponents\").text(clusterCount);\n    };\n\n    private exportRequestedSource = new Subject<void>();\n    exportRequested$ = this.exportRequestedSource.asObservable();\n\n     private exportOptions: ExportOptions = {\n        filename: 'network_export',\n        filetype: 'png',\n        scale: 1,\n        quality: 0.92,\n    };\n\n    /**\n     * Call this method to set export options before requesting an export.\n     * @param options ExportOptions object containing user-selected options\n     */\n    setExportOptions(options: ExportOptions): void {\n        this.exportOptions = { ...options };\n    }\n\n    /**\n     * Retrieve the current export options.\n     * @returns ExportOptions object\n     */\n    getExportOptions(): ExportOptions {\n        return this.exportOptions;\n    }\n\n     /**\n     * Notify subscribers that an export has been requested.\n     */\n    requestExport(): void {\n        this.exportRequestedSource.next();\n    }\n  \n    // requestExport(filename: string, type: string): void {\n    //   this.exportRequestedSource.next({filename, type});\n    // }\n\n    /**\n\t * updates the functions that set the color and transparency of the nodes [commonService.temp.style.nodeColorMap() and commonService.temp.style.nodeAlphaMap()]\n\t * @returns {Object} where keys are the values to group (ie. subtype B,C,D...) and values are counts of the number of node for each key\n\t */\n    createNodeColorMap() {\n        let variable = this.session.style.widgets[\"node-color-variable\"];\n        if (variable == \"None\") {\n            this.temp.style.nodeColorMap = () => this.session.style.widgets[\"node-color\"];\n            return [];\n        }\n\n        let nodeColors;\n\n        if(this.session.style.nodeColorsTable && this.session.style.nodeColorsTable[variable]) {\n            nodeColors = [...this.session.style.nodeColorsTable[variable]];\n        } else {\n            this.session.style.nodeColorsTable = {};\n            this.session.style.nodeColorsTableKeys = {};\n            nodeColors = this.session.style.nodeColorsTable[variable] = [...this.session.style.nodeColors];\n        }\n\n        // populates aggregates object where key is the value and the value is the count of number of nodes with that value\n        let aggregates = {};\n        let nodes = this.session.data.nodes;\n        let n = nodes.length;\n        for (let i = 0; i < n; i++) {\n            const d = nodes[i];\n            const dv = d[variable];\n            if (dv in aggregates) {\n                if (!d.visible) continue;\n                aggregates[dv]++;\n            } else {\n                if (!d.visible) aggregates[dv] = 0;\n                else aggregates[dv] = 1;\n            }\n        }\n        \n        // adds more colors and alpha values when number of node options > number of colors/alphas\n        let values = Object.keys(aggregates);\n        if (values.length > this.session.style.nodeColors.length) {\n            let colors = [];\n            let m = Math.ceil(values.length / this.session.style.nodeColors.length);\n            while (m-- > 0) {\n                colors = colors.concat(this.session.style.nodeColors);\n            }\n            nodeColors = colors;\n            this.session.style.nodeColors = colors;\n        }\n        if (!this.session.style.nodeAlphas) this.session.style.nodeAlphas = new Array(values.length).fill(1);\n        if (values.length > this.session.style.nodeAlphas.length) {\n            this.session.style.nodeAlphas = this.session.style.nodeAlphas.concat(\n                new Array(values.length - this.session.style.nodeAlphas.length).fill(1)\n            );\n        }\n\n\n        if(!this.session.style.nodeColorsTableHistory) {\n            this.session.style.nodeColorsTableHistory = {\n                \"null\" : \"#EAE553\"\n            };\n        }\n        let keys = Object.keys(this.session.style.nodeColorsTableHistory);\n\n        //Update Table History\n        values.forEach( (val, ind) => {\n\n        // Get index of value in history\n        const index = keys.findIndex(key => key === val);\n\n        //If found in history set previous color\n        if (index !== -1) {\n\n            // Update color of where value currently is\n            nodeColors[ind] = this.session.style.nodeColorsTableHistory[val];\n\n        //If value not found in history, add it\n        } else {\n            this.session.style.nodeColorsTableHistory[val] = nodeColors[ind];\n        }\n\n        if (val === \"null\"){\n            nodeColors[ind] = \"#EAE553\"\n        }\n\n        });\n\n        if (this.session.style.widgets[\"node-timeline-variable\"] == 'None') {\n            this.session.style.nodeColorsTableKeys[variable] = values;\n            this.session.style.nodeColorsTable[variable] = nodeColors;\n        } else {\n        \n        // During timeline mode, user Pause and switch to a different Node varaible but nodeColorsTableKeys[variable] is not available\n        if(!this.session.style.nodeColorsTableKeys[variable]) {\n            let aggregatesTL = {};\n            let nodesTL = this.session.network.timelineNodes;\n            let n = nodesTL.length;\n            let nodeColorsTL = [...this.session.style.nodeColors];\n            for (let i = 0; i < n; i++) {\n            const d = nodesTL[i];\n            if (!d.visible) continue;\n            const dv = d[variable];\n            if (dv in aggregatesTL) {\n                aggregatesTL[dv]++;\n            } else {\n                aggregatesTL[dv] = 1;\n            }\n            }\n            const valuesTL = Object.keys(aggregatesTL);\n            if (valuesTL.length > nodeColorsTL.length) {\n            let colors = [];\n            let m = Math.ceil(valuesTL.length / nodeColorsTL.length);\n            while (m-- > 0) {\n                colors = colors.concat(nodeColorsTL);\n            }\n            nodeColorsTL = colors;\n            }\n            this.session.style.nodeColorsTableKeys[variable] = valuesTL;\n            this.session.style.nodeColorsTable[variable] = nodeColorsTL;\n        }\n\n        let key;\n        let tempNodeColors=[];\n        for(let v of values) {\n            let table = this.session.style.nodeColorsTableKeys[variable];\n            key = table.findIndex( k => k === v);\n            tempNodeColors.push(nodeColors[key]);\n        }\n\n        nodeColors = this.temp.style.nodeColor = tempNodeColors; // temp node color maps saved only under timeline\n        this.temp.style.nodeColorKeys = [...values];\n\n    }\n\n        // updates the function that defines which color and transparency value to use for each node\n        this.temp.style.nodeColorMap = d3\n            .scaleOrdinal(this.session.style.nodeColors)\n            .domain(values);\n        this.temp.style.nodeAlphaMap = d3\n            .scaleOrdinal(this.session.style.nodeAlphas)\n            .domain(values);\n        return aggregates;\n    };\n\n    /**\n\t * updates the functions that set the color and transparency of the links [commonService.temp.style.linkColorMap() and commonService.temp.style.linkAlphaMap()]\n\t * @returns {Object} where keys are the values to group (ie. origin A, origin B) and values are counts of the number of links for each key\n\t */\n    createLinkColorMap() {\n        let variable = this.session.style.widgets[\"link-color-variable\"];\n        if(this.debugMode) {\n            console.log('link var: ', variable);\n        }\n        if (variable == \"None\") {\n            this.temp.style.linkColorMap = () => this.session.style.widgets[\"link-color\"];\n            this.temp.style.linkAlphaMap = () => 1 - this.session.style.widgets[\"link-opacity\"];\n            return [];\n        }\n\n        let linkColors;\n        if( this.session.style.linkColorsTable && this.session.style.linkColorsTable[variable]) {\n            linkColors =  this.session.style.linkColorsTable[variable];\n        } else if (variable == 'source' || variable == 'target') {\n            this.session.style.linkColorsTable = {};\n            this.session.style.linkColorsTableKeys = {};\n            linkColors =  this.session.style.linkColorsTable[variable] = [d3.schemeCategory10[0]].concat(d3.schemeCategory10.slice(2));\n            this.session.style.linkColors = [d3.schemeCategory10[0]].concat(d3.schemeCategory10.slice(2));\n        } else {\n            this.session.style.linkColorsTable = {};\n            this.session.style.linkColorsTableKeys = {};\n            linkColors =  this.session.style.linkColorsTable[variable] = d3.schemePaired;\n            this.session.style.linkColors = d3.schemePaired;\n        }\n\n        const aggregates = {};\n        let multiLinkCount = 0; // Initialize Multi-Link count\n        let links = this.getVisibleLinks();\n        let i = 0,\n            n = links.length,\n            l;\n\n        if (variable == \"origin\" || variable == \"Origin\") {\n            while (i < n) {\n                l = links[i++];\n                if (!l.visible) continue;\n\n                l.origin.forEach(o => {\n                    if (o in aggregates) {\n                        aggregates[o]++;\n                    } else {\n                        aggregates[o] = 1;\n                    }\n                });\n\n                // Count Multi-Links separately\n                if (l.origin.length == 2) {  \n                    multiLinkCount++;\n                }\n            }\n        } else {\n            while (i < n) {\n                l = links[i++];\n                if (!l.visible) continue;\n                const lv = l[variable];\n                if (lv in aggregates) {\n                    aggregates[lv]++;\n                } else {\n                    aggregates[lv] = 1;\n                }\n            }\n        }\n\n        // Add Multi-Link to aggregates if it exists\n        if (multiLinkCount > 0) {\n            aggregates[\"Duo-Link\"] = multiLinkCount;\n        }\n\n        // Adjust counts for other links by subtracting Multi-Link count\n        Object.keys(aggregates).forEach(key => {\n            if (key !== \"Duo-Link\") {\n                aggregates[key] -= multiLinkCount; // Subtract Multi-Link count\n            }\n        });\n\n        // Ensure counts do not go below zero\n        Object.keys(aggregates).forEach(key => {\n            if (aggregates[key] < 0) {\n                aggregates[key] = 0;\n            }\n        });\n\n        const values = Object.keys(aggregates);\n        // adds more colors/alphas when they are less than length of values\n        if (values.length > this.session.style.linkColors.length) {\n            let colors = [];\n            let cycles = Math.ceil(values.length / this.session.style.linkColors.length);\n            while (cycles-- > 0) colors = colors.concat(this.session.style.linkColors);\n            this.session.style.linkColors = colors;\n\n            if(this.debugMode) {\n                console.log('link colors: ', this.session.style.linkColors);\n            }\n        }\n\n        if (!this.session.style.linkAlphas) {\n            this.session.style.linkAlphas = [1];\n        }\n        if (values.length > this.session.style.linkAlphas.length) {\n            this.session.style.linkAlphas = this.session.style.linkAlphas.concat(\n                new Array(values.length - this.session.style.linkAlphas.length).fill(1)\n            );\n        }\n\n        if (this.session.style.widgets[\"node-timeline-variable\"] == 'None') {\n            this.session.style.linkColorsTableKeys[variable] = values;\n            this.session.style.linkColorsTable[variable] = linkColors;\n        } else {\n      \n            // During timeline mode, user Pause and switch to a different link varaible but linkColorsTableKeys[variable] is not available\n            if(! this.session.style.linkColorsTableKeys[variable]) {\n              let aggregatesTL = {};\n              let linksTL =  this.getVisibleLinks();\n              let linkColorsTL = [...this.session.style.linkColors];\n              let i = 0,\n                n = linksTL.length,\n                l;\n              if (variable == \"origin\") {\n                while (i < n) {\n                  l = linksTL[i++];\n                  if (!l.visible) continue;\n                  let src =  this.session.network.timelineNodes.find(dd => dd._id == l.source || dd.id == l.source);\n                  let tgt =  this.session.network.timelineNodes.find(dd => dd._id == l.target || dd.id == l.target);\n                  if (src === undefined || src.visible === false) continue;\n                  if (tgt === undefined || tgt.visible === false) continue;\n                  l.origin.forEach(o => {\n                    if (o in aggregatesTL) {\n                      aggregatesTL[o]++;\n                    } else {\n                      aggregatesTL[o] = 1;\n                    }\n                  });\n                }\n              } else {\n                while (i < n) {\n                  l = linksTL[i++];\n                  if (!l.visible) continue;\n                  let src = this.session.network.timelineNodes.find(dd => dd._id == l.source || dd.id == l.source);\n                  let tgt = this.session.network.timelineNodes.find(dd => dd._id == l.target || dd.id == l.target);\n                  if (src === undefined || src.visible === false) continue;\n                  if (tgt === undefined || tgt.visible === false) continue;  \n                  const lv = l[variable];\n                  if (lv in aggregatesTL) {\n                    aggregatesTL[lv]++;\n                  } else {\n                    aggregatesTL[lv] = 1;\n                  }\n                }\n              }       \n              const valuesTL = Object.keys(aggregatesTL);      \n              if (valuesTL.length > linkColorsTL.length) {\n                let colors = [];\n                let cycles = Math.ceil(valuesTL.length / linkColorsTL.length);\n                while (cycles-- > 0) colors = colors.concat(linkColorsTL);\n                linkColorsTL = colors;\n              }\n              this.session.style.linkColorsTableKeys[variable] = valuesTL;\n              this.session.style.linkColorsTable[variable] = linkColorsTL;\n            }\n      \n            let key;\n            let tempLinkColors=[];\n            for(let v of values) {\n              let table = this.session.style.linkColorsTableKeys[variable];\n              key = table.findIndex( k => k === v);\n              tempLinkColors.push(linkColors[key]);\n            }\n            linkColors = this.temp.style.linkColor = tempLinkColors; // temp link color maps saved only under timeline\n            this.temp.style.linkColorsKeys = [...values];\n          }\n\n        // updates the function that defines which color and transparency value to use for each link\n        this.temp.style.linkColorMap = d3\n        .scaleOrdinal(this.session.style.linkColors)\n        .domain(values);\n        this.temp.style.linkAlphaMap = d3\n            .scaleOrdinal(this.session.style.linkAlphas)\n            .domain(values);\n        return aggregates;\n    };\n    \n    /**\n\t * updates the functions that set the color and transparency of the polygons [commonService.temp.style.polygonColorMap() and commonService.temp.style.polygonAlphaMap()]\n\t * @returns {Object} where keys are the values to group (ie. subtype B,C,D...) and values are counts of the number of node for each key\n\t */\n    createPolygonColorMap = () => {\n\n        if (!this.temp.polygonGroups || !this.session.style.widgets['polygons-color-show']) {\n            this.temp.style.polygonColorMap = () => this.session.style.widgets['polygon-color'];\n            return [];\n        }\n\n        let aggregates = {};\n        let groups = this.temp.polygonGroups;\n\n        // groups array where key = value to group by; and values = [nodes] that share that value\n        // for group by subtype; keys are ['B', 'C', 'D']\n        groups.forEach(d => {\n            aggregates[d.key] = d.values.length;\n        });\n\n\n        const values = Object.keys(aggregates);\n    \n        if (this.session.style.widgets['polygon-color-table-counts-sort'] == 'ASC')\n            values.sort(function(a, b) { return aggregates[a] - aggregates[b] });\n        else if (this.session.style.widgets['polygon-color-table-counts-sort'] == 'DESC')\n            values.sort(function(a, b) { return aggregates[b] - aggregates[a] });\n        if (this.session.style.widgets['polygon-color-table-name-sort'] == 'ASC')\n            values.sort(function(a, b) { return a as any - (b as any) });\n        else if (this.session.style.widgets['polygon-color-table-name-sort'] == 'DESC')\n            values.sort(function(a, b) { return b as any - (a as any)});\n    \n        // adds more colors when number of polygons > number of colors\n        if (values.length > this.session.style.polygonColors.length) {\n            let colors = [];\n            let m = Math.ceil(values.length / this.session.style.polygonColors.length);\n            while (m-- > 0) {\n            colors = colors.concat(this.session.style.polygonColors);\n            }\n            this.session.style.polygonColors = colors;\n        }\n\n        // adds more alpha values when number of polygons > number of alpha values\n        // alpha value are used for transparency\n        if(!this.session.style.polygonAlphas) this.session.style.polygonAlphas = new Array(values.length).fill(1);\n        if (values.length > this.session.style.polygonAlphas.length) {\n            this.session.style.polygonAlphas = this.session.style.polygonAlphas.concat(\n            new Array(values.length - this.session.style.polygonAlphas.length).fill(0.5)\n            );\n        }\n        if (this.temp.style.polygonColorMap === undefined || this.temp.style.polygonColorMap.domain === undefined)\n        \n        // updates the function that defines which color and transparency value to use for each polygon\n        this.temp.style.polygonColorMap = d3\n            .scaleOrdinal(this.session.style['polygonColors'])\n            .domain(values);\n        if (this.temp.style.polygonAlphaMap === undefined || this.temp.style.polygonColorMap.domain === undefined)\n        this.temp.style.polygonAlphaMap = d3\n            .scaleOrdinal(this.session.style.polygonAlphas)\n            .domain(values);\n            \n        return aggregates;\n    };\n\n    /**\n     * Set commonService.session and commonService.temp back to default values; However keeps previous values for commonService.temp.mapData, commonService.session.files,\n     * and commonService.session.meta\n     */\n    reset() {\n        //debugger;\n\n        // $(\"#network-statistics-hide\").parent().trigger(\"click\");\n        // $(\"#SettingsTab\").attr(\"data-target\", \"#sequence-controls-modal\");\n\n        const mapData = this.temp.mapData;\n        this.temp = this.tempSkeleton();\n        this.temp.mapData = mapData;\n\n        const files = this.session.files;\n        const meta = this.session.meta;\n\n        this.session = this.sessionSkeleton();\n\n\n        if(this.debugMode) {\n            console.log('reset called: ', this.session.style.linkColors);\n        }\n                \n        this.session.files = files;\n        this.session.meta = meta;\n        //this.layout.unbind(\"stateChanged\");\n\n        //this.layout.root.replaceChild(this.layout.root.contentItems[0], {\n        //    type: \"stack\",\n        //    content: []\n        //});\n        //this.session.layout.contentItems = [];\n        //this.launchView(\"files\");\n    };\n\n    /**\n     * Sets the following objects back to default values: commonService.temp.matrix, commonService.temp.tree, commonService.session.data, commonService.session.network,\n     * commonService.session.style.widgets. Filters 'Demo_outbreak_NodeList.csv' from files\n     */\n    resetData() {\n\n\n        const newTempSkeleton = this.tempSkeleton();\n\n        this.temp.matrix = newTempSkeleton.matrix;\n        this.temp.trees = newTempSkeleton.trees;\n\n        const files = this.session.files.filter( obj => obj.name !== 'Demo_outbreak_NodeList.csv');\n        const meta = this.session.meta;\n\n        if(this.debugMode) {\n            console.log('reset data called');\n            console.log('session files1', JSON.stringify(this.visuals.microbeTrace.commonService.session.files));\n            console.log('session files2', JSON.stringify(this.session.files));\n\n            console.log('session data files: ', JSON.stringify(files));\n            console.log('session data matrix: ', JSON.stringify(this.temp.matrix));\n            console.log('session data nodes: ', JSON.stringify(this.session.data.nodes));\n            console.log('session data nodes common: ',  JSON.stringify(this.session.data.nodes));\n        }\n\n\n        const newSessionSkeleton = this.sessionSkeleton();\n        this.session.data = newSessionSkeleton.data;\n        this.session.network = newSessionSkeleton.network;\n\n        this.session.files = files;\n        this.session.meta = meta;\n        this.session.style.widgets = this.defaultWidgets();\n        \n\n        // default values are 'tn93' and 0.015, so not sure if this if statement is every true\n        if (this.session.style.widgets['default-distance-metric'] !== 'snps' &&\n          this.session.style.widgets['link-threshold'] >= 1) {\n          this.visuals.microbeTrace.SelectedLinkThresholdVariable = this.session.style.widgets['link-threshold'];\n          this.visuals.microbeTrace.onLinkThresholdChanged();\n        }\n    };\n\n    getJurisdictions(): Promise<JurisdictionItem[]>{\n        const path = `${this.appRootUrl()}assets/common/data/state_county_fips.csv`; // Refactor appRootUrl if necessary\n        return this.http.get(path, { responseType: 'text' }).toPromise()\n            .then(response => {\n                return Papa.parse<JurisdictionItem>(response, { header: true }).data;\n            })\n            .catch(error => {\n                console.error('Error fetching jurisdictions:', error);\n                throw error;\n            });\n\n        // let options : any = {\n        //     observe: \"response\",\n        //     responseType: \"blob\",\n        //     headers: new HttpHeaders({\n        //         \"Accept\": \"application/json\"\n        //     })\n        // };\n\n        // return this.http.request(\"get\", path/*, options_*/).pipe(map((fileContents:any)=>{\n        //     return Papa.parse(fileContents, {header: true}).data;\n        // }));\n        // $.get(path, response => {\n        //     this.temp.mapData[name] = Papa.parse(response, { header: true }).data;\n        //     resolve(this.temp.mapData[name]);\n        // });\n    }\n\n    getMapData(type): Promise<any> {\n\n        return new Promise(resolve => {\n\n            const parts = type.split(\".\");\n            const name = parts[0],\n                format = parts[1];\n            if (this.temp.mapData[name]) {\n                return resolve(this.temp.mapData[name]);\n            }\n\n            let path: string;\n\n\n            switch (name) {\n                case \"zipcodes\":\n\n                    if (format == \"csv\") {\n                        path = 'assets/common/data/zipcodes.csv';\n                        return this.http.get(path, { responseType: 'text' }).toPromise()\n                            .then(response => {\n                                this.temp.mapData[name] = Papa.parse(response, { header: true }).data;\n                                return this.temp.mapData[name];\n                            });\n                    }\n                    break;\n                case \"countries\":\n                    if (format == \"json\") {\n                        path = 'assets/common/data/countries.json';\n                        return this.http.get(path).toPromise()\n                            .then(response => {\n                                this.temp.mapData[name] = response;\n                                return this.temp.mapData[name];\n                            });\n                    }\n                    break;\n                case \"counties\":\n                    if (format == \"json\") {\n                        path = 'assets/common/data/counties.json';\n                        return this.http.get(path).toPromise()\n                            .then(response => {\n                                this.temp.mapData[name] = response;\n                                return this.temp.mapData[name];\n                            });\n                    }\n                    break;\n\n                case \"states\":\n                    if (format == \"json\") {\n                        // let path = /*this.appRootUrl() +*/ 'assets/common/data/states.json';\n\n                        path = 'assets/common/data/states.json';\n                        return this.http.get(path).toPromise()\n                            .then(response => {\n                                this.temp.mapData[name] = response;\n                                return this.temp.mapData[name];\n                            });\n                    }\n                    break;\n\n                case \"land\":\n                    if (format == \"json\") {\n                        path = 'assets/common/data/land.json';\n\n                        return this.http.get(path).toPromise()\n                            .then(response => {\n                                this.temp.mapData[name] = response;\n                                return this.temp.mapData[name];\n                            });\n\n                        // $.get(path, response => {\n                        //     resolve(this.temp.mapData[name]);\n                        // });\n                    }\n                    break;\n\n                case \"stars\":\n                    if (format == \"json\") {\n                        let path = /*this.appRootUrl() +*/ 'assets/common/data/stars.json';\n\n                        return this.http.get(path).toPromise()\n                            .then(response => {\n                                this.temp.mapData[name] = response;\n                                return this.temp.mapData[name];\n                            });\n\n                        // $.get(path, response => {\n                        //     this.temp.mapData[name] = response;\n                        //     resolve(this.temp.mapData[name]);\n                        // });\n                    }\n                    break;\n            }\n\n            //$.get(\"data/\" + type, response => {\n            //    debugger;\n            //    if (format == \"csv\") {\n            //        this.temp.mapData[name] = new Papa().parse(response, { header: true }).data;\n            //    }\n            //    if (format == \"json\") {\n            //        this.temp.mapData[name] = response;\n            //    }\n            //    resolve(this.temp.mapData[name]);\n            //});\n        });\n    };\n\n    /** \n     * XXXXX Not currently used; not sure future use XXXXX\n     * Predicts whether white or black is most contrasting color\n     * @param {string} hexcolor - hexcode representation of a color (ie. '#1e9d00')\n     * @returns {string} - for hex representation of color (white or black)\n     */\n    contrastColor(hexcolor) {\n        const r = parseInt(hexcolor.substr(1, 2), 16);\n        const g = parseInt(hexcolor.substr(3, 2), 16);\n        const b = parseInt(hexcolor.substr(5, 2), 16);\n        const yiq = r * 299 + g * 587 + b * 114;\n        return yiq >= 128000 ? \"#000000\" : \"#ffffff\";\n    };\n\n    /**\n    *  XXXXX Not currently being executed. It's in the codebase but hidden behind comments XXXXX\n    *\tReturns the last element of an array\n    * @param ra - an array (potentially could take other datatypes as well)\n    * @returns {any} the last element in an array\n    */\n    peek(ra) {\n        return ra[ra.length - 1];\n    };\n\n\n    launchView(view, callback: any = null) {\n\n        // this.srv.createNewComponent(this.srv.getRegisteredComponents()[1]);\n\n        this.LoadViewEvent.emit(view);\n\n\n        // if (!this.temp.componentCache[view]) {\n        //    $.get(\"components/\" + view + \".html\", response => {\n        //        this.temp.componentCache[view] = response;\n        //        //This MUST NOT be replace by an arrow function!\n        //     //    this.srv.registerComponent(view, function (container, state) {\n        //     //        container.getElement().html(state.text);\n        //     //    });\n        //     //    this.srv.createNewComponent(this.srv.getRegisteredComponents()[2]);\n\n        //        if (callback) {\n        //            this.launchView(view, callback);\n        //        } else {\n        //            return this.launchView(view);\n        //        }\n        //    });\n        // } else {\n        // //    let contentItem = this.layout.contentItems.find(item => item.componentName == view);\n        // //    if (contentItem) {\n        // //        contentItem.parent.setActiveContentItem(contentItem);\n        // //    } else {\n        // //        let lastStack = this.peek(this.layout.root.contentItems[0].getItemsByType(\"stack\"));\n        // //        if (!lastStack) lastStack = this.layout.root.contentItems[0];\n        // //        lastStack.addChild({\n        // //            componentName: view,\n        // //            componentState: { text: this.temp.componentCache[view] },\n        // //            title: this.titleize(view),\n        // //            type: \"component\"\n        // //        });\n        // //        contentItem = this.peek(lastStack.contentItems);\n        // //        contentItem.on(\"itemDestroyed\", () => this.layout.contentItems.splice(this.layout.contentItems.findIndex(item => item === contentItem), 1));\n        // //        this.layout.contentItems.push(contentItem);\n        // //    }\n\n        // //    contentItem.element.find(\"select.nodeVariables\").html(\n        // //        \"<option>None</option>\" +\n        // //        this.session.data.nodeFields.map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\")\n        // //    );\n        // //    contentItem.element.find(\"select.linkVariables\").html(\n        // //        \"<option>None</option>\" +\n        // //        this.session.data.linkFields.map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\")\n        // //    );\n        // //    contentItem.element.find(\"select.mixedVariables\").html(\n        // //        \"<option>None</option>\" +\n        // //        this.session.data.linkFields.map(field => '<option value=\"links-' + field + '\">Links ' + this.titleize(field) + \"</option>\").join(\"\\n\") +\n        // //        this.session.data.nodeFields.map(field => '<option value=\"nodes-' + field + '\">Nodes ' + this.titleize(field) + \"</option>\").join(\"\\n\")\n        // //    );\n        // //    contentItem.element.find(\"select.branch-variables\").html(\n        // //        \"<option>None</option>\" +\n        // //        [\"id\", \"depth\", \"height\", \"length\", \"value\"].map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\")\n        // //    );\n        // //    contentItem.element.find(\".launch-color-options\").click(() => {\n        // //        $(\"#style-tab\").show();\n        // //        setTimeout(() => $(\"#global-settings-modal\").show(), 250);\n        // //    });\n        // //    contentItem.element.find(\".modal-header\").on(\"mousedown\", function () {\n        // //        let body = $(\"body\");\n        // //        let parent = $(this).parent().parent().parent();\n        // //        body.on(\"mousemove\", e => {\n        // //            parent\n        // //                .css(\"top\", parseFloat(parent.css(\"top\")) + e.originalEvent.movementY + \"px\")\n        // //                .css(\"left\", parseFloat(parent.css(\"left\")) + e.originalEvent.movementX + \"px\");\n        // //        });\n        // //        body.one(\"mouseup\", () => body.off(\"mousemove\"));\n        // //    });\n        // //    if (navigator.onLine) contentItem.element.find(\".ifOnline\").show();\n        // //    for (let id in this.session.style.widgets) {\n        // //        let $id = $(\"#\" + id);\n        // //        if ($id.length > 0) {\n        // //            if (this.includes([\"radio\", \"checkbox\"], $id[0].tagName)) {\n        // //                if (this.session.style.widgets[id]) $id.click();\n        // //            } else {\n        // //                $id.val(this.session.style.widgets[id]);\n        // //            }\n        // //        }\n        // //    }\n        // //    if (callback) {\n        // //        callback(contentItem);\n        // //    } else {\n        // //        return contentItem;\n        // //    }\n        // }\n\n    };\n\n\n    //launchView(view, callback: any = null) {\n    //    if (!this.temp.componentCache[view]) {\n    //        $.get(\"components/\" + view + \".html\", response => {\n    //            this.temp.componentCache[view] = response;\n    //            //This MUST NOT be replace by an arrow function!\n    //            this.layout.registerComponent(view, function (container, state) {\n    //                container.getElement().html(state.text);\n    //            });\n    //            if (callback) {\n    //                this.launchView(view, callback);\n    //            } else {\n    //                return this.launchView(view);\n    //            }\n    //        });\n    //    } else {\n    //        let contentItem = this.layout.contentItems.find(item => item.componentName == view);\n    //        if (contentItem) {\n    //            contentItem.parent.setActiveContentItem(contentItem);\n    //        } else {\n    //            let lastStack = this.peek(this.layout.root.contentItems[0].getItemsByType(\"stack\"));\n    //            if (!lastStack) lastStack = this.layout.root.contentItems[0];\n    //            lastStack.addChild({\n    //                componentName: view,\n    //                componentState: { text: this.temp.componentCache[view] },\n    //                title: this.titleize(view),\n    //                type: \"component\"\n    //            });\n    //            contentItem = this.peek(lastStack.contentItems);\n    //            contentItem.on(\"itemDestroyed\", () => this.layout.contentItems.splice(this.layout.contentItems.findIndex(item => item === contentItem), 1));\n    //            this.layout.contentItems.push(contentItem);\n    //        }\n\n    //        contentItem.element.find(\"select.nodeVariables\").html(\n    //            \"<option>None</option>\" +\n    //            this.session.data.nodeFields.map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\")\n    //        );\n    //        contentItem.element.find(\"select.linkVariables\").html(\n    //            \"<option>None</option>\" +\n    //            this.session.data.linkFields.map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\")\n    //        );\n    //        contentItem.element.find(\"select.mixedVariables\").html(\n    //            \"<option>None</option>\" +\n    //            this.session.data.linkFields.map(field => '<option value=\"links-' + field + '\">Links ' + this.titleize(field) + \"</option>\").join(\"\\n\") +\n    //            this.session.data.nodeFields.map(field => '<option value=\"nodes-' + field + '\">Nodes ' + this.titleize(field) + \"</option>\").join(\"\\n\")\n    //        );\n    //        contentItem.element.find(\"select.branch-variables\").html(\n    //            \"<option>None</option>\" +\n    //            [\"id\", \"depth\", \"height\", \"length\", \"value\"].map(field => '<option value=\"' + field + '\">' + this.titleize(field) + \"</option>\").join(\"\\n\")\n    //        );\n    //        contentItem.element.find(\".launch-color-options\").click(() => {\n    //            $(\"#style-tab\").show();\n    //            setTimeout(() => $(\"#global-settings-modal\").show(), 250);\n    //        });\n    //        contentItem.element.find(\".modal-header\").on(\"mousedown\", function () {\n    //            let body = $(\"body\");\n    //            let parent = $(this).parent().parent().parent();\n    //            body.on(\"mousemove\", e => {\n    //                parent\n    //                    .css(\"top\", parseFloat(parent.css(\"top\")) + e.originalEvent.movementY + \"px\")\n    //                    .css(\"left\", parseFloat(parent.css(\"left\")) + e.originalEvent.movementX + \"px\");\n    //            });\n    //            body.one(\"mouseup\", () => body.off(\"mousemove\"));\n    //        });\n    //        if (navigator.onLine) contentItem.element.find(\".ifOnline\").show();\n    //        for (let id in this.session.style.widgets) {\n    //            let $id = $(\"#\" + id);\n    //            if ($id.length > 0) {\n    //                if (this.includes([\"radio\", \"checkbox\"], $id[0].tagName)) {\n    //                    if (this.session.style.widgets[id]) $id.click();\n    //                } else {\n    //                    $id.val(this.session.style.widgets[id]);\n    //                }\n    //            }\n    //        }\n    //        if (callback) {\n    //            callback(contentItem);\n    //        } else {\n    //            return contentItem;\n    //        }\n    //    }\n    //};\n\n\n\n    //cacheLayout(contentItem: any) {\n    //    if (this.includes([\"stack\", \"row\", \"column\"], contentItem.tagName)) {\n    //        return {\n    //            type: contentItem.tagName,\n    //            content: contentItem.contentItems.map(this.cacheLayout)\n    //        };\n    //    }\n    //    return { type: contentItem.componentName };\n    //};\n\n    //loadLayout(component, parent) {\n    //    if (!parent) {\n    //        parent = this.layout.root;\n    //        try {\n    //            parent.contentItems[0].remove();\n    //        } catch (e) { }\n    //    }\n    //    if (this.includes([\"stack\", \"row\", \"column\"], component.tagName)) {\n    //        parent.addChild({ type: component.type });\n    //        component.content.forEach(c => this.loadLayout(c, this.peek(parent.contentItems)));\n    //    } else {\n    //        this.launchView(component.type);\n    //    }\n    //};\n\n    /**\n     * Extracts the SVG from the DOM with CSS included. Used during exporting/saving a view as a SVG\n     * @param {HTMLElement} svgNode - HTML element in document such as document.getElementById('network') or document.getElementById('tidytree')\n     * @returns {string} String of SVG code for the element with CSS ie. <svg ...>\n     */\n    unparseSVG(svgNode): string {\n        svgNode.setAttribute(\"xlink\", \"http://www.w3.org/1999/xlink\");\n        const selectorTextArr = [];\n\n        // Add Parent element Id and Classes to the list\n        selectorTextArr.push(\"#\" + svgNode.id);\n        const nClasses = svgNode.classList.length;\n        for (let c = 0; c < nClasses; c++) {\n            if (!this.includes(\".\" + svgNode.classList[c], selectorTextArr)) {\n                selectorTextArr.push(\".\" + svgNode.classList[c]);\n            }\n        }\n\n        // Add Children element Ids and Classes to the list\n        const nodes = svgNode.getElementsByTagName(\"*\");\n        const nNodes = nodes.length;\n        for (let i = 0; i < nNodes; i++) {\n            let id = nodes[i]._id;\n            if (!this.includes(\"#\" + id, selectorTextArr)) {\n                selectorTextArr.push(\"#\" + id);\n            }\n            const classes = nodes[i].classList;\n            for (let d = 0; d < classes.length; d++) {\n                if (!this.includes(\".\" + classes[d], selectorTextArr)) {\n                    selectorTextArr.push(\".\" + classes[d]);\n                }\n            }\n        }\n\n        // Extract CSS Rules\n        let extractedCSSText = \"\";\n        const nStylesheets = document.styleSheets.length;\n        for (let j = 0; j < nStylesheets; j++) {\n            const s: any = document.styleSheets[j];\n            try {\n                if (!s.cssRules) continue;\n            } catch (e) {\n                if (e.name !== \"SecurityError\") throw e; // for Firefox\n                continue;\n            }\n            const cssRules = s.cssRules;\n            const nRules = cssRules.length;\n            for (let r = 0; r < nRules; r++) {\n                const rule = cssRules[r];\n                if (!rule.selectorText) continue;\n                if (rule.selectorText.includes(selectorTextArr)) {\n                    extractedCSSText += rule.cssText;\n                }\n            }\n        }\n\n        const styleElement = document.createElement(\"style\");\n        styleElement.setAttribute(\"type\", \"text/css\");\n        styleElement.innerHTML = extractedCSSText;\n        const refNode = svgNode.hasChildNodes() ? svgNode.children[0] : null;\n        svgNode.insertBefore(styleElement, refNode);\n        const serializer = new XMLSerializer();\n        return serializer.serializeToString(svgNode);\n    };\n\n    /**\n     * XXXXX currently not in use XXXXX\n     * @returns \n     */\n    exportHIVTRACE() {\n        let links = this.session.data.links.filter(l => l.visible);\n        let geneticLinks = links.filter(l => l.origin.includes(\"Genetic Distance\"));\n        let sequences = new Set(\n            geneticLinks.map(l => l.source).concat(\n                geneticLinks.map(l => l.target))\n        ).size;\n        let pas = {};\n        this.session.data.nodes.forEach(d => {\n            Object.keys(d).forEach(key => {\n                if (pas[key]) return;\n                pas[key] = {\n                    label: key,\n                    type: this.titleize(typeof d[key])\n                };\n            });\n        });\n        return JSON.stringify(\n            {\n                trace_results: {\n                    \"Cluster sizes\": this.session.data.clusters.map(c => c.size),\n                    Degrees: {\n                        Distribution: [],\n                        Model: \"Waring\",\n                        fitted: [],\n                        rho: 0,\n                        \"rho CI\": [-1, 1]\n                    },\n                    \"Directed Edges\": {\n                        Count: 0,\n                        \"Reasons for unresolved directions\": {\n                            \"Missing dates\": links.length\n                        }\n                    },\n                    \"Edge Stages\": {},\n                    Edges: links.map(l => ({\n                        attributes: [\"BULK\"],\n                        directed: false,\n                        length: l[this.session.style.widgets[\"link-sort-variable\"]],\n                        removed: false,\n                        sequences: [l.source, l.target],\n                        source: this.session.data.nodes.findIndex(d => d._id == l.source),\n                        support: 0,\n                        target: this.session.data.nodes.findIndex(d => d._id == l.target)\n                    })),\n                    \"HIV Stages\": {\n                        \"A-1\": 0,\n                        \"A-2\": 0,\n                        \"A-3\": 0,\n                        Chronic: this.session.data.nodes.length,\n                        \"E-1\": 0,\n                        \"E-2\": 0,\n                        \"E-3\": 0\n                    },\n                    \"Multiple sequences\": {\n                        \"Followup, days\": null,\n                        \"Subjects with\": 0\n                    },\n                    \"Network Summary\": {\n                        Clusters: this.session.data.clusters.length,\n                        Edges: links.length,\n                        Nodes: this.session.data.nodes.length,\n                        \"Sequences used to make links\": sequences\n                    },\n                    Nodes: this.session.data.nodes.map(d => ({\n                        attributes: [],\n                        baseline: null,\n                        cluster: d.cluster,\n                        edi: null,\n                        id: d._id,\n                        patient_attributes: d\n                    })),\n                    patient_attribute_schema: pas,\n                    Settings: {\n                        \"contaminant-ids\": [],\n                        contaminants: \"remove\",\n                        \"edge-filtering\": \"remove\",\n                        threshold: this.session.style.widgets[\"link-threshold\"]\n                    }\n                }\n            },\n            null,\n            2\n        );\n    };\n\n    /**\n     * Gives the size of a variable in MB\n     * @param thing \n     * @returns {string} Size of thing in MB as a string ('4MB')\n     */\n    size(thing): string {\n        if (!thing) thing = this.session;\n        return (JSON.stringify(thing).length / 1024 / 1024).toLocaleString() + 'MB';\n    };\n\n    /**\n     * Converts commonly used titles to a standard output; for less common titles nothing is changed\n     * @param {string} title \n     */\n    titleize(title: string): string {\n        const small = title.toLowerCase().replace(/_/g, \" \");\n        if (small == \"null\") return \"(Empty)\";\n        if (small == \"id\" || small == \" id\") return \"ID\";\n        if (small == \"tn93\") return \"TN93\";\n        if (small == \"snps\") return \"SNPs\";\n        if (small == \"2d network\") return \"2D Network\";\n        if (small == \"3d network\") return \"3D Network\";\n        if (small == \"geo map\") return \"Map\";\n        if (small == \"nn\") return \"Nearest Neighbor\";\n        return title;\n        return small.replace(/(?:^|\\s|-)\\S/g, c => c.toUpperCase());\n    };\n\n    /** \n     * Set up the clusters; new clusters are created as needed; node.cluster is set to cluster id.\n     * When a node is found that isn't in tempnodes, a cluster is created and a depth-first search is preformed.\n     * During DFS, nodes are added to tempnodes, the node.cluster is assigned and information in cluster is updated\n     */\n    tagClusters(): Promise<void> {\n        return new Promise<void>(resolve => {\n            let start = Date.now();\n            let clusters = this.session.data.clusters = [];\n            let nodes = this.session.data.nodes,\n                links = this.session.data.links,\n                labels = nodes.map(d => d._id);\n            const numNodes = nodes.length,\n                numLinks = links.length;\n            let tempnodes = this.temp.nodes = [];\n            let lsv = this.session.style.widgets[\"link-sort-variable\"];\n\n            /**\n             * A function that performs a depth-first search.\n             * @param id - The ID of the node to start the search from.\n             * @param cluster - The cluster to search in.\n             * @returns {void}\n             */\n            const DFS = (id, cluster) => {\n                // if id is found in tempNode exit function\n                if (tempnodes.indexOf(id) >= 0) return;\n                // else add it, and continue DFS\n                tempnodes.push(id);\n                let node: any = {};\n                for (let i = 0; i < numNodes; i++) {\n                    const d = nodes[i];\n                    if (!d._id) {\n                        d._id = d.id;\n                    }\n                    if (d._id == id) {\n                        node = d;\n                        break;\n                    }\n                }\n                const clusterID = cluster.id;\n                node.cluster = clusterID;\n                cluster.nodes++;\n                let row = this.temp.matrix[id];\n                if (!row) return;\n                for (let j = 0; j < numNodes; j++) {\n                    const l = row[labels[j]];\n                    if (!l) continue;\n                    if (!l.visible) continue;\n                    l.cluster = clusterID;\n                    cluster.links++;\n                    cluster.sum_distances += l[lsv];\n                    if (tempnodes.length == numNodes) return;\n                    // recursively call DFS on both source and target\n                    DFS(l.source, cluster);\n                    DFS(l.target, cluster);\n                }\n            }; // DFS function close\n\n            for (let k = 0; k < numNodes; k++) {\n                const d = nodes[k];\n                d.degree = 0;\n                const id = d._id;\n\n                // if id isn't in temp nodes, add new cluster and do DFS\n                if (tempnodes.indexOf(id) == -1) {\n\n                    const cluster = {\n                        id: clusters.length > 0 ? clusters.length : 0,\n                        nodes: 0,\n                        links: 0,\n                        sum_distances: 0,\n                        links_per_node: 0,\n                        mean_genetic_distance: undefined,\n                        visible: true\n                    };\n\n\n                    clusters.push(cluster);\n                    DFS(id, cluster);\n                    if (tempnodes.length == numNodes) break;\n                }\n            }\n            \n            if(this.debugMode) {\n                console.log(\"Cluster Tagging time:\", (Date.now() - start).toLocaleString(), \"ms\");\n            }\n\n            start = Date.now();\n            //This is O(N^3)\n            //TODO: Refactor using temp.matrix to get O(N^2)\n            for (let m = 0; m < numLinks; m++) {\n                const l = links[m];\n                if (!l.visible) continue;\n                let s = false,\n                    t = false;\n                for (let n = 0; n < numNodes; n++) {\n                    const node = nodes[n];\n                    if (l.source == node._id) {\n                        s = true;\n                        node.degree++;\n                    }\n                    if (l.target == node._id) {\n                        t = true;\n                        node.degree++;\n                    }\n                    if (s && t) break;\n                }\n            }\n            // console.log('clustersssss: ' , clusters);\n            clusters.forEach(c => {\n                c.links = c.links / 2;\n                c.links_per_node = c.links / c.nodes;\n                c.mean_genetic_distance = c.sum_distances / 2 / c.links;\n            });\n            if(this.debugMode) {\n                console.log(\"Degree Computation time:\", (Date.now() - start).toLocaleString(), \"ms\");\n            }\n            resolve();\n        });\n    };\n\n    /**\n     * Sets node visibility to true when it cluster is visible\n     * @param {boolean} silent - whether to trigger node-visibility event (True doesn't trigger, False does)\n     */\n    setNodeVisibility(silent) {\n        let start = Date.now();\n        let dateField = this.session.style.widgets[\"timeline-date-field\"];\n        let nodes = this.session.data.nodes,\n            clusters = this.session.data.clusters;\n        let n = nodes.length;\n        for (let i = 0; i < n; i++) {\n            const node = nodes[i];\n\n            node.visible = true;\n            const cluster = clusters[node.cluster];\n\n            if (cluster) {\n                // TODO: uncomment if something breaks since this was defaulted to visible\n                // cluster.visible = true;\n                // console.log('setting cluster vis: ', cluster);\n                // console.log('setting node vis: ', node.visible);\n                node.visible = node.visible && cluster.visible;\n            }\n            if (dateField != \"None\") {\n                node.visible = node.visible && moment(this.session.state.timeEnd).toDate() >= moment(node[dateField]).toDate();\n            }\n\n            // if (node._id === \"NIMR_NG894803\") {\n            //     console.log('setting node vis 2: ', _.cloneDeep(node));\n            // }\n        }\n        if (!silent) $(document).trigger(\"node-visibility\");\n\n        if(this.debugMode) {\n            console.log('session nodes: ', nodes.filter(n => n.visible));\n            console.log('session nodes length: ', nodes.filter(n => n.visible).length);\n            console.log(\"Node Visibility Setting time:\", (Date.now() - start).toLocaleString(), \"ms\");        \n        }\n       \n    };\n\n    /**\n     * Sets link visibility based on distance, link-threshold, nearestNeighbor setting, etc...\n     * @param {boolean} silent - whether to trigger link-visibility event (True doesn't trigger, False does)\n     * @param {boolean} [checkCluster=true] - defaults to true; whether to include cluster.visibility when setting link.visibility\n     */\n    setLinkVisibility(silent: boolean, checkCluster = true) {\n        let start = Date.now();\n        let metric = this.session.style.widgets[\"link-sort-variable\"],\n            threshold = this.session.style.widgets[\"link-threshold\"],\n            showNN = this.session.style.widgets[\"link-show-nn\"];\n        let links = this.session.data.links;\n        let clusters = this.session.data.clusters;\n        let n = links.length;\n\n        if(this.debugMode) {\n            console.log(`Setting Link Visibility with ${metric} ${threshold} ${showNN}`);\n        }\n\n        for (let i = 0; i < n; i++) {\n            \n\n            const link = links[i];\n\n            // if((link.source === \"30582_KF773578_H96cl11\" && link.target === \"30576_KF773439_B96cl57\") || (link.source === \"30576_KF773439_B96cl57\" && link.target === \"30582_KF773578_H96cl11\")) {\n            //     console.log('setting link vis: ', _.cloneDeep(link));\n            // }\n\n\n            let visible = true;\n            let overrideNN = false;\n\n            // Add back the distance origin if it was removed and the link has distance to it\n            if ( link.hasDistance && !link.origin.includes(link.distanceOrigin)) {\n\n                if((link.source === \"30582_KF773578_H96cl11\" && link.target === \"30576_KF773439_B96cl57\") || (link.source === \"30576_KF773439_B96cl57\" && link.target === \"30582_KF773578_H96cl11\")) {\n                    console.log('adding back distance origin: ', _.cloneDeep(link));\n                }\n\n                link.origin.push(link.distanceOrigin);\n            }\n\n            // No distance value\n            if (link[metric] == null) {\n\n                // If origin file exists for link outside of distance, keep visible\n                if (link.origin.filter(fileName => !fileName.includes(link.distanceOrigin)).length > 0) {\n                    // Set visible and origin to only show the from the file outside of Distance\n                    link.origin = link.origin.filter(fileName => !fileName.includes(link.distanceOrigin));\n                    overrideNN = true;\n                    visible = true;\n                } else {\n                    link.visible = false;\n                    continue;\n                }\n\n            } else {\n\n                if (link.hasDistance) {\n\n\n                    visible = link[metric] < threshold;\n\n\n                    if (!visible) {\n\n\n                        // Only need to get distance origin and override if there are other files using a distance metric, otherwise the else code block below would be executed since the link would not have distance\n                        if (\n                            link.origin.length > 1 &&\n                            link.origin.filter(fileName => {\n                            const hasAuspice = /[Aa]uspice/.test(fileName);\n                            const includesDistanceOrigin = fileName.includes(link.distanceOrigin);\n                            return fileName && !includesDistanceOrigin && !hasAuspice;\n                            }).length > 0\n                        ) {\n\n                            link.origin = link.origin.filter(fileName => {\n                            const hasAuspice = /[Aa]uspice/.test(fileName);\n                            const includesDistanceOrigin = fileName.includes(link.distanceOrigin);\n                            return fileName && !includesDistanceOrigin && !hasAuspice;\n                            });\n\n                            overrideNN = true;\n                            visible = true;\n                        } \n                        if (link.origin.length > 1) {\n                            link.origin = link.origin.filter(fileName => !fileName.includes(link.distanceOrigin));\n                            visible = true;\n                        }\n\n\n                        // If the origin array has an origin left after filtering out and its not the distance origin, then we need to show it\n                        if (link.origin[0] !== link.distanceOrigin) {\n                            visible = true;\n                        }\n\n\n                    }\n\n                } else {\n\n                    // If has no distance, then link should be visible and unnaffected by NN\n                    overrideNN = true;\n                    visible = true;\n\n                }\n\n            }\n\n\n            if (visible && showNN && !overrideNN) {\n                visible = visible && link.nn;\n                // Keep link visible of not nearest neighbor, but still connected via an edge list\n                if (!visible && link.origin.filter(fileName => !fileName.includes(link.distanceOrigin)).length > 0) {\n                    link.origin = link.origin.filter(fileName => !fileName.includes(link.distanceOrigin));\n                    visible = true;\n                }\n            }\n\n            const cluster = clusters[link.cluster];\n            if (cluster && checkCluster) {\n\n                visible = visible && cluster.visible;\n            }\n\n            \n\n            if(visible && link.origin.length > 1){\n                link.origin = this.session.style.widgets['link-origin-array-order'];\n            }\n\n\n\n            link.visible = visible;\n\n            // if((link.source === \"30582_KF773578_H96cl11\" && link.target === \"30576_KF773439_B96cl57\") || (link.source === \"30576_KF773439_B96cl57\" && link.target === \"30582_KF773578_H96cl11\")) {\n            //     console.log('link color 12345: ', _.cloneDeep(link));\n            // }\n\n        }\n        \n        if (!silent) $(document).trigger(\"link-visibility\");\n\n        if(this.debugMode) {\n            console.log(\"Link Visibility Setting time:\", (Date.now() - start).toLocaleString(), \"ms\");\n        }\n    };\n\n    /**\n     * Set the visibility of each cluster based on if cluster size is greater than cluster-minimum-size\n     * @param {boolean} silent whether to trigger cluster-visibility event (True doesn't trigger, False does)\n     */\n    setClusterVisibility(silent: boolean) {\n        //let start = Date.now();\n        let min = this.session.style.widgets[\"cluster-minimum-size\"];\n        let clusters = this.session.data.clusters;\n        let n = clusters.length;\n        console.log('cluster nodes ', clusters);\n        for (let i = 0; i < n; i++) {\n            const cluster = clusters[i];\n           \n            cluster.visible = cluster.nodes >= min;\n        }\n        if (!silent) $(document).trigger(\"cluster-visibility\");//$window.trigger(\"cluster-visibility\");\n        // console.log(\"Cluster Visibility Setting time:\", (Date.now() - start).toLocaleString(), \"ms\");\n    };\n\n\n    updatePinNodes(copy: boolean) {\n        let nodes =  this.session.network.nodes;\n        let n = nodes.length;\n        for (let i = 0; i < n; i++) {\n            const node = nodes[i]; \n            if (copy && node.fixed) node.preFixed = true;\n            if (!copy &&  this.session.network.timelineNodes[i].preFixed) {\n                node.fixed = true;\n                node.fx = node.x;\n                node.fy = node.y;\n            }\n        }\n    }\n\n    /**\n     * @returns {any[]} Returns an array with a copy of each node object\n     */\n    getNetworkNodes = () => {\n        let nodes =  this.session.network.nodes;\n        let n = nodes.length;\n        let out = [];\n          for (let i = 0; i < n; i++) {\n            const node = nodes[i];\n            out.push(JSON.parse(JSON.stringify(node)));\n          }\n        return out;\n      };\n\n\n    updateNetwork() {\n        this.setLinkVisibility(true);\n        this.tagClusters().then(() => {\n            this.setClusterVisibility(true);\n            $(document).trigger(\"cluster-visibility\");\n            this.setLinkVisibility(true);\n            this.setNodeVisibility(true);\n            [\"cluster\", \"link\", \"node\"].forEach(thing => $(document).trigger(thing + \"-visibility\"));\n            this.updateStatistics();\n        });\n    };\n\n    /**\n     * Creates and updates the threshold histogram that is found in global settings.\n     * Clicking on the histogram will update the link threshold\n     * @param [histogram] - optional parameter\n     */\n    async updateThresholdHistogram(histogram?: any) {\n\n        let width = 260,\n        height = 48,\n        svg = null;\n\n        // Update histogram so that it can be altered outside of the main wrapper \n        if(histogram){\n            this.thresholdHistogram = histogram;\n        }\n        \n        svg = d3\n        .select(this.thresholdHistogram)\n        .html(null)\n        .attr(\"width\", width)\n        .attr(\"height\", height);\n\n        // add all link distances to data, find max and min distances\n        let lsv = this.session.style.widgets[\"link-sort-variable\"],\n            n = this.session.data.links.length,\n            max = Number.MIN_SAFE_INTEGER,\n            min = Number.MAX_SAFE_INTEGER,\n            data = Array(n),\n            dist = null;\n        for (let i = 0; i < n; i++) {\n            dist = this.session.data.links[i][lsv];\n            data[i] = dist;\n            if (dist < min) min = dist;\n            if (dist > max) max = dist;\n        }\n\n        // Add all link distances to data, find max and min distances\n        // const links = this.session.data.links;\n        // const lsv = this.session.style.widgets[\"link-sort-variable\"];\n        // const n = links.length;\n        // let max = -Infinity;\n        // let min = Infinity;\n        // const data: number[] = new Array(n);\n        // let dist: number;\n\n        // First pass: Compute min and max distances without storing them in a separate array\n        // for (let i = 0; i < n; i++) {\n        //     const dist = typeof links[i][lsv] === 'string' ? parseFloat(links[i][lsv]) : links[i][lsv];\n\n        //     // Update min and max\n        //     if (dist < min) {\n        //         min = dist;\n        //     }\n        //     if (dist > max) {\n        //         max = dist;\n        //     }\n        // }\n\n        \n        let range = max - min;\n        let ticks = 40;\n\n        const x = d3\n            .scaleLinear()\n            .domain([min, max])\n            .range([0, width]);\n\n        const bins = d3\n            .histogram()\n            .domain((x as any).domain())\n            .thresholds(x.ticks(ticks))(data);\n\n        const y = d3\n            .scaleLinear()\n            .domain([0, d3.max(bins, d => (d as any).length)])\n            .range([height, 0]);\n\n        const bar = svg\n            .selectAll(\".bar\")\n            .data(bins)\n            .enter()\n            .append(\"g\")\n            .attr(\"class\", \"bar\")\n            .attr(\"transform\", d => \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\");\n\n        bar\n            .append(\"rect\")\n            .attr(\"x\", 1)\n            .attr(\"width\", 6)\n            .attr(\"height\", d => height - y(d.length));\n\n        let that = this;\n\n        /**\n         * Uses the position on the histogram to set the link thresehold value\n         */\n        function updateThreshold() {\n            let xc = (d3 as any).mouse(svg.node())[0];\n            let decimalPlaces = (that.session.style.widgets['default-distance-metric'].toLowerCase() === \"tn93\") ? 3 : 0;\n\n            that.session.style.widgets[\"link-threshold\"] = (xc / width) * range * 1.05 + min;\n            $(\"#link-threshold\").val(parseFloat(that.session.style.widgets[\"link-threshold\"].toFixed(decimalPlaces)));\n        }\n\n        svg.on(\"click\", () => {\n            updateThreshold();\n            this.updateNetwork();\n        });\n\n        svg.on(\"mouseover\", () => {\n            let xc = (d3 as any).mouse(svg.node())[0];\n            $('#filtering-threshold').prop('title', \"Whats the maximum genetic distance you're willing to call a link? \" + ((this.session.style.widgets['default-distance-metric'].toLowerCase() === \"tn93\") ? ((xc / width) * range * 1.05 + min).toLocaleString() : Math.round(((xc / width) * range * 1.05 + min)).toLocaleString()));\n          });\n\n        svg.on(\"mousedown\", () => {\n            (d3 as any).event.preventDefault();\n            svg.on(\"mousemove\", updateThreshold);\n            svg.on(\"mouseup mouseleave\", () => {\n                this.updateNetwork();\n                svg\n                    .on(\"mousemove\", null)\n                    .on(\"mouseup\", null)\n                    .on(\"mouseleave\", null);\n            });\n        });\n\n        data = [];\n\n    };\n\n}\n\nexport interface JurisdictionItem{\n    jurisdiction_com_code: string | undefined;\n    jurisdiction_com_name: string | undefined;\n    subjurisdiction_code: string | undefined;\n    subjurisdiction_name: string | undefined;\n}\n","import { Component, Output, EventEmitter, OnInit, Inject, ElementRef, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { CommonService } from '../contactTraceCommonServices/common.service';\nimport * as XLSX from 'xlsx';\nimport * as Papa from 'papaparse';\nimport * as saveAs from 'file-saver';\nimport * as fileto from 'fileto';\nimport { generateCanvas } from '../visualizationComponents/AlignmentViewComponent/generateAlignmentViewCanvas';\nimport * as tn93 from 'tn93';\nimport * as patristic from 'patristic';\nimport * as _ from 'lodash';\nimport { MicrobeTraceNextVisuals } from '../microbe-trace-next-plugin-visuals';\nimport { EventEmitterService } from '@shared/utils/event-emitter.service';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { ComponentContainer } from 'golden-layout';\nimport { cloneDeep } from 'lodash';\n// import { ComponentContainer } from 'golden-layout';\n// import { ConsoleReporter } from 'jasmine';\n\n\n@Component({\n  selector: 'FilesComponent',\n  templateUrl: './files-plugin.component.html',\n  styleUrls: ['./files-plugin.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class FilesComponent extends BaseComponentDirective implements OnInit {\n\n  @Output() LoadDefaultVisualizationEvent = new EventEmitter();\n\n  auspiceUrlVal: any;\n\n  SelectedDefaultDistanceMetricVariable: string = \"tn93\";\n  SelectedAmbiguityResolutionStrategyVariable: string = \"AVERAGE\";\n  SelectedAmbiguityThresholdVariable: any = 0.015;\n  SelectedDefaultDistanceThresholdVariable: any = 0.015;\n  SelectedDefaultViewVariable: string = \"2D Network\";\n  SelectedGenerateNumberVariable: any = 100;\n\n  DirectionalityTypes: any = [\n    { label: 'Off', value: 'Off' },\n    { label: 'Inferred', value: 'Inferred' }\n  ];\n  SelectedDirectionalityTypeVariable: string = \"Off\";\n\n  TriangulationTypes: any = [\n    { label: 'Off', value: 'Off' },\n    { label: 'On', value: 'On' }\n  ];\n  SelectedTriangulationTypeVariable: string = \"Off\";\n\n  AutostashingTypes: any = [\n    { label: 'Off', value: 'Off' },\n    { label: 'On', value: 'On' }\n  ];\n  SelectedAutostashingTypeVariable: string = \"Off\";\n\n\n  AlignTypes: any = [\n    { label: 'None', value: 'None' },\n    { label: 'Smith-Waterman', value: 'Smith-Waterman' }\n  ];\n  SelectedAlignTypeVariable: string = \"None\";\n\n  isLoadingFiles: boolean = false;\n\n  ReferenceTypes: any = [\n    { label: 'LoadFrom FASTA', value: 'LoadFrom FASTA' },\n    { label: 'First Sequence', value: 'First Sequence' },\n    { label: 'Consensus', value: 'Consensus' }\n  ];\n  SelectedReferenceTypeVariable: string = \"LoadFrom FASTA\";\n\n  SelectedRefSeqFileLoadVariable: string = \"\";\n\n\n  RefSeqIDTypes: any = [\n\n  ];\n  SelectedRefSeqIDVariable: string = \"\";\n\n  SelectedAlignerMatchVariable: any = \"1\";\n  SelectedAlignerMismatchVariable: any = 1;\n  SelectedAlignerGapOVariable: any = 5;\n  SelectedAlignerGapEVariable: any = 2;\n\n  IsReferenceSourceSelected: boolean = false;\n  IsReferenceOptionsSelected: boolean = true;\n  SelectedAuditEmptyVariable: boolean = true;\n  SelectedAuditGapsVariable: boolean = true;\n  SelectedAuditRNAVariable: boolean = true;\n  SelectedAuditAminoAcidsVariable: boolean = true;\n  SelectedAuditCIGARVariable: boolean = true;\n  SelectedAuditMalformedVariable: boolean = true;\n\n  IsDataAvailable: boolean = false;\n  messages: any[];\n  displayFileSettings: boolean = false;\n  displaySequenceSettings: boolean = false;\n  displayloadingInformationModal: boolean = false;\n\n  nodeIds: { fileName: string; ids: string[] }[] = [];\n  edgeIds: { fileName: string; ids: { source: string; target: string }[] }[] = [];\n\n  uniqueNodes: string[] = [];\n  uniqueEdgeNodes: string[] = [];\n\n  private visuals: MicrobeTraceNextVisuals;\n\n  public title: string;\n  public id: string;\n  \n\n  constructor(\n    @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer, elRef: ElementRef,\n    private eventEmitterService: EventEmitterService,\n    public commonService: CommonService,\n    private cdr: ChangeDetectorRef) {\n\n    super(elRef.nativeElement);\n\n    // this.title = this.container.title;\n    this.id = this.container.parent.id;\n\n  }\n\n  ngOnInit() {\n\n    this.RefSeqIDTypes.push(\n      { label: 'Pol', value: this.commonService.HXB2.substr(2000, 2100) });\n\n    this.RefSeqIDTypes.push(\n      { label: 'Complete', value: this.commonService.HXB2 });\n\n\n    this.SelectedDefaultDistanceThresholdVariable = this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable;\n    this.SelectedDefaultDistanceMetricVariable = this.commonService.GlobalSettingsModel.SelectedDistanceMetricVariable;\n    this.commonService.LoadViewEvent.subscribe((v) => { this.loadDefaultVisualization(v); });\n    this.commonService.session.data.reference = this.commonService.HXB2.substr(2000, 2100);\n\n    if (this.eventEmitterService.subsVar==undefined) {    \n      this.eventEmitterService.subsVar = this.eventEmitterService.    \n        invokeFirstComponentFunction.subscribe((name:string) => {    \n          this.processFile();    \n        });    \n    }  \n\n     // Subscribe to new session event\n     this.commonService.newSession.subscribe(() => {\n      this.removeAllFiles();\n    });\n\n    // Subscribe to style file applied event\n    this.commonService.styleFileApplied.subscribe(() => {\n      this.applyStyleFileSettings();\n    });\n\n    this.commonService.FP_removeFiles.subscribe(() => {\n      this.commonService.session.files.forEach(file => {\n        this.removeFile(file.name, false);\n      })\n  });\n\n    // TODO: the rest of ngOnInit can be revised to take advantage of angular features\n    $('.alignConfigRow').hide();\n\n    $('#align-sw').parent().on('click', () => {\n\n      this.commonService.session.style.widgets['align-sw'] = true;\n      this.commonService.session.style.widgets['align-none'] = false;\n      $('.alignConfigRow, #reference-file-row').slideDown();\n      $('#alignment-preview').slideUp(function () {\n\n        //debugger;\n\n        $(this).empty().show();\n      });\n    });\n\n    $('#align-none').parent().on('click', () => {\n\n      this.commonService.session.style.widgets['align-sw'] = false;\n      this.commonService.session.style.widgets['align-none'] = true;\n      $('.alignConfigRow, #reference-file-row').slideUp();\n      $('#alignment-preview').slideUp(function () {\n\n        //debugger;\n\n        $(this).empty().show();\n      });\n    });\n\n    $('#reference-source-file').parent().on('click', () => {\n\n      //debugger;\n\n      this.commonService.session.style.widgets['reference-source-file'] = true;\n      this.commonService.session.style.widgets['reference-source-first'] = false;\n      this.commonService.session.style.widgets['reference-source-consensus'] = false;\n      this.commonService.session.data.reference = $('#refSeqID').val().toString();\n\n      //debugger;\n\n      if (!this.commonService.session.style.widgets['align-none']) $('#reference-file-row').slideDown();\n    });\n\n    $('#reference-source-first').parent().on('click', () => {\n      this.commonService.session.style.widgets['reference-source-file'] = false;\n      this.commonService.session.style.widgets['reference-source-first'] = true;\n      this.commonService.session.style.widgets['reference-source-consensus'] = false;\n      $('#reference-file-row').slideUp();\n    });\n\n    $('#reference-source-consensus').parent().on('click', () => {\n      this.commonService.session.style.widgets['reference-source-file'] = false;\n      this.commonService.session.style.widgets['reference-source-first'] = false;\n      this.commonService.session.style.widgets['reference-source-consensus'] = true;\n      $('#reference-file-row').slideUp();\n    });\n\n    $('#reference-file-row').hide();\n\n    $('#refSeqFileLoad').on('change', () => {\n\n      //debugger;\n\n      const file = this.commonService.session.files[0];   //this.files[0];\n      let reader = new FileReader();\n      reader.onloadend = (e: any) => {\n        if (e.target.readyState === FileReader.DONE) {\n          this.commonService.parseFASTA(e.target.result).then(nodes => {\n            $('#refSeqID')\n              .html(nodes.map((d, i) => `\n                                <option value=\"${this.commonService.filterXSS(d.seq)}\" ${i === 0 ? \"selected\" : \"\"}>${this.commonService.filterXSS(d.id)}</option>\n                              `))\n              .trigger('change');\n          });\n          $('label[for=\"refSeqFileLoad\"]').text(this.commonService.filterXSS(file.name));\n        }\n      };\n      reader.readAsText(file);\n    });\n\n    $('#refSeqID').html(`\n          <option value=\"${this.commonService.HXB2.substr(2000, 2100)}\" selected>Pol</option>\n          <option value=\"${this.commonService.HXB2}\">Complete</option>\n        `).on('change', (e) => {\n\n          //debugger;\n          this.commonService.session.data.reference = e.data;// this.value;\n\n        });\n\n    $('#alignment-preview').on('click', () => {\n      this.readFastas().then(data => {\n        if (this.commonService.session.style.widgets['reference-source-first']) {\n\n          //debugger;\n\n          this.commonService.session.data.reference = \"\"; //nodes[0].seq;\n        }\n        if (this.commonService.session.style.widgets['reference-source-consensus']) {\n          this.commonService.computeConsensus().then(consensus => this.commonService.session.data.reference = consensus);\n        }\n        this.updatePreview(data);\n      });\n    });\n\n    const auditBlock = $('#audited-sequences');\n\n    const logAudit = (parentContext, id, type) => {\n      const match = auditBlock.find(`[data-id=\"${id}\"]`);\n      const button = $(`<button class=\"btn btn-warning btn-sm audit-exclude\" data-id=\"${id}\">Exclude</button>`).on('click', function () {\n        const thi$ = $(this);\n        const id = thi$.data('id');\n        if (thi$.text() === 'Exclude') {\n          parentContext.commonService.session.data.nodeExclusions.push(id);\n          thi$.removeClass('btn-warning').addClass('btn-success').text('Include');\n        } else {\n          parentContext.commonService.session.data.nodeExclusions.splice(parentContext.commonService.session.data.nodeExclusions.indexOf(id), 1);\n          thi$.removeClass('btn-success').addClass('btn-warning').text('Exclude');\n        }\n      });\n      const row = $(`<div class=\"alert alert-warning w-100 d-flex justify-content-between\" role=\"alert\"><span>${id} appears to be ${type}.</span></div>`);\n      row.append(button);\n      auditBlock.append(row);\n    };\n\n    $('#audit-launcher').on('click', () => {\n      this.readFastas().then(data => {\n        const start = Date.now();\n        const isGaps = /^-+$/;\n        const isRNA = /^[ACGURYMKWSBDHVN-]+$/;\n        const isAA = /^[ARNDCQEGHILKMFPSTWYVBZN]+$/;\n        const isDNA = /^[ACGTRYMKWSBDHVN-]+$/;\n        const isCIGAR = /^[0-9MIDNSHP=X]+$/;\n        const isMalformed = /[^ACGTURYMKWSBDHVNQEILFPZX0-9-]+/;\n        const checkEmpty = $('#audit-empty').is(':checked');\n        const checkGaps = $('#audit-gaps').is(':checked');\n        const checkRNA = $('#audit-RNA').is(':checked');\n        const checkAA = $('#audit-amino-acids').is(':checked');\n        const checkCIGAR = $('#audit-CIGAR').is(':checked');\n        const checkMalformed = $('#audit-malformed').is(':checked');\n        // const any = false;\n        data.forEach(d => {\n          const seq = d.seq, id = d.id;\n          if (checkEmpty && seq === '') logAudit(this, id, 'empty');\n          if (checkGaps && isGaps.test(seq)) logAudit(this, id, 'all gaps')\n          if (checkRNA && isRNA.test(seq) && !isGaps.test(seq)) logAudit(this, id, 'RNA');\n          if (checkAA && isAA.test(seq) && !isDNA.test(seq)) logAudit(this, id, 'amino acids');\n          if (checkCIGAR && isCIGAR.test(seq)) logAudit(this, id, 'a CIGAR');\n          if (checkMalformed && isMalformed.test(seq)) logAudit(this, id, 'malformed');\n        });\n        console.log('Sequence Auditing time:', (Date.now() - start).toLocaleString(), 'ms');\n      });\n    });\n\n    $('#audit-toggle-all').on('click', () => {\n      $('.audit-exclude').trigger('click');\n    });\n\n    $('#default-distance-metric').change((e) => {\n\n      //debugger;\n\n      const lsv = e.data ? e.data : 'tn93';\n      this.commonService.localStorageService.setItem('default-distance-metric', lsv);\n      $('#default-distance-metric').val(lsv);\n      console.log(lsv);\n      if (lsv.toLowerCase() === 'snps') {\n        $('#ambiguities-row').slideUp();\n        $('#default-distance-threshold, #link-threshold')\n          .attr('step', 1)\n          .val(7);\n        this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable = 7;\n        console.log('default-distance-metric change file-plugin.component.ts snps');\n        this.commonService.setLinkThreshold(7);\n      } else {\n        $('#ambiguities-row').slideDown();\n        $('#default-distance-threshold, #link-threshold')\n          .attr('step', 0.001)\n          .val(0.015);\n        this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable = 0.015;\n        console.log('default-distance-metric change file-plugin.component.ts tn93');\n        this.commonService.setLinkThreshold(0.015);\n      }\n      this.commonService.session.style.widgets['default-distance-metric'] = lsv;\n      this.commonService.GlobalSettingsModel.SelectedDefaultDistanceMetricVariable = lsv;\n    });\n\n    let cachedLSV = \"\";\n    this.commonService.localStorageService.getItem('default-distance-metric', (result) => {\n      cachedLSV = result;\n\n      if (cachedLSV) {\n        $('#default-distance-metric').val(cachedLSV).trigger('change');\n      }\n    });\n\n\n\n    $('#ambiguity-resolution-strategy').on('change', (e) => {\n\n      //debugger;\n\n      const v = e.data; //this.value;\n      this.commonService.session.style.widgets['ambiguity-resolution-strategy'] = v;\n      if (v === 'HIVTRACE-G') {\n        $('#ambiguity-threshold-row').slideDown();\n      } else {\n        $('#ambiguity-threshold-row').slideUp();\n      }\n    }).change();\n\n    $('#ambiguity-threshold').on('change', (e) => {\n\n      //debugger;\n\n      const v = e.data; //this.value;\n      this.commonService.session.style.widgets['ambiguity-threshold'] = v;\n    });\n\n    let cachedView = \"\";\n    this.commonService.localStorageService.getItem('default-view', (result) => {\n      cachedView = result;\n    });\n\n    $('#default-view')\n      .on('change', (e) => {\n\n        //debugger;\n\n        const v = e.data;// this.value;\n        this.commonService.localStorageService.setItem('default-view', v);\n        this.commonService.session.style.widgets['default-view'] = v;\n        this.commonService.session.layout.content[0].type = v;\n      })\n      .val(cachedView ? cachedView : this.commonService.session.style.widgets['default-view'])\n      .trigger('change');\n\n    //$('#generate-sequences').on('click', () => {\n    //    $('#file-prompt').remove();\n    //    $('#launch').prop('disabled', false).focus();\n    //    this.processFile(new File([Papa.unparse(this.commonService.generateSeqs('gen-' + this.commonService.session.meta.readyTime + '-', parseFloat($('#generate-number').val().toString()), 20))], 'generatedNodes.csv'));\n    //});\n\n    $('#infer-directionality-false').parent().on('click', () => {\n\n      //debugger;\n\n      this.commonService.session.style.widgets['infer-directionality-false'] = true;\n    });\n\n    $('#infer-directionality').parent().on('click', () => {\n\n      //debugger;\n\n      this.commonService.session.style.widgets['infer-directionality-false'] = false;\n    });\n\n    $('#triangulate-false').parent().on('click', () => {\n\n      //debugger;\n\n      this.commonService.session.style.widgets['triangulate-false'] = true;\n    });\n\n    $('#triangulate').parent().on('click', () => {\n\n      //debugger;\n\n      this.commonService.session.style.widgets['triangulate-false'] = false;\n    });\n\n    $('#stash-auto-yes').parent().on('click', () => {\n\n      //debugger;\n\n      this.commonService.localStorageService.setItem('stash-auto', 'true');\n    });\n\n    if (localStorage.getItem('stash-auto') === 'true') {\n      $('#stash-auto-yes').parent().trigger('click');\n    }\n\n    $('#stash-auto-no').parent().on('click', () => {\n\n      //debugger;\n\n      if (this.commonService.temp.autostash) clearInterval(this.commonService.temp.autostash.interval);\n      this.commonService.localStorageService.setItem('stash-auto', 'false');\n    });\n\n    if(this.commonService.session.network.launched){\n      $('#launch').text('Update');\n    }\n\n    \n\n    // $.getJSON(\"../assets/outbreak.microbetrace\", (window as any).context.commonService.applySession);\n    // Use this when building production (.ie gh-pages branch)\n    if(!this.commonService.session.network.initialLoad && !this.auspiceUrlVal) {\n      console.log('launching outbreak');\n      $.getJSON(\"outbreaknorm.microbetrace\", this.commonService.applySession.bind(this.commonService));   \n      this.commonService.session.network.launched = true; \n      this.commonService.session.network.initialLoad = true; \n      // if(this.commonService.session.files && this.commonService.session.files.length > 0) {\n      //   for(let i = 0; i < this.commonService.session.files.length; i++) {\n      //     this.addToTable(this.commonService.session.files[i]);\n      //   }\n      // }   \n    }\n\n    setTimeout(() => {\n      this.populateTable();\n  }, 2000);\n\n    // console.log('session: ', this.commonService?.session?.files, this.commonService.session.files.length);\n  }\n\n  /**\n   * For each file in commonService.session.files, addToTable(file)\n   */\n  public populateTable() {  \n    const fileTableRows = $(\".file-table-row\");\n    fileTableRows.slideUp(() => fileTableRows.remove());\n\n    // Give some time before adding to table\n    setTimeout(() => {\n      let files = cloneDeep(this.commonService.session.files);\n      if(files && files.length > 0) {\n        for(let i = 0; i < files.length; i++) {\n          this.addToTable(files[i]);\n        }\n      }  }, 500);\n\n  }\n  \n  /**\n   * Toggles the value of multiple variables associated with sequence setting audit including:\n   * SelectedAuditEmptyVariable, SelectedAuditGapsVariable, SelectedAuditRNAVariable, \n   * SelectedAuditAminoAcidsVariable, SelectedAuditCIGARVariable, SelectedAuditMalformedVariable\n   */\n  toglleAll() {\n\n    this.SelectedAuditEmptyVariable = !this.SelectedAuditEmptyVariable;\n    this.SelectedAuditGapsVariable = !this.SelectedAuditGapsVariable;\n    this.SelectedAuditRNAVariable = !this.SelectedAuditRNAVariable;\n    this.SelectedAuditAminoAcidsVariable = !this.SelectedAuditAminoAcidsVariable;\n    this.SelectedAuditCIGARVariable = !this.SelectedAuditCIGARVariable;\n    this.SelectedAuditMalformedVariable = !this.SelectedAuditMalformedVariable;\n  }\n\n  /**\n   * XXXXX\n   */\n  run() {\n\n  }\n\n  /**\n   * Updates isDataAvaible variable based on if any nodes under commonService.session.data\n   * \n   * XXXXX not used XXXXX\n   */\n  InitView() {\n    this.IsDataAvailable = (this.commonService.session.data.nodes.length === 0 ? false : true);\n  }\n\n  /**\n   * @returns {string} \"state is here\"\n   */\n  handleContainerStateRequestEvent(): string | undefined {\n    return \"state is here\";\n  }\n\n  /**\n   * Updated default-view widget and localStorageService\n   */\n  changeDefaultView(e) {\n    const v = e.target.selectedOptions[0].innerText;\n    this.commonService.localStorageService.setItem('default-view', v);\n    this.commonService.session.style.widgets['default-view'] = v;\n    this.commonService.session.layout.content[0].type = v;\n  }\n\n  /**\n   * Opens/Closes the settings window\n   */\n  openSettings() {\n    this.displayFileSettings = !this.displayFileSettings;\n  }\n\n  openExport() {\n\n  }\n\n  openCenter() {\n\n  }\n\n  //openPinAllNodes() {\n\n\n  //}\n\n  openRefreshScreen() {\n\n  }\n\n  openSelectDataSetScreen() {\n\n  }\n\n  /**\n   * Opens/Closes Sequence Controls modal/dialog box\n   */\n  showSequenceSettings() {\n    this.displaySequenceSettings = !this.displaySequenceSettings;\n  }\n\n  /**\n   * Sets commonService.session.messages and this.messages to empty arrays []. Clears and closes loading-information modal.\n   * Emits a LoadDefaultVisualizationEvent.\n   * @param e \n   */\n  loadDefaultVisualization(e: string) {\n\n    setTimeout(() => {\n\n      this.commonService.session.messages = [];\n      this.messages = [];\n      $('#loading-information').html('');\n      $('#launch').prop('disabled', false).focus();\n\n      this.displayloadingInformationModal = false;\n\n    }, 1000);\n\n    this.LoadDefaultVisualizationEvent.emit(e);\n  }\n\n  /**\n   * Adds msg to this.messages and commonService.session.messages. \n   * Updates messages on loading-information modal based on commonService.session.message\n   * @param {string} msg message to add to messages arrays \n   */\n  showMessage(msg: string) {\n\n    this.messages.push(msg);\n    this.commonService.session.messages.push(msg);\n    $('#loading-information').html(this.commonService.session.messages.join('<br>'));\n  }\n\n  /**\n   * Resets the value of session.data, temp.trees if previously launched (or more if not previously launched). Retains the values of following \n   * widgets: link-threshold, default-distance-metric, ambiguity-resolution-strategy, and default view.\n   * Calls creatLaunchSequences to process the data files loaded.\n   */\n  launchClick() {\n\n    console.log(this.displayloadingInformationModal);\n    this.commonService.updateLegacyNodeSymbols();\n    const thresholdOnLaunch = this.commonService.session.style.widgets[\"link-threshold\"];\n    const metricOnLaunch = this.commonService.session.style.widgets[\"default-distance-metric\"];\n    const ambiguityOnLaunch = this.commonService.session.style.widgets[\"ambiguity-resolution-strategy\"];\n    const viewOnLaunch = this.commonService.session.style.widgets[\"default-view\"];\n\n\n    console.log('launch click');\n    if( this.commonService.session.network.launched) {\n      console.log('launch click launched ', this.commonService.session.network.launched);\n\n      this.commonService.resetData();\n\n      $('#launch').text('Update');\n      // this.visuals.twoD.isLoading = true;\n    }\n    else if (!this.commonService.session.network.launched) {\n      console.log('launch click not launched ', this.commonService.session.network.launched);\n\n      this.commonService.resetData();\n      this.commonService.session.network.launched = true;\n    }\n\n    this.commonService.session.style.widgets[\"link-threshold\"] = thresholdOnLaunch;\n    this.commonService.session.style.widgets[\"default-distance-metric\"] = metricOnLaunch;\n    this.commonService.session.style.widgets[\"ambiguity-resolution-strategy\"] = ambiguityOnLaunch;\n    this.commonService.session.style.widgets[\"default-view\"] = viewOnLaunch;\n\n    this.commonService.session.messages = [];\n    this.messages = [];\n\n    console.log('session files', this.commonService.session.files);\n\n    this.displayloadingInformationModal = true;\n\n    this.showMessage(\"Starting...\");\n\n    setTimeout(() => {\n      // Process the data files loaded.\n      this.creatLaunchSequences();\n    }, 1000);\n  }\n\n  /**\n   * Processes all files in following order (auspice, newick, matrix, link, node, fasta).\n   * Adds/Updates nodes and links. After processing all files, calls processData.\n   */\n  creatLaunchSequences() {\n    this.commonService.session.meta.startTime = Date.now();\n    $('#launch').prop('disabled', true);\n\n    $('#loading-information').html('');\n    console.log(this.displayloadingInformationModal);\n    this.commonService.temp.messageTimeout = setTimeout(() => {\n      $('#loadCancelButton').slideDown();\n      // abp.notify.warn('If you stare long enough, you can reverse the DNA Molecule\\'s spin direction');\n    }, 20000);\n    const nFiles = this.commonService.session.files.length - 1;\n    const check = nFiles > 0;\n\n    // sorts files based on hierarchy\n    const hierarchy = ['auspice', 'newick', 'matrix', 'link', 'node', 'fasta'];\n    this.commonService.session.files.sort((a, b) => hierarchy.indexOf(a.format) - hierarchy.indexOf(b.format));\n\n\n    this.commonService.session.meta.anySequences = this.commonService.session.files.some(file => (file.format === \"fasta\") || (file.format === \"node\" && file.field2 !== \"None\"));\n\n    this.commonService.session.files.forEach((file, fileNum) => {\n      const start = Date.now();\n      const origin = [file.name];\n      if (file.format === 'auspice') {\n        this.showMessage(`Parsing ${file.name} as Auspice...`);\n        // this.commonService.localStorageService.setItem('default-view', 'phylogenetic-tree');\n        // this.commonService.localStorageService.setItem('default-distance-metric', 'SNPs');\n        this.commonService.applyAuspice(file.contents).then(auspiceData => {\n          this.commonService.clearData();\n          this.commonService.session = this.commonService.sessionSkeleton();\n\n          console.log(auspiceData[\"tree\"][\"children\"][0]);\n          // This is a bizarre line, but I need to check if the div values are more or less than one. The first one is always zero, so we need to go to the second one\n          if(auspiceData[\"tree\"][\"children\"][0][\"data\"][\"div\"] > 0 && auspiceData[\"tree\"][\"children\"][0][\"data\"][\"div\"] < 1){\n            this.commonService.session.style.widgets['default-distance-metric'] = 'tn93';\n            this.SelectedDefaultDistanceMetricVariable = 'tn93';\n            this.onDistanceMetricChange('tn93');\n            this.commonService.onMetricChanged('tn93');\n            this.commonService.GlobalSettingsModel.SelectedDistanceMetricVariable = 'tn93';\n            $('#default-distance-metric').val('tn93').trigger('change');\n            console.log(this.displayloadingInformationModal);\n            $('#default-distance-threshold', '#link-threshold').attr('step', 1).val(0.015).trigger('change');\n            this.commonService.session.style.widgets['link-threshold'] = 0.015;\n            this.SelectedDefaultDistanceThresholdVariable = '0.015';\n            this.onLinkThresholdChange('0.015');\n            this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable = 0.015;\n          } else {\n            this.commonService.session.style.widgets['default-distance-metric'] = 'snps';\n            this.commonService.onMetricChanged('snps');\n            this.SelectedDefaultDistanceMetricVariable = 'snps';\n            this.onDistanceMetricChange('snps');\n            this.commonService.GlobalSettingsModel.SelectedDistanceMetricVariable = 'snps';\n            $('#default-distance-metric').val('SNPs').trigger('change');\n            $('#default-distance-threshold', '#link-threshold').attr('step', 1).val(7).trigger('change');\n            this.commonService.session.style.widgets['link-threshold'] = 7;\n            this.SelectedDefaultDistanceThresholdVariable = '7';\n            this.onLinkThresholdChange('7');\n            this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable = 7;\n          }\n          this.commonService.session.meta.startTime = Date.now();\n          this.commonService.session.data.tree = auspiceData['tree'];\n          this.commonService.session.data.newickString = auspiceData['newick'];\n          let nodeCount = 0;\n          const nodeRegex = /^NODE_[0-9]{7}$/i;\n          auspiceData['nodes'].forEach(node => {\n            if (!nodeRegex.test(node.id) && node.id !== 'wrapper') {\n              const nodeKeys = Object.keys(node);\n              nodeKeys.forEach( key => {\n                if (this.commonService.session.data.nodeFields.indexOf(key) === -1) {\n                  this.commonService.session.data.nodeFields.push(key);\n                }\n                if (! Object.prototype.hasOwnProperty.call(node, 'origin') ) {\n                  node.origin = [];\n                }\n                nodeCount += this.commonService.addNode(node, true);\n              });\n            }\n          });\n          let linkCount = 0;\n          auspiceData['links'].forEach(link => {\n            linkCount += this.commonService.addLink(link, true);\n          });\n\n          this.commonService.runHamsters();\n          this.showMessage(` - Parsed ${nodeCount} New Nodes and ${linkCount} new Links from Auspice file.`);\n          if (fileNum === nFiles) this.processData();\n          return nodeCount;\n        });\n        this.commonService.updateNetwork();\n        this.commonService.updateStatistics();\n        if(this.commonService.debugMode) {\n          console.log(this.commonService.session);\n        }\n      } else if (file.format === 'fasta') {\n\n        this.showMessage(`Parsing ${file.name} as FASTA...`);\n        let newNodes = 0;\n        this.commonService.parseFASTA(file.contents).then(seqs => {\n          const n = seqs.length;\n          for (let i = 0; i < n; i++) {\n            const node = seqs[i];\n            if (!node) continue;\n            newNodes += this.commonService.addNode({\n              _id: this.commonService.filterXSS(node.id),\n              seq: this.commonService.filterXSS(node.seq),\n              origin: origin\n            }, check);\n          }\n\n          console.log('FASTA Merge time:', (Date.now() - start).toLocaleString(), 'ms');\n          this.showMessage(` - Parsed ${newNodes} New, ${seqs.length} Total Nodes from FASTA.`);\n          if (fileNum === nFiles) this.processData();\n        });\n\n      } else if (file.format === 'link') {\n\n        this.showMessage(`Parsing ${file.name} as Link List...`);\n        let l = 0;\n\n        const sources = [];\n        const targets = [];\n\n        /**\n         * Processes and then adds link. updates value of l\n         * @param {object} link \n         */\n        const forEachLink = link => {\n          const keys = Object.keys(link);\n          const n = keys.length;\n          const safeLink = {};\n          // for each key in link object\n          for (let i = 0; i < n; i++) {\n            let key = this.commonService.filterXSS(keys[i]);\n            // console.log('key is: ',key);\n\n            if(key === \"distance\") {\n              // console.log('key is distance');\n              link[key] = parseFloat(link[key]);\n            } else if (key === 'origin') {\n              // related to zenhub#810: link list csv was exported from table view and unable to be loaded correctly; this code create a new linkField when it runs into field called origin \n              link['originColumnFromFile'] = link['origin'].split('\\n')\n              safeLink['originColumnFromFile'] = link['originColumnFromFile'];\n              link['origin'] = origin;\n\n              if (!this.commonService.includes(this.commonService.session.data.linkFields, 'originColumnFromFile')) {\n                this.commonService.session.data.linkFields.push('originColumnFromFile');\n              }\n            }\n            \n            safeLink[key] = link[key];\n            // console.log('safelink key is: ',safeLink[key]);\n            // console.log('safelink is: x',safeLink);\n\n            if (!this.commonService.includes(this.commonService.session.data.linkFields, key)) {\n              this.commonService.session.data.linkFields.push(key);\n            }\n          }\n\n          const src = '' + safeLink[file.field1];\n          const tgt = '' + safeLink[file.field2];\n\n          sources.push(src);\n          targets.push(tgt);\n\n          const srcIndex = targets.findIndex(t => t == src);\n          const tgtIndex = sources.findIndex(s => s == tgt);\n\n          // console.log(\"safe link is: \",safeLink);\n\n          // Link is the same -> bidirectional\n          if(srcIndex != -1 && tgtIndex != -1) {\n              \n            // Set distance if distance set (field 3)\n            l += this.commonService.addLink(Object.assign({\n               source: '' + safeLink[file.field1],\n               target: '' + safeLink[file.field2],\n               origin: origin,\n               visible: true,\n               directed : file.field3 == 'None' ? true : false,\n               bidirectional: file.field3 == 'None' ? true : false,\n               distance: file.field3 == 'None' ? 0 : parseFloat(safeLink[file.field3]),\n               hasDistance : file.field3 == 'None' ? false : true,\n               distanceOrigin: file.field3 == 'None' ? '' : file.name\n             }, safeLink), check);\n\n         } else {\n\n          // console.log(\"distance is: \", file.field3 != 'distance' ? 0 : parseFloat(safeLink[file.field3]))\n          // TODO uncomment when testing adding new link\n          //  console.log('adding 2: ', _.cloneDeep(Object.assign({\n          //         source: '' + safeLink[file.field1],\n          //         target: '' + safeLink[file.field2],\n          //         origin: origin,\n          //         visible: true,\n          //         directed : file.field3 != 'distance' ? true : false,\n          //         bidirectional: file.field3 != 'distance' ? true : false,\n          //         distance: file.field3 != 'distance' ? 0 : parseFloat(safeLink[file.field3]),\n          //         hasDistance : file.field3 != 'distance' ? false : true,\n          //         distanceOrigin: file.field3 != 'distance' ? '' : file.name\n          //       }, safeLink)));\n\n           l += this.commonService.addLink(Object.assign({\n               source: '' + safeLink[file.field1],\n               target: '' + safeLink[file.field2],\n               origin: origin,\n               visible: true,\n               directed : file.field3 == 'None' ? true : false,\n               distance: file.field3 == 'None' ? 0 : parseFloat(safeLink[file.field3]),\n               hasDistance : file.field3 == 'None' ? false : true,\n               distanceOrigin: file.field3 == 'None' ? '' : file.name\n             }, safeLink), check);\n         }  \n\n        //  console.log('matrixx1: ',  JSON.stringify((window as any).context.commonService.temp.matrix));\n\n\n        };\n\n        if (file.extension === 'xls' || file.extension === 'xlsx') {\n\n          const workbook = XLSX.read(file.contents, { type: 'array' });\n          const data = XLSX.utils.sheet_to_json(workbook.Sheets[workbook.SheetNames[0]]);\n          data.map(forEachLink);\n          this.showMessage(` - Parsed ${l} New, ${data.length} Total Links from Link Excel Table.`);\n          let n = 0, t = 0;\n          const nodeIDs = [];\n          const k = data.length;\n          // for each line or excel file, check if node exist, if not add it\n          for (let i = 0; i < k; i++) {\n            const l = data[i];\n            const f1 = l[file.field1];\n            if (nodeIDs.indexOf(f1) === -1) {\n              t++;\n              nodeIDs.push(f1);\n              n += this.commonService.addNode({\n                _id: '' + f1,\n                origin: origin\n              }, true);\n            }\n            const f2 = l[file.field2];\n            if (nodeIDs.indexOf(f2) === -1) {\n              t++;\n              nodeIDs.push(f2);\n              n += this.commonService.addNode({\n                _id: '' + f2,\n                origin: origin\n              }, true);\n            }\n          }\n\n          console.log('Link Excel Parse time:', (Date.now() - start).toLocaleString(), 'ms');\n          this.showMessage(` - Parsed ${n} New, ${t} Total Nodes from Link Excel Table.`);\n          if (fileNum === nFiles) this.processData();\n\n        } else if (file.extension === 'json') {\n            const results = JSON.parse(file.contents);\n            if (!results || results.length === 0) return;\n\n            const data = results;\n            data.map(forEachLink);\n            this.showMessage(` - Parsed ${l} New, ${data.length} Total Links from Link JSON.`);\n            if (data.length > 0)\n              Object.keys(data[0]).forEach(key => {\n                const safeKey = this.commonService.filterXSS(key);\n\n                if (!this.commonService.includes(this.commonService.session.data.linkFields, safeKey)) {\n                  this.commonService.session.data.linkFields.push(safeKey);\n                }\n              });\n            let newNodes = 0, totalNodes = 0;\n            const n = data.length;\n            const nodeIDs = [];\n            // for each object in json, check if node exist, if not add it\n            for (let i = 0; i < n; i++) {\n\n              const l = data[i];\n              const f1 = l[file.field1];\n              if (nodeIDs.indexOf(f1) === -1) {\n                totalNodes++;\n                newNodes += this.commonService.addNode({\n                  _id: '' + f1,\n                  origin: origin\n                }, true);\n              }\n              const f2 = l[file.field2];\n              if (nodeIDs.indexOf(f2) === -1) {\n                totalNodes++;\n                newNodes += this.commonService.addNode({\n                  _id: '' + f2,\n                  origin: origin\n                }, true);\n              }\n            }\n\n            console.log('Link JSON Parse time:', (Date.now() - start).toLocaleString(), 'ms');\n            this.showMessage(` - Parsed ${newNodes} New, ${totalNodes} Total Nodes from Link JSON.`);\n            if (fileNum === nFiles) this.processData();\n          } else {\n\n            Papa.parse(file.contents, {\n              header: true,\n              dynamicTyping: true,\n              skipEmptyLines: true,\n              complete: results => {\n                const data = results.data;\n                data.map(forEachLink);\n                this.showMessage(` - Parsed ${l} New, ${data.length} Total Links from Link CSV.`);\n                results.meta.fields.forEach(key => {\n                  const safeKey = this.commonService.filterXSS(key);\n\n                  if (!this.commonService.includes(this.commonService.session.data.linkFields, safeKey)) {\n                    this.commonService.session.data.linkFields.push(safeKey);\n                  }\n                });\n                let newNodes = 0, totalNodes = 0;\n                const n = data.length;\n                const nodeIDs = [];\n                for (let i = 0; i < n; i++) {\n                  const l = data[i];\n                  const f1 = l[file.field1];\n                  if (nodeIDs.indexOf(f1) === -1) {\n                    totalNodes++;\n                    newNodes += this.commonService.addNode({\n                      _id: '' + f1,\n                      origin: origin\n                    }, true);\n                  }\n                  const f2 = l[file.field2];\n                  if (nodeIDs.indexOf(f2) === -1) {\n                    totalNodes++;\n                    newNodes += this.commonService.addNode({\n                      _id: '' + f2,\n                      origin: origin\n                    }, true);\n                  }\n                }\n\n                console.log('Link CSV Parse time:', (Date.now() - start).toLocaleString(), 'ms');\n                this.showMessage(` - Parsed ${newNodes} New, ${totalNodes} Total Nodes from Link CSV.`);\n                if (fileNum === nFiles) this.processData();\n              }\n            });\n          }\n      } else if (file.format === 'node') {\n\n        this.showMessage(`Parsing ${file.name} as Node List...`);\n        if(this.commonService.debugMode) {\n          console.log(file.field1);\n        }\n\n        let m = 0;\n        const n = 0;\n\n        if (file.extension === 'xls' || file.extension === 'xlsx') {\n\n          const workbook = XLSX.read(file.contents, { type: 'array' });\n          const data = XLSX.utils.sheet_to_json(workbook.Sheets[workbook.SheetNames[0]]);\n          data.forEach(node => {\n            let safeNode = {\n              _id: this.commonService.filterXSS('' + node[file.field1]),\n              seq: (file.field2 === 'None') ? '' : this.commonService.filterXSS(node[file.field2]),\n              origin: origin\n            };\n            Object.keys(node).forEach(key => {\n              let safeKey = this.commonService.filterXSS(key);\n              if (!this.commonService.includes(this.commonService.session.data.nodeFields, safeKey)) {\n                this.commonService.session.data.nodeFields.push(safeKey);\n              }\n              safeNode[safeKey] = this.commonService.filterXSS(node[key]);\n            });\n            m += this.commonService.addNode(safeNode, check);\n          });\n\n          console.log('Node Excel Parse time:', (Date.now() - start).toLocaleString(), 'ms');\n          this.showMessage(` - Parsed ${m} New, ${n} Total Nodes from Node Excel Table.`);\n          if (fileNum === nFiles) this.processData();\n\n        } else\n          if (file.extension === 'json') {\n            const results = JSON.parse(file.contents);\n            if (!results || results.length === 0) return;\n            results.forEach(data => {\n\n              const node = data;//data[0]             \n\n              if (node[file.field1] && node[file.field1].toString().trim()) {\n\n                let safeNode = {\n                  _id: this.commonService.filterXSS('' + node[file.field1]),\n                  seq: (file.field2 === 'None') ? '' : this.commonService.filterXSS(node[file.field2]),\n                  origin: origin\n                };\n\n                Object.keys(node).forEach(key => {\n                  let safeKey = this.commonService.filterXSS(key);\n                  if (!this.commonService.includes(this.commonService.session.data.nodeFields, safeKey)) {\n                    this.commonService.session.data.nodeFields.push(safeKey);\n                  }\n                  safeNode[safeKey] = this.commonService.filterXSS(node[key]);\n                });\n                m += this.commonService.addNode(safeNode, check);\n              }\n            })\n\n            console.log('Node JSON Parse time:', (Date.now() - start).toLocaleString(), 'ms');\n            this.showMessage(` - Parsed ${m} New, ${n} Total Nodes from Node JSON.`);\n\n            if (fileNum === nFiles) this.processData();\n\n          } else {\n\n            Papa.parse(file.contents, {\n              header: true,\n              dynamicTyping: true,\n              skipEmptyLines: true,\n              step: data => {\n\n                const node = data.data;\n\n                if (node[file.field1] && node[file.field1].toString().trim()) {\n\n                  let safeNode = {\n                    _id: this.commonService.filterXSS('' + node[file.field1]),\n                    seq: (file.field2 === 'None') ? '' : this.commonService.filterXSS(node[file.field2]),\n                    origin: origin\n                  };\n\n                  Object.keys(node).forEach(key => {\n                    let safeKey = this.commonService.filterXSS(key);\n                    if (!this.commonService.includes(this.commonService.session.data.nodeFields, safeKey)) {\n                      this.commonService.session.data.nodeFields.push(safeKey);\n                    }\n                    safeNode[safeKey] = this.commonService.filterXSS(node[key]);\n                  });\n                  m += this.commonService.addNode(safeNode, check);\n                }\n              },\n              complete: () => {\n\n                console.log('Node CSV Parse time:', (Date.now() - start).toLocaleString(), 'ms');\n                this.showMessage(` - Parsed ${m} New, ${n} Total Nodes from Node CSV.`);\n\n                if (fileNum === nFiles) this.processData();\n              }\n            });\n          }\n\n      } else if (file.format === 'matrix') {\n\n        this.showMessage(`Parsing ${file.name} as Distance Matrix...`);\n\n        if (file.extension === 'xls' || file.extension === 'xlsx') {\n\n          const workbook = XLSX.read(file.contents, { type: 'array' });\n          const data = XLSX.utils.sheet_to_json(workbook.Sheets[workbook.SheetNames[0]], { header: 1 });\n          let nodeIDs = [], nn = 0, nl = 0;\n          data.forEach((row: any, i) => {\n            if (i === 0) {\n              nodeIDs = row;\n              nodeIDs.forEach((cell, k) => {\n                if (k > 0) {\n                  nn += this.commonService.addNode({\n                    _id: this.commonService.filterXSS('' + cell),\n                    origin: origin\n                  }, check);\n                }\n              });\n            } else {\n              const source = this.commonService.filterXSS('' + row[0]);\n              row.forEach((cell, j) => {\n                if (j === 0) return;\n                const target = this.commonService.filterXSS('' + nodeIDs[j]);\n                if (source === target) return;\n                nl += this.commonService.addLink({\n                  source: source,\n                  target: target,\n                  origin: origin,\n                  distance: parseFloat(cell),\n                  directed: false,\n                  hasDistance: true,\n                  distanceOrigin: file.name\n                }, check);\n              });\n            }\n          });\n\n          console.log('Distance Matrix Excel Parse time:', (Date.now() - start).toLocaleString(), 'ms');\n          this.showMessage(` - Parsed ${nn} New, ${data.length - 1} Total Nodes from Excel Distance Matrix.`);\n          this.showMessage(` - Parsed ${nl} New, ${((data.length - 1) ** 2 - (data.length - 1)) / 2} Total Links from Excel Distance Matrix.`);\n          if (fileNum === nFiles) this.processData();\n\n        } else {\n\n          this.commonService.parseCSVMatrix(file).then((o: any) => {\n            this.showMessage(` - Parsed ${o.nn} New, ${o.tn} Total Nodes from Distance Matrix.`);\n            this.showMessage(` - Parsed ${o.nl} New, ${o.tl} Total Links from Distance Matrix.`);\n            if (fileNum === nFiles) this.processData();\n          });\n        }\n\n      } else { // if(file.format === 'newick'){\n\n        this.commonService.resetData();\n        let links = 0;\n        let newLinks = 0;\n        let newNodes = 0;\n        this.commonService.session.data.newickString = file.contents;\n        const tree = patristic.parseNewick(file.contents);\n        let m = tree.toMatrix(), matrix = m.matrix, labels = m.ids.map(this.commonService.filterXSS), n = labels.length;\n        for (let i = 0; i < n; i++) {\n          const source = labels[i];\n          newNodes += this.commonService.addNode({\n            _id: source,\n            origin: origin\n          }, check);\n          for (let j = 0; j < i; j++) {\n            newLinks += this.commonService.addLink({\n              source: source,\n              target: labels[j],\n              origin: origin,\n              distance: parseFloat(matrix[i][j]),\n              distanceOrigin: file.name,\n              hasDistance: true\n            }, check);\n            links++;\n          }\n        }\n        console.log('Newick Tree Parse time:', (Date.now() - start).toLocaleString(), 'ms');\n        this.showMessage(` - Parsed ${newNodes} New, ${n} Total Nodes from Newick Tree.`);\n        this.showMessage(` - Parsed ${newLinks} New, ${links} Total Links from Newick Tree.`);\n        if (fileNum === nFiles) this.processData();\n      }\n    });\n\n  }\n\n  /**\n   * Adds links for nodes with no edge?\n   * Then calls processSequence\n   */\n  processData() {\n    let nodes = this.commonService.session.data.nodes;\n    if(this.commonService.debugMode) {\n      console.log(nodes);\n    }\n    this.commonService.session.data.nodeFilteredValues = nodes;\n    //Add links for nodes with no edges\n    // TODO: This was here before but not sure why we needed this\n    // this.uniqueNodes.forEach(x => {\n    //   console.log('link same 4: ', x);\n    //   this.commonService.addLink(Object.assign({\n    //     source: '' + x,\n    //     target: '' + x,\n    //     origin: origin,\n    //     visible: true,\n    //     distance: 0,\n    //   }, 'generated'));\n    // });\n\n    this.processSequence()\n  }\n\n  /**\n   * If sequences are present, processes them by aligning if needed, computing consensus, consensus distances, ambiguity counts, and then links\n   */\n  async processSequence() {\n\n    if (!this.commonService.session.meta.anySequences) return this.commonService.runHamsters();\n    this.commonService.session.data.nodeFields.push('seq');\n    let subset = [];\n    console.log('link same nodes22: ', this.commonService.session.data.nodes.length, this.commonService.session.data.nodes);\n    let nodes = this.commonService.session.data.nodes;\n    const n = nodes.length;\n    const gapString = '-'.repeat(this.commonService.session.data.reference.length);\n    for (let i = 0; i < n; i++) {\n      const d = nodes[i];\n      if (!d.seq) {\n        d.seq = gapString;\n      } else {\n        subset.push(d);\n      }\n    }\n\n    console.log('link same nodes33: ', subset);\n\n    if (this.commonService.session.style.widgets['align-sw']) {\n      this.showMessage('Aligning Sequences...');\n      let output = await (this.commonService.session as any).align({\n        reference: this.commonService.session.data.reference,\n        isLocal: $('#localAlign').is(':checked'),\n        match: [$('#alignerMatch').val(), $('#alignerMismatch').val()].map(parseFloat),\n        gap: [$('#alignerGapO').val(), $('#alignerGapE').val()].map(parseFloat),\n        nodes: subset\n      });\n      const start = Date.now();\n      const m = subset.length;\n      for (let j = 0; j < m; j++) {\n        Object.assign(subset[j], output[j]);\n      }\n      console.log(\"Alignment Merge time: \", (Date.now() - start).toLocaleString(), \"ms\");\n    }\n    const start = Date.now();\n    for (let k = 0; k < n; k++) {\n      const node = nodes[k];\n      node['_seqInt'] = tn93.toInts(node['seq']);\n    }\n    console.log(\"Integer Sequence Translation time: \", (Date.now() - start).toLocaleString(), \"ms\");\n\n    (this.commonService.session.data as any).consensus = await this.commonService.computeConsensus();\n    await this.commonService.computeConsensusDistances();\n    subset.sort((a, b) => a['_diff'] - b['_diff']);\n    if (this.commonService.session.style.widgets['ambiguity-resolution-strategy']) {\n      await this.commonService.computeAmbiguityCounts();\n    }\n    this.showMessage('Computing Links based on Genomic Proximity...');\n    const k = await this.commonService.computeLinks(subset);\n    this.showMessage(` - Found ${k} New Links from Genomic Proximity`);\n    this.commonService.runHamsters();\n\n\n    this.showMessage(\"Finishing...\");\n    this.displayloadingInformationModal = false;\n    setTimeout(() => {\n      this.cdr.detectChanges(); \n    }, 1000);\n\n  };\n\n  /**\n   * XXXXX not currently used; if implemented in future switch open parameter to boolean XXXXX\n   * @param open 0 or 1\n   */\n  accordianToggle( open : number) {\n\n    if(open){\n      $(\".m-content\").css(\"overflow-y\", \"auto\");\n    } else {\n      $(\".m-content\").css(\"overflow-y\", \"hidden\");\n    }\n\n  }\n\n  /**\n   * When a new file/files are add, each one if processed by processFile\n   * @param files \n   */\n  processFiles(files?: FileList) {\n    this.isLoadingFiles = true;\n\n    if (Array.from(files).length > 0) {\n\n      Array.from(files).map(file => {\n        if(this.commonService.debugMode) {\n          console.log('files: ', file);\n        }\n        this.processFile(file);\n      });\n    }\n\n    this.isLoadingFiles = false;\n\n    setTimeout(() => {\n      this.isLoadingFiles = false;\n\n    }, 2000);\n  };\n\n  /**\n   * Gets file extension and calls appropriate function to load info into MicrobeTrace.\n   * For example, for json files commonService.processJSON is used.\n   * Adds file to commonService.session.files and adds file to table with this.addToTable\n   * \n   * XXXXX Currrently unable to load zip files XXXXX\n   * @returns \n   */\n  processFile(rawfile?) {\n    if(!rawfile) {\n      rawfile = this.commonService.session.files[0];\n    }\n\n    if(this.commonService.debugMode) {\n      console.log('raw file: ', rawfile);\n    }\n\n\n    $('#loading-information').html('');\n\n    const extension = rawfile.name.split('.').pop().toLowerCase();\n    if (extension === 'zip') {\n      //debugger;\n      // let new_zip = new JSZip();\n      // new_zip\n      //     .loadAsync(rawfile)\n      //     .then(zip => {\n      //         zip.forEach((relativePath, zipEntry) => {\n      //             zipEntry.async(\"text\").then(c => {\n      //                 this.commonService.processJSON(c, zipEntry.name.split('.').pop())\n      //             });\n      //         });\n      //     });\n      return;\n    }\n\n    if (extension === 'microbetrace' || extension === 'hivtrace') {\n      //debugger;\n      let reader = new FileReader();\n      reader.onloadend = out => this.commonService.processJSON(out.target, extension);\n      reader.readAsText(rawfile, 'UTF-8');\n      return;\n    }\n    if (extension === 'svg') {\n      //debugger;\n      let reader = new FileReader();\n      reader.onloadend = out => this.commonService.processSVG(out.target);\n      reader.readAsText(rawfile, 'UTF-8');\n      return;\n    }\n    if (extension === 'json') {\n      const fileName = this.commonService.filterXSS(rawfile.name);\n      let reader = new FileReader();\n      reader.onloadend = (out) => {\n        const output = JSON.parse(out.target['result'] as string);\n        console.log(output);\n        if (output.meta && output.tree) {\n          const auspiceFile = { contents: output, name: fileName, extension: extension};\n          this.commonService.session.files.push(auspiceFile);\n          this.addToTable(auspiceFile);\n          // this.commonService.temp.auspiceOutput = output;\n        } else {\n          this.commonService.processJSON(out.target, extension);\n        }\n      };\n      reader.readAsText(rawfile, 'UTF-8');\n      return;\n    }\n\n    fileto.promise(rawfile, (extension === 'xlsx' || extension === 'xls') ? 'ArrayBuffer' : 'Text').then(file => {\n      //debugger;\n      file.name = this.commonService.filterXSS(file.name);\n      file.extension = file.name.split('.').pop().toLowerCase();\n      this.commonService.session.files.push(file);\n      this.addToTable(file);\n    });\n  }\n\n  /**\n   * Removes all files from commonService.session.files, sets this.nodeIds and this.edgeIds to empty arrays [].\n   * Calls nodeEdgeCheck\n   */\n  removeAllFiles() {\n    const fileTableRows = $(\".file-table-row\");\n    fileTableRows.slideUp(() => fileTableRows.remove());\n\n    this.commonService.session.files = [];\n    this.nodeIds = [];\n    this.edgeIds = [];\n\n    this.nodeEdgeCheck();\n  }\n\n  /**\n   * Gets information from file about extension, file type, and header and uses that information to addTableTile for file-table\n   */\n  addToTable(file) {\n    if(this.commonService.debugMode) {\n      console.log(file);\n    }\n\n    //debugger;\n    const extension = file.extension ? file.extension : this.commonService.filterXSS(file.name).split('.').pop().toLowerCase();\n    const isFasta = extension.indexOf('fas') > -1;\n    const isNewick = extension.indexOf('nwk') > -1 || extension.indexOf('newick') > -1;\n    const isXL = (extension === 'xlsx' || extension === 'xls');\n    const isJSON = (extension === 'json');\n    const isAuspice = (extension === 'json' && file.contents.meta && file.contents.tree);\n    const isNode = this.commonService.includes(file.name.toLowerCase(), 'node') || (file.format && file.format.toLowerCase() === 'node');\n    if (isXL) {\n      const workbook = XLSX.read(file.contents, { type: 'array' });\n      const data = XLSX.utils.sheet_to_json(workbook.Sheets[workbook.SheetNames[0]]);\n      const headers = [];\n      data.forEach(row => {\n        Object.keys(row).forEach(key => {\n          const safeKey = this.commonService.filterXSS(key);\n          if (!this.commonService.includes(headers, safeKey)) headers.push(safeKey);\n        });\n      });\n      addTableTile(headers, this);\n    } else if (isJSON) {\n        let data = [];\n        console.log('This is a JSON file');\n        if ( (typeof file.contents) === 'string') {\n          data = JSON.parse(file.contents);\n        } else {\n          console.log(file);\n          data = [file.contents];\n        }\n\n        addTableTile(Object.keys(data[0]).map(this.commonService.filterXSS), this);\n\n        if (!isFasta && !isNewick && isNode) {\n          this.loadNodes(file.name, data, true);\n        }\n        if (!isFasta && !isNewick && !isNode) {\n          this.loadEdges(file.name, data, true);\n        }\n\n        this.nodeEdgeCheck();\n\n    } else if (isFasta) {\n      //let that = this;\n      this.commonService.parseFASTA(file.contents).then((output) => {\n        addTableTile([\"id\", \"seq\"], this);\n\n        this.nodeEdgeCheck();\n        })\n    } else {\n      Papa.parse(file.contents, {\n        header: true,\n        skipEmptyLines: true,\n        complete: output => {\n          addTableTile(output.meta.fields.map(this.commonService.filterXSS), this);\n\n          if (!isFasta && !isNewick && isNode) {\n            this.loadNodes(file.name, output, false);\n          }\n          if (!isFasta && !isNewick && !isNode) {\n            this.loadEdges(file.name, output, false);\n          }\n\n          this.nodeEdgeCheck();\n        }\n      });\n    }\n\n    //For the love of all that's good...\n    //TODO: Rewrite this as a [Web Component](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements) or [something](https://reactjs.org/docs/react-component.html) or something.\n    /**\n     * Adds a file-table-row for the file.\n     */\n    function addTableTile(headers, context) {\n\n\n      const parentContext = context;\n      const root = $('<div class=\"file-table-row\" style=\"position: relative; z-index: 1;margin-bottom: 24px;\"></div>').data('filename', file.name);\n      const fnamerow = $('<div class=\"row w-100\"></div>');\n      $('<div class=\"file-name col\"></div>')\n        .append($('<a href=\"javascript:void(0);\" class=\"far flaticon-delete-1 align-middle p-1\" title=\"Remove this file\"></a>').on('click', () => {\n          parentContext.commonService.session.files.splice(parentContext.commonService.session.files.findIndex(f => f.name === file.name), 1);\n          parentContext.removeFile(file.name);\n          $('#launch').prop('disabled', false).focus();\n          $('#launch').text('Update');\n          root.slideUp(() => root.remove());\n        }))\n        .append($('<a href=\"javascript:void(0);\" class=\"far flaticon2-download-1 align-middle p-1\" title=\"Resave this file\"></a>').on('click', () => {\n          saveAs(new Blob([file.contents], { type: file.type || 'text' }), file.name);\n        }))\n        .append('<span class=\"p-1\">' + file.name + '</span>')\n        .append(`\n                    <div class=\"btn-group btn-group-toggle btn-group-sm float-right\" data-toggle=\"buttons\">\n                      <label class=\"btn btn-light${!isFasta && !isNewick && !isNode && !isAuspice ? ' active' : ''}\">\n                        <input type=\"radio\" name=\"options-${file.name}\" data-type=\"link\" autocomplete=\"off\"${!isFasta && !isNewick && !isNode ? ' checked' : ''}>Link\n                      </label>\n                      <label class=\"btn btn-light${!isFasta && !isNewick && isNode ? ' active' : ''}\">\n                        <input type=\"radio\" name=\"options-${file.name}\" data-type=\"node\" autocomplete=\"off\"${!isFasta && !isNewick && isNode ? ' checked' : ''}>Node\n                      </label>\n                      <label class=\"btn btn-light\">\n                        <input type=\"radio\" name=\"options-${file.name}\" data-type=\"matrix\" autocomplete=\"off\">Matrix\n                      </label>\n                      <label class=\"btn btn-light${isFasta ? ' active' : ''}\">\n                        <input type=\"radio\" name=\"options-${file.name}\" data-type=\"fasta\" autocomplete=\"off\"${isFasta ? ' checked' : ''}>FASTA\n                      </label>\n                      <label class=\"btn btn-light${isNewick ? ' active' : ''}\">\n                        <input type=\"radio\" name=\"options-${file.name}\" data-type=\"newick\" autocomplete=\"off\"${isNewick ? ' checked' : ''}>Newick\n                      </label>\n                      <label class=\"btn btn-light${isAuspice ? ' active' : ''}\">\n                        <input type=\"radio\" name=\"options-${file.name}\" data-type=\"auspice\" autocomplete=\"off\"${isAuspice ? ' checked' : ''}>Auspice\n                      </label>\n                    </div>`).appendTo(fnamerow);\n\n      fnamerow.appendTo(root);\n      const optionsrow = $('<div class=\"row w-100\"></div>');\n      const options = '<option>None</option>' + headers.map(h => `<option value=\"${h}\">${parentContext.commonService.titleize(h)}</option>`).join('\\n');\n      optionsrow.append(`\n                  <div class='col-4 '${isFasta || isNewick ? ' style=\"display: none;\"' : ''} data-file='${file.name}'>\n                    <label for=\"file-${file.name}-field-1\">${isNode ? 'ID' : 'Source'}</label>\n                    <select id=\"file-${file.name}-field-1\" class=\"form-control form-control-sm\">${options}</select>\n                  </div>\n                  <div class='col-4 '${isFasta || isNewick ? ' style=\"display: none;\"' : ''} data-file='${file.name}'>\n                    <label for=\"file-${file.name}-field-2\">${isNode ? 'Sequence' : 'Target'}</label>\n                    <select id=\"file-${file.name}-field-2\" class=\"form-control form-control-sm\">${options}</select>\n                  </div>\n                  <div class='col-4 '${isFasta || isNewick ? ' style=\"display: none;\"' : ''} data-file='${file.name}'>\n                    <label for=\"file-${file.name}-field-3\">Distance</label>\n                    <select id=\"file-${file.name}-field-3\" class=\"form-control form-control-sm\">${options}</select>\n                  </div>`);\n\n      optionsrow.appendTo(root);\n\n      function matchHeaders(type) {\n\n        const these = $(`[data-file='${file.name}'] select`);\n        const a = type === 'node' ? ['ID', 'Id', 'id'] : ['SOURCE', 'Source', 'source'],\n          b = type === 'node' ? ['SEQUENCE', 'SEQ', 'Sequence', 'sequence', 'seq'] : ['TARGET', 'Target', 'target'],\n          c = ['length', 'Length', 'distance', 'Distance', 'snps', 'SNPs', 'tn93', 'TN93'];\n        [a, b, c].forEach((list, i) => {\n          $(these.get(i)).val(\"None\");\n          list.forEach(title => {\n            if (parentContext.commonService.includes(headers, title)) $(these.get(i)).val(title);\n          });\n          if ($(these.get(i)).val() === 'None' &&\n            !(i === 1 && type === 'node') && //If Node Sequence...\n            !(i === 2 && type === 'link')) { //...or Link distance...\n            //...don't match to a variable in the dataset, leave them as \"None\".\n            $(these.get(i)).val(headers[i]);\n            //Everything else, just guess the next ordinal column.\n          }\n        });\n      }\n\n      root.appendTo('#file-table');\n      matchHeaders($(`[name=\"options-${file.name}\"]:checked`).data('type'));\n\n      function refit(e: any = null) {\n        const type = $(e ? e.target : `[name=\"options-${file.name}\"]:checked`).data('type'),\n          these = $(`[data-file='${file.name}']`),\n          first = $(these.get(0)),\n          second = $(these.get(1)),\n          third = $(these.get(2));\n        if (type === 'node') {\n          first.slideDown().find('label').text('ID');\n          second.slideDown().find('label').text('Sequence');\n          third.slideUp();\n          matchHeaders(type);\n        } else if (type === 'link') {\n          first.slideDown().find('label').text('Source');\n          second.slideDown().find('label').text('Target');\n          third.slideDown();\n          matchHeaders(type);\n        } else {\n          these.slideUp();\n        }\n        parentContext.updateMetadata(file);\n\n        $('#launch').prop('disabled', false).focus();\n      };\n\n      const fileTable = document.getElementById('file-table');\n      const selectElements = fileTable.querySelectorAll('select');\n\n      for (let i = 0; i < selectElements.length; i++) {\n        selectElements[i].addEventListener('change', (event) => {\n          // Handle change event here\n          parentContext.updateMetadata(file);\n        });\n      }\n\n      $(`[name=\"options-${file.name}\"]`).on(\"change\", refit);\n      refit();\n    }\n  };\n\n  /**\n   * Updates commonService.session.files info, such as field1, field2 ...etc, based on value user selects\n   */\n  updateMetadata(file) {\n    $('#file-panel .file-table-row').each((i, el) => {\n      const $el = $(el);\n      const fname = $el.data('filename');\n      const selects = $el.find('select');\n      const f = this.commonService.session.files.find(file => file.name === fname);\n      console.log(f);\n      if (f) {\n        f.format = $el.find('input[type=\"radio\"]:checked').data('type');\n        f.field1 = selects.get(0).value;\n        f.field2 = selects.get(1).value;\n        f.field3 = selects.get(2).value;\n      }\n    });\n\n  }\n\n  /**\n   * Populates this.nodeIds\n   */\n  loadNodes(fileName: any, output: any, isJson: boolean) {\n    if (isJson) {\n      const data: any[] = output;\n      const firstField = Object.keys(data[0])[0];\n      if (this.nodeIds.find(x => x.fileName === fileName)) {\n        const currentNodeId = this.nodeIds.find(x => x.fileName === fileName)\n        currentNodeId.ids = output.map((x: any) => x[firstField])\n      } else {\n        this.nodeIds.push(\n          {\n            fileName: fileName, ids: output.map((x: any) => ('' + x[firstField]))\n          });\n      }\n\n    }\n    else {\n      if (this.nodeIds.find(x => x.fileName === fileName)) {\n        const currentNodeId = this.nodeIds.find(x => x.fileName === fileName)\n        currentNodeId.ids = output.data.map((x: any) => x[output.meta.fields[0]])\n      } else {\n        this.nodeIds.push(\n          {\n            fileName: fileName, ids: output.data.map((x: any) => ('' + x[output.meta.fields[0]]))\n          });\n      }\n    }\n  }\n\n  /**\n   * Populated this.edgeIds\n   */\n  loadEdges(fileName: any, output: any, isJson: boolean) {\n    if (isJson) {\n      const data: any[] = output;\n      const fields = Object.keys(data[0]);\n      if (this.edgeIds.find(x => x.fileName === fileName)) {\n        const currentEdgeId = this.edgeIds.find(x => x.fileName === fileName)\n        currentEdgeId.ids = output.map((x: any) => ({\n          source: '' + x[fields[0]],\n          target: '' + x[fields[1]]\n        }))\n      } else {\n        console.log(`Adding edges ${output}`);\n        this.edgeIds.push({\n          fileName: fileName,\n          ids: output.map((x: any) => ({\n            source: '' + x[fields[0]],\n            target: '' + x[fields[1]]\n          }))\n        })\n\n      }\n\n    }\n    else {\n      if (this.edgeIds.find(x => x.fileName === fileName)) {\n        const currentEdgeId = this.edgeIds.find(x => x.fileName === fileName)\n        currentEdgeId.ids = output.data.map((x: any) => ({\n          source: '' + x[output.meta.fields[0]],\n          target: '' + x[output.meta.fields[1]]\n        }))\n      } else {\n        this.edgeIds.push({\n          fileName: fileName,\n          ids: output.data.map((x: any) => ({\n            source: '' + x[output.meta.fields[0]],\n            target: '' + x[output.meta.fields[1]]\n          }))\n        })\n\n      }\n    }\n\n  }\n\n  /**\n   * Updates this.uniqueEdgeNodes and this.uniqueNodes\n   */\n  nodeEdgeCheck() {\n    // populated with a string[] of unique node ids\n    let allNodesListNodes: string[] = [];\n    this.nodeIds.forEach(x => {\n      x.ids.forEach(y => allNodesListNodes.push(y));\n    });\n    allNodesListNodes = _.uniq(allNodesListNodes);\n\n    // populated with a string[] of unique node ids that have a link/edge\n    let allEdgeListNodes: string[] = [];\n    this.edgeIds.forEach(x => x.ids.forEach(y => {\n      allEdgeListNodes.push(y.source);\n      allEdgeListNodes.push(y.target);\n    }));\n    allEdgeListNodes = _.uniq(allEdgeListNodes);\n\n    this.uniqueEdgeNodes = allEdgeListNodes.filter(x => x && !allNodesListNodes.some(y=>y==x));\n    this.uniqueNodes = allNodesListNodes.filter(x => x && !this.uniqueEdgeNodes.some(y=>y==x));\n  }\n\n  /**\n   * Removes elements of this.nodeIds and this.edgeIds where the fileName == fileName and then calls nodeEdgeCheck to update uniqueEdgeNodes and uniqueNodes\n   * @param fileName \n   */\n  removeFile(fileName, runNodeEdgeCheck=true) {\n    this.nodeIds = this.nodeIds.filter(x => x.fileName != fileName);\n    this.edgeIds = this.edgeIds.filter(x => x.fileName != fileName);\n    if (runNodeEdgeCheck) this.nodeEdgeCheck();\n  }\n\n  /**\n   * Async function that reads sequencing data from fasta files or from csv/excel files with sequence data\n   * \n   * @returns An array of sequencing objects [{id, seq},]\n   */\n  async readFastas() {\n    const fastas = this.commonService.session.files.filter(f => this.commonService.includes(f.extension, 'fas'));\n    const nodeFilesWithSeqs = this.commonService.session.files.filter(f => f.format === \"node\" && f.field2 != \"None\" && f.field2 != \"\");\n    if (fastas.length === 0 && nodeFilesWithSeqs.length === 0) return [];\n    let data = [];\n    for (let i = 0; i < fastas.length; i++) {\n      let fasta = fastas[i];\n      let nodes = await this.commonService.parseFASTA(fasta.contents);\n      data = data.concat(nodes);\n    }\n    \n    for(let j = 0; j < nodeFilesWithSeqs.length; j++){\n      if (nodeFilesWithSeqs[j].extension == \"csv\") {\n        const csv = nodeFilesWithSeqs[j];\n        const seqLabel = csv['field2']\n          await Papa.parse(csv.contents, {\n            header: true,\n            skipEmptyLines: true,\n            complete: output => {\n              output.data.forEach((node) => {\n                if (node[seqLabel] != '' || node[seqLabel] != undefined || node[seqLabel] != null ) {\n                  data = data.concat({\n                    'id': node.id,\n                    'seq': node[seqLabel]\n                  })\n                }\n              })\n            }})\n      // TODO: Cannot presently preview sequences in Node XLSX tables.\n      } else {\n        const file = nodeFilesWithSeqs[j]\n        const seqLabel = file['field2']\n        const workbook = XLSX.read(file.contents, { type: 'array' });\n        const dataJSON = XLSX.utils.sheet_to_json(workbook.Sheets[workbook.SheetNames[0]]);\n        const headers = [];\n        dataJSON.forEach(row => {\n          Object.keys(row).forEach(key => {\n            const safeKey = this.commonService.filterXSS(key);\n            if (!this.commonService.includes(headers, safeKey)) headers.push(safeKey);\n          });\n          if ( row[seqLabel] != '' || row[seqLabel] != undefined || row[seqLabel] != null ) {\n            data = data.concat({\n              'id': row['id'],\n              'seq': row[seqLabel]\n            })  \n          }\n        });\n          //addTableTile(headers, this);\n      }\n    }\n    return data;\n  }\n\n  async updatePreview(data?) {\n    if (!data) {\n      data = await this.readFastas();\n    }\n    $('#alignment-preview').empty().append('<div class=\"spinner-border\" role=\"status\"><span class=\"sr-only\">Loading...</span></div>');\n    if ($('#align-sw').is(':checked')) {\n      data = await this.commonService.align({\n        nodes: data,\n        reference: this.commonService.session.data.reference,\n        match: [parseFloat($('#alignerMatch').val().toString()), -parseFloat($('#alignerMismatch').val().toString())],\n        gap: [-parseFloat($('#alignerGapO').val().toString()), -parseFloat($('#alignerGapE').val().toString())]\n      })\n    }\n    generateCanvas(data.map(obj => obj.seq.toUpperCase()), {}).then(function(canvas: HTMLCanvasElement) { \n      $('#alignment-preview').empty().append(canvas); })\n  }\n\n\n  /**\n   * Updates SelectedDefaultDistanceThresholdVariable, microbeTrace.SelectedLinkThresholdVariable, and link-threshold widget values.\n   * Then calls microbeTrace.onLinkThresholdChanged clusters, nodes, and links as well as visualizations and statistics\n   * @param {string} e string representation of link threshold such as '7'\n   */\n  onLinkThresholdChange = (e) => {\n    if(this.commonService.debugMode) {\n      console.log('changing link threshold');\n    }\n    this.SelectedDefaultDistanceThresholdVariable = parseFloat(e);\n    this.commonService.setLinkThreshold(parseFloat(e));\n  }\n\n  /**\n   * Updates this.SelectedDefaultDistanceMetricVariable, microbeTrace.SelectedDistanceMetricVariable, and default-distance-metric widget.\n   * Updates link-threshold variable to default values and updates clusters, nodes, links as well as visualizations and statitistics\n   * @param {string} e such as 'snps' \n   */\n  onDistanceMetricChange = (e) => {\n    if(this.commonService.debugMode) {\n      console.log('distance ch:', e);\n    }\n    this.SelectedDefaultDistanceMetricVariable = e;\n    if (e.toLowerCase() === 'snps') {\n      if(this.commonService.debugMode) {\n        console.log(\"saw snps\");\n      }\n      $('#default-distance-threshold, #link-threshold')\n        .attr('step', 1)\n        .val(7)\n        .trigger('change');\n\n        $(\"#ambiguities-row\").slideUp();\n      this.commonService.session.style.widgets['default-distance-metric'] = 'snps';\n      this.commonService.onMetricChanged('snps');\n      this.onLinkThresholdChange('7');\n    } else {\n      $('#default-distance-threshold, #link-threshold')\n        .attr('step', 0.001)\n        .val(0.015)\n        .trigger('change');\n        $(\"#ambiguities-row\").slideDown();\n      this.commonService.session.style.widgets['default-distance-metric'] = 'tn93';\n      this.commonService.onMetricChanged('tn93');\n      this.onLinkThresholdChange('0.015');\n    }\n  }\n\n  onAmbiguityStrategyChanged() {\n    this.commonService.session.style.widgets['ambiguity-resolution-strategy'] = this.SelectedAmbiguityResolutionStrategyVariable;\n  }\n\n  onAmbiguityThresholdChanged() {\n    this.commonService.session.style.widgets['ambiguity-threshold'] = this.SelectedAmbiguityThresholdVariable;\n  }\n\n  generateSequences() {\n    $('#file-prompt').remove();\n    $('#launch').prop('disabled', false).focus();\n    this.processFile(new File([Papa.unparse(this.commonService.generateSeqs('gen-' + this.commonService.session.meta.readyTime + '-', this.SelectedGenerateNumberVariable, 20))], 'generatedNodes.csv'));\n  }\n\n  applyStyleFileSettings() {\n    if (this.SelectedDefaultDistanceMetricVariable != this.commonService.session.style.widgets['default-distance-metric']){\n      this.SelectedDefaultDistanceMetricVariable = this.commonService.session.style.widgets['default-distance-metric'].toLowerCase();\n    }\n\n    if (this.SelectedAmbiguityResolutionStrategyVariable != this.commonService.session.style.widgets['ambiguity-resolution-strategy']){\n        this.SelectedAmbiguityResolutionStrategyVariable = this.commonService.session.style.widgets['ambiguity-resolution-strategy'];\n    }\n\n    if (this.SelectedAmbiguityThresholdVariable != this.commonService.session.style.widgets['ambiguity-threshold']) {\n      this.SelectedAmbiguityThresholdVariable = this.commonService.session.style.widgets['ambiguity-threshold'];\n    }\n\n    if (this.SelectedDefaultDistanceThresholdVariable != this.commonService.session.style.widgets['link-threshold']){\n        this.SelectedDefaultDistanceThresholdVariable = this.commonService.session.style.widgets['link-threshold'];\n    }\n\n    if (this.SelectedDefaultViewVariable != this.commonService.session.style.widgets['default-view']){\n      this.SelectedDefaultViewVariable = this.commonService.session.style.widgets['default-view'];\n    }\n  }\n}\n\nexport namespace FilesComponent {\n  export const componentTypeName = 'Files';\n}\n","import { ComponentFactoryResolver, Injectable, Injector, StaticProvider, Type } from '@angular/core';\nimport { ComponentContainer, JsonValue } from \"golden-layout\";\nimport { BaseComponentDirective } from './base-component.directive';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GoldenLayoutComponentService {\n  private _componentTypeMap = new Map<string, Type<BaseComponentDirective>>()\n\n  constructor(private componentFactoryResolver: ComponentFactoryResolver) { }\n\n  /**\n   * Adds a new element with a specified key and value to the Map (_componentTypeMap). If an element with the same key already exists, the element will be updated.\n   * It doesn't make new view, just registers the view/component with goldenLayout map (_componentTypeMap).\n   */\n  registerComponentType(name: string, componentType: Type<BaseComponentDirective>) {\n    this._componentTypeMap.set(name, componentType);\n  }\n\n  /**\n   * XXXXX Never called in codebase XXXXX\n   * @returns an array of registered components\n   */\n  getRegisteredComponentTypeNames(): string[] {\n    const count = this._componentTypeMap.size;\n    const result = new Array<string>(count);\n    let idx = 0;\n    for (let [key, value] of this._componentTypeMap) {\n      result[idx++] = key;\n    }\n    return result;\n  }\n\n  createComponent(componentTypeJsonValue: JsonValue, container: ComponentContainer) {\n    const componentType = this._componentTypeMap.get(componentTypeJsonValue as string);\n    if (componentType === undefined) {\n      throw new Error('Unknown component type')\n    } else {\n      const provider: StaticProvider = { provide: BaseComponentDirective.GoldenLayoutContainerInjectionToken, useValue: container };\n      const injector = Injector.create({\n        providers: [provider]\n      });\n      const componentFactoryRef = this.componentFactoryResolver.resolveComponentFactory<BaseComponentDirective>(componentType);\n      return componentFactoryRef.create(injector);\n    }\n  }\n}\n","import { ApplicationRef, Component, ComponentRef, ElementRef, EmbeddedViewRef, EventEmitter, OnDestroy, Output, ViewChild, ViewContainerRef } from '@angular/core';\nimport {\n  ComponentContainer, GoldenLayout,\n  LogicalZIndex,\n  ResolvedComponentItemConfig\n} from \"golden-layout\";\nimport { BaseComponentDirective } from './base-component.directive';\nimport { GoldenLayoutComponentService } from './golden-layout-component.service';\nimport { FilesComponent } from './filesComponent/files-plugin.component';\nimport { MapComponent } from './visualizationComponents/MapComponent/map-plugin.component';\nimport { PhylogeneticComponent } from './visualizationComponents/PhylogeneticComponent/phylogenetic-plugin.component';\nimport { TimelineComponent } from './visualizationComponents/TimelineComponent/timeline-component.component';\nimport { TableComponent } from './visualizationComponents/TableComponent/table-plugin-component';\nimport { TwoDComponent } from './visualizationComponents/TwoDComponent/twoD-plugin.component';\nimport { AlignmentViewComponent } from './visualizationComponents/AlignmentViewComponent/alignment-view-plugin-component';\nimport { CrosstabComponent } from './visualizationComponents/CrosstabComponent/crosstab-plugin.component';\nimport { AggregateComponent } from './visualizationComponents/AggregateComponent/aggregate.component';\nimport { GanttComponent } from './visualizationComponents/GanttComponent/gantt-plugin.component';\nimport { HeatmapComponent } from './visualizationComponents/HeatmapComponent/heatmap.component';\nimport { BubbleComponent } from './visualizationComponents/BubbleComponent/bubble.component';\nimport { WaterfallComponent } from './visualizationComponents/WaterfallComponent/waterfall.component';\n\n@Component({\n  selector: 'app-golden-layout-host',\n  template: '<ng-template #componentViewContainer></ng-template>',\n  styles: [`\n    :host {\n      height: 100%;\n      width: 100%;\n      padding: 0;\n      display: block;\n      position: relative;\n    }\n    `,\n  ],\n})\nexport class GoldenLayoutHostComponent implements OnDestroy {\n  private _goldenLayout: GoldenLayout;\n  private _goldenLayoutElement: HTMLElement;\n  private _virtualActive = true;\n  private _viewContainerRefActive = true;\n  private _componentRefMap = new Map<ComponentContainer, ComponentRef<BaseComponentDirective>>();\n  private _goldenLayoutBoundingClientRect: DOMRect = new DOMRect();\n\n  private _goldenLayoutBindComponentEventListener =\n    (container: ComponentContainer, itemConfig: ResolvedComponentItemConfig) => this.handleBindComponentEvent(container, itemConfig);\n  private _goldenLayoutUnbindComponentEventListener =\n    (container: ComponentContainer) => this.handleUnbindComponentEvent(container);\n\n  @ViewChild('componentViewContainer', { read: ViewContainerRef, static: true }) private _componentViewContainerRef: ViewContainerRef;\n  \n  @Output() TabRemovedEvent = new EventEmitter();\n\n  @Output() TabChangedEvent = new EventEmitter();\n\n  get goldenLayout() { return this._goldenLayout; }\n  get virtualActive() { return this._virtualActive; }\n  get viewContainerRefActive() { return this._viewContainerRefActive; }\n  get isGoldenLayoutSubWindow() { return this._goldenLayout.isSubWindow; }\n\n  constructor(private _appRef: ApplicationRef,\n    private _elRef: ElementRef<HTMLElement>,\n    private goldenLayoutComponentService: GoldenLayoutComponentService,\n  ) {\n    this._goldenLayoutElement = this._elRef.nativeElement;\n\n    this.goldenLayoutComponentService.registerComponentType(FilesComponent.componentTypeName, FilesComponent);\n    this.goldenLayoutComponentService.registerComponentType(TwoDComponent.componentTypeName, TwoDComponent);\n    this.goldenLayoutComponentService.registerComponentType(TableComponent.componentTypeName, TableComponent);\n    this.goldenLayoutComponentService.registerComponentType(MapComponent.componentTypeName, MapComponent);\n    this.goldenLayoutComponentService.registerComponentType(PhylogeneticComponent.componentTypeName, PhylogeneticComponent);\n    this.goldenLayoutComponentService.registerComponentType(TimelineComponent.componentTypeName, TimelineComponent);\n    this.goldenLayoutComponentService.registerComponentType(AlignmentViewComponent.componentTypeName, AlignmentViewComponent);\n    this.goldenLayoutComponentService.registerComponentType(CrosstabComponent.componentTypeName, CrosstabComponent);\n    this.goldenLayoutComponentService.registerComponentType(AggregateComponent.componentTypeName, AggregateComponent);\n    this.goldenLayoutComponentService.registerComponentType(GanttComponent.componentTypeName, GanttComponent);\n    this.goldenLayoutComponentService.registerComponentType(HeatmapComponent.componentTypeName, HeatmapComponent);\n    this.goldenLayoutComponentService.registerComponentType(BubbleComponent.componentTypeName, BubbleComponent);\n    this.goldenLayoutComponentService.registerComponentType(WaterfallComponent.componentTypeName, WaterfallComponent);\n  }\n\n  ngOnDestroy() {\n    this._goldenLayout.destroy();\n  }\n\n  initialise() {\n\n    this._goldenLayout = new GoldenLayout(\n      this._goldenLayoutElement,\n      this._goldenLayoutBindComponentEventListener,\n      this._goldenLayoutUnbindComponentEventListener,\n    );\n    this._goldenLayout.resizeWithContainerAutomatically = true;\n    this._goldenLayout.beforeVirtualRectingEvent = (count) => this.handleBeforeVirtualRectingEvent(count);\n\n    if (this._goldenLayout.isSubWindow) {\n      this._goldenLayout.checkAddDefaultPopinButton();\n    }\n\n    // Add the activeContentItemChanged event listener\n    this._goldenLayout.on('activeContentItemChanged', contentItem => {\n      this.handleActiveTabChange(contentItem);\n    });\n\n    this.setViewContainerRefActive(true);\n\n  }\n\n  setVirtualActive(value: boolean) {\n    this._goldenLayout.clear();\n    this._virtualActive = value;\n    if (!this._virtualActive) {\n      this._viewContainerRefActive = false;\n    }\n  }\n\n  setViewContainerRefActive(value: boolean) {\n    this._goldenLayout.clear();\n    if (value && !this.virtualActive) {\n      throw new Error('ViewContainerRef active only possible if VirtualActive');\n    }\n    this._viewContainerRefActive = value;\n  }\n\n  setSize(width: number, height: number) {\n    this._goldenLayout.setSize(width, height)\n  }\n\n  getComponentRef(container: ComponentContainer) {\n    return this._componentRefMap.get(container);\n  }\n\n  public focusComponent(componentId: string) : ComponentContainer {\n\n    const container = Array.from(this._componentRefMap.keys()).find(\n      (container) => container.componentType?.toString() === componentId\n    ) as ComponentContainer;\n  \n    if (container) {\n      const componentItem = container.parent;\n      this._goldenLayout.focusComponent(componentItem);\n    }\n\n    return container;\n\n  }\n\n  private handleBindComponentEvent(container: ComponentContainer, itemConfig: ResolvedComponentItemConfig): ComponentContainer.BindableComponent {\n    const componentType = itemConfig.componentType;\n    const componentRef = this.goldenLayoutComponentService.createComponent(componentType, container);\n    const component = componentRef.instance;\n\n    this._componentRefMap.set(container, componentRef);\n\n    if (this._virtualActive) {\n      container.virtualRectingRequiredEvent = (container, width, height) => this.handleContainerVirtualRectingRequiredEvent(container, width, height);\n      container.virtualVisibilityChangeRequiredEvent = (container, visible) => this.handleContainerVisibilityChangeRequiredEvent(container, visible);\n      container.virtualZIndexChangeRequiredEvent = (container, logicalZIndex, defaultZIndex) => this.handleContainerVirtualZIndexChangeRequiredEvent(container, logicalZIndex, defaultZIndex);\n\n      if (this._viewContainerRefActive) {\n        this._componentViewContainerRef.insert(componentRef.hostView);\n      } else {\n        this._appRef.attachView(componentRef.hostView);\n        const componentRootElement = component.rootHtmlElement;\n        this._goldenLayoutElement.appendChild(componentRootElement);\n      }\n    } else {\n      this._appRef.attachView(componentRef.hostView);\n      const domElem = (componentRef.hostView as EmbeddedViewRef<unknown>).rootNodes[0] as HTMLElement;\n      container.element.appendChild(domElem);\n    }\n\n    return {\n      component,\n      virtual: this._virtualActive,\n    }\n  }\n\n  private handleUnbindComponentEvent(container: ComponentContainer) {\n    const componentRef = this._componentRefMap.get(container);\n    if (componentRef === undefined) {\n      throw new Error('Could not unbind component. Container not found');\n    }\n    this._componentRefMap.delete(container);\n\n    const hostView = componentRef.hostView;\n\n    if (container.virtual) {\n      if (this._viewContainerRefActive) {\n        const viewRefIndex = this._componentViewContainerRef.indexOf(hostView);\n        if (viewRefIndex < 0) {\n          throw new Error('Could not unbind component. ViewRef not found');\n        }\n        this._componentViewContainerRef.remove(viewRefIndex);\n      } else {\n        const component = componentRef.instance;\n        const componentRootElement = component.rootHtmlElement;\n        this._goldenLayoutElement.removeChild(componentRootElement);\n        this._appRef.detachView(hostView);\n      }\n    } else {\n      const component = componentRef.instance;\n      const componentRootElement = component.rootHtmlElement;\n      container.element.removeChild(componentRootElement);\n      this._appRef.detachView(hostView);\n    }\n\n    if (container.componentType !== undefined){\n      this.TabRemovedEvent.emit(container.componentType.toString());\n    }\n\n    componentRef.destroy();\n  }\n\n  private handleBeforeVirtualRectingEvent(count: number) {\n    this._goldenLayoutBoundingClientRect = this._goldenLayoutElement.getBoundingClientRect();\n  }\n\n  private handleContainerVirtualRectingRequiredEvent(container: ComponentContainer, width: number, height: number) {\n    const containerBoundingClientRect = container.element.getBoundingClientRect();\n    const left = containerBoundingClientRect.left - this._goldenLayoutBoundingClientRect.left;\n    const top = containerBoundingClientRect.top - this._goldenLayoutBoundingClientRect.top;\n\n    const componentRef = this._componentRefMap.get(container);\n    if (componentRef === undefined) {\n        throw new Error('handleContainerVirtualRectingRequiredEvent: ComponentRef not found');\n    }\n    const component = componentRef.instance;\n    component.setPositionAndSize(left, top, width, height);\n  }\n\n  public removeComponent(componentId: string) {\n    const container = Array.from(this._componentRefMap.keys()).find(\n      (container) => container.componentType?.toString() === componentId\n    ) as ComponentContainer;\n  \n    if (container) {\n      const componentItem = container.parent;\n      if (componentItem && componentItem.parent) {\n        componentItem.parent.removeChild(componentItem);\n      }\n    } else {\n      throw new Error('Component not found for the provided id');\n    }\n  }\n\n  /**\n   * Sets up listeners to monitor active view changes in Golden Layout.\n   */\n  // private setupActiveViewListener(): void {\n  //   // Listen to 'activeContentItemChanged' event\n  //   this.layout.on('activeContentItemChanged', (currentItem, previousItem) => {\n  //     if (currentItem && currentItem.config && currentItem.config.componentName) {\n  //       const activeView = currentItem.config.componentName;\n  //       this.viewStateService.setActiveView(activeView);\n  //       console.log(`Active view changed to: ${activeView}`);\n  //     } else {\n  //       this.viewStateService.clearActiveView();\n  //       console.log('No active view.');\n  //     }\n  //   });\n\n  //   // Optionally, set initial active view\n  //   const activeItem = this.layout.root.contentItems[0].contentItems[0];\n  //   if (activeItem && activeItem.config && activeItem.config.componentName) {\n  //     this.viewStateService.setActiveView(activeItem.config.componentName);\n  //   }\n  // }\n\n  private handleContainerVisibilityChangeRequiredEvent(container: ComponentContainer, visible: boolean) {\n    const componentRef = this._componentRefMap.get(container);\n    if (componentRef === undefined) {\n        throw new Error('handleContainerVisibilityChangeRequiredEvent: ComponentRef not found');\n    }\n    const component = componentRef.instance;\n    component.setVisibility(visible);\n  }\n\n  private handleContainerVirtualZIndexChangeRequiredEvent(container: ComponentContainer, logicalZIndex: LogicalZIndex, defaultZIndex: string) {\n    const componentRef = this._componentRefMap.get(container);\n    if (componentRef === undefined) {\n        throw new Error('handleContainerVirtualZIndexChangeRequiredEvent: ComponentRef not found');\n    }\n    const component = componentRef.instance;\n    component.setZIndex(defaultZIndex);\n  }\n\n  private handleActiveTabChange(contentItem: any) {\n    console.log('handleActiveTabChange: ', contentItem);\n    this.TabChangedEvent.emit(contentItem._title);\n  }\n}\n\n\n","import { CommonService } from '../contactTraceCommonServices/common.service';\nimport * as patristic from 'patristic';\n\nexport default class AuspiceHandler {\n\n  private strainSymbol = Symbol('strain');\n  private NODE_VISIBLE = 2;              // included on tree and map\n  private invalidStrings = ['unknown', '?', 'nan', 'na', 'n/a', '', 'unassigned'];\n  private nodeList = [];\n  private linkList = [];\n\n  constructor(public commonService: CommonService) {\n    this.commonService = commonService;\n  }\n\n  public recurseChildren = (tree) => {\n    if (!tree.children) {\n      const node = this.makeNode(tree);\n      this.nodeList.push(node);\n      const branch = new patristic.Branch(node);\n      return branch;\n    } else {\n      const rootNode = this.makeNode(tree);\n      this.nodeList.push(rootNode);\n      const newTree = new patristic.Branch(rootNode);\n      for (const child of tree.children) {\n        const node = this.recurseChildren(child);\n        newTree.addChild(node);\n      }\n      return newTree;\n    }\n  }\n\n  public makeNode = (tree) => {\n    const node: any = {};\n    node.id = tree.name;\n    node._id = tree.name;\n    if (tree.hasOwnProperty('branch_attrs') &&\n        tree.branch_attrs.hasOwnProperty('mutations') &&\n        tree.branch_attrs.mutations.hasOwnProperty('nuc'))  {\n      node.mutations = tree.branch_attrs.mutations.nuc;\n    }\n    for (const attribute of Object.keys(tree.node_attrs)) {\n      if (attribute !== 'div') {\n        node[attribute] = tree.node_attrs[attribute].value;\n      } else {\n        node[attribute] = tree.node_attrs[attribute];\n      }\n    }\n    return node;\n  }\n\n  public combineMutations = (tree) => {\n    const leaves = tree.getLeaves();\n    for (const leaf of leaves) {\n      let mutHolder = [];\n      for (const ancestor of leaf.getAncestors(true)) {\n        const nodeIndex = this.nodeList.findIndex( x => x.id === ancestor.id);\n        const nodeHolder = this.nodeList[nodeIndex];\n        if (nodeHolder.hasOwnProperty('mutations')) {\n          mutHolder = mutHolder.concat(nodeHolder.mutations);\n        }\n      }\n      leaf.data.mutations = mutHolder;\n    }\n    return tree;\n  }\n\n  public parseAuspice = (auspiceTree) => {\n    console.log(auspiceTree);\n    return this.recurseChildren(auspiceTree.tree);\n  }\n\n\n  public treeToNewick = (tree, temporal, internalNodeNames = false, nodeAnnotation = (node) => '') => {\n    const getXVal = temporal ? (n) => this.getTraitFromNode(n, 'num_date') : this.getDivFromNode;\n\n    function recurse(node, parentX) {\n      if (node.hasOwnProperty('children')) {\n        const childSubtrees = node.children.map((child) => {\n          const subtree = recurse(child, getXVal(node));\n          return subtree;\n        });\n        return `(${childSubtrees.filter((t) => !!t).join(',')})` +\n          `${internalNodeNames ? node.name : ''}${nodeAnnotation(node)}:${getXVal(node) - parentX}`;\n      }\n      /* terminal node */\n      const leaf = `${node.name}${nodeAnnotation(node)}:${getXVal(node) - parentX}`;\n      return leaf;\n    }\n\n    const rootNode = tree;\n    const rootXVal = getXVal(rootNode);\n    return recurse(rootNode, rootXVal) + ';';\n  }\n\n\n  public getTraitFromNode = (node, trait, {entropy = false, confidence = false}= {}) => {\n    if (!node.node_attrs) return undefined;\n\n    if (!entropy && !confidence) {\n      if (!node.node_attrs[trait]) {\n        if (trait === this.strainSymbol) return node.name;\n        return undefined;\n      }\n      const value = node.node_attrs[trait].value;\n      if (!this.isValueValid(value)) return undefined;\n      return value;\n    } else if (entropy) {\n      if (node.node_attrs[trait]) return node.node_attrs[trait].entropy;\n      return undefined;\n    } else if (confidence) {\n      if (node.node_attrs[trait]) return node.node_attrs[trait].confidence;\n      return undefined;\n    }\n    return undefined;\n  }\n\n  public getDivFromNode = (node) => {\n    /* see comment at top of this file */\n    if (node.node_attrs && node.node_attrs.div !== undefined) {\n      return node.node_attrs.div;\n    }\n    return undefined;\n  }\n\n  public isValueValid = (value) => {\n    if (!['number', 'boolean', 'string'].includes(typeof value)) {\n      return false;\n    }\n    if (typeof value === 'string' && this.invalidStrings.includes(value.toLowerCase())) {\n      return false; // checks against list of invalid strings\n    }\n    // booleans, valid strings & numbers are valid.\n    return true;\n  }\n\n  public makeLinksFromMatrix = (matrix) => {\n    const linkList = [];\n    for (let i = 0; i < matrix.ids.length - 1; i++) {\n      for (let j = i + 1; j < matrix.ids.length; j++) {\n        const link = {\n          source: matrix.ids[i],\n          target: matrix.ids[j],\n          distance: matrix.matrix[i][j],\n          hasDistance: true,\n          distanceOrigin: 'Auspice',\n        };\n        linkList.push(link);\n      }\n    }\n    this.linkList = linkList;\n  }\n\n  public addLatLong = (nodes, metadata) => {\n    const newNodes = [];\n    for (const node of nodes) {\n      if (metadata.hasOwnProperty('geo_resolutions')) {\n        for (let i=0; i<metadata.geo_resolutions.length; i++) {\n          const deme = node[metadata.geo_resolutions[i].key];\n          if (deme) {\n            node.latitude = metadata.geo_resolutions[i].demes[deme].latitude;\n            node.longtude = metadata.geo_resolutions[i].demes[deme].longitude;\n          }\n        }\n      }\n      newNodes.push(node);\n    }\n    return newNodes;\n  }\n\n\n  public run = (jsonObj) => {\n    const newickString =  this.treeToNewick(jsonObj.tree, false, true);\n    const fullTree = this.parseAuspice(jsonObj);\n    const distanceMatrix = patristic.parseNewick(newickString).toMatrix();\n    const updatedTree = this.combineMutations(fullTree);\n    this.makeLinksFromMatrix(distanceMatrix);\n    const bareNewickString =  this.treeToNewick(jsonObj.tree, false, false);\n    this.nodeList = this.addLatLong(this.nodeList, jsonObj.meta);\n    return { nodes: this.nodeList, links: this.linkList, tree: updatedTree, newick: bareNewickString};\n  }\n\n}\n","import { Iterator } from \"./interfaces\";\n\nexport class ColorIterator implements Iterator<string> {\n    private colors: string[] = [\n        \"#000000\", \"#1CE6FF\", \"#FF34FF\", \"#FF4A46\", \"#008941\", \"#006FA6\", \"#A30059\",\n        \"#FFDBE5\", \"#7A4900\", \"#0000A6\", \"#63FFAC\", \"#B79762\", \"#004D43\", \"#8FB0FF\", \"#997D87\",\n        \"#5A0007\", \"#809693\", \"#FEFFE6\", \"#1B4400\", \"#4FC601\", \"#3B5DFF\", \"#4A3B53\", \"#FF2F80\",\n        \"#61615A\", \"#BA0900\", \"#6B7900\", \"#00C2A0\", \"#FFAA92\", \"#FF90C9\", \"#B903AA\", \"#D16100\",\n        \"#DDEFFF\", \"#000035\", \"#7B4F4B\", \"#A1C299\", \"#300018\", \"#0AA6D8\", \"#013349\", \"#00846F\",\n        \"#372101\", \"#FFB500\", \"#C2FFED\", \"#A079BF\", \"#CC0744\", \"#C0B9B2\", \"#C2FF99\", \"#001E09\",\n        \"#00489C\", \"#6F0062\", \"#0CBD66\", \"#EEC3FF\", \"#456D75\", \"#B77B68\", \"#7A87A1\", \"#788D66\",\n        \"#885578\", \"#FAD09F\", \"#FF8A9A\", \"#D157A0\", \"#BEC459\", \"#456648\", \"#0086ED\", \"#886F4C\",\n        \n        \"#34362D\", \"#B4A8BD\", \"#00A6AA\", \"#452C2C\", \"#636375\", \"#A3C8C9\", \"#FF913F\", \"#938A81\",\n        \"#575329\", \"#00FECF\", \"#B05B6F\", \"#8CD0FF\", \"#3B9700\", \"#04F757\", \"#C8A1A1\", \"#1E6E00\",\n        \"#7900D7\", \"#A77500\", \"#6367A9\", \"#A05837\", \"#6B002C\", \"#772600\", \"#D790FF\", \"#9B9700\",\n        \"#549E79\", \"#FFF69F\", \"#201625\", \"#72418F\", \"#BC23FF\", \"#99ADC0\", \"#3A2465\", \"#922329\",\n        \"#5B4534\", \"#FDE8DC\", \"#404E55\", \"#0089A3\", \"#CB7E98\", \"#A4E804\", \"#324E72\", \"#6A3A4C\",\n        \"#83AB58\", \"#001C1E\", \"#D1F7CE\", \"#004B28\", \"#C8D0F6\", \"#A3A489\", \"#806C66\", \"#222800\",\n        \"#BF5650\", \"#E83000\", \"#66796D\", \"#DA007C\", \"#FF1A59\", \"#8ADBB4\", \"#1E0200\", \"#5B4E51\",\n        \"#C895C5\", \"#320033\", \"#FF6832\", \"#66E1D3\", \"#CFCDAC\", \"#D0AC94\", \"#7ED379\", \"#012C58\",\n        \n        \"#7A7BFF\", \"#D68E01\", \"#353339\", \"#78AFA1\", \"#FEB2C6\", \"#75797C\", \"#837393\", \"#943A4D\",\n        \"#B5F4FF\", \"#D2DCD5\", \"#9556BD\", \"#6A714A\", \"#001325\", \"#02525F\", \"#0AA3F7\", \"#E98176\",\n        \"#DBD5DD\", \"#5EBCD1\", \"#3D4F44\", \"#7E6405\", \"#02684E\", \"#962B75\", \"#8D8546\", \"#9695C5\",\n        \"#E773CE\", \"#D86A78\", \"#3E89BE\", \"#CA834E\", \"#518A87\", \"#5B113C\", \"#55813B\", \"#E704C4\",\n        \"#00005F\", \"#A97399\", \"#4B8160\", \"#59738A\", \"#FF5DA7\", \"#F7C9BF\", \"#643127\", \"#513A01\",\n        \"#6B94AA\", \"#51A058\", \"#A45B02\", \"#1D1702\", \"#E20027\", \"#E7AB63\", \"#4C6001\", \"#9C6966\",\n        \"#64547B\", \"#97979E\", \"#006A66\", \"#391406\", \"#F4D749\", \"#0045D2\", \"#006C31\", \"#DDB6D0\",\n        \"#7C6571\", \"#9FB2A4\", \"#00D891\", \"#15A08A\", \"#BC65E9\", \"#FFFFFE\", \"#C6DC99\", \"#203B3C\",\n\n        \"#671190\", \"#6B3A64\", \"#F5E1FF\", \"#FFA0F2\", \"#CCAA35\", \"#374527\", \"#8BB400\", \"#797868\",\n        \"#C6005A\", \"#3B000A\", \"#C86240\", \"#29607C\", \"#402334\", \"#7D5A44\", \"#CCB87C\", \"#B88183\",\n        \"#AA5199\", \"#B5D6C3\", \"#A38469\", \"#9F94F0\", \"#A74571\", \"#B894A6\", \"#71BB8C\", \"#00B433\",\n        \"#789EC9\", \"#6D80BA\", \"#953F00\", \"#5EFF03\", \"#E4FFFC\", \"#1BE177\", \"#BCB1E5\", \"#76912F\",\n        \"#003109\", \"#0060CD\", \"#D20096\", \"#895563\", \"#29201D\", \"#5B3213\", \"#A76F42\", \"#89412E\",\n        \"#1A3A2A\", \"#494B5A\", \"#A88C85\", \"#F4ABAA\", \"#A3F3AB\", \"#00C6C8\", \"#EA8B66\", \"#958A9F\",\n        \"#BDC9D2\", \"#9FA064\", \"#BE4700\", \"#658188\", \"#83A485\", \"#453C23\", \"#47675D\", \"#3A3F00\",\n        \"#061203\", \"#DFFB71\", \"#868E7E\", \"#98D058\", \"#6C8F7D\", \"#D7BFC2\", \"#3C3E6E\", \"#D83D66\",\n        \n        \"#2F5D9B\", \"#6C5E46\", \"#D25B88\", \"#5B656C\", \"#00B57F\", \"#545C46\", \"#866097\", \"#365D25\",\n        \"#252F99\", \"#00CCFF\", \"#674E60\", \"#FC009C\", \"#92896B\"\n    ];\n\n    /**\n     * Stores the current traversal position. An iterator may have a lot of\n     * other fields for storing iteration state, especially when it is supposed\n     * to work with a particular kind of collection.\n     */\n    private position: number = 0;\n\n\n    constructor() {\n    }\n\n    public current(): string {\n        return this.colors[this.position];\n    }\n\n    public key(): number {\n        return this.position;\n    }\n\n    public next(): string {\n        const item = this.colors[this.position];\n        this.position += 1;\n        if(this.position === this.colors.length) this.position = 0;\n        return item;\n    }\n\n    public valid(): boolean {\n        return this.position < this.colors.length;\n    }\n\n    public reset(): void {\n        this.position = 0;\n    }\n}","\nexport class CustomShapes {\n\n    public shapes : {};\n    \n    constructor() {\n\n       this.shapes  = {\n            \"symbolDiamondAlt\" : this.diamondAlt,\n            \"symbolDiamondSquare\" : this.diamondSquare,\n            \"symbolHexagon\" : this.hexagon,\n            \"symbolHexagonAlt\" : this.hexagonAlt,\n            \"symbolOctagon\" : this.octogon,\n            \"symbolOctagonAlt\" : this.octagonAlt,\n            \"symbolPentagon\" : this.pentagon,\n            \"symbolTriangleLeft\" : this.triangleLeft,\n            \"symbolTriangleRight\" : this.triangleRight,\n            \"symbolTriangleDown\" : this.triangleDown,\n            \"symbolX\" : this.x\n        }\n        \n    }\n\n    private diamondAlt = {\n        draw: function(context, size) {\n\n            var tan30 = Math.sqrt(1 / 3);\n            var tan30_2 = tan30 * 2;\n\n            var x = Math.sqrt(size / tan30_2);\n            var y = x * tan30;\n        \n            context.moveTo(0, -y);\n            context.lineTo(x, 0);\n            context.lineTo(0, y);\n            context.lineTo(-x, 0);\n        \n            context.closePath();\n        }\n    };\n\n    private  diamondSquare = {\n        draw: function(context, size) {\n\n          var w = Math.sqrt(size);\n          var d = w / 2 * Math.sqrt(2);\n      \n          context.moveTo(0, -d);\n          context.lineTo(d, 0);\n          context.lineTo(0, d);\n          context.lineTo(-d, 0);\n      \n          context.closePath();\n\n        }\n    };\n\n    private hexagon = {\n        draw: function(context, size) {\n\n            function sideLength(area) {\n\n                var num = 2 * area;\n                var denom = 3 * Math.sqrt(3);\n                return Math.sqrt(num / denom);\n        \n            }\n\n            function rotatePoint(x, y, theta) {\n        \n                return [\n                  Math.cos(theta) * x + -Math.sin(theta) * y, // x\n                  Math.sin(theta) * x + Math.cos(theta) * y,  // y\n                ];\n        \n            }\n\n            var tau = 2 * Math.PI;\n            var s = sideLength(size);\n            var R = s;\n\n            context.moveTo.apply(context, rotatePoint(R, 0, tau/12));\n\n            for (var i = 0; i < 6; ++i) {\n\n                var a = tau * i / 6;\n                var x = Math.cos(a) * R;\n                var y = Math.sin(a) * R;\n\n                context.lineTo.apply(context, rotatePoint(x, y, tau/12));\n            \n            }\n\n            context.closePath();\n\n        }\n    }\n\n    shape : {}\n\n    private hexagonAlt = {\n        draw: function(context, size) {\n\n            function sideLength(area) {\n\n                var num = 2 * area;\n                var denom = 3 * Math.sqrt(3);\n                return Math.sqrt(num / denom);\n        \n            }\n\n            function rotatePoint(x, y, theta) {\n        \n                return [\n                  Math.cos(theta) * x + -Math.sin(theta) * y, // x\n                  Math.sin(theta) * x + Math.cos(theta) * y,  // y\n                ];\n        \n            }\n\n            var tau = 2 * Math.PI;\n            var s = sideLength(size);\n            var R = s;\n\n            context.moveTo.apply(context, rotatePoint(R, 0, tau));\n\n            for (var i = 0; i < 6; ++i) {\n\n                var a = tau * i / 6;\n                var x = Math.cos(a) * R;\n                var y = Math.sin(a) * R;\n\n                context.lineTo.apply(context, rotatePoint(x, y, tau));\n            \n            }\n\n            context.closePath();\n\n        }\n    }\n\n    private octogon = {\n        draw(context, size) {\n\n            var circumradiusCoeff = 1/2 * Math.sqrt(4 + 2 * Math.sqrt(2)); // ~ 1.3065629648763766\n\n            function circumradius(side) { return side * circumradiusCoeff; }\n\n            function sideLength(area) {\n                var num = area * (1 - Math.sqrt(2));\n                var denom = 2;\n                return Math.sqrt(-1 * num / denom);\n            }\n\n            function rotatePoint(x, y, theta) {\n        \n                return [\n                  Math.cos(theta) * x + -Math.sin(theta) * y, // x\n                  Math.sin(theta) * x + Math.cos(theta) * y,  // y\n                ];\n        \n            }\n\n            var tau = 2 * Math.PI;\n            var s = sideLength(size);\n            var R = circumradius(s);\n        \n            context.moveTo.apply(context, rotatePoint(R, 0, 0));\n        \n            for (var i = 0; i < 8; ++i) {\n              var a = tau * i / 8;\n              var x = Math.cos(a) * R;\n              var y = Math.sin(a) * R;\n        \n              context.lineTo.apply(context, rotatePoint(x, y, 0));\n            }\n        \n            context.closePath();\n\n          }\n    }\n\n    private octagonAlt = {\n        draw(context, size) {\n\n            var circumradiusCoeff = 1/2 * Math.sqrt(4 + 2 * Math.sqrt(2)); // ~ 1.3065629648763766\n\n            function circumradius(side) { return side * circumradiusCoeff; }\n\n            function sideLength(area) {\n                var num = area * (1 - Math.sqrt(2));\n                var denom = 2;\n                return Math.sqrt(-1 * num / denom);\n            }\n\n            function rotatePoint(x, y, theta) {\n        \n                return [\n                  Math.cos(theta) * x + -Math.sin(theta) * y, // x\n                  Math.sin(theta) * x + Math.cos(theta) * y,  // y\n                ];\n        \n            }\n\n            var tau = 2 * Math.PI;\n            var s = sideLength(size);\n            var R = circumradius(s);\n        \n            context.moveTo.apply(context, rotatePoint(R, 0, tau/16));\n        \n            for (var i = 0; i < 8; ++i) {\n              var a = tau * i / 8;\n              var x = Math.cos(a) * R;\n              var y = Math.sin(a) * R;\n        \n              context.lineTo.apply(context, rotatePoint(x, y, tau/16));\n            }\n        \n            context.closePath();\n\n          }\n    }\n\n    private pentagon = {\n        draw: function(context, size) {\n\n            var circumradiusCoeff = 1/10 * Math.sqrt(50 + 10 * Math.sqrt(5)); // ~ 0.85065080835204\n\n            function circumradius(side) { return side * circumradiusCoeff; }\n\n            function sideLength(area) {\n                var num = 4 * area;\n                var denom = Math.sqrt(5 * (5 + 2 * Math.sqrt(5))); // ~ 6.881909602355868\n              \n                return Math.sqrt(num / denom);\n            }\n\n            function rotatePoint(x, y, theta) {\n        \n                return [\n                  Math.cos(theta) * x + -Math.sin(theta) * y, // x\n                  Math.sin(theta) * x + Math.cos(theta) * y,  // y\n                ];\n        \n            }\n              \n            var tau = 2 * Math.PI;\n            var s = sideLength(size);\n            var R = circumradius(s);\n            var theta = -tau / 4; // Rotate 1/4 turn back so the shape is oriented with a point upward.\n        \n            context.moveTo.apply(context, rotatePoint(R, 0, theta));\n        \n            for (var i = 0; i < 5; ++i) {\n                var a = tau * i / 5;\n                var x = Math.cos(a) * R;\n                var y = Math.sin(a) * R;\n        \n                context.lineTo.apply(context, rotatePoint(x, y, theta));\n            }\n        \n            context.closePath();\n\n            }\n    };\n\n    private triangleDown = {\n        draw: function(context, size) {\n\n            var y = -Math.sqrt(size / (Math.sqrt(3) * 3));\n            context.moveTo(0, -y * 2);\n            context.lineTo(-Math.sqrt(3) * y, y);\n            context.lineTo(Math.sqrt(3) * y, y);\n            context.closePath();\n\n        }\n    };\n\n    private triangleLeft = {\n        draw: function(context, size) {\n\n            var x = -Math.sqrt(size / (Math.sqrt(3) * 3));\n            context.moveTo(x * 2, 0);\n            context.lineTo(-x, -Math.sqrt(3) * x);\n            context.lineTo(-x, Math.sqrt(3) * x);\n            context.closePath();\n\n        }\n    };\n\n    private triangleRight = {\n        draw: function(context, size) {\n\n            var x = -Math.sqrt(size / (Math.sqrt(3) * 3));\n            context.moveTo(-x * 2, 0);\n            context.lineTo(x, -Math.sqrt(3) * x);\n            context.lineTo(x, Math.sqrt(3) * x);\n            context.closePath();\n\n        }\n    };\n\n    private x = {\n        draw: function(context, size) {\n\n            function rotatePoint(x, y, theta) {\n        \n                return [\n                  Math.cos(theta) * x + -Math.sin(theta) * y, // x\n                  Math.sin(theta) * x + Math.cos(theta) * y,  // y\n                ];\n        \n            }\n\n            var tau = 2 * Math.PI;\n            var r = Math.sqrt(size / 5) / 2;\n            var theta = tau / 8;\n        \n            // Use the same construction points as `symbolCross` and rotate 1/8 turn.\n            var points = [\n                rotatePoint(-3 * r, -r, theta),\n                rotatePoint(-r, -r, theta),\n                rotatePoint(-r, -3 * r, theta),\n                rotatePoint(r, -3 * r, theta),\n                rotatePoint(r, -r, theta),\n                rotatePoint(3 * r, -r, theta),\n                rotatePoint(3 * r, r, theta),\n                rotatePoint(r, r, theta),\n                rotatePoint(r, 3 * r, theta),\n                rotatePoint(-r, 3 * r, theta),\n                rotatePoint(-r, r, theta),\n                rotatePoint(-3 * r, r, theta)\n            ];\n        \n            context.moveTo.apply(context, points.pop());\n            \n            for (var i = 0; i < points.length; i++) {\n              context.lineTo.apply(context, points[i]);\n            }\n        \n            context.closePath();\n        }\n    }\n\n\n}","export class DialogSettings {\n    public isVisible: boolean = false;\n\n    public top: number = 200;\n    public left: number = 450;\n\n    // Link Color\n    public linkTop: number = 200;\n    public linkLeft: string = \"bottom-left\";\n\n    // Map settings\n    public mapRight: string = \"bottom-right\";\n\n    // Node Color\n    public nodeTop: number = 400;\n    public nodeLeft: string = \"left\";\n\n    // Node Shape\n    public shapeTop: number = 700;\n    public shapeRight: string = \"bottom-right\";\n\n    // Polygon Color\n    public polygonRight: string = \"right\";\n\n    public polygonTop: number = 200;\n    public polygonLeft: number = 950;\n\n    private dialogControlId: string;\n\n    private stateBeforeExport: {\n        isVisible: boolean,\n        top?: number,\n        left?: number\n    };\n\n    constructor(\n        dialogControlId: string,\n        isVisible: boolean\n    ) {\n        this.dialogControlId = dialogControlId;\n        this.isVisible = isVisible;\n    }\n\n    private getDialogControl(): Element {\n        return document.querySelector(this.dialogControlId);\n    }\n\n    private getDomRect(): DOMRect | ClientRect {\n        const dialogControl = this.getDialogControl();\n\n        return dialogControl.children[0].getBoundingClientRect();\n    }\n\n    public onShow() {\n        this.isVisible = true;\n    }\n\n    public onHide() {\n        this.isVisible = false;\n    }\n\n    setStateBeforeExport() {\n        this.stateBeforeExport = {\n            isVisible: this.isVisible,\n            top: undefined,\n            left: undefined\n        }\n\n        if (this.isVisible) {\n            // sometimes getDomRect throws an error, need to revisit when we decide to revisit saving the locations of tables on show/hide\n            try {\n                const domRect = this.getDomRect();\n\n                this.stateBeforeExport.top = domRect.top;\n                this.stateBeforeExport.left = domRect.left;\n            } catch {\n                this.stateBeforeExport.top = 100;\n                this.stateBeforeExport.left = 100;  \n            }\n        }\n\n        this.isVisible = false;\n    }\n\n    restoreStateAfterExport() {\n        this.isVisible = this.stateBeforeExport.isVisible;\n        this.top = this.stateBeforeExport.top;\n        this.left = this.stateBeforeExport.left;\n    }\n\n\n    setVisibility(isVisible: boolean) {\n        if(isVisible && this.top === 0 && this.left === 0){\n            this.top = window.innerHeight / 2 - 300;\n            this.left = window.innerWidth / 2;\n        }\n        else if(isVisible && this.stateBeforeExport){\n            this.restoreStateAfterExport();\n        }\n        else if(!isVisible){\n            this.setStateBeforeExport();\n        }\n\n        this.isVisible = isVisible;\n        \n        // this section causes the network settings dialog box (at least on 2D network) to minimize so that only top headings to be displayed. Removed (12/5/23) because it causes unwanted behavior\n        /*\n        if(isVisible){\n            const dialog = document.querySelector('#network-settings-pane');\n            const tabset = dialog.querySelector('.tab-container');\n    \n            if(tabset){\n                const tabs: Array<Element> = Array.from(tabset.querySelectorAll('.m-tabs__item'));\n                \n                for(let tab of tabs){\n                    tab.classList.remove('active');\n                }\n                \n            }\n        }\n        */\n    }\n}","import { Observable, Subject } from 'rxjs';\n\n\n\n\nexport class InlineWorker {\n\n    private readonly worker: Worker;\n    private onMessage = new Subject<MessageEvent>();\n    private onError = new Subject<ErrorEvent>();\n    \n\n\n    constructor(func) {\n        \n        const WORKER_ENABLED = !!(Worker);\n\n        if (WORKER_ENABLED) {\n            let urls = [\"https://raw.githubusercontent.com/CDCgov/patristic/master/dist/patristic.js\",\n            \"https://raw.githubusercontent.com/CDCgov/tn93.js/master/dist/tn93.js\",\n            \"https://raw.githubusercontent.com/CDCgov/bioseq-js/master/dist/bioseq.js\"];\n            let functionBody = \"\";\n            for (let i=0; i<urls.length; i++){\n                let request = new XMLHttpRequest();\n                request.open(\"GET\", urls[i], false);\n                request.send(null);\n                let returnValue = request.responseText;\n                if (i === 0){\n                    let start = returnValue.indexOf(\"const version = \\\"0.5.7\\\";\");\n                    let finish = returnValue.indexOf(\"exports.Branch = Branch;\");\n                    functionBody += returnValue.substring(start, finish);\n\n                }\n                else if (i === 1){\n                    let start = returnValue.indexOf(\"\\n\");\n                    let finish = returnValue.indexOf(\"if(typeof exports !== 'undefined'){\");\n                    functionBody += returnValue.substring(start + 1, finish);\n                }\n                else if (i === 2){\n                    let start = returnValue.indexOf(\"var bioseq\");\n                    let finish = returnValue.indexOf(\"return bioseq\");\n                    functionBody += returnValue.substring(start, finish);\n                }\n                else {\n                    functionBody += returnValue;\n                }\n                \n                // functionBody += returnValue;\n                functionBody += \"\\n\";\n            }\n            functionBody += func.toString().replace(/^[^{]*{\\s*/, '').replace(/\\s*}[^}]*$/, '');\n\n            this.worker = new Worker(URL.createObjectURL(\n                new Blob([functionBody], { type: 'text/javascript' })\n            ));\n\n            this.worker.onmessage = (data) => {\n                this.onMessage.next(data);\n            };\n\n            this.worker.onerror = (data) => {\n                this.onError.next(data);\n            };\n\n        } else {\n            throw new Error('WebWorker is not enabled');\n        }\n    }\n\n    postMessage(data) {       \n        this.worker.postMessage(data);\n    }\n\n    onmessage(): Observable<MessageEvent> {\n        \n        return this.onMessage.asObservable();\n    }\n\n    onerror(): Observable<ErrorEvent> {\n        \n        return this.onError.asObservable();\n    }\n\n    terminate() {\n       \n        if (this.worker) {\n            this.worker.terminate();\n        }\n    }\n\n}","import { Injectable } from \"@angular/core\";\n\nimport { MicrobeTraceNextHomeComponent } from \"./microbe-trace-next-plugin.component\";\nimport { FilesComponent } from \"./filesComponent/files-plugin.component\";\nimport { TwoDComponent } from \"./visualizationComponents/TwoDComponent/twoD-plugin.component\";\nimport { MapComponent } from \"./visualizationComponents/MapComponent/map-plugin.component\";\nimport { TableComponent } from \"./visualizationComponents/TableComponent/table-plugin-component\";\nimport { PhylogeneticComponent } from \"./visualizationComponents/PhylogeneticComponent/phylogenetic-plugin.component\";\nimport { TimelineComponent } from \"./visualizationComponents/TimelineComponent/timeline-component.component\";\nimport { AlignmentViewComponent } from \"./visualizationComponents/AlignmentViewComponent/alignment-view-plugin-component\";\nimport { CrosstabComponent } from \"./visualizationComponents/CrosstabComponent/crosstab-plugin.component\";\nimport { AggregateComponent } from \"./visualizationComponents/AggregateComponent/aggregate.component\";\nimport { GanttComponent } from \"./visualizationComponents/GanttComponent/gantt-plugin.component\";\nimport { HeatmapComponent } from \"./visualizationComponents/HeatmapComponent/heatmap.component\";\nimport { BubbleComponent } from \"./visualizationComponents/BubbleComponent/bubble.component\";\nimport { WaterfallComponent } from './visualizationComponents/WaterfallComponent/waterfall.component';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class MicrobeTraceNextVisuals {\n    public microbeTrace: MicrobeTraceNextHomeComponent;\n    public filesPlugin: FilesComponent;\n    public twoD: TwoDComponent;\n    public gisMap: MapComponent;\n    public tableComp: TableComponent;\n    public epiCurve: TimelineComponent;\n    public phylogenetic: PhylogeneticComponent;\n    public alignment: AlignmentViewComponent;\n    public crossTab: CrosstabComponent;\n    public aggregate: AggregateComponent;\n    public gantt: GanttComponent;\n    public heatmap: HeatmapComponent;\n    public bubble: BubbleComponent;\n    public waterfall: WaterfallComponent;\n}\n","import { ChangeDetectionStrategy, Component, OnInit, Injector, ViewChild, ViewChildren, AfterViewInit, ComponentRef, ViewContainerRef, QueryList, ElementRef, Output, EventEmitter, ChangeDetectorRef, OnDestroy, ViewEncapsulation, Renderer2 } from '@angular/core';\nimport { CommonService, ExportOptions } from './contactTraceCommonServices/common.service';\nimport * as d3 from 'd3';\n\nimport { AppComponentBase } from '@shared/common/app-component-base';\nimport { SelectItem, TreeNode } from 'primeng/api';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { AppSessionService } from '@shared/common/session/app-session.service';\nimport { DialogSettings } from './helperClasses/dialogSettings';\nimport * as saveAs from 'file-saver';\nimport { StashObjects, HomePageTabItem } from './helperClasses/interfaces';\nimport { Observable, forkJoin } from 'rxjs';\nimport { EventEmitterService } from '@shared/utils/event-emitter.service';\n// import * as moment from 'moment';\nimport moment from 'moment';\nimport { GoldenLayoutComponentService } from './golden-layout-component.service';\nimport { Tabulator } from 'tabulator-tables';\nimport { Subscription } from 'rxjs';\nimport { GoldenLayoutHostComponent } from './golden-layout-host.component';\nimport * as Papa from 'papaparse';\nimport JSZip from 'jszip';\nimport html2canvas from 'html2canvas';\n\n\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.Default,\n    selector: 'contact-trace',\n    encapsulation: ViewEncapsulation.None,\n    templateUrl: './microbe-trace-next-plugin.component.html',\n    styleUrls: ['./microbe-trace-next-plugin.component.less']\n})\n\nexport class MicrobeTraceNextHomeComponent extends AppComponentBase implements AfterViewInit, OnInit, OnDestroy {\n\n\n    // recommit original code\n    @ViewChild('stashes') stashes: ElementRef;\n\n    @ViewChild('goldenLayoutHost') _goldenLayoutHostComponent: GoldenLayoutHostComponent;\n\n    @ViewChild('linkThresholdSparkline') linkThresholdSparkline: ElementRef;\n\n    @ViewChild('visualwrapper', { static: false }) visualWrapperRef!: ElementRef<HTMLDivElement>;\n\n    public metric: string = \"tn93\";\n    public ambiguity: string = \"Average\";\n    public launchView: string = \"2D Network\";\n    public threshold: string = \"0.015\";\n\n    widgets: object; \n    elem: any;\n    showSettings: boolean = false;\n    showExport: boolean = false;\n    showCenter: boolean = false;\n    showPinAllNodes: boolean = false;\n    showRefresh: boolean = false;\n    showButtonGroup: boolean = false;\n    showSorting: boolean = false;\n\n\n    downloadedBlocks: string[] = [];\n    ledgerOptions: TreeNode[] = [];\n    ledgerOptionSelected: any[] = [];\n    ledgerOptionSelectedFlag: boolean = true;\n    selectedItemsLabel = 'Choose';\n\n    dataSetView: SelectItem[];\n    dataSetViewSelected: string;\n    tabSet: any;\n    filedata: any;\n    fileExtension: string;\n    activeTabIndex: any;\n    displayHelp: boolean = false;\n    displayAbout: boolean = false;\n    displayStashDialog: boolean = false;\n    displayUrlDialog: boolean = false;\n    displayMTDialog: boolean = false;\n    displayRecallStashDialog: boolean = false;\n    displayLedgerLoaderDialog: boolean = false;\n    version: string = '2.0';\n    auspiceUrlVal: string|null = '';\n\n    private thresholdSubscription: Subscription;\n\n\n    saveFileName: string = '';\n    saveByCluster: boolean = false;\n    saveFileTypeOptions = [\n        { label: 'session', value: 'session'},\n        { label: 'style', value: 'style'}\n    ];\n    selectedSaveFileType: string = 'session';\n\n    searchField: string = '';\n    searchText: string = '';\n\n    private subscription: Subscription;\n\n    // posts: BlockchainProofHashDto[] = new Array<BlockchainProofHashDto>();\n    // Blockchaindata: BlockchainProofHashDto = new BlockchainProofHashDto();\n    date: Date;\n    // Inputdownloadblock: DownloadFilteredBlockDto = new DownloadFilteredBlockDto();\n    Filepath: SafeResourceUrl;\n\n    BlockChainLedgerNodeList: any[] = [];\n    BlockChainLedgerEdgeList: any[] = [];\n\n\n\n    FieldList: SelectItem[] = [];\n    ToolTipFieldList: SelectItem[] = [];\n\n    PruneWityTypes: any = [\n        { label: 'None', value: 'None' },\n        { label: 'Nearest Neighbor', value: 'Nearest Neighbor' }\n    ];\n    SelectedPruneWityTypesVariable: string = 'None';\n    SelectedEpsilonValue: string;\n\n\n    SelectedClusterMinimumSizeVariable: any = 0;\n    SelectedLinkSortVariable: string = 'Distance';\n    SelectedLinkThresholdVariable: any = parseFloat(this.threshold);\n    SelectedDistanceMetricVariable = this.metric;\n\n    RevealTypes: any = [\n        { label: 'Everything', value: 'Everything' }\n    ];\n    SelectedRevealTypesVariable: string = 'Everything';\n\n\n    StatisticsTypes: any = [\n        { label: 'Show', value: 'Show' }, \n      { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedStatisticsTypesVariable: string = 'Show';\n\n    SelectedColorNodesByVariable: string = 'None';\n    SelectedNodeColorVariable: string = '#1f77b4';\n    SelectedLinkColorVariable: string = '#1f77b4';\n    SelectedColorLinksByVariable: string = 'origin';\n\n    SelectedTimelineVariable: string = 'None';\n    timelineSpeed: number = 200;\n\n\n    LinkColorTableTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedLinkColorTableTypesVariable: string = 'Hide';\n\n    NodeColorTableTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedNodeColorTableTypesVariable: string = 'Hide';\n\n\n    SelectedColorVariable: string = '#ff8300';\n    SelectedBackgroundColorVariable: string = '#ffffff';\n    SelectedApplyStyleVariable: string = '';\n\n\n    activeTabNdx = null;\n    ShowGlobalSettingsLinkColorTable: boolean = false;\n    ShowGlobalSettingsNodeColorTable: boolean = false;\n    roles: Array<string> = new Array<string>();\n\n    ShowGlobalSettingsSettingsPane: boolean = false;\n    GlobalSettingsDialogSettings: DialogSettings;\n    GlobalSettingsLinkColorDialogSettings: DialogSettings;\n    GlobalSettingsNodeColorDialogSettings: DialogSettings;\n\n    cachedGlobalSettingsVisibility: boolean = false;\n    cachedGlobalSettingsLinkColorVisibility: boolean = false;\n    cachedGlobalSettingsNodeColorVisibility: boolean = false;\n\n    cmpRef: ComponentRef<any>;\n\n    public playBtnText: string = \"Play\";\n\n    public handle: any;\n    \n    public label: any;\n\n    public xAttribute: any;\n\n    public handleDateFormat: any;\n\n    public currentTimelineValue: any;\n\n    public currentTimelineTargetValue: any;\n\n    private previousTab: string = '';\n\n    private bpaaSPayloadWrappers: BpaaSPayloadWrapper[] = [];\n\n    @Output() DisplayGlobalSettingsDialogEvent = new EventEmitter();\n\n    // @ViewChild(TabView) tabView: TabView;\n    @ViewChild('dataSet') dataSet: Selection;\n    @ViewChildren('placeholder', { read: ViewContainerRef }) targets: QueryList<ViewContainerRef>\n    @ViewChild('ledgerloader') spinnerElement: ElementRef;\n    @ViewChild('ledgerloadDiv') spinnerDivElement: ElementRef;\n    @ViewChild('globalSettingsTab') globalSettingsTab: any;\n\n\n    // @ViewChild('pinbutton') pinBtn: ElementRef<HTMLElement>;\n    @ViewChild('pinbutton') pinBtn: ElementRef<HTMLElement>;\n\n\n\n    public HideThisForNow: boolean = false;\n\n    files: any[] = [];\n\n    homepageTabs: HomePageTabItem[] = [];\n    currentUrl: string;\n    // homepageTabs: HomePageTabItem[] = [\n    //     {\n    //         label: 'Files',\n    //         templateRef: null,\n    //         tabTitle: 'Files',\n    //         isActive: true,\n    //         componentRef: null\n    //     }\n    // ];\n\n    constructor(\n        injector: Injector,\n        public commonService: CommonService,\n        private goldenLayoutComponentService: GoldenLayoutComponentService,\n        public domSanitizer: DomSanitizer,\n        private cdref: ChangeDetectorRef,\n        private el: ElementRef, \n        private renderer: Renderer2,\n        private eventEmitterService: EventEmitterService,\n    ) {\n\n\n        super(injector);\n\n        this.widgets = this.commonService.session.style.widgets\n\n        this.appSession = injector.get(AppSessionService);\n\n        this.activeTabIndex = 0;\n\n        this.dataSetView = [];\n        this.dataSetView.push({ label: 'Nodes', value: 'Node' });\n        this.dataSetView.push({ label: 'Links', value: 'Link' });\n        this.dataSetView.push({ label: 'Clusters', value: 'Cluster' });\n\n        this.dataSetViewSelected = \"Node\";\n\n        this.currentUrl = window.location.href;\n\n        // setTimeout(() => {\n        //     srv.createNewComponent(srv.getRegisteredComponents()[0]);\n        //   }, 1000);\n\n        //   setTimeout(() => {\n        //     srv.createNewComponent(srv.getRegisteredComponents()[0]);\n        //   }, 10000);\n    }\n\n    getElementById(id: string): HTMLElement | null {\n        const element = this.el.nativeElement.querySelector(`#${id}`);\n        return element;\n    }\n\n    ngOnInit() {\n\n        const params = new URLSearchParams(window.location.search);\n        this.auspiceUrlVal = params.get('url');\n        if(this.commonService.debugMode) {\n            console.log(this.auspiceUrlVal);\n        }\n        this.getGlobalSettingsData();\n\n         // Subscribe to export requests\n        this.commonService.exportRequested$.subscribe(() => {\n            this.performExport();\n        });\n\n        // Subscribe to threshold changes from the service\n        this.thresholdSubscription = this.commonService.linkThreshold$.subscribe(\n            (newThreshold: number) => {\n                // Only update local state if changed\n                if (this.SelectedLinkThresholdVariable !== newThreshold) {\n                    this.onLinkThresholdChanged(newThreshold);\n                }\n            }\n        );\n\n        this.elem = document.documentElement;\n\n        if (!this.GlobalSettingsDialogSettings) {\n            this.GlobalSettingsDialogSettings = new DialogSettings('#global-settings-modal', false);\n        }\n        if (!this.GlobalSettingsLinkColorDialogSettings) {\n            this.GlobalSettingsLinkColorDialogSettings = new DialogSettings('#global-settings-link-color-table', false);\n        }\n        if (!this.GlobalSettingsNodeColorDialogSettings) {\n            this.GlobalSettingsNodeColorDialogSettings = new DialogSettings('#global-settings-node-color-table', false);\n        }\n\n        // Subscribe to metric changes\n        this.commonService.metricChanged.subscribe((metric: string) => {\n            this.metric = metric;\n            this.SelectedDistanceMetricVariable = metric;\n            this.onDistanceMetricChanged();\n        });\n\n        // Subscribe to table cleared event\n        this.commonService.tableCleared.subscribe((tableId: string) => {\n            this.clearTable(tableId); // Existing method to handle updates\n        });\n\n        // Subscribe to statistics changed event\n        this.commonService.statisticsChanged.subscribe((statisticsType?: string) => {\n            this.SelectedStatisticsTypesVariable = statisticsType;\n            this.onShowStatisticsChanged();\n        });\n\n        this.SelectedPruneWityTypesVariable = this.commonService.GlobalSettingsModel.SelectedPruneWityTypesVariable;\n\n        //debugger;\n        this.SelectedClusterMinimumSizeVariable = this.commonService.GlobalSettingsModel.SelectedClusterMinimumSizeVariable;\n        this.SelectedLinkSortVariable = this.commonService.GlobalSettingsModel.SelectedLinkSortVariable;\n        this.SelectedLinkThresholdVariable = this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable;\n        this.threshold = this.SelectedLinkThresholdVariable;\n        this.commonService.session.style.widgets['link-threshold'] = this.SelectedLinkThresholdVariable;\n        this.SelectedRevealTypesVariable = this.commonService.GlobalSettingsModel.SelectedRevealTypesVariable;\n        this.SelectedStatisticsTypesVariable = this.commonService.GlobalSettingsModel.SelectedStatisticsTypesVariable;\n\n        this.SelectedColorNodesByVariable = this.commonService.GlobalSettingsModel.SelectedColorNodesByVariable;\n        this.SelectedNodeColorVariable = this.commonService.session.style.widgets['node-color'];\n        this.SelectedColorLinksByVariable = this.commonService.GlobalSettingsModel.SelectedColorLinksByVariable;\n\n        this.SelectedTimelineVariable = this.commonService.session.style.widgets['node-timeline-variable'];\n        this.SelectedColorVariable = this.commonService.session.style.widgets['selected-color'];\n\n        this.SelectedLinkColorTableTypesVariable = this.commonService.GlobalSettingsModel.SelectedLinkColorTableTypesVariable;\n        this.SelectedApplyStyleVariable = this.commonService.GlobalSettingsModel.SelectedApplyStyleVariable;\n\n        //this.commonService.updateThresholdHistogram();\n\n        if(this.commonService.debugMode) {\n            console.log(\"global settings: \", this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable);\n            console.log(\"SelectedLinkThresholdVariable: \", this.SelectedLinkThresholdVariable);\n        }\n        \n\n         // Update distance metric in cashe\n         let cachedLSV = \"\";\n         let cachedView = \"\";\n\n        this.commonService.localStorageService.getItem('default-distance-metric', (err, result) => {\n            // Run this code once the value has been\n            // loaded from the offline store.\n            cachedLSV = result;\n        });\n\n         // Subscribe to threshold changes\n\n\n        this.commonService.localStorageService.getItem('default-view', (err, result) => {\n            cachedView = result;\n        });\n\n        const that = this;\n\n        $( document ).on( \"link-visibility\", function( ) {\n            that.generateNodeLinkTable(\"#link-color-table\");\n        });\n\n        $( document ).on('node-visibility', function () {\n            that.generateNodeColorTable('#node-color-table'); \n        })\n\n        setTimeout(() => {\n            $('#top-toolbar').fadeTo(\"slow\", 1);\n            // TODO:: uncommentback when done Subscribe for files subscription\n            // this.homepageTabs[0].componentRef = this.goldenLayout.componentInstances[0];\n        }, 1000);\n        setTimeout(() => {\n            if (cachedLSV) {\n                if (cachedLSV === 'snps') {\n                   this.metric = 'snps';\n                   this.threshold = '7';\n                   $('#ambiguities-menu').hide();\n                } else {\n                   this.metric = 'tn93';\n                   this.threshold = '0.015';\n                }\n\n               this.SelectedLinkThresholdVariable = parseFloat(this.threshold);\n               this.SelectedDistanceMetricVariable = this.metric;\n               this.commonService.session.style.widgets['default-distance-metric'] = this.metric;\n               this.commonService.session.style.widgets['link-threshold'] = parseFloat(this.threshold);\n               this.onLinkThresholdChanged();\n            }\n\n            if (cachedView) {\n                // this.updateLaunchView(cachedView);\n            }\n\n            $(\"#welcome-title\").animate({\n                marginTop: '-30px',\n                opacity: '1'\n            }, 1000);\n        }, 2000);\n        setTimeout(() => {\n            $(\"#welcome-description\").animate({\n                marginTop: '0px',\n                opacity: '1'\n            }, 1000);\n\n        }, 3000);\n        setTimeout(() => {\n            $('#visualwrapper').fadeTo(\"slow\", 1);\n            $('#add-data-container').fadeTo(\"slow\", 1);\n            $('#onload-container').fadeTo(\"slow\", 1);\n            $('#tool-btn-container').fadeTo(\"slow\", 1);\n\n        }, 5000);\n           \n    }\n\n    addComponent( component: string ) {\n\n        // const componentType = this._selectedRegisteredComponentTypeName;\n        const goldenLayoutComponent = this._goldenLayoutHostComponent.goldenLayout.newComponent(component);\n\n        const componentRef = this._goldenLayoutHostComponent.getComponentRef(goldenLayoutComponent.container);\n        \n        this.addTab(component, component + this.activeTabIndex, this.activeTabIndex, componentRef);\n        \n        \n        setTimeout(() => {\n          \n            // this.goldenLayout.componentInstances[this.goldenLayout.componentInstances.length - 1].DisplayGlobalSettingsDialogEvent.subscribe((v) => { this.DisplayGlobalSettingsDialog(v) });\n\n            this.setActiveTabProperties();\n            this.loadSettings();\n        });\n\n    }\n\n    /**\n     * Performs the export of the visualization, including tables.\n     */\n    private async performExport(): Promise<void> {\n        const visualWrapper = this.visualWrapperRef?.nativeElement;\n        if (!visualWrapper) {\n            console.error('Visual wrapper container not found');\n            return;\n        }\n    \n        try {\n            // Retrieve export options from the service\n            const options: ExportOptions = this.commonService.getExportOptions();\n    \n            // Capture the visual wrapper using html2canvas with onclone callback\n            const canvas = await html2canvas(visualWrapper, {\n                scale: options.scale || 1,\n                useCORS: true, // Enable CORS if images are loaded from external sources\n                onclone: (clonedDoc) => {\n                    // Replace color input elements with colored spans\n                    const clonedInputs = clonedDoc.querySelectorAll('input[type=\"color\"]');\n                    clonedInputs.forEach(input => {\n                        const color = input.getAttribute('value') || '#ffffff';\n                        const span = clonedDoc.createElement('span');\n                        span.style.display = 'inline-block';\n                        span.style.width = '20px';\n                        span.style.height = '20px';\n                        span.style.backgroundColor = color;\n                        span.style.border = '1px solid #000'; // Optional: Add border for visibility\n                        input.parentNode?.replaceChild(span, input);\n                    });\n    \n                    // Optionally, handle other elements that display hex codes\n                    // For example, if you have spans or divs showing hex values:\n                    /*\n                    const colorTextElements = clonedDoc.querySelectorAll('.color-text');\n                    colorTextElements.forEach(elem => {\n                        const color = elem.textContent;\n                        elem.style.backgroundColor = color;\n                        elem.textContent = '';\n                    });\n                    */\n                }\n            });\n    \n            // Convert canvas to desired image format\n            let imgData: string;\n            const filetype = options.filetype.toLowerCase();\n            const filename = options.filename || 'network_export';\n    \n            if (filetype === 'png') {\n                imgData = canvas.toDataURL('image/png');\n            } else if (filetype === 'jpeg' || filetype === 'jpg') {\n                imgData = canvas.toDataURL('image/jpeg', options.quality || 0.92);\n            } else if (filetype === 'webp') {\n                imgData = canvas.toDataURL('image/webp', options.quality || 0.92);\n            } else {\n                console.error('Unsupported file type:', filetype);\n                return;\n            }\n    \n            // Trigger the download\n            const link = document.createElement('a');\n            link.href = imgData;\n            link.download = `${filename}.${filetype}`;\n            document.body.appendChild(link); // Append to body to make it clickable in Firefox\n            link.click();\n            document.body.removeChild(link); // Remove from body after clicking\n    \n            console.log('Export completed successfully.');\n        } catch (error) {\n            console.error('Error during export:', error);\n        }\n    }\n\n    /**\n     * Removes a component from this.homepageTabs\n     * @param component name of the component to be removed\n     */\n    public removeComponent( component: string ) {\n        this.homepageTabs = this.homepageTabs.filter((tab) => {\n            return tab.label !== component;\n        });\n    }\n\n\n    /**\n     * Delete file from files list\n     * @param index (File index)\n     */\n    deleteFile(index: number) {\n        this.files.splice(index, 1);\n    }\n\n    /**\n     * Uses search-field, search-whole-word, search-case-sensitive widgets, and searchText variable to search each node and select all nodes that meet current criteria.\n     * Also populates search-results list, and sets function that selects the node for when an option in the list is selected.\n     */\n    public onSearch() {\n        const nodes = this.commonService.session.data.nodes;\n        const n = nodes.length;\n\n        let v = this.searchText;\n        const val = v;\n\n        if (v == \"\") {\n          $('#search-results').html(\"\").hide();\n          for(let i = 0; i < n; i++){\n            nodes[i].selected = false;\n          }\n        } else {\n          $('#search-results').html(\"\").hide();\n          const field = this.commonService.session.style.widgets[\"search-field\"];\n          \n          const dataSet = new Set();\n          for(let i = 0; i < n; i++){\n            const node = nodes[i];\n            if (node[field]) {\n  \n                const fieldData = node[field].toString(); // Convert the data to string\n                // matches anything that is not a digit, letter, whitespace or one of following char < > & and replaces with corresponding HTML entity number\n                const encodedField = fieldData.replace(/[\\u00A0-\\u9999<>&]/g, function(i) {\n                  return '&#'+i.charCodeAt(0)+';';\n                });\n                dataSet.add(`${encodedField}`);\n            }\n          }\n          const dataArray = Array.from(dataSet).sort() as string[];\n          //#298\n          if (this.commonService.session.style.widgets[\"search-whole-word\"])  v = '\\\\b' + v + '\\\\b';\n          let vre: RegExp;\n          if (this.commonService.session.style.widgets[\"search-case-sensitive\"])  vre = new RegExp(v);\n          else  vre = new RegExp(v, 'i');\n  \n          dataArray.forEach(element => {\n            if ((element as any).match(vre)) {\n                const $li = $('<li/>')\n                    .html(element as string)\n                    .attr('data-value', element as string);\n                $('#search-results').append($li).show();\n              }\n          });\n\n        const that = this;\n          \n        // on click of an option from the search list, the node is selected\n          $('.autocomplete-wrapper li').on('click', function() {\n            let ac_v = $(this).attr('data-value');\n            const ac_val = ac_v;\n            let ac_vre: RegExp;\n            $('#search').val(ac_v);\n            $('#search-results').html(\"\").hide();\n          \n            if (that.commonService.session.style.widgets[\"search-whole-word\"])  ac_v = '\\\\b' + ac_v + '\\\\b';\n            if (that.commonService.session.style.widgets[\"search-case-sensitive\"])  ac_vre = new RegExp(ac_v);\n            else ac_vre = new RegExp(ac_v, 'i');\n  \n            for(let i = 0; i < n; i++){\n\n              const node = nodes[i];\n\n              if (!node[field]) {\n                node.selected = false;\n              }\n              if (typeof node[field] == \"string\") {\n                node.selected = ac_vre.test(node[field]);\n              }\n              if (typeof node[field] == \"number\") {\n                node.selected = (node[field] + \"\" == ac_val);\n              }\n\n            }\n\n            $(document).trigger(\"node-selected\");\n\n          });\n  \n          let firstSelected = false;\n\n          // selects that meets current search criteria\n          for(let i = 0; i < n; i++){\n  \n            if(!firstSelected){\n                const node = nodes[i];\n\n                if (!node[field]) {\n                  node.selected = false;\n                }\n                if (typeof node[field] == \"string\") {\n                  node.selected = vre.test(node[field]);\n                  firstSelected = node.selected;\n                }\n                if (typeof node[field] == \"number\") {\n                  node.selected = (node[field] + \"\" == val);\n                  firstSelected = node.selected;\n                }\n\n            } else {\n                break;\n            }\n            \n          }\n  \n          if (!nodes.some(node => node.selected)) console.log('no matches');\n        }\n\n        $(document).trigger(\"node-selected\");\n    }\n\n    /**\n     * Updates search-field widget (with variable to search in) can updates search\n     */\n    public onSearchFieldChange(ev) {\n        this.commonService.session.style.widgets[\"search-field\"] = ev;\n        this.onSearch();\n    }\n\n    /**\n     * Updates search-whole-word widget can updates search\n     */\n    public onWholeWordChange() {\n        this.commonService.session.style.widgets[\"search-whole-word\"] = !this.commonService.session.style.widgets[\"search-whole-word\"];\n        this.onSearch();\n    }\n\n    /**\n     * Updates search-case-sensitive widget can updates search\n     */\n    public onCaseSensitiveChange() {\n        this.commonService.session.style.widgets[\"search-case-sensitive\"] = !this.commonService.session.style.widgets[\"search-case-sensitive\"];\n        this.onSearch();\n    }\n\n\n    /**\n     * Convert Files list to normal array list\n     * @param files (Files List)\n     */\n    prepareFilesLists($event) {\n\n        if(this.commonService.debugMode) {\n            console.log(\"Trying to prepare files\");\n        }\n        // this.commonService.resetData();\n\n        this.commonService.FP_removeFiles.emit()\n        this.commonService.session.files = [];\n        if (!this.commonService.session.style.widgets) {\n            this.commonService.session.style.widgets = this.commonService.defaultWidgets();\n        }\n\n        if(this.commonService.debugMode) {\n          console.log('threshold: ', this.commonService.session.style.widgets['link-threshold']);\n        }\n        // this.loadSettings();\n \n        // this.homepageTabs[1].isActive = false;\n        this.homepageTabs[0].isActive = true;\n        $('#overlay').fadeOut();\n        $('.ui-tabview-nav').fadeTo(\"slow\", 1);\n        $('.m-portlet').fadeTo(\"slow\", 1);\n        this.showExport = false;\n        this.showCenter = false;\n        this.showPinAllNodes = false;\n        this.showRefresh = false;\n        this.showButtonGroup = false;\n        this.showSorting = false;\n\n        // Remove the default tab\n        this._removeGlView('2D Network');\n\n        if(this.commonService.debugMode) {\n            console.log('homepage tabs1: ', this.homepageTabs);\n        }\n\n        this.getfileContent($event);\n    }\n\n    /**\n     * Updates metric based on selection\n     * @param value - metric selected\n     */\n     public updateMetric( value: string ) : void {\n        this.metric = value;\n        if(this.commonService.debugMode) {\n            console.log('updating metric: ', this.metric);\n        }\n\n        if (this.metric.toLowerCase() === \"snps\") {\n            //Hide Ambiguities\n            $('#ambiguities-menu').hide();\n            this.threshold = \"7\";\n            this.commonService.session.style.widgets[\"link-threshold\"] = 7;\n        } else {\n\n            $('#ambiguities-menu').show();\n            this.threshold = \"0.015\";\n            this.commonService.session.style.widgets[\"link-threshold\"] = 0.015;\n        }\n\n        // Update distance metric in style\n        this.commonService.session.style.widgets['default-distance-metric'] = this.metric.toLocaleLowerCase();\n        this.commonService.localStorageService.setItem('default-distance-metric', this.metric.toLocaleLowerCase());\n\n    }\n\n    /**\n     * Updates ambiguity based on selection and store in style widgets\n     * @param value - ambiguity selected\n     */\n     public updateAmbiguity( value: string ) : void {\n        this.ambiguity = value;\n        this.commonService.session.style.widgets['ambiguity-resolution-strategy'] = this.ambiguity.toLocaleUpperCase();\n\n    }\n\n    /**\n     * Updates launch view based on selection\n     * @param value - view selected\n     */\n     public updateLaunchView( value: string ) : void {\n        this.launchView = value;\n\n        this.commonService.localStorageService.setItem('default-view', this.launchView);\n        this.commonService.session.style.widgets['default-view'] = this.launchView;\n        this.commonService.session.layout.content[0].type = this.launchView;\n\n    }\n\n    /**\n     * Updates threshold based on selection and stores in style widget\n     */\n     public updateThreshold(ev : any) : void {\n        this.threshold = ev.target.value;\n        if(this.commonService.debugMode) {\n            console.log('threshold: ', this.threshold);\n        }\n        this.SelectedLinkThresholdVariable = this.threshold;\n        this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable = this.SelectedLinkThresholdVariable;\n        if(this.commonService.debugMode) {\n            console.log('loading settingss1: ', this.commonService.session.style.widgets[\"link-threshold\"]);\n        }\n        this.commonService.session.style.widgets[\"link-threshold\"] = Number(this.threshold);\n    }\n\n    /**\n     * Handler for recall btn\n     * Opens recall window\n     * @param {void}\n     */\n     public recallClicked() : void {\n    }\n\n    /**\n     * Handler for continue btn\n     * Opens recall window\n     * @param {void}\n     */\n     public continueClicked() : void {\n        // this._removeGlView('Files');\n        $('#overlay').fadeOut(\"slow\");\n        $('.ui-tabview-nav').fadeTo(\"slow\", 1);\n        $('.m-portlet').fadeTo(\"slow\", 1);\n    }\n\n    /**\n     * Updates background-color widget and then updates background color on twoD network (or any element with #network)\n     */\n    onBackgroundChanged() {\n        this.commonService.session.style.widgets['background-color'] = this.SelectedBackgroundColorVariable;\n\n        if ($('#cy') != undefined) {\n            $('#cy').css('background-color', this.SelectedBackgroundColorVariable);\n        }\n    }\n\n\n    /**\n     * Updates GlobalSetingModel variable and cluster-minimum-size widget. Removes and adds clusters when needed\n     */\n    onMinimumClusterSizeChanged() {\n        this.commonService.twoD_saveNodePos.emit();\n\n        this.commonService.GlobalSettingsModel.SelectedClusterMinimumSizeVariable = this.SelectedClusterMinimumSizeVariable;\n\n        let val = parseInt(this.SelectedClusterMinimumSizeVariable);\n\n        this.commonService.session.style.widgets[\"cluster-minimum-size\"] = val;\n\n        // this.commonService.setClusterVisibility(true);\n        // this.commonService.setLinkVisibility(true);\n        // this.commonService.setNodeVisibility(true);\n\n        // this.updatedVisualization();\n\n        // this.commonService.updateStatistics();\n\n        this.commonService.setLinkVisibility(true);\n        // this.commonService.tagClusters().then(() => { // removed because it was leading to clusters being split when minimum cluster size was increased\n            this.commonService.setClusterVisibility(true);\n            this.commonService.setNodeVisibility(true);\n            this.commonService.setLinkVisibility(true);\n          [\"cluster\", \"link\", \"node\"].forEach(thing => {\n            $(document).trigger(thing + \"-visibility\");\n          });\n          this.commonService.updateStatistics();\n          this.commonService.setNetworkUpdated(true);\n        //   this.updatedVisualization();\n\n        //});\n\n    }\n\n    /**\n     * Updates GlobalSettingsModel variable and link-sort-variable widget. Updates link threshold histogram and then updates network\n     */\n    onLinkSortChanged() {\n        this.commonService.GlobalSettingsModel.SelectedLinkSortVariable = this.SelectedLinkSortVariable;\n\n        this.commonService.session.style.widgets[\"link-sort-variable\"] = this.SelectedLinkSortVariable;\n        this.commonService.updateThresholdHistogram();\n        this.SelectedLinkThresholdVariable = parseFloat(this.commonService.session.style.widgets[\"link-threshold\"].toFixed((this.commonService.session.style.widgets['default-distance-metric'].toLowerCase() === \"tn93\") ? 3 : 0));\n        this.onLinkThresholdChanged();\n        this.commonService.updateNetwork();\n    }\n\n    /**\n     * Reads the file and applies the style to MicrobeTrace session.style\n     * \n     */\n    public onApplyStyle( file: any ){\n        $('.custom-file-label').text(this.SelectedApplyStyleVariable.substring(12))\n        const reader = new FileReader();\n        reader.onload = e => {\n            this.commonService.applyStyle(JSON.parse((e as any).target.result)); \n        }\n        reader.readAsText(file.target.files[0]);\n    }\n\n    applyStyleFileSettings() {\n        this.widgets = (window as any).context.commonService.session.style.widgets;\n\n        if (this.SelectedClusterMinimumSizeVariable != this.widgets['cluster-minimum-size']){\n            this.SelectedClusterMinimumSizeVariable = this.widgets['cluster-minimum-size'];\n            this.onMinimumClusterSizeChanged();\n            // not triggering render clus-vis correctly, may be relate to bug with onMinimumClusterSizeChanged()\n        }\n\n        if (this.SelectedColorNodesByVariable != this.widgets['node-color-variable']){\n            this.SelectedColorNodesByVariable = this.widgets['node-color-variable'];\n            this.getGlobalSettingsData();\n            this.onColorNodesByChanged();\n        }\n        \n        if (this.SelectedColorLinksByVariable != this.widgets['link-color-variable']){\n            this.SelectedColorLinksByVariable = this.widgets['link-color-variable'];\n            this.onColorLinksByChanged();\n        }\n\n        if (this.SelectedBackgroundColorVariable != this.widgets['background-color']){\n            this.SelectedBackgroundColorVariable = this.widgets['background-color'];\n            this.onBackgroundChanged();\n        }\n    }\n\n    onEpsilonValueChange() {\n        this.commonService.session.style.widgets[\"mst-computed\"] =false;\n        this.onPruneWithTypesChanged(this.SelectedPruneWityTypesVariable); \n    }\n\n    async onPruneWithTypesChanged(newValue: string) {\n\n        this.SelectedPruneWityTypesVariable = newValue;\n        this.commonService.GlobalSettingsModel.SelectedPruneWityTypesVariable = this.SelectedPruneWityTypesVariable;\n\n        if (this.SelectedPruneWityTypesVariable == \"None\") {\n            $('#filtering-epsilon-row').slideUp();\n            this.commonService.session.style.widgets[\"link-show-nn\"] = false;\n            this.commonService.updateNetwork();\n            this.commonService.setNetworkUpdated(true);\n            // this.updatedVisualization();\n        }\n        else {\n            this.SelectedEpsilonValue = Math.pow(10, this.widgets['filtering-epsilon']).toPrecision(3);\n            this.commonService.session.style.widgets[\"filtering-epsilon\"] = this.widgets['filtering-epsilon'];\n            this.commonService.session.style.widgets[\"link-show-nn\"] = true;\n            $('#filtering-epsilon-row').slideDown();\n            \n\n            this.commonService.computeMST().then(() => {\n                this.commonService.updateNetwork();\n                this.commonService.setNetworkUpdated(true);\n                    // TODO:: David is this needed?\n                if ('tableComp' in this.commonService.visuals) {\n                    if (this.commonService.visuals.tableComp.dataSetViewSelected == 'Link') {\n                        this.commonService.visuals.tableComp.openSelectDataSetScreen({value: 'Link'});\n                    }\n                }\n            });\n                  \n                    return;\n            // TODO:: David Removed to fix NN issue\n            // if(!this.commonService.session.style.widgets[\"mst-computed\"]) {\n            //     this.commonService.computeMST().then(() => {\n            //         this.commonService.updateNetwork();\n            //         this.updatedVisualization();\n\n            //         if ('tableComp' in this.commonService.visuals) {\n            //             if (this.commonService.visuals.tableComp.dataSetViewSelected == 'Link') {\n            //                 this.commonService.visuals.tableComp.openSelectDataSetScreen({value: 'Link'});\n            //             }\n            //         }\n            //     });\n            //      this.commonService.session.style.widgets[\"mst-computed\"] = true;\n            //      console.log('updated compute:' , this.commonService.session.style.widgets[\"mst-computed\"]);\n            //      return;\n            //    } else {\n\n            /// TODO:: David Check/Update Below\n            // if(!this.visuals.microbeTrace.commonService.session.style.widgets[\"mst-computed\"]) {\n            //     this.visuals.microbeTrace.commonService.computeMST().then(() => {\n            //         this.visuals.microbeTrace.commonService.updateNetwork();\n            //         this.visuals.microbeTrace.updatedVisualization();\n            //         if ('tableComp' in this.commonService.visuals) {\n            //             if (this.commonService.visuals.tableComp.dataSetViewSelected == 'Link') {\n            //                 this.commonService.visuals.tableComp.openSelectDataSetScreen({value: 'Link'});\n            //             }\n            //         }\n            //     });\n            //     this.visuals.microbeTrace.commonService.session.style.widgets[\"mst-computed\"] = true;\n            //     console.log('updated compute:' , this.visuals.microbeTrace.commonService.session.style.widgets[\"mst-computed\"]);\n            //     return;\n            // } else {\n\n        }\n\n    }\n\n\n\n    onLinkColorTableChanged() {\n\n        this.commonService.GlobalSettingsModel.SelectedLinkColorTableTypesVariable = this.SelectedLinkColorTableTypesVariable;\n\n        if (this.SelectedLinkColorTableTypesVariable == \"Hide\") {\n            this.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n        }\n        else {\n            this.onColorLinksByChanged();\n        }\n    }\n\n    /**\n     * Updates this.commonService.GlobalSettingsModel.SelectedNodeColorTableTypesVariable and \n     * then hides the node color table or calls onColorNodesByChanged\n     */\n    onNodeColorTableChanged() {\n\n        if(this.commonService.debugMode) {\n            console.log('node color changed: ', this.SelectedNodeColorTableTypesVariable);\n        }\n        this.commonService.GlobalSettingsModel.SelectedNodeColorTableTypesVariable = this.SelectedNodeColorTableTypesVariable;\n\n        if (this.SelectedNodeColorTableTypesVariable == \"Hide\") {\n            this.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n        }\n        else {\n            this.onColorNodesByChanged();         \n        }\n    }\n\n    /**\n     * @param table 'node' | 'link'\n     * @returns boolean of whether the table should be visible based on the table and which view is active\n     * This is just one factor to determine whether to show or hide table, also color by variable and show/hide state\n     */\n    checkActiveView(table: string) {\n        if (table == 'node') {\n            for (const view in this.commonService.visuals) {\n                if (['twoD', 'gisMap', 'phylogenetic'].includes(view) && this.commonService.visuals[view].viewActive) {\n                    return true;\n                }\n            }\n            return false;\n        } else if (table == 'link') {\n            for (const view in this.commonService.visuals) {\n                if (['twoD', 'gisMap'].includes(view) && this.commonService.visuals[view].viewActive) {\n                    return true;\n                }\n            }\n            return false;\n        } else {\n            return false;\n        }\n    }\n\n    onShowStatisticsChanged() {\n\n\n        if (this.SelectedStatisticsTypesVariable === \"Show\"){\n            this.commonService.updateStatistics();\n            $(\"#network-statistics-wrapper\").fadeIn();\n        } else {\n            this.commonService.updateStatistics();\n            $(\"#network-statistics-wrapper\").fadeOut();\n        }\n  \n\n        this.commonService.GlobalSettingsModel.SelectedStatisticsTypesVariable = this.SelectedStatisticsTypesVariable;\n\n\n        // if (this.homepageTabs[this.activeTabNdx].label == \"2D Network\") {\n        //     this.homepageTabs[this.activeTabNdx].componentRef.enableSettings();\n        // }\n\n    }\n\n    /**\n     * Updates node-color widget and published node color to each view to update them. Only relevant when color nodes by = None\n     */\n    onNodeColorChanged() {\n        const variable = this.SelectedNodeColorVariable;\n        this.commonService.session.style.widgets[\"node-color\"] = variable;\n\n        this.publishUpdateNodeColors();\n    }\n\n    /**\n     * calls updateNodeColors() for each view\n     */\n    publishUpdateNodeColors() {\n        this.homepageTabs.forEach(tab => {\n            if (tab.componentRef &&\n                tab.componentRef.instance.updateNodeColors) {\n                tab.componentRef.instance.updateNodeColors();\n            }\n        })\n    }\n\n    /**\n     * Updates visualization for each view that is available\n     */\n    publishUpdateVisualization() {\n        this.homepageTabs.forEach(tab => {\n            if (tab.componentRef &&\n                tab.componentRef.instance.updateVisualization) {\n                tab.componentRef.instance.updateVisualization();\n            }\n        })\n    }\n\n    publishUpdateLinkColor() {\n        this.homepageTabs.forEach(tab => {\n            if (tab.componentRef &&\n                tab.componentRef.instance.updateLinkColor) {\n                tab.componentRef.instance.updateLinkColor();\n            }\n        })\n    }\n\n    public onLinkColorChanged() : void {\n\n\n        this.commonService.session.style.widgets[\"link-color\"] = this.SelectedLinkColorVariable;\n\n        this.publishUpdateLinkColor();\n\n    }\n\n    onColorLinksByChanged() {\n\n        this.SelectedColorLinksByVariable = this.SelectedColorLinksByVariable;\n\n        this.commonService.GlobalSettingsModel.SelectedColorLinksByVariable = this.SelectedColorLinksByVariable;\n\n        if (!this.GlobalSettingsLinkColorDialogSettings.isVisible) {\n\n            // TODO::David you added  \"&& this.checkActiveView('link')\" below which makes it not dispaly in twoD network\n            // checkActiveView is reliant on commonService.visuals, under current implementation (12/17/24) always returns false and function may not be needed\n            if (this.SelectedColorLinksByVariable != \"None\") {\n                this.SelectedLinkColorTableTypesVariable = \"Show\";\n                this.GlobalSettingsLinkColorDialogSettings.setVisibility(true);\n                this.cachedGlobalSettingsLinkColorVisibility = this.GlobalSettingsLinkColorDialogSettings.isVisible;\n                \n                this.cdref.detectChanges();\n            }\n        }\n\n        this.commonService.GlobalSettingsModel.SelectedColorLinksByVariable = this.SelectedColorLinksByVariable;\n        this.commonService.session.style.widgets['link-color-variable'] = this.SelectedColorLinksByVariable;\n\n\n        if (this.SelectedColorLinksByVariable != \"None\") {\n\n            this.generateNodeLinkTable(\"#link-color-table\");\n\n            $('#link-color-value-row').slideUp();\n\n            //If hidden by default, unhide to perform slide up and down\n            if(!this.ShowGlobalSettingsLinkColorTable){\n                const element = this.el.nativeElement.querySelector('#link-color-table');\n                this.commonService.setLinkTableElement(element);\n                this.ShowGlobalSettingsLinkColorTable = true;\n            } else {\n                $('#link-color-table-row').slideDown();\n            }\n\n            this.publishUpdateLinkColor();\n        }\n        else {\n            $('#link-color-table').empty();\n            $('#link-color-value-row').slideDown();\n            $('#link-color-table-row').slideUp();\n            this.SelectedLinkColorTableTypesVariable='Hide';\n            this.onLinkColorTableChanged();\n\n            this.publishUpdateLinkColor();\n\n        }\n    }\n\n    generateNodeLinkTable(tableId: string, isEditable: boolean = true) {\n        const linkColorTable = $(tableId)\n        .empty()\n        .append(\n            \"<tr>\" +\n            (\"<th class='p-1 table-header-row'><div class='header-content'><span contenteditable>Link \" + this.commonService.titleize(this.SelectedColorLinksByVariable) + \"</span><a class='sort-button' style='cursor: pointer'></a></div></th>\") +\n            `<th class='table-header-row tableCount' ${ this.widgets['link-color-table-counts'] ? \"\" : \"style='display: none'\"}><div class='header-content'><span contenteditable>Count</span><a class='sort-button' style='cursor: pointer'></a></div></th>` +\n            `<th class='table-header-row tableFrequency' ${ this.widgets['link-color-table-frequencies'] ? \"\" : \"style='display: none'\"}><div class='header-content'><span contenteditable>Frequency</span><a class='sort-button' style='cursor: pointer'></a></div></th>` +\n            \"<th>Color</th>\" +\n            \"</tr>\"\n        );\n\n        if (!this.commonService.session.style.linkValueNames)\n            this.commonService.session.style.linkValueNames = {};\n            \n        let aggregates = this.commonService.createLinkColorMap();\n        if(this.commonService.debugMode) {\n            console.log('link aggregates: ', aggregates);\n        }\n        let vlinks = this.commonService.getVisibleLinks();\n        let aggregateValues = Object.keys(aggregates);\n\n        const disabled: string = isEditable ? '' : 'disabled';\n\n        aggregateValues.forEach((value, i) => {\n\n            if (aggregates[value] == 0) {\n                return;\n            }\n            if(this.commonService.debugMode) {      \n                console.log('link color aggregates value: ', aggregates[value]);\n                console.log('link color value: ', value);\n                console.log('link color map: ', this.commonService.temp.style.linkColorMap);\n                console.log('link color map value: ', this.commonService.temp.style.linkColorMap(value));\n            }\n\n            // Grab color of link from session\n            const color = this.commonService.temp.style.linkColorMap(value);\n\n            // Create color input element with color value and assign id to retrieve new value on change\n            const colorinput = $(`<input type=\"color\" value=\"${color}\" ${disabled}>`)\n                .on(\"change\", e => {\n\n                    // Need to get value from id since \"this\" keyword is used by angular\n                    // Update that value at the index in the color table\n                    (this.commonService.session.style.linkColors as any).splice(i, 1,e.target['value']);\n\n                    // Generate new color map with updated table\n                    this.commonService.temp.style.linkColorMap = d3\n                        .scaleOrdinal(this.commonService.session.style.linkColors)\n                        .domain(aggregateValues);\n\n\n                    // Call the updateLinkColor method in the active tab\n                    this.homepageTabs[this.activeTabIndex].componentRef.instance.updateLinkColor();\n\n                });\n\n            const alphainput = $(`<a class=\"transparency-symbol\"></a>`)\n                .on(\"click\", e => {\n\n                    $(\"#color-transparency-wrapper\").css({\n                        top: e.clientY + 129,\n                        left: e.clientX,\n                        display: \"block\"\n                    });\n\n                    $(\"#color-transparency\")\n                        .val(this.commonService.session.style.linkAlphas[i])\n                        .on(\"change\", (f) => {\n\n                            // Update table with new alpha value\n                            // Need to get value from id since \"this\" keyword is used by angular\n                            this.commonService.session.style.linkAlphas.splice(i, 1, parseFloat((f.target['value'] as string)));\n                            this.commonService.temp.style.linkAlphaMap = d3\n                                .scaleOrdinal(this.commonService.session.style.linkAlphas)\n                                .domain(aggregateValues);\n                            $(\"#color-transparency-wrapper\").fadeOut();\n\n                            this.homepageTabs[this.activeTabIndex].componentRef.instance.updateLinkColor();\n                            // this.goldenLayout.componentInstances[1].updateLinkColor();\n\n                        });\n                });\n\n            const row = $(\n                \"<tr>\" +\n                \"<td data-value='\" + value + \"'>\" +\n                (this.commonService.session.style.linkValueNames[value] ? this.commonService.session.style.linkValueNames[value] : this.commonService.titleize(\"\" + value)) +\n                \"</td>\" +\n                `<td class='tableCount' ${ this.widgets['link-color-table-counts'] ? \"\" : \"style='display: none'\"}>` + aggregates[value] + \"</td>\" +\n                `<td class='tableFrequency' ${ this.widgets['link-color-table-frequencies'] ? \"\" : \"style='display: none'\"}>` + (aggregates[value] / vlinks.length).toLocaleString() + \"</td>\" +\n                \"</tr>\"\n            );\n\n            const nonEditCell = `<td style=\"background-color:${color}\"></td>`;\n\n            if (isEditable) {\n                row.append($(\"<td></td>\").append(colorinput).append(alphainput));\n            } else {\n                row.append(nonEditCell);\n            }\n\n            linkColorTable.append(row);\n        });\n\n        if (isEditable) {\n            linkColorTable\n                .find(\"td\")\n                .on(\"dblclick\", function () {\n                    $(this).attr(\"contenteditable\", \"true\").focus();\n                })\n                .on(\"focusout\", () => {\n                    const $this = $(this);\n                    $this.attr(\"contenteditable\", \"false\");\n\n                    this.commonService.session.style.linkValueNames[$this.data(\"value\")] = $this.text();\n\n                });\n        }\n\n        let isAscending = true;  // add this line before the click event handler\n        this.updateCountFreqTable('link-color')\n        $('#linkColorTableSettings').on('mouseleave', () => $('#linkColorTableSettings').delay(500).css('display', 'none'));\n\n        $(tableId).on('click', '.sort-button', function() {\n            const table = $(this).parents('table').eq(0);\n            let rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).parent().parent().index()));\n            isAscending = !isAscending;  // replace 'this.asc' with 'isAscending'\n            if (!isAscending){rows = rows.reverse();}\n            for (let i = 0; i < rows.length; i++){\n                table.append(rows[i]);\n            }\n        });\n        \n        \n        function comparer(index) {\n            return function(a, b) {\n                const valA = getCellValue(a, index), valB = getCellValue(b, index);\n                if(this.commonService.debugMode) {\n                    console.log(`Comparing: ${valA} and ${valB}`);  // New line\n                }\n                return !isNaN(Number(valA)) && !isNaN(Number(valB)) ? Number(valA) - Number(valB) : valA.toString().localeCompare(valB);\n            }\n        }\n        \n        function getCellValue(row, index){ \n            const value = $(row).children('td').eq(index).text();\n            if(this.commonService.debugMode) {\n                console.log(`Cell value: ${value}`);  // New line\n            }\n            return value;\n        }        \n     }\n\n    public onTimelineChanged(e) : void {\n        this.SelectedTimelineVariable = e;\n        if(this.commonService.debugMode) {\n            console.log('timeline changed: ', e);\n        }\n        d3.select('#global-timeline svg').remove();\n        clearInterval(this.commonService.session.timeline);\n        let variable = e;  \n        let loadingJsonFile = this.commonService.session.style.widgets[\"node-timeline-variable\"] == variable;\n        if (this.commonService.session.style.widgets[\"node-timeline-variable\"] != 'None' && !loadingJsonFile) {\n            // change timeline variable when end time not reaching target time - redraw netwrok to start fresh\n            if (moment(this.commonService.session.state.timeEnd).toDate() < moment(this.commonService.session.state.timeTarget).toDate()) {\n                this.commonService.session.state.timeEnd = this.commonService.session.state.timeTarget;\n            this.commonService.setNodeVisibility(false);\n            this.commonService.setLinkVisibility(false);\n            this.commonService.updateStatistics();\n            }\n        }\n        this.commonService.session.style.widgets[\"node-timeline-variable\"] = variable;\n        if (variable == \"None\") {\n            $(\"#global-timeline-field\").empty();\n            this.commonService.session.style.widgets[\"timeline-date-field\"] = 'None'  \n            $(\"#global-timeline-wrapper\").fadeOut();\n            $('#pinbutton').prop(\"disabled\", false);\n            if(!this.commonService.session.network.timelinePinned) {\n            $('#pinbutton').trigger('click');\n            this.commonService.updatePinNodes(false);\n            }\n            this.commonService.session.network.timelineNodes = [];\n            this.commonService.setNodeVisibility(false);\n            this.commonService.setLinkVisibility(false);\n            this.commonService.updateStatistics();\n            return;\n        }\n\n        // need to check and ensure bubble nodes are sorted by this variable, then rerender/recalculate bubbles position\n        if ('bubble' in this.commonService.visuals) {\n             this.commonService.visuals.bubble.sortData(variable);\n        }\n        this.commonService.twoD_saveNodePos.emit();\n\n        console.log('timeline variable: ', variable);\n        if(!this.commonService.temp.style.nodeColor) $(\"#node-color-variable\").trigger(\"change\");\n\n        // let el: HTMLElement = this.pinBtn.nativeElement;\n        // console.log('pin : ', el);\n        // if (!$('#pinbutton').prop('disabled')){\n        //     if (!loadingJsonFile) {\n        //         this.commonService.session.network.timelinePinned = this.commonService.session.network.allPinned;\n        //     if(!this.commonService.session.network.allPinned) {\n        //         this.commonService.updatePinNodes(true);\n        //         this.openPinAllNodes(1);\n        //     }\n        //     this.commonService.session.network.timelineNodes = this.commonService.getNetworkNodes();\n        //     }\n        //     $('#pinbutton').prop(\"disabled\", true);\n        // }\n\n        if (!loadingJsonFile) {\n            this.commonService.session.network.timelinePinned = this.commonService.session.network.allPinned;\n        if(!this.commonService.session.network.allPinned) {\n            this.commonService.updatePinNodes(true);\n        }\n\n        }\n        let globalTimelineField =  (this.commonService.session.style.overwrite && variable == this.commonService.session.style.overwrite['globalTimelineFieldVariable'] ? this.commonService.session.style.overwrite['globalTimelineField'] : this.commonService.titleize(variable));\n        const encodedGlobalTimelineField = globalTimelineField.replace(/[\\u00A0-\\u9999<>\\&]/g, function(i) {\n            return '&#'+i.charCodeAt(0)+';';\n        });\n        $(\"#global-timeline-field\").html(encodedGlobalTimelineField);   \n        const formatDateIntoYear = d3.timeFormat(\"%Y\");\n        const formatDateIntoMonthYear = d3.timeFormat(\"%b %y\");\n        const formatDateIntoMonth = d3.timeFormat(\"%b\");\n        const formatDateMonthYear = d3.timeFormat(\"%b %Y\");\n        const formatDateDateMonth = d3.timeFormat(\"%b %_d\");\n\n        // let timeDomainStart, timeDomainEnd;\n        let field = variable;\n        let times = [],\n        vnodes = JSON.parse(JSON.stringify(this.commonService.session.data.nodes));\n        vnodes.forEach(d => {\n            let time = moment(d[field]); \n            if (time.isValid()) {\n                console.log('time moment value: ', d[field]);\n                d[field] = time.toDate();\n                times.push(d[field]);\n            } else {\n                console.log('time moment not value: ', d[field]);\n\n                d[field] = null;\n            }\n        });\n        if (times.length < 2) {\n            times = [new Date(2000, 1, 1), new Date()];\n        }\n        const timeDomainStart = Math.min(...times);\n        const timeDomainEnd = Math.max(...times);\n\n        const days = moment(timeDomainEnd).diff(moment(timeDomainStart), 'days');\n        const tickDateFormat = d => {\n            if (days<184) return formatDateDateMonth(d);\n            else if (days<367) return formatDateIntoMonth(d);\n            else if (days<367*5) return formatDateIntoMonthYear(d);\n            else return formatDateIntoYear(d);\t\t\n        }\n        this.handleDateFormat = d => {\n            if (days<367) return formatDateDateMonth(d);\n            else return formatDateMonthYear(d);\t\t\n        }\n        const startDate = timeDomainStart;\n        const endDate = timeDomainEnd;\n        const margin = {top:50, right:50, bottom:0, left:50},\n            width = ($('#visualwrapper').width() * 4 / 5) - margin.left - margin.right,\n            height = 200 - margin.top - margin.bottom;\n\n        var svgTimeline = d3.select(\"#global-timeline\")\n            .append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", 120);  \n\n            ////////// slider //////////\n        this.currentTimelineValue = 0;\n        this.currentTimelineTargetValue = width;\n        this.commonService.session.state.timeStart = startDate;\n\n        const that = this;\n        const playButton = d3.select(\"#timeline-play-button\");\n        if (playButton.text() == \"Pause\") playButton.text(\"Play\");\n        this.xAttribute = d3.scaleTime()\n            .domain([startDate, endDate])\n            .range([0, this.currentTimelineTargetValue])\n            .clamp(true)\n            .nice();\n        const slider = svgTimeline.append(\"g\")\n            .attr(\"class\", \"slider\")\n            .attr(\"transform\", \"translate(30,\" + height/2 + \")\");\n\n        slider.append(\"line\")\n            .attr(\"class\", \"track\")\n            .attr(\"x1\", this.xAttribute.range()[0])\n            .attr(\"x2\", this.xAttribute.range()[1])\n            .attr(\"stroke\", \"#ddd\")  // Ensure this is a visible color\n            .attr(\"stroke-width\", \"10px\")  // Ensure this is a sufficient width\n            // Pre D3\n            // .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })\n            //.each(function() { this.parentNode.appendChild(this.cloneNode(true)); })\n        slider.append('line')\n            .attr(\"class\", \"track-inset\")\n            .attr(\"x1\", this.xAttribute.range()[0])\n            .attr(\"x2\", this.xAttribute.range()[1])\n            .attr(\"stroke\", \"#ddd\")  // Ensure this is a visible color\n            .attr(\"stroke-width\", \"10px\")  // Ensure this is a sufficient width\n            //.each(function() { this.parentNode.appendChild(this.cloneNode(true)); })\n        slider.append('line')\n            // Pre D3\n            // .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })\n            .attr(\"class\", \"track-overlay\")\n            .attr(\"x1\", this.xAttribute.range()[0])\n            .attr(\"x2\", this.xAttribute.range()[1])\n            .attr(\"stroke\", \"#ddd\")  // Ensure this is a visible color\n            .attr(\"stroke-width\", \"10px\")  // Ensure this is a sufficient width\n            .call(d3.drag()\n                .on(\"start.interrupt\", function() { slider.interrupt(); })\n                .on(\"start drag\", function() {\n                    that.currentTimelineValue = (d3 as any).event.x;\n                    that.update(that.xAttribute.invert(that.currentTimelineValue));\n                    if (that.playBtnText == \"Pause\") {\n                        that.playBtnText = \"Play\";\n                    clearInterval(that.commonService.session.timeline);\n                    }\n                })\n            );\n        slider.insert(\"g\", \".track-overlay\")\n            .attr(\"class\", \"ticks\")\n            .attr(\"transform\", \"translate(0,\" + 18 + \")\")\n            .selectAll(\"text\")\n            .data(this.xAttribute.ticks(12))\n            .enter()\n            .append(\"text\")\n            .attr(\"x\", this.xAttribute)\n            .attr(\"y\", 10)\n            .attr(\"text-anchor\", \"middle\")\n            .text(function(d) { return tickDateFormat(d); });\n\n\n        this.label = slider.append(\"text\")  \n            .attr(\"class\", \"label\")\n            .attr(\"text-anchor\", \"middle\")\n            .text(this.handleDateFormat(startDate))\n            .attr(\"transform\", \"translate(25,\" + (-20) + \")\")\n\n            this.handle = slider.insert(\"circle\", \".track-overlay\")\n            .attr(\"class\", \"handle\")\n            .attr(\"r\", 9);\n\n        this.commonService.session.style.widgets[\"timeline-date-field\"] = field;\n        this.commonService.session.state.timeStart = startDate;\n        this.commonService.session.state.timeTarget = this.xAttribute.invert(this.currentTimelineTargetValue);\n        if (loadingJsonFile && moment(this.commonService.session.state.timeEnd).toDate() < moment(this.commonService.session.state.timeTarget).toDate()) {\n            let t = moment(this.commonService.session.state.timeEnd).toDate();\n            this.currentTimelineTargetValue = this.xAttribute(t);\n            this.handle.attr(\"cx\", this.xAttribute(t));\n            this.label\n            .attr(\"x\", this.xAttribute(t))\n            .text(this.handleDateFormat(t));\n        }\n        $(\"#global-timeline-wrapper\").fadeIn();\n       \n    }\n\n    public playTimeline() : void {\n\n            if (this.playBtnText == \"Pause\") {\n                this.playBtnText = \"Play\";\n                clearInterval(this.commonService.session.timeline);\n            } else {\n                this.playBtnText = \"Pause\";\n                this.commonService.session.timeline = setInterval(this.step, this.timelineSpeed, this);\n            }\n\n    }\n\n    update(h) {\n\n        this.handle.attr(\"cx\", this.xAttribute(h));\n        this.label\n        .attr(\"x\", this.xAttribute(h))\n        .text(this.handleDateFormat(h));\n        this.commonService.session.state.timeEnd = h;\n        this.commonService.setNodeVisibility(false);\n        this.commonService.setLinkVisibility(false);\n        this.commonService.updateStatistics();\n  }\n\n    step(that : any) { \n        that.update(that.xAttribute.invert(that.currentTimelineValue));\n        if (that.currentTimelineValue > that.currentTimelineTargetValue) { \n            that.currentTimelineValue = 0;\n        clearInterval(that.commonService.session.timeline);\n        that.playBtnText = \"Play\";\n        return;\n        }\n        that.currentTimelineValue = that.currentTimelineValue + (that.currentTimelineTargetValue/151);\n\n    }\n\n    showNodeColorTable() {\n        if (this.SelectedNodeColorTableTypesVariable !=' Show') {\n            this.SelectedNodeColorTableTypesVariable='Show';\n            this.onNodeColorTableChanged();\n        };\n    }\n\n    hideNodeColorTable() {\n        if (this.SelectedNodeColorTableTypesVariable != 'Hide') {\n           this.SelectedNodeColorTableTypesVariable='Hide';\n           this.onNodeColorTableChanged()\n        }\n    }\n\n    showLinkColorTable() {\n        if (this.SelectedLinkColorTableTypesVariable !=' Show') {\n            this.SelectedLinkColorTableTypesVariable='Show';\n            this.onLinkColorTableChanged();\n        }\n    }\n\n    hideLinkColorTable() {\n        if (this.SelectedLinkColorTableTypesVariable != 'Hide') {\n           this.SelectedLinkColorTableTypesVariable='Hide';\n           this.onLinkColorTableChanged()\n        }\n    }\n\n    /**\n     * Called when SelectedColorNodesByVariable (keeps track of what variable to use to color nodes by) is changed.\n     */\n    onColorNodesByChanged() {\n\n        this.commonService.GlobalSettingsModel.SelectedColorNodesByVariable = this.SelectedColorNodesByVariable;\n\n\n        if (!this.GlobalSettingsNodeColorDialogSettings.isVisible) {\n\n            // TODO::David you added  \"&& this.checkActiveView('node')\" below which makes it not dispaly in twoD network\n            if (this.SelectedColorNodesByVariable != \"None\") {\n\n                this.SelectedNodeColorTableTypesVariable = 'Show';\n                this.GlobalSettingsNodeColorDialogSettings.setVisibility(true);\n                this.cachedGlobalSettingsNodeColorVisibility = this.GlobalSettingsNodeColorDialogSettings.isVisible;\n                const prevColorNodesByVariable = this.SelectedColorNodesByVariable;\n\n                // this detect changes leads to SelectedColorNodesByVariable being set to default value when loading MT files that have both 2D and map view\n                this.cdref.detectChanges();\n                if (prevColorNodesByVariable != this.SelectedColorNodesByVariable) this.SelectedColorNodesByVariable = prevColorNodesByVariable;\n            }\n        }\n\n        this.commonService.session.style.widgets[\"node-color-variable\"] = this.SelectedColorNodesByVariable;\n\n\n        if (this.SelectedColorNodesByVariable !== \"None\") {\n\n            this.generateNodeColorTable(\"#node-color-table\");\n            \n            $('#node-color-value-row').slideUp();\n\n            //If hidden by default, unhide to perform slide up and down\n            if(!this.ShowGlobalSettingsNodeColorTable){\n\n                const element = this.el.nativeElement.querySelector('#node-color-table');\n                this.commonService.setNodeTableElement(element);\n                this.ShowGlobalSettingsNodeColorTable = true;\n            } else {\n                $('#node-color-table-row').slideDown();\n            }\n\n            this.publishUpdateNodeColors();\n\n        // if color nodes by equals None, then hide node color table\n        } else {\n\n            $('#node-color-table').empty();\n            $('#node-color-value-row').slideDown();\n            $('#node-color-table-row').slideUp();\n            this.SelectedNodeColorTableTypesVariable='Hide';\n            this.onNodeColorTableChanged();\n            \n            this.publishUpdateNodeColors();\n        }\n    }\n\n    generateNodeColorTable(tableId: string, isEditable: boolean = true) {\n        const nodeColorTable = $(tableId)\n        .empty()\n        .append(\n            \"<tr>\" +\n            \"<th class='p-1 table-header-row'><div class='header-content'><span contenteditable>Node \" + this.commonService.titleize(this.SelectedColorNodesByVariable) + \"</span><a class='sort-button' style='cursor: pointer'></a></div></th>\" +\n            `<th class='table-header-row tableCount' ${ this.widgets['node-color-table-counts'] ? \"\" : \"style='display: none'\"}><div class='header-content'><span contenteditable>Count</span><a class='sort-button' style='cursor: pointer'></a></div></th>` +\n            `<th class='table-header-row tableFrequency' ${ this.widgets['node-color-table-frequencies'] ? \"\": \"style='display: none'\"}><div class='header-content'><span contenteditable>Frequency</span><a class='sort-button' style='cursor: pointer'></a></div></th>` +\n            \"<th>Color</th>\" +\n            \"</tr>\"\n        );\n\n\n        if (!this.commonService.session.style.nodeValueNames)\n            this.commonService.session.style.nodeValueNames = {};\n\n\n        const aggregates = this.commonService.createNodeColorMap();\n\n        const vnodes = this.commonService.getVisibleNodes();\n\n        const aggregateValues = Object.keys(aggregates);\n\n        const disabled = isEditable ? '' : 'disabled';\n\n        aggregateValues.forEach((value, i) => {\n            if (aggregates[value] < 1) return;\n\n            const color = this.commonService.temp.style.nodeColorMap(value);\n\n            const colorinput = $(`<input type=\"color\" value=\"${color}\" ${disabled}>`)\n                .on(\"change\", e => {\n\n\n                    if(this.commonService.debugMode) {\n                        console.log('color: ', this.SelectedColorNodesByVariable);\n                        console.log('color2: ',  this.commonService.session.style.nodeColorsTableKeys);                    \n                    }\n \n                    let key = this.commonService.session.style.nodeColorsTableKeys[this.SelectedColorNodesByVariable].findIndex( k => k === value);\n                    this.commonService.session.style.nodeColorsTable[this.SelectedColorNodesByVariable].splice(key, 1, e);\n\n                    // Update history with new color\n                    this.commonService.session.style.nodeColorsTableHistory[this.commonService.session.style.nodeColorsTableKeys[this.SelectedColorNodesByVariable][key]] = e;\n\n                  \n\n                    //if (this.commonService.session.style.widgets[\"node-timeline-variable\"] == 'None') {\n                          // Update table with new alpha value\n                        // Need to get value from id since \"this\" keyword is used by angular\n                        this.commonService.session.style.nodeColors.splice(i, 1, e.target['value']);\n                        this.commonService.temp.style.nodeColorMap = d3\n                            .scaleOrdinal(this.commonService.session.style.nodeColors)\n                            .domain(aggregateValues);\n                        // temp.style.nodeColorMap = d3\n                            // .scaleOrdinal(session.style.nodeColorsTable[variable])\n                            // .domain(session.style.nodeColorsTableKeys[variable]);\n                        // } else {\n                        //     let temKey = this.commonService.temp.style.nodeColorKeys.findIndex( k => k === value);\n                        //     this.commonService.temp.style.nodeColor.splice(temKey, 1, e);\n                        //     this.commonService.temp.style.nodeColorMap = d3\n                        //         .scaleOrdinal(this.commonService.temp.style.nodeColor)\n                        //         .domain(this.commonService.temp.style.nodeColorKeys);\n                        // }\n\n                    this.publishUpdateNodeColors();\n\n                });\n\n            const alphainput = $(`<a class=\"transparency-symbol\"></a>`).on(\"click\", e => {\n\n                $(\"#color-transparency-wrapper\").css({\n                    top: e.clientY + 129,\n                    left: e.clientX,\n                    display: \"block\"\n                });\n\n                $(\"#color-transparency\")\n                    .val(this.commonService.session.style.nodeAlphas[i])\n                    .one(\"change\", f => {\n\n                        // Update table with new alpha value\n                        // Need to get value from id since \"this\" keyword is used by angular\n                        this.commonService.session.style.nodeAlphas.splice(i, 1, parseFloat(f.target['value'] as string));\n\n                        this.commonService.temp.style.nodeAlphaMap = d3\n                            .scaleOrdinal(this.commonService.session.style.nodeAlphas)\n                            .domain(aggregateValues);\n\n                        this.publishUpdateNodeColors();\n\n                        $(\"#color-transparency-wrapper\").fadeOut();\n\n                    });\n            });\n\n            const nonEditCell = `<td style=\"background-color:${color}\"></td>`;\n\n            const cell = $(\"<td></td>\")\n                .append(colorinput)\n                .append(alphainput);\n\n            const row = $(\n                \"<tr>\" +\n                \"<td data-value='\" + value + \"'>\" +\n                (this.commonService.session.style.nodeValueNames[value] ? this.commonService.session.style.nodeValueNames[value] : this.commonService.titleize(\"\" + value)) +\n                \"</td>\" +\n                `<td class='tableCount' ${ this.widgets['node-color-table-counts'] ? \"\" : \"style='display: none'\"}>` + aggregates[value] + \"</td>\" +\n                `<td class='tableFrequency' ${ this.widgets['node-color-table-frequencies'] ? \"\": \"style='display: none'\"}>` + (aggregates[value] / vnodes.length).toLocaleString() + \"</td>\" +\n                \"</tr>\"\n            ).append(isEditable ? cell : nonEditCell);\n\n            nodeColorTable.append(row);\n        });\n\n        if (isEditable) {\n            nodeColorTable\n                .find(\"td.rowName\")\n                .on(\"dblclick\", function () {\n                    $(this).attr(\"contenteditable\", \"true\").focus();\n                })\n                .on(\"focusout\", () => {\n\n                    const $this = $(this);\n                    $this.attr(\"contenteditable\", \"false\");\n\n                    //this.commonService.session.style.nodeValueNames[$this.data(\"value\")] = $this.find(\"input\").value;\n\n                });\n        }\n\n        this.updateCountFreqTable('node-color');\n        $('#nodeColorTableSettings').on('mouseleave', () => $('#nodeColorTableSettings').delay(500).css('display', 'none'));\n        \n        $(tableId).on('click', '.sort-button', function() {\n            const table = $(this).parents('table').eq(0);\n            let rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).parent().parent().index()));\n            this.asc = !this.asc; // using property 'asc' on DOM object instead of jQuery data function\n            if (!this.asc){rows = rows.reverse();}\n            for (let i = 0; i < rows.length; i++){table.append(rows[i]);}\n        });\n        \n        function comparer(index) {\n            return function(a, b) {\n                const valA = getCellValue(a, index), valB = getCellValue(b, index);\n                return !isNaN(Number(valA)) && !isNaN(Number(valB)) ? Number(valA) - Number(valB) : valA.toString().localeCompare(valB);\n            }\n        }\n        \n        function getCellValue(row, index){ return $(row).children('td').eq(index).text() }\n\n    }\n\n    /**\n     * Toggles the setting menu for node-color or link-color table. This menu allow users to show/hide counts and/or frequencies\n     * @param tableName 'node-color' or 'link-color'\n     */\n    toggleColorTableSettings(tableName: string) {\n        let settingsPane;\n        if (tableName == 'node-color') {\n            settingsPane = $('#nodeColorTableSettings')\n        } else if (tableName == 'link-color') {\n            settingsPane = $('#linkColorTableSettings')\n        } else {\n            return;\n        }\n        \n        if (settingsPane.css('display') == 'none') {\n            settingsPane.css('display', 'block')\n        } else {\n            settingsPane.css('display', 'none')\n        }\n    }\n\n    /**\n     * Updates the appropriate widget value and then updates the node-color or link-color table\n     * @param table 'node-color' or 'link-color'\n     * @param column 'tableCouts' or 'tableFreq' \n     */\n    toggleColorTableColumns(table: string, column: string) {\n        if (table == 'node-color' && column == 'tableCounts') {\n            this.widgets['node-color-table-counts'] = !this.widgets['node-color-table-counts'];\n        } else if (table == 'node-color' && column == 'tableFreq') {\n            this.widgets['node-color-table-frequencies'] = !this.widgets['node-color-table-frequencies'];\n        } else if (table == 'link-color' && column == 'tableCounts') {\n            this.widgets['link-color-table-counts'] = !this.widgets['link-color-table-counts']\n        } else if (table == 'link-color' && column == 'tableFreq') {\n            this.widgets['link-color-table-frequencies'] = !this.widgets['link-color-table-frequencies']\n        } else {\n            return;\n        }\n\n        this.updateCountFreqTable(table);\n    }\n\n    /**\n     * Updates the node-color-table or link-color-table based on value of widgets; it doesn't recalculate anything; just shows/hide columns\n     * @param tableName 'node-color' or 'link-color'\n     */\n    updateCountFreqTable(tableName) {\n        let tableReferenceName, showCount, showFreq;\n        if (tableName == 'node-color') {\n            tableReferenceName = '#global-settings-node-color-table';\n            showCount = this.widgets['node-color-table-counts'];\n            showFreq = this.widgets['node-color-table-frequencies'];\n        } else if (tableName == 'link-color') {\n            tableReferenceName = '#global-settings-link-color-table';\n            showCount = this.widgets['link-color-table-counts'];\n            showFreq = this.widgets['link-color-table-frequencies'];\n        }\n        const countColumn = $(tableReferenceName + ' .tableCount');\n        const freqColumn = $(tableReferenceName + ' .tableFrequency');\n        (showCount) ? countColumn.slideDown() : countColumn.slideUp();\n        (showFreq) ? freqColumn.slideDown() : freqColumn.slideUp();\n    }\n\n    /**\n     * Updated link-threshold widget and this.threshold variable. Sets mst-computed widget to false.\n     * Updates clusters and cluster visibility, link visibility, and node visibility. Finallys updates\n     * visualizations and stastistics\n     */\n    onLinkThresholdChanged( newThreshold?: number) {\n        //debugger;\n\n        // If a new threshold is provided, update the SelectedLinkThresholdVariable\n        if (newThreshold) {\n            this.SelectedLinkThresholdVariable = newThreshold;\n        }\n\n        this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable = this.SelectedLinkThresholdVariable;\n        this.commonService.session.style.widgets[\"link-threshold\"] = parseFloat(this.SelectedLinkThresholdVariable);\n        this.threshold = this.SelectedLinkThresholdVariable;\n\n        const minClust = $(\"#cluster-minimum-size\").val();\n        \n\n        // Unset MST construction since links might have been changed\n        this.commonService.session.style.widgets[\"mst-computed\"] = false;\n\n        if (minClust !== \"1\" ){\n            if(this.commonService.debugMode) {\n                console.log('reseting min clust'); \n            }\n            $(\"#cluster-minimum-size\").val(\"1\");\n            $(\"#cluster-minimum-size\").trigger(\"change\");\n            $(\"#cluster-minimum-size\").val(minClust);\n            $(\"#cluster-minimum-size\").trigger(\"change\");\n        } \n\n        this.commonService.setLinkVisibility(false, false);\n        this.commonService.tagClusters().then(() => {\n            this.commonService.setClusterVisibility(true);\n            // $(document).trigger(\"cluster-visibility\");\n\n            //To catch links that should be filtered out based on cluster size:\n            this.commonService.setLinkVisibility(true);\n            this.commonService.setNodeVisibility(true);\n\n            //Because the network isn't robust to the order in which these operations\n            //take place, we just do them all silently and then react as though we did\n            //them each after all of them are already done.\n\n            [\"cluster\", \"link\", \"node\"].forEach(thing => $(document).trigger(thing + \"-visibility\"));\n\n\n            // this.updatedVisualization();\n            this.commonService.setLinkThreshold(this.SelectedLinkThresholdVariable);\n\n\n            this.commonService.updateStatistics();\n\n\n        });\n\n    }\n\n    revealClicked() : void {\n\n        $(\"#cluster-minimum-size\").val(1);\n        this.commonService.session.style.widgets[\"cluster-minimum-size\"] = 1;\n        $(\"#filtering-wrapper\").slideDown();\n        this.commonService.setClusterVisibility(true);\n       \n        this.commonService.setNodeVisibility(true);\n         //To catch links that should be filtered out based on cluster size:\n         this.commonService.setLinkVisibility(true);\n        //Because the network isn't robust to the order in which these operations\n        //take place, we just do them all silently and then react as though we did\n        //them each after all of them are already done.\n\n        this.GlobalSettingsLinkColorDialogSettings.isVisible = true;\n        this.GlobalSettingsNodeColorDialogSettings.isVisible = true;\n\n        this.commonService.setNetworkUpdated(true);\n        // this.updatedVisualization();\n\n        this.commonService.updateStatistics();\n\n    };\n\n\n    updateGlobalSettingsModel() {\n\n        this.commonService.GlobalSettingsModel.SelectedRevealTypesVariable = this.SelectedRevealTypesVariable;\n\n\n\n        this.SelectedDistanceMetricVariable = this.commonService.session.style.widgets['default-distance-metric'];\n        this.commonService.GlobalSettingsModel.SelectedNodeColorVariable = this.SelectedNodeColorVariable;\n        this.commonService.session.style.widgets['node-color'] = this.SelectedNodeColorVariable;\n        this.commonService.session.style.widgets['link-color'] = this.SelectedLinkColorVariable;\n        this.commonService.session.style.widgets['link-threshold'] = this.SelectedLinkThresholdVariable;\n        this.commonService.session.style.widgets['node-color-variable'] = this.SelectedColorNodesByVariable;\n        //this.commonService.session.style.widgets['node-color-variable'] = this.SelectedNodeColorVariable;\n\n        // TODO: Removed, see if this is still necessary\n        // this.commonService.session.style.widgets['link-tooltip-variable'] = this.SelectedColorLinksByVariable;\n\n\n        this.commonService.GlobalSettingsModel.SelectedColorVariable = this.SelectedColorVariable;\n        this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable = this.SelectedLinkThresholdVariable;\n        this.commonService.GlobalSettingsModel.SelectedDistanceMetricVariable = this.SelectedDistanceMetricVariable;\n        this.commonService.session.style.widgets['selected-color'] = this.SelectedColorVariable;\n        this.commonService.session.style.widgets['selected-node-stroke-color'] = this.SelectedColorVariable;\n        // TODO: \n        // if (this.commonService.visuals.phylogenetic) {\n        //   this.commonService.visuals.phylogenetic.updateNodeColors();\n        // }\n\n\n        this.commonService.GlobalSettingsModel.SelectedBackgroundColorVariable = this.SelectedBackgroundColorVariable;\n        this.commonService.session.style.widgets['background-color'] = this.SelectedBackgroundColorVariable;\n\n\n        this.commonService.GlobalSettingsModel.SelectedApplyStyleVariable = this.SelectedApplyStyleVariable;\n\n\n    }\n\n    /**\n     * this.publishUpdateVisualization()\n     * \n     * XXXXX may need to be updated or trimmed (switch statement has no functionality) XXXXX\n     */\n    updatedVisualization() {\n\n        this.publishUpdateVisualization();\n\n        // console.log('active tab ind: ', this.homepageTabs,this.homepageTabs[this.activeTabIndex]);\n\n        if (!this.homepageTabs[this.activeTabIndex]) return;\n\n        switch (this.homepageTabs[this.activeTabIndex].label) {\n            case \"2D Network\":\n\n                // this.goldenLayout.componentInstances[this.activeTabIndex].render(false);\n                break;\n\n\n            case \"PhylogeneticTree\":\n\n\n                break;\n\n            case \"Table\":\n\n\n                break;\n\n            case \"Map\":\n\n\n                break;\n        }\n\n    }\n\n\n\n    getGlobalSettingsData() {\n        this.FieldList = [];\n\n        this.FieldList.push({ label: \"None\", value: \"None\" });\n        this.commonService.session.data['nodeFields'].map((d, i) => {\n            \n            this.FieldList.push(\n                {\n                    label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n                    value: d\n                });\n\n        });\n\n\n        this.ToolTipFieldList = [];\n\n        this.ToolTipFieldList.push({ label: \"None\", value: \"None\" });\n        this.commonService.session.data['linkFields'].map((d, i) => {\n\n            this.ToolTipFieldList.push(\n                {\n                    label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n                    value: d\n                });\n\n        });\n\n\n        this.SelectedLinkSortVariable = this.commonService.GlobalSettingsModel.SelectedLinkSortVariable;\n        //this.commonService.updateThresholdHistogram();\n\n    }\n\n\n\n    /**\n     * XXXXX no current use or functionality XXXXX \n     */\n    getUserRoles() {\n\n        // this._userService.getUserForEdit(this.appSession.userId).subscribe(userResult => {\n\n        //     this.user = userResult.user;\n\n        //     userResult.roles.map(x => {\n\n        //         if (x.isAssigned === true) {\n        //             this.roles.push(x.roleName);\n        //         }\n        //     });\n\n        // });\n    }\n\n\n    /**\n     * XXXXX move XXXXX\n     */\n    ngAfterViewInit() {\n\n        // let factory = this.cfr.resolveComponentFactory(FilesComponent);\n        // this.cmpRef = this.targets.first.createComponent(factory);\n        setTimeout(() => {\n            this._goldenLayoutHostComponent.initialise();\n            \n            // headerHeight (tab) is updated so that goldenLayout knows what the css is set to. \n            this._goldenLayoutHostComponent['_goldenLayout.layoutConfig.dimensions.headerHeight'] = 36;\n            this.addComponent('Files');\n\n          if (this.auspiceUrlVal) {\n            if(this.commonService.debugMode) {\n                console.log(\"Trying to open URL\");\n            }\n            this.DisplayUrlDialog(\"Open\");\n            this.continueClicked();\n            this.displayUrlDialog = false;\n            //this.displayMTDialog = true;\n            // this.DisplayMTDialog(\"Open\");\n            /**\n            this.commonService.openAuspiceUrl(this.auspiceUrlVal)\n            .then( (out) => {\n            if (out['meta'] && out['tree']) {\n              const auspiceFile = { contents: out, name: this.getAuspiceName(this.auspiceUrlVal), extension: 'json'};\n              this.commonService.session.files.push(auspiceFile);\n              this.prepareFilesLists(auspiceFile);\n              console.log(out);\n            //   console.log(this.homepageTabs[0].componentRef);\n                // this.goldenLayout.componentInstances[0].addToTable(auspiceFile);\n              this.homepageTabs[0].componentRef.addToTable(auspiceFile);\n              this.homepageTabs[0].isActive = true;\n            } else {\n              console.log(\"This isn't a valid Auspice JSON file\");\n            }\n            });\n            */\n          }\n          if(this.commonService.debugMode) {\n            console.log('golden comp ref: ', this.homepageTabs[0].componentRef.instance);\n        }\n        this.subscription = this.homepageTabs[0].componentRef.instance.LoadDefaultVisualizationEvent.subscribe((v) => {\n            if(this.commonService.debugMode) {\n                console.log('loading default1: ', v);\n            }\n            this.loadDefaultVisualization(v);\n            this.publishLoadNewData();\n            this.getGlobalSettingsData();\n        });\n\n        this._goldenLayoutHostComponent.TabRemovedEvent.subscribe((v) => {\n            // this.loadSettings();\n            this.removeComponent(v);\n        });\n\n        this._goldenLayoutHostComponent.TabChangedEvent.subscribe((v) => {\n\n            this.commonService.activeTab = v;\n            \n            if (v === \"Files\" || v === \"Epi Curve\" || v === \"Alignment View\" || v === \"Table\" || v === \"Crosstab\" || v === \"Aggregate\" || v === \"Heatmap\" || v === \"Gantt Chart\") {\n                this.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n                this.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n            } else {\n                if (this.SelectedColorNodesByVariable == 'None') {\n                    this.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n                } else {\n                    this.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n                    this.GlobalSettingsNodeColorDialogSettings.setVisibility(true);  \n                }\n                if (this.SelectedColorLinksByVariable == 'None' || v === \"Phylogenetic Tree\" || v == 'Bubble') {\n                    this.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n                } else {\n                    this.GlobalSettingsLinkColorDialogSettings.setVisibility(true);\n                }\n            }\n            if (this.GlobalSettingsNodeColorDialogSettings.isVisible && this.SelectedNodeColorTableTypesVariable == 'Hide') {\n                this.SelectedNodeColorTableTypesVariable = 'Show';\n            } else if (!this.GlobalSettingsNodeColorDialogSettings.isVisible && this.SelectedNodeColorTableTypesVariable == 'Show') {\n                this.SelectedNodeColorTableTypesVariable = 'Hide';\n            }\n            if (this.GlobalSettingsLinkColorDialogSettings.isVisible && this.SelectedLinkColorTableTypesVariable == 'Hide') {\n                this.SelectedLinkColorTableTypesVariable = 'Show';\n            } else if (!this.GlobalSettingsLinkColorDialogSettings.isVisible && this.SelectedLinkColorTableTypesVariable == 'Show') {\n                this.SelectedLinkColorTableTypesVariable = 'Hide';\n            }\n        });\n        }, 0);\n        \n\n        // this.setActiveTabProperties();\n\n        // this.cdref.detectChanges();\n    }\n\n\n    getLedgerData() {\n\n        // this.ledgerOptions = [];\n        // this.ledgerOptionSelected = [];\n        // this.ledgerOptionSelectedFlag = true;\n\n        // this.showSpinner();\n\n        // this.posts = new Array<BlockchainProofHashDto>();\n        // this.Blockchaindata = new BlockchainProofHashDto();\n\n\n        // this.keenService.getAllBlockchainsByTenantID().subscribe((resA: BlockchainProofHashDto[]) => {\n        //     this.posts = resA.filter(x => x.ledgerName.toLowerCase() === 'ContactTrace'.toLowerCase());\n\n        //     let ok2Exit = false;\n\n        //     let getBlockByLedgerIdObservable: Observable<GetAllBlockByBlockchainLedgerIDDto[]>[] = [];\n\n        //     for (let i = 0; i < this.posts.length; i++) {\n        //         this.posts[i].blockdata = [];\n        //         this.date = new Date(parseInt(this.posts[i].lastUpdated.substring(6, 26)));\n        //         this.posts[i].lastUpdated = this.date.toString();\n        //         this.Blockchaindata = this.posts[i];\n\n        //         getBlockByLedgerIdObservable.push(this.keenService.getAllBlockByBlockchainLedgerID(\n        //             this.Blockchaindata.ledgerName,\n        //             this.Blockchaindata.blockChainProofHashCode,\n        //             this.Blockchaindata.tenantID,\n        //             this.Blockchaindata.userID));\n\n        //     }\n\n        //     forkJoin(getBlockByLedgerIdObservable).subscribe(results => {\n        //         results.forEach((data: GetAllBlockByBlockchainLedgerIDDto[], index: number) => {\n        //             this.posts[index].blockdata = data;\n\n        //             for (let j = 0; j < this.posts[index].blockdata.length; j++) {\n\n        //                 this.date = new Date(parseInt(this.posts[index].blockdata[j].blockUpdatedDate.substring(6, 26)));\n        //                 this.posts[index].blockdata[j].blockUpdatedDate = this.date.toString();\n        //             }\n\n        //             if (index == this.posts.length - 1) {\n        //                 ok2Exit = true;\n\n        //                 this.loadLedgerOptions();\n        //             }\n        //         })\n        //     },\n        //         error => {\n        //             console.log(\"error retrieving posts.\");\n        //         },\n        //         () => {\n\n        //         });\n\n        // })\n\n    }\n\n\n    private _removeGlView(view : string) {\n        console.log(`Removing ${view}`);\n        this._goldenLayoutHostComponent.removeComponent(view);\n        this.removeComponent(view);\n    }\n\n\n    convertToCSV(objArray) {\n\n        const tmpArray = typeof objArray != 'object' ? JSON.parse(objArray) : objArray;\n        let str = '';\n        let headerLoaded = false;\n        let line = '';\n\n\n        for (let i = 0; i < tmpArray.length; i++) {\n            line = '';\n\n            if (headerLoaded == false) {\n                for (const index1 in tmpArray[i]) {\n                    if (line != '') line = line.toString() + ','\n\n                    line = line.toString() + index1.toString().replace(/\\r/g, '').replace(/\\n/g, '').trim();\n                }\n\n                str = str.toString() + line.toString() + '\\r\\n';\n\n                headerLoaded = true;\n            }\n            line = '';\n\n            for (const index2 in tmpArray[i]) {\n                if (line != '') line = line.toString() + ','\n\n                line = line.toString() + tmpArray[i][index2].toString();\n            }\n\n            if (line != \"\") {\n                str = str.toString() + line.toString().replace(/\\r/g, '').replace(/\\r/g, '').trim() + (i == tmpArray.length - 1 ? '' : '\\r\\n');\n            }\n        }\n\n        return str;\n    }\n\n    // downloadLedgerBlock(item: DownloadFilteredBlockDto, ledgerId, isNodeList: boolean): void {\n    //     const filteredWrappers = this.bpaaSPayloadWrappers.filter(x => x.BlockName &&  x.BlockName.toLowerCase() === item.blockName.toLowerCase());\n\n    //     const detailRows = _.flatten(filteredWrappers.map(x => x.BpaaSPayload.Data))\n\n    //     let blob: any = new Blob([JSON.stringify(detailRows)], { type: 'text/plain' });\n    //     blob.lastModifiedDate = new Date();\n    //     blob.name = (item.blockName + \".json\");\n\n\n    //     var file: File = <File>blob;\n\n    //     this.getSinglefileContent(file);\n\n    //     abp.notify.success(\"Ledger block successfully downloaded.\");\n    //     this.hideSpinner();\n\n    // }\n\n    officialInstance () {\n        const prodVal = RegExp(/https:\\/\\/microbetrace.cdc.gov\\/MicrobeTrace/);\n        const devVal = RegExp(/https:\\/\\/cdcgov.github.io\\/MicrobeTrace/);\n        const localVal = RegExp(/localhost/);\n        if (prodVal.test(this.currentUrl) || devVal.test(this.currentUrl) || localVal.test(this.currentUrl)) {\n            return true;\n        } else {\n            const el: HTMLElement | null = this.getElementById(\"overlay\");\n            if (el) el.style.top = `${$('#url-warning-div').height()}px`;\n            return false;\n        }\n    }\n\n    getHeight() {\n        const timelineHeight = this.commonService.session.style.widgets[\"timeline-date-field\"] == 'None' ? 0 : 150\n        if (this.officialInstance()) {\n            return window.innerHeight - 80 - timelineHeight;\n        } else {\n            const warningHeight = $('#url-warning-div').height()\n            return window.innerHeight - 80 - warningHeight - timelineHeight;\n        }\n    }\n\n    showSpinner() {\n        this.spinnerDivElement.nativeElement.style.display = \"block\";\n        this.spinnerElement.nativeElement.style.display = \"block\";\n    }\n\n    hideSpinner() {\n        this.spinnerDivElement.nativeElement.style.display = \"none\";\n        this.spinnerElement.nativeElement.style.display = \"none\";\n    }\n\n\n    public loadDefaultVisualization(e: string) {\n\n        e = e.replace(\"_\", \" \");\n\n        if (e === \"2d network\"){\n            e = \"2D Network\";\n        }\n\n        this.resetLayout();\n\n        setTimeout(() => {\n            if (this.homepageTabs.findIndex(x => x.label == e) === -1) {\n                this.Viewclick(e);\n            }\n        }, 500);\n        \n    }\n\n    public resetLayout() {\n    \n        this.homepageTabs.forEach( tab => {\n            if (tab.label !== \"Files\") {\n                console.group('removing: ', tab.label);\n                this._removeGlView(tab.label);\n            }\n        });\n\n        this.activeTabIndex = 0;\n    }\n\n    public getfileContent(fileList: FileList) {\n\n        this.GlobalSettingsDialogSettings.setVisibility(false);\n        this.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n        this.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n\n        if(this.commonService.debugMode) {\n            console.log('process files::');\n        }\n        // TODO: unccomment back when updated\n        // this.srv.removeTab(0,1);\n        //remove last homepage tab\n        // this.homepageTabs.splice(this.homepageTabs.length - 1, 1);\n        // console.log('homepagetabs: ', this.homepageTabs);\n        // this.goldenLayout.componentInstances[0].processFiles(fileList)\n\n        this.homepageTabs.map(x => {\n            if (x.label === \"Files\") {\n                if (x.componentRef != null) {\n                    this.subscription.unsubscribe();\n                    this.subscription = this.homepageTabs[0].componentRef.instance.LoadDefaultVisualizationEvent.subscribe((v) => {\n                        if(this.commonService.debugMode) {\n                            console.log('loading default2: ', v);\n                        }\n                        // this.loadSettings();\n                        this.loadDefaultVisualization(v);\n                        this.publishLoadNewData();\n                    });\n                    x.componentRef.instance.processFiles(fileList);\n\n                    // ensure files table is populated after processing\n                    setTimeout(() => {\n                        x.componentRef.instance.populateTable();\n                    }, 1000);\n                }\n            }\n        });\n    }\n\n    public getSinglefileContent(file: File) {\n\n        // this.goldenLayout.componentInstances[0].processFile(file);\n\n        this.homepageTabs.map(x => {\n            if (x.label === \"Files\") {\n                if (x.componentRef != null) {\n                    x.componentRef.processFile(file);\n                    //TODO does this need instance?\n                }\n            }\n        });\n    }\n\n    public onPanelHide($event) {\n        console.log($event);\n    }\n\n    public onClickChildOptionContainer($event) {\n\n    }\n\n    public onClickChildOptionChecbox($event) {\n\n    }\n\n    public onChangeChildOptionCheckbox($event) {\n\n    }\n\n    DisplayHelp() {\n        window.open(\"https://github.com/CDCgov/MicrobeTrace/wiki\");\n    }\n\n    DisplayAbout() {\n        this.displayAbout = !this.displayAbout;\n    }\n\n\n    clusterSaveClick() {\n\n    }\n\n    DisplayStashDialog(saveStash: string) {\n        switch (saveStash) {\n            case \"Save\": {\n\n                if (this.selectedSaveFileType == 'style') {\n                    const data = JSON.stringify(this.commonService.session.style);\n                    const blob = new Blob([data], { type: \"application/json;charset=utf-8\" });\n                    saveAs(blob, this.saveFileName+'.style')\n                    return;\n                }\n\n                const zip = new JSZip();\n\n                const lightTabs: HomePageTabItem[] = this.homepageTabs.map(x => {\n                    return {\n                        label: x.label,\n                        tabTitle: x.tabTitle,\n                        isActive: x.isActive,\n                        componentRef: undefined,\n                        templateRef: undefined\n                    }\n                });\n\n                if(this.saveByCluster){\n                    const clusterNodeList = [];\n                    const clusterLinkList = [];\n                    const singletonNodeList = [];\n                    const dyadNodeList = [];\n                    const dyadEdgeList = [];\n                    const nodes = this.commonService.session.data.nodes;\n                    const links = this.commonService.session.data.links;\n\n                    this.commonService.session.data.clusters.forEach(cluster => {\n\n                    const clusterNodes = nodes.filter(node => node.cluster === cluster.id);\n\n                    const clusterLinks = links.filter(link => link.cluster === cluster.id);\n\n                    // We have a singleton - all singletons go into one file\n                    if(clusterNodes.length == 1){\n                        singletonNodeList.push(clusterNodes[0]);\n                    // We have a dyad - all dyads go into one file\n                    } else if (clusterNodes.length == 2) {\n                        // Add both nodes\n                        dyadNodeList.push(clusterNodes[0]);\n                        dyadNodeList.push(clusterNodes[1]);\n                        // Add the single link\n                        dyadEdgeList.push(clusterLinks[0]);\n                    // We have a cluster\n                    } else {\n                        // Add array object of nodes with matching cluster\n                        clusterNodeList.push(clusterNodes);\n\n                        // Add array object of links with matching cluster\n                        clusterLinkList.push(clusterLinks);\n                    }\n\n                    });\n\n                    let singletonFolder = null;\n                    let dyadFolder = null;\n\n                    for (let i = 0; i < this.commonService.session.data.clusters.length; i++) {\n\n                    const currentCluster = this.commonService.session.data.clusters[i];\n\n                    const cluster = clusterNodeList.filter(nodeList => nodeList[0].cluster == currentCluster.id);\n\n                    // Check if cluster is in clusterNodesList\n                    if(cluster.length > 0){\n\n                        // Create cluster folder\n                        const clusterFolder = zip.folder(\"cluster-\" + cluster[0][0].cluster);\n                    \n                        // If node and edge lists exists, add them to the current folder\n                        const clusterNode = clusterNodeList.filter(NodeList => NodeList[0].cluster == currentCluster.id);\n\n                        if(clusterNode) {\n\n                        const blob = new Blob([Papa.unparse(cluster[0])], {type: 'text/csv;charset=utf-8'});\n                        clusterFolder.file( \"nodeList_cluster_\" + cluster[0][0].cluster + \".csv\", blob);\n\n                        // Now get link list of cluster\n                        const clusterLink = clusterLinkList.filter(LinkList => LinkList[0].cluster == currentCluster.id);\n\n                        if(clusterLink) {\n                            const blob = new Blob([Papa.unparse(clusterLink[0])], {type: 'text/csv;charset=utf-8'});\n                            clusterFolder.file(\"edgeList_cluster_\" + cluster[0][0].cluster + \".csv\", blob);\n                        }\n                        }\n                    }\n                    }\n\n                    if(dyadNodeList.length > 0){\n                        dyadFolder = zip.folder(\"dyads\");\n                        // Add all dyads in one shot\n                        const nodesBlob = new Blob([Papa.unparse(dyadNodeList)], {type: 'text/csv;charset=utf-8'});\n                        dyadFolder.file(\"nodeList_cluster.csv\", nodesBlob);\n                        const edgesBlob = new Blob([Papa.unparse(dyadEdgeList)], {type: 'text/csv;charset=utf-8'});\n                        dyadFolder.file(\"edgeList_cluster.csv\", edgesBlob);\n                      }\n                \n                      if (singletonNodeList.length > 0) {\n                        singletonFolder = zip.folder(\"singletons\");\n                        // Add all singletons in one shot\n                        const blob = new Blob([Papa.unparse(singletonNodeList)], {type: 'text/csv;charset=utf-8'});\n                        singletonFolder.file(\"nodeList_cluster.csv\", blob);\n                      }\n                        \n                      const that = this;\n                      // generate zip repsetnation in memory\n                      zip.generateAsync({type:\"blob\"}).then(function(content) {\n                          // see FileSaver.js\n                          saveAs(content, `${that.saveFileName}.zip`);\n                      });\n                } else {\n                    const stash: StashObjects = {\n                        session: this.commonService.session,\n                        tabs: lightTabs\n                    };\n\n                    const that = this;\n\n                    if ($(\"#save-file-compress\").is(\":checked\")) {\n                        const zip = new JSZip();\n                        zip.file(`${that.saveFileName}.microbetrace`, new Blob([JSON.stringify(stash)], { type: \"application/json;charset=utf-8\" }));\n                        zip.generateAsync({\n                            type: \"blob\",\n                            compression: \"DEFLATE\",\n                            compressionOptions: {\n                                level: 9\n                            }\n                        })\n                        .then(content => saveAs(content, `${that.saveFileName}.zip`));\n                    } else {\n                        const blob = new Blob([JSON.stringify(stash)], { type: \"application/json;charset=utf-8\" });\n                        saveAs(blob, `${this.saveFileName}.microbetrace`);\n                    }\n    \n                   \n                }\n\n\n                \n                break;\n            }\n            case \"Cancel\": {\n\n                break;\n            }\n        }\n        this.displayStashDialog = !this.displayStashDialog;\n    }\n\n    getAuspiceName(url: string) {\n      const split = url.split('=');\n      console.log(split);\n      const nameParts = split.length>1 ? split[1].split('/') : split[0].split('/');\n      return nameParts.join('_');\n      return 'auspice_import_via_url';\n    }\n\n    DisplayUrlDialog(saveUrl: string) {\n      switch (saveUrl) {\n        case 'Open': {\n          const auspiceUrl = this.auspiceUrlVal;\n          this.commonService.openAuspiceUrl(auspiceUrl)\n          .then( (out) => {\n            if (out['meta'] && out['tree']) {\n              console.log(this);\n              this.homepageTabs[0].componentRef.instance.removeAllFiles();\n              this.commonService.clearData();\n              const auspiceFile = { contents: out, name: this.getAuspiceName(auspiceUrl), extension: 'json'};\n              this.commonService.session.files.push(auspiceFile);\n              this.homepageTabs[0].componentRef.instance.addToTable(auspiceFile);\n            //   console.log(this.homepageTabs[0].componentRef);\n                // this.goldenLayout.componentInstances[0].addToTable(auspiceFile);\n              //this.homepageTabs[0].componentRef.addToTable(auspiceFile);\n              this.homepageTabs[0].isActive = true;\n              console.log(\"Trying to launch\");\n              this.homepageTabs[0].componentRef.instance.launchClick();\n              $('#overlay').fadeOut();\n              $('.ui-tabview-nav').fadeTo(\"slow\", 1);\n              $('.m-portlet').fadeTo(\"slow\", 1);\n            }\n          });\n          break;\n        }\n        case 'Cancel': {\n            break;\n        }\n      }\n      this.displayUrlDialog = !this.displayUrlDialog;\n      if (this.displayUrlDialog){\n        console.log(this.displayUrlDialog);\n        this.continueClicked();\n      }\n    }\n\n    DisplayMTDialog(saveUrl: string) {\n      switch (saveUrl) {\n        case 'Open': {\n          //const auspiceUrl = this.auspiceUrlVal;\n          break;\n        }\n        case 'Cancel': {\n            break;\n        }\n      }\n      this.displayMTDialog = !this.displayMTDialog;\n    }\n\n    ResetTabs() {\n        const home = this.homepageTabs.find(x => x.label === \"Files\");\n        home.isActive = true;\n        this.homepageTabs = this.homepageTabs.filter(x => home === x);\n        this.homepageTabs = [home];\n\n        this.commonService.activeTab = 'Files';\n        this.activeTabIndex = 0;\n    }\n\n    // Commonet back when implementing stash\n\n    NewSession() {\n\n        // Emit new session event for other components to reset/destroy\n        this.commonService.onNewSession();\n\n        this.ResetTabs();\n        this.onReloadScreen();\n    }\n\n    // OpenStashFiles(stashFile: FileList) {\n    //     // console.log(stashFile);\n\n    //     const files: File[] = Array.from(stashFile);\n        \n    //     if (files.length > 0) {\n\n    //         const extension = files[0].name.split('.').pop().toLowerCase();\n\n    //         let reader = new FileReader();\n    //         reader.onloadend = out => {\n    //             if (out && out.target) {\n    //                 this.OpenStash((<any>out.target).result);\n    //             }\n    //         }\n    //         reader.readAsText(files[0], 'UTF-8');\n    //     }\n    // }\n\n    // OpenStash(sessionData: string) {\n    //     if (sessionData) {\n    //         const sessionObject: StashObjects = JSON.parse(sessionData);\n    //         if (sessionObject) {\n\n    //             //ResetFiles\n    //             this.visuals.filesPlugin.removeAllFiles();\n\n    //             this.commonService.session = sessionObject.session;\n\n    //             //Reset Tabs\n    //             this.ResetTabs();\n\n    //             //Load Tabs\n    //             for (let index = 1; index < sessionObject.tabs.length; ++index) {\n    //                 if (this.homepageTabs.find(x => x.label === sessionObject.tabs[index].label) === undefined) {\n    //                     this.addTab(sessionObject.tabs[index].label, sessionObject.tabs[index].label + index, index, false);\n    //                 }\n    //             }\n\n    //             if (sessionObject.session.files) {\n    //                 sessionObject.session.files.forEach(file => {\n    //                     this.visuals.filesPlugin.addToTable(file);\n    //                 })\n    //             }\n\n    //             this.homepageTabs[0].isActive = true;\n    \n    //             this.loadSettings();\n    //         }\n    //     }\n    // }\n\n    DisplayRecallStashDialog(recallStash: string) {\n        switch (recallStash) {\n            case \"Recall\": {\n                // this._userService.getUserForEdit(this.appSession.userId).subscribe(userResult => {\n                //     const email: string = userResult.user.emailAddress;\n                //     this.commonService.localStorageService.getItem(\"stash-\" + email, (err, sessionData) => {\n                //         if (sessionData) {\n                //             const sessionObject: StashObjects = JSON.parse(sessionData);\n                //             if (sessionObject) {\n                //                 this.commonService.session = sessionObject.session;\n\n                //                 //Load Tabs\n                //                 sessionObject.tabs.forEach(loadedTab => {\n                //                     if (this.homepageTabs.find(x => x.label === loadedTab.label) === undefined) {\n                //                         this.Viewclick(loadedTab.label);\n                //                     }\n                //                 })\n\n                //                 this.loadSettings();\n\n                //                 this.homepageTabs.forEach(tab => {\n                //                     if (tab.componentRef &&\n                //                         tab.componentRef.instance.onRecallSession) {\n                //                         tab.componentRef.instance.onRecallSession();\n                //                     }\n                //                 })\n\n                //             }\n                //         }\n                //     });\n\n                // });\n\n                break;\n            }\n            case \"Cancel\": {\n\n                break;\n            }\n            case \"Delete\": {\n\n                break;\n            }\n        }\n        this.displayRecallStashDialog = !this.displayRecallStashDialog;\n    }\n\n    FileClick(actionName: any) {\n        switch (actionName) {\n            case \"New Session\": {\n                this.NewSession();\n                break;\n            }\n            case \"Stash Session\": {\n                this.stashSession();\n                break;\n            }\n            case \"Recall Session\": {\n                // this.DisplayRecallStashDialog(\"Cancel\");\n                this.displayRecallStashDialog = true;\n                this.updateTable();\n                break;\n            }\n            case \"Save Session\": {\n                this.DisplayStashDialog(\"Cancel\");\n                break;\n            }\n            case \"Open URL\": {\n              this.DisplayUrlDialog(\"Cancel\");\n              break;\n            }\n            case \"Add Data\": {\n                \n                // If files tab exists, go to it\n                if(this.homepageTabs.length > 1 && this.homepageTabs.findIndex(x => x.label === \"Files\") !== -1) {\n                    this._goldenLayoutHostComponent.focusComponent(\"Files\");\n                } else {\n                    this.addComponent('Files');\n                }\n\n                // this.commonService.launchView(\"files\");\n                // this.activeTabIndex = 0;\n\n                // this.homepageTabs.map(x => {\n\n                //     x.isActive = (x.tabTitle == \"Files\") ? true :false;\n                // });\n        \n                // this.tabView.tabs.map(x => {\n        \n                //     x.selected = false;\n                // });\n\n                // this.tabView.tabs[0].selected = true;\n\n                // this.setActiveTabProperties();\n\n                // this.setActiveTabProperties();\n                // this.DisplayLedgerLoaderDialog();\n                break;\n            }\n\n        }\n    }\n\n    SettingsClick(actionName: any) {\n        switch (actionName) {\n            case \"Global Settings\": {\n                this.DisplayGlobalSettingsDialog();\n                break;\n            }\n\n        }\n    }\n\n    stashSession() {\n        console.log('sesssion: ', this.commonService.session);\n        this.commonService.localStorageService.setItem(\n            \"stash-\" + Date.now() + \"-\" + $(\"#stash-name\").val(),\n            JSON.stringify(this.commonService.session)\n          )\n    }\n\n    public table;\n    \n    updateTable() {\n        \n        this.table = new Tabulator(this.stashes.nativeElement, {\n            height: \"100%\",\n            layout: \"fitData\",\n            selectable: 1,\n            columns: [\n              { title: \"Name\", field: \"name\" },\n              { title: \"Date\", field: \"date\", align: \"right\", sorter: \"date\" }\n            ]\n          });\n        const rows = [];\n        this.commonService.localStorageService.keys().then(keys => {\n          keys.forEach(k => {\n            if (k.substring(0, 5) !== \"stash\") return;\n            rows.push({\n              fullname: k,\n              name: k.substring(20),\n              date: new Date(parseFloat(k.substring(6, 19))).toISOString()\n            });\n          });\n          this.table.setData(rows);\n        });\n      }\n\n    // $(\"#recall-load-stash\").on(\"click\", () => {\n    //     let key = table.getSelectedData()[0].fullname;\n    //     localforage.getItem(key).then(json => {\n    //       MT.applySession(JSON.parse(json));\n    //       $(\"#session-recall-modal\").modal(\"hide\");\n    //     });\n    //   });\n\n    Viewclick(viewName: string) {\n\n        if(this.commonService.debugMode) {\n             console.log('viewClick: ', viewName);\n            console.log(this.commonService.session.style.widgets['link-threshold']);\n            console.log('homepage tabs1: ' , this.homepageTabs);\n        }\n       \n\n        if (viewName == \"2d network\") {\n            viewName = \"2D Network\";\n        }\n\n        const tabNdx = this.homepageTabs.findIndex(x => x.label == viewName);\n\n        /*/\n         * Don't allow duplicate tabs to get added.\n        /*/\n        if (tabNdx == -1) {\n\n            this.activeTabIndex = this.activeTabIndex + 1;\n            this.addComponent(viewName);\n\n        }\n        else {\n            \n            const container = this._goldenLayoutHostComponent.focusComponent(viewName);\n\n            const instance = this._goldenLayoutHostComponent.getComponentRef(container).instance as any;\n\n             //Load global settings changes if changed in another view\n            if (instance.loadSettings) {        \n                instance.loadSettings();\n                if (this.metric === 'snps'){\n                    this.commonService.session.style.widgets['default-distance-metric'] = 'snps';\n                    this.commonService.session.style.widgets['link-threshold'] = parseInt(this.threshold);\n                    this.onLinkThresholdChanged();\n                }\n            }\n\n        }\n\n    }\n\n    DisplayGlobalSettingsDialog(activeTab = \"Styling\") {\n\n        console.log(this.commonService.session.style.widgets['default-distance-metric']);\n        this.getGlobalSettingsData();\n\n        this.GlobalSettingsDialogSettings.setVisibility(true);\n        this.cachedGlobalSettingsVisibility = this.GlobalSettingsDialogSettings.isVisible;\n\n        this.commonService.updateThresholdHistogram(this.linkThresholdSparkline.nativeElement);\n\n        this.globalSettingsTab.tabs[activeTab === \"Styling\" ? 1 : 0].active = true;\n    }\n\n\n    WindowClick(actionName: any) {\n        switch (actionName) {\n            case \"Fullscreen\": \n\n                if (this.elem.requestFullscreen) {\n                    this.elem.requestFullscreen();\n                    } else if (this.elem.mozRequestFullScreen) {\n                    /* Firefox */\n                    this.elem.mozRequestFullScreen();\n                    } else if (this.elem.webkitRequestFullscreen) {\n                    /* Chrome, Safari and Opera */\n                    this.elem.webkitRequestFullscreen();\n                    } else if (this.elem.msRequestFullscreen) {\n                    /* IE/Edge */\n                    this.elem.msRequestFullscreen();\n                    }\n                \n                break;\n\n            case \"Reload Screen\": {\n\n                this.onReloadScreen();\n\n                window.location.reload()\n\n                \n                // this.homepageTabs.forEach(tab => {\n                //     if (tab.componentRef &&\n                //         tab.componentRef.instance.openRefreshScreen) {\n                //         tab.componentRef.instance.openRefreshScreen();\n                //     }\n                // })\n                break;\n            }\n          case \"Settings\": {\n            this.DisplayGlobalSettingsDialog(\"Filtering\");\n          }\n        }\n    }\n\n    HelpClick(actionName: any) {\n        switch (actionName) {\n            case \"Help\": {\n                this.DisplayHelp();\n                break;\n            }\n            case \"Report\": {\n                this.DisplayHelp();\n                break;\n            }\n            case \"About\": {\n                this.DisplayAbout();\n                break;\n            }\n        }\n    }\n\n    setActiveTabProperties(tabNdx: number = -1) {\n\n\n        if (tabNdx === -1) tabNdx = this.homepageTabs.findIndex(x => x.isActive == true);\n\n        const activeComponentName: string = this.homepageTabs[tabNdx].label;\n\n\n        this.homepageTabs.forEach((item: HomePageTabItem) => {\n            item.isActive = item.label === activeComponentName;\n        });\n\n        // this.activeTabIndex = tabNdx;\n        if(this.commonService.debugMode) {\n            console.log('tab switched is: ', tabNdx);\n            console.log('global l: ', this.GlobalSettingsLinkColorDialogSettings);\n            console.log('global n: ', this.GlobalSettingsNodeColorDialogSettings);\n       }\n       \n\n        switch (activeComponentName) {\n\n            case \"Files\": {\n\n                this.showSettings = true;\n                this.showExport = false;\n                this.showCenter = false;\n                this.showPinAllNodes = false;\n                this.showRefresh = false;\n                this.showButtonGroup = false;\n                this.showSorting = false;\n\n                this.cachedGlobalSettingsVisibility = this.GlobalSettingsDialogSettings.isVisible;\n                this.cachedGlobalSettingsLinkColorVisibility = this.GlobalSettingsLinkColorDialogSettings.isVisible;\n                this.cachedGlobalSettingsNodeColorVisibility = this.GlobalSettingsNodeColorDialogSettings.isVisible;\n                // this.GlobalSettingsDialogSettings.setVisibility(false);\n                // this.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n                // this.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n\n                break;\n            }\n            case \"2D Network\": {\n\n                this.showSettings = true;\n                this.showExport = true;\n                this.showCenter = true;\n                this.showPinAllNodes = true;\n                this.showRefresh = false;\n                this.showButtonGroup = false;\n                this.showSorting = false;\n\n                break;\n            }\n            case \"Table\": {\n\n                this.showSettings = false;\n                this.showExport = true;\n                this.showCenter = false;\n                this.showPinAllNodes = false;\n                this.showRefresh = false;\n                this.showButtonGroup = true;\n                this.showSorting = true;\n\n                // this.GlobalSettingsDialogSettings.setVisibility(false);\n                this.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n                this.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n\n                break;\n            }\n            case \"Map\": {\n\n                this.showSettings = true;\n                this.showExport = true;\n                this.showCenter = true;\n                this.showPinAllNodes = false;\n                this.showRefresh = false;\n                this.showButtonGroup = false;\n                this.showSorting = false;\n\n                // this.GlobalSettingsDialogSettings.setVisibility(false);\n                //this.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n                this.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n\n                break;\n            }\n            case \"Phylogenetic Tree\": {\n\n                this.showSettings = true;\n                this.showExport = true;\n                this.showCenter = true;\n                this.showPinAllNodes = false;\n                this.showRefresh = false;\n                this.showButtonGroup = false;\n                this.showSorting = false;\n\n                // this.GlobalSettingsDialogSettings.setVisibility(false);\n                this.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n                this.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n\n                break;\n            }\n        }\n\n\n        if (!this.homepageTabs[tabNdx].componentRef) {\n            setTimeout(() => {\n\n                tabNdx = this.homepageTabs.findIndex(x => x.label == activeComponentName);\n                if (this.homepageTabs[tabNdx].componentRef.instance.DisplayGlobalSettingsDialogEvent) {\n                    this.homepageTabs[tabNdx].componentRef.instance.DisplayGlobalSettingsDialogEvent.subscribe((v) => { this.DisplayGlobalSettingsDialog(v) });\n                }\n\n            });\n        } else {\n          \n            if (this.homepageTabs[tabNdx].componentRef.instance.DisplayGlobalSettingsDialogEvent) {\n                this.homepageTabs[tabNdx].componentRef.instance.DisplayGlobalSettingsDialogEvent.subscribe((v) => { this.DisplayGlobalSettingsDialog(v) });\n            }\n        }\n\n\n        this.previousTab = activeComponentName;\n    }\n\n    addTab(tabLabel: any, tabTitle: any, tabPosition: any, componentRef: any, activate: boolean = true): void {\n\n        /*/\n         * Ensure that all tabs are not selected before we set the next new tab.\n         * This will ensure that the newly created component appears on the currently selected tab, \n         * which will be the newly added tab array element.\n        /*/\n        this.homepageTabs.map(x => {\n\n            x.isActive = false;\n        });\n\n        // this.tabView.tabs.map(x => {\n\n        //     x.selected = false;\n        // });\n\n        this.activeTabIndex = tabPosition;\n        this.homepageTabs.splice(tabPosition, 0, {\n            label: tabLabel,\n            templateRef: null,\n            tabTitle: tabTitle,\n            isActive: activate,\n            componentRef: componentRef\n            // componentRef: this.goldenLayout.componentInstances[this.goldenLayout.componentInstances.length - 1]\n        });\n\n    }\n\n    clearTable(tableId) {\n        const linkColorTable = $(tableId).empty();\n    }\n\n    onReloadScreen() {\n        this.commonService.session.style.widgets = this.commonService.defaultWidgets();\n        this.loadSettings();\n    }\n\n    loadSettings() {\n        this.getGlobalSettingsData();\n\n        //Filtering|Prune With\n        this.SelectedPruneWityTypesVariable = this.commonService.session.style.widgets[\"link-show-nn\"] ? \"Nearest Neighbor\" : \"None\";\n        // this.onPruneWithTypesChanged();\n\n        //Filtering|Minimum Cluster Size\n        this.SelectedClusterMinimumSizeVariable = this.commonService.session.style.widgets[\"cluster-minimum-size\"];\n        this.onMinimumClusterSizeChanged();\n        \n        //Filtering|Filter Links on\n        this.SelectedLinkSortVariable = this.commonService.session.style.widgets[\"link-sort-variable\"];\n        this.onLinkSortChanged();\n\n        //Filtering|Filtering Threshold\n        this.SelectedLinkThresholdVariable = this.commonService.session.style.widgets[\"link-threshold\"];\n        this.onLinkThresholdChanged();\n\n        //Styling|Color Nodes By\n        this.SelectedColorNodesByVariable = this.commonService.session.style.widgets[\"node-color-variable\"];\n        this.onColorNodesByChanged();\n\n        //Styling|Nodes\n        this.SelectedNodeColorVariable = this.commonService.session.style.widgets[\"node-color\"];\n        this.onNodeColorChanged();\n\n        //Styling|Color Links By\n        if (this.commonService.session.style.widgets['link-color-variable'] === \"None\") {\n            this.commonService.session.style.widgets['link-color-variable'] = \"origin\";\n        }\n\n        this.SelectedColorLinksByVariable = this.commonService.session.style.widgets['link-color-variable'];\n        this.onColorLinksByChanged();\n\n         //Styling|Links\n         this.SelectedLinkColorVariable = this.commonService.session.style.widgets[\"link-color\"];\n         this.onLinkColorChanged();\n\n        //Styling|Link Color Table\n\n        //Styling|Selected\n        this.SelectedColorVariable = this.commonService.session.style.widgets['selected-color'];\n\n        //Styling|Background\n        this.SelectedBackgroundColorVariable = this.commonService.session.style.widgets['background-color'];\n        this.onBackgroundChanged();\n\n        this.updateGlobalSettingsModel();\n    }\n\n    publishLoadNewData() {\n\n        // this.goldenLayout.componentInstances[1].onLoadNewData();\n        this.homepageTabs.forEach(tab => {\n            // componentRef.instance.onLoadNewData ?\n            if (tab.componentRef &&\n                tab.componentRef.onLoadNewData) {\n                tab.componentRef.onLoadNewData();\n            }\n        })\n    }\n\n    publishFilterDataChange() {\n\n        // this.goldenLayout.componentInstances[1].onFilterDataChange();\n        this.homepageTabs.forEach(tab => {\n            if (tab.componentRef &&\n                tab.componentRef.instance.onFilterDataChange) {\n                tab.componentRef.instance.onFilterDataChange();\n            }\n        })\n    }\n\n    ngOnDestroy(): void {\n        this.NewSession();\n    }\n\n    /**\n     * Updates default-distance-metric widget and this.SelectedLinkThresholdVariable (7 for snps, 0.015 for TN93).\n     * Calls onLinkThresholdChanged to updated links\n     */\n  onDistanceMetricChanged = () => {\n    if (this.SelectedDistanceMetricVariable.toLowerCase() === 'snps') {\n      $('#default-distance-threshold, #link-threshold')\n        .attr('step', 1)\n        .val(7)\n        .trigger('change');\n      this.commonService.session.style.widgets['default-distance-metric'] = 'snps';\n      this.SelectedLinkThresholdVariable = '7';\n      this.onLinkThresholdChanged();\n    } else {\n      $('#default-distance-threshold, #link-threshold')\n        .attr('step', 0.001)\n        .val(0.015)\n        .trigger('change');\n      this.commonService.session.style.widgets['default-distance-metric'] = 'tn93';\n      this.SelectedLinkThresholdVariable = '0.015';\n      this.onLinkThresholdChanged();\n    }\n  }\n}\n\nclass BpaaSPayloadWrapper {\n    public BlockHashCode: string | undefined = undefined;\n    public BlockName: string | undefined = undefined;\n    public BpaaSPayload: BpaaSPayloadWrapperData | undefined = undefined;\n    public FuzzyMatchRatios: string | undefined = undefined;\n\n}\n\nclass BpaaSPayloadWrapperData {\n    public Type: string | undefined = undefined;\n    public SubType: 'Edgelist' | 'Nodelist' | undefined = undefined;\n    public JurisdictionKey: number | undefined = undefined;\n    public JurisdictionName: string | undefined = undefined;\n    public Jurisdiction: string | undefined = undefined;\n    public FileName: string | undefined = undefined;\n    public Data: any[] = [];\n}\n","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, Inject, Injector, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { EventManager } from '@angular/platform-browser';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { CommonService } from '@app/contactTraceCommonServices/common.service';\nimport { MicobeTraceNextPluginEvents } from '@app/helperClasses/interfaces';\nimport { ComponentContainer } from 'golden-layout';\nimport { OrderList } from 'primeng/orderlist';\nimport { MicrobeTraceNextVisuals } from '@app/microbe-trace-next-plugin-visuals';\n\nimport * as Papa from 'papaparse';\nimport JSZip from 'jszip';\nimport * as saveAs from 'file-saver';\nimport * as XLSX from 'xlsx';\n// import pdfMake from 'pdfmake/build/pdfmake.js';\n// import pdfFonts from 'pdfmake/build/vfs_fonts.js';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\n\n@Component({\n  selector: 'AggregateComponent',\n  templateUrl: './aggregate.component.html',\n  styleUrls: ['./aggregate.component.scss'],\n})\nexport class AggregateComponent extends BaseComponentDirective implements OnInit, AfterViewInit, MicobeTraceNextPluginEvents {\n\n  @ViewChild('orderList') orderList: OrderList;\n  \n  visuals: MicrobeTraceNextVisuals;\n  widgets: any;\n\n  SelectedDataTables: TableData[] = [];\n  fieldOptions =  [\n    {\n        label: 'Node',\n        value: 'nodes',\n        items: []\n    },\n    {\n        label: 'Link',\n        value: 'links',\n        items: []\n    },\n    {\n        label: 'Cluster',\n        value: 'clusters',\n        items: []\n    }\n];\n\n  SelectedDataFields = ['Node-cluster']\n  \n  viewActive = true;\n  settingsOpen = true;\n  exportOpen = false;\n  SelectedAggregateExportFilename = '';\n  AggregateExportFileTypeList = [\n    { label: 'xlsx', value: 'xlsx' },\n    { label: 'csv.zip', value: 'csv.zip' },\n    { label: 'json', value: 'json'},\n    { label: 'pdf', value: 'pdf'}\n  ]\n  SelectedAggregateExportFileType = 'pdf';\n\n  viewHeight: number;\n  tableStyle;\n\n  constructor(injector: Injector,\n    private renderer: Renderer2,\n    private elem: ElementRef,\n    private eventManager: EventManager,\n    public commonService: CommonService,\n    @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer, \n    elRef: ElementRef,\n    private cdref: ChangeDetectorRef,\n    private gtmService: GoogleTagManagerService) {\n\n      super(elRef.nativeElement);\n\n      this.visuals = commonService.visuals;\n      this.visuals.aggregate = this;\n      this.widgets = this.commonService.session.style.widgets;\n\n      this.updateFieldOptions();\n  }\n\n  ngOnInit(): void {\n\n    this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/aggregate\",\n            page_title: \"Aggregate View\"\n        });\n\n    this.SelectedDataFields.forEach((field, index) => {\n      this.SelectedDataTables.push({label: '', data: [], tableColumns: []})\n      this.updateTable(index);\n    })\n\n    this.updateViewHeight();\n    this.updateTableColWidth();\n\n    this.container.on('resize', () => { \n      this.updateViewHeight();\n      this.updateTableColWidth();\n    })\n    this.container.on('hide', () => { \n      this.viewActive = false; \n      this.cdref.detectChanges();\n    })\n    this.container.on('show', () => { \n      this.viewActive = true; \n      this.cdref.detectChanges();\n    })\n  }\n\n  ngAfterViewInit() {\n    this.updateTableColWidth()\n  }\n\n  updateTable(i) {\n    let fullField = this.SelectedDataFields[i].split('-')\n    let dataset = fullField[0];\n    let field = fullField.slice(1).join('-');\n\n    let tableColumns;\n    let total = 0;\n    let rawdata;\n\n    if (dataset == 'Node') {\n      rawdata = this.commonService.getVisibleNodes();\n      tableColumns = [{field:'groupName', header: this.commonService.capitalize(field)}, {field:'count', header:'Number of Nodes'}, {field:'percent', header:'Percent of Total Nodes'}];\n    } else if (dataset == 'Link') {\n      rawdata = this.commonService.getVisibleLinks();\n      tableColumns = [{field:'groupName', header: this.commonService.capitalize(field)}, {field:'count', header:'Number of Links'}, {field:'percent', header:'Percent of Total Links'}];\n    } else {\n      rawdata = this.commonService.getVisibleClusters();\n      tableColumns = [{field:'groupName', header: this.commonService.capitalize(field)}, {field:'count', header:'Number of Clusters'}, {field:'percent', header:'Percent of Total Clusters'}];\n    }   \n    \n    // populate count array [{}, {}, ...] where each item/object is a row\n    var data = [];\n\n    rawdata.forEach(row => {\n      var match = data.find(arow => arow.groupName == row[field]);\n      if (match) {\n        match['count']++;\n      } else {\n        data.push({ groupName: row[field], count: 1 });\n      }\n      total++;\n    });\n\n    data.forEach(row => {\n      row['percent'] = (row['count']*100/total)\n      if (row.groupName == null) {\n        row.groupName = 'null'\n      }\n    })\n    \n    this.SelectedDataTables[i] = {\n      label: dataset+'-'+field,\n      data: data,\n      tableColumns: tableColumns,\n    };\n  }\n\n  updateViewHeight() {\n    this.viewHeight = $(\".aggregate-wrapper\").parent().height()-70\n  }\n\n  updateTableColWidth() {\n    let width = ($('#tablesContainer').width() - 40);\n    width = width > 700 ? width*.7 : width;\n    this.tableStyle = {\n        'width' : width+'px',\n        'display': 'block'\n    }\n    $('#tablesContainer th').width(width/3);\n  }\n\n\n  addTable() {\n    this.SelectedDataFields.push('Node-selected')\n    this.SelectedDataTables.push({label: 'Node-selected', data: [], tableColumns: []})\n\n    this.updateTable(this.SelectedDataTables.length-1)\n    setTimeout(() => this.updateTableColWidth(), 0);\n    this.orderList.cd.detectChanges();\n  }\n  deleteTable(i) {\n    console.log(`deleting table ${i}`);\n    this.SelectedDataFields = this.SelectedDataFields.filter((_, loc) => loc != i)\n    this.SelectedDataTables = this.SelectedDataTables.filter((_, loc) => loc != i)\n  }\n\n  updateFieldOptions() {\n    this.commonService.session.data['nodeFields'].map((d) => {\n      if (['seq', 'origin', '_diff', '_ambiguity', 'index', '_id'].includes(d)) return;\n      this.fieldOptions[0]['items'].push({\n        short_label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n        label : `Node-${this.commonService.capitalize(d.replace(\"_\", \"\"))}`,\n        value: `Node-${d}`\n      });\n    })\n\n    this.commonService.session.data['linkFields'].map((d) => {\n      if (['index', 'origin', 'nearest neighbor', 'nn'].includes(d)) return;\n      this.fieldOptions[1]['items'].push({\n        short_label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n        label : `Link-${this.commonService.capitalize(d.replace(\"_\", \"\"))}`,\n        value: `Link-${d}`\n      });\n    })\n\n    this.commonService.session.data['clusterFields'].map((d) => {\n      this.fieldOptions[2]['items'].push({\n        short_label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n        label : `Cluster-${this.commonService.capitalize(d.replace(\"_\", \"\"))}`,\n        value: `Cluster-${d}`\n      });\n    })\n\n  }\n\n  formatTableTitle(inputString) {\n    let fullField = inputString.split('-')\n    //let datasetName = this.commonService.capitalize(fullField[0]);\n    let colGroupName = this.commonService.capitalize(fullField.slice(1).join('-'));\n    return colGroupName;\n  }\n\n  updateNodeColors() {}\n  updateLinkColor() {}\n  updateVisualization() {}\n  applyStyleFileSettings() {}\n  openRefreshScreen() {}\n  onRecallSession() {}\n  onLoadNewData() {}\n  onFilterDataChange() {}\n\n  openSettings() {\n    console.log(\"open settings pushed\");\n    this.settingsOpen = true;\n  }\n\n  openExport() {\n    console.log(\"open export pushed\")\n    this.exportOpen = true;\n  }\n\n  async exportVisualization() {\n    console.log(this.SelectedAggregateExportFilename + '.' + this.SelectedAggregateExportFileType);\n    if (this.SelectedAggregateExportFileType == 'csv.zip') {\n      let zip = new JSZip();\n      this.SelectedDataTables.forEach(table => {\n        let tmpData = table.data.map(item => {\n          let colGroupName = table.label.split('-').slice(1).join('-')\n          return { [colGroupName]: item.groupName, 'count': item.count, 'percent': item.percent+'%'}\n        })\n        \n        zip.file(table.label + '.csv', Papa.unparse(tmpData))\n        console.log(Papa.unparse(tmpData));\n      })\n      zip.generateAsync({type: 'blob'}).then(content => saveAs(content, this.SelectedAggregateExportFilename + '.zip'))\n    } else if (this.SelectedAggregateExportFileType == 'xlsx') {\n      let wb = XLSX.utils.book_new();\n      this.SelectedDataTables.forEach(table => {\n        let tmpData = table.data.map(item => {\n          let colGroupName = table.label.split('-').slice(1).join('-');\n          return { [colGroupName]: item.groupName, 'count': item.count, 'percent': item.percent+'%'}\n        })\n\n        let ws = XLSX.utils.json_to_sheet(tmpData);\n        XLSX.utils.book_append_sheet(wb, ws, table.label)\n      })\n      XLSX.writeFile(wb, this.SelectedAggregateExportFilename+'.xlsx')\n    \n    } else if (this.SelectedAggregateExportFileType == 'json') {\n      let outputData = [];\n      this.SelectedDataTables.forEach(table => {\n        let fullField = table.label.split('-')\n        let datasetName = fullField[0];\n        let colGroupName = fullField.slice(1).join('-');\n\n        let tmpData = table.data.map(item => {\n          return { [colGroupName]: item.groupName, 'n': item.count, 'percent': item.percent+'%'}\n        })\n        outputData.push({\"dataset\": datasetName.toLowerCase(), \"column\": colGroupName, data: tmpData})\n      })\n      let blob = new Blob([JSON.stringify(outputData)], { type: \"application/json;charset=utf-8\"});\n      saveAs(blob, this.SelectedAggregateExportFilename+'.json');\n    } else if ( this.SelectedAggregateExportFileType == 'pdf') {\n\n      try {\n        const { default: pdfMake } = await import('pdfmake/build/pdfmake.js');\n        const { default: pdfFonts } = await import('pdfmake/build/vfs_fonts.js');\n        pdfMake.vfs = pdfFonts.pdfMake.vfs;\n\n        const documentDefinition = {\n          content: [\n            { image: this.commonService.watermark },\n            { \n              text: \"Cluster Aggregation Snapshot\",\n              style: \"header\",\n              alignment: \"center\"\n            },\n            ...this.SelectedDataTables.map(table => {\n              let fullField = table.label.split('-')\n              let datasetName = fullField[0];\n              let colGroupName = fullField.slice(1).join('-');\n\n              let tmpData = table.data.map(item => {\n                let colGroupName = table.label.split('-').slice(1).join('-');\n                return [item.groupName, item.count, `${item.percent.toFixed(2)}%`];\n              });\n\n              return {\n                style: \"paddedTable\",\n                table: {\n                  headerRow: 1,\n                  widths: [\"*\", \"*\", \"*\"],\n                  body: [\n                    [\n                      `${this.commonService.capitalize(colGroupName)}`,\n                      `Number of ${datasetName}s`,\n                      `Percent of Total ${datasetName}s`\n                    ],\n                    ...tmpData\n                  ]\n                }\n              }\n            })\n          ],\n          footer: function(currentPage, pageCount) {\n            return [\n              {\n                text: `Page ${currentPage.toString()} of ${pageCount}`,\n                alignment: \"center\"\n              }\n            ];\n          },\n          styles: {\n            header: {\n              fontSize: 22,\n              bold: true\n            },\n            paddedTable: {\n              margin: [10, 10, 10, 10]\n            }\n          }\n        };\n\n        pdfMake.createPdf(documentDefinition).download(`${this.SelectedAggregateExportFilename}.pdf`);\n        \n      } catch (error) {\n        console.error(\"Failed to load pdfmake modules\", error);\n        // Optionally, notify the user about the failure using a toast or alert\n      }\n\n    }\n  }\n\n  reordered(e) {\n    console.log('reordered ', this.SelectedDataFields, e)\n    let updatedTableOrder = [];\n    this.SelectedDataFields.forEach((field) => {\n      updatedTableOrder.push(this.SelectedDataTables.find((table) => {\n        if (table.label == field) {\n          return true;\n        }\n      }))\n    })\n    this.SelectedDataTables = updatedTableOrder;\n  }\n\n  updateDataField(i,e) {\n    console.log(`data field ${i} changed\\nBefore: ${this.SelectedDataFields[0]}, ${this.SelectedDataFields[1]}, ${this.SelectedDataFields[2]}`);\n    console.log(e);\n    this.SelectedDataFields[i] = e.value;\n    console.log(`After: ${this.SelectedDataFields[0]}, ${this.SelectedDataFields[1]}, ${this.SelectedDataFields[2]}`);\n    this.updateTable(i); \n    setTimeout(() => this.updateTableColWidth(), 0);\n  }\n}\n\nexport namespace AggregateComponent {\n  export const componentTypeName = 'Aggregate';\n}\n\ninterface TableData {\n  label: string,\n  data: any[],\n  tableColumns: any[],\n}","import { Component, OnInit, Injector, Inject, ElementRef, ChangeDetectorRef, AfterViewInit } from '@angular/core';\nimport { EventManager } from '@angular/platform-browser';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { MicrobeTraceNextVisuals } from '@app/microbe-trace-next-plugin-visuals';\nimport { CommonService } from '@app/contactTraceCommonServices/common.service';\nimport { DialogSettings } from '../../helperClasses/dialogSettings';\nimport { MicobeTraceNextPluginEvents } from '../../helperClasses/interfaces';\nimport { ComponentContainer } from 'golden-layout';\nimport { generateCanvas } from './generateAlignmentViewCanvas';\nimport { SelectItem } from 'primeng/api';\nimport { saveAs } from 'file-saver';\nimport { svgAsPngUri } from 'save-svg-as-png';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\n\n@Component({\n  selector: 'AlignmentViewComponent',\n  templateUrl: './alignment-view-plugin-component.html',\n  styleUrls: ['./alignment-view-plugin-component.scss']\n})\nexport class AlignmentViewComponent extends BaseComponentDirective implements OnInit, AfterViewInit, MicobeTraceNextPluginEvents {\n\n  // General Settings\n  alignmentDialogSettings: DialogSettings = new DialogSettings('#alignment-settings-pane', false)\n  ShowAlignExportPane: boolean = false;\n  viewActive: boolean = true;\n\n  showHideOptions: any = [\n    { label: 'Show', value: true },\n    { label: 'Hide', value: false }\n  ];\n  labelFieldList: SelectItem[] = [];\n  //labelField = \"_id\" // replaced with this.widgets['alignView-labelField']\n  labelArray: any[];\n  //sortField = \"index\" // replaced with this.widgets['alignView-sortField']\n\n  private visuals: MicrobeTraceNextVisuals;\n  widgets;\n  \n  // Data\n  nodesWithSeq: any[];\n  seqArray: string[];\n  seqArrayShortened: any[];\n  longestSeqLength: number = 0;\n\n  /**\n   * count matrix: [ [#A, #C, #G, #T, #other/ambig]-for each location, ... ]\n   */\n  countMatrix;\n  /**\n   * proportion matrix: [ [A, C, G, T, #other/ambig]-for each location, ... ]\n   */\n  proportionMatrix;\n  /**\n   * position matrix: [ [A, C, G, T, #other/ambig]-for each location, ... ]\n   * y position (top) for each base at each postion in sequence\n   */\n  positionMatrix;\n  proportionMatrixAA;\n  positionMatrixAA;\n\n  // Layout\n  //showMiniMap: boolean; // replaced with this.widgets['alignView-showMiniMap']\n  //alignmentTopDisplay: string; // replaced with this.widgets['alignView-topDisplay']\n  alignmentTopDisplayOptions = [\n    { label: 'Logo', value: 'logo' },\n    { label: 'Bar Plot', value: 'barplot'}\n  ]\n  //charSetting: string; // 'show', 'min', 'hide' // replaced with this.widgets['alignView-charSetting']\n  charSettingOptions: any = [\n    { label: 'Show', value: 'show' },\n    { label: 'Minimum', value: 'min'},\n    { label: 'Hide', value: 'hide' }\n  ];\n  seqTypeOptions = [\n    { label: 'Nucleotides', value: 'nt'},\n    { label: 'Codons', value: 'codon'},\n    { label: 'Amino Acids', value: 'aa'}\n  ];\n  selectedSeqType = 'nt';\n  startPos = 1;\n  //rulerMinorInterval: number = 20; replaced with this.widgets['alignView-rulerMinorInterval']\n  rulerIntervalOptions = [0, 10, 20, 25, 50]\n  translationSetting = 'Maintain Codons'\n\n  // Sizing\n  // spanWidth and spanHeight values are duplicated in the widgets; I didn't replace because these are used through the template in loops and I was concerned that\n  // looking up there values 1000's of times from this.commonService.session.style.widgets would hurt performance\n  spanWidth: number; \n  spanHeight: number;\n  fontSize: number;\n\n  sizes = [\n    { label: 'Small', value: 's'},\n    { label: 'Medium', value: 'm'},\n    { label: 'Large', value: 'l'},\n    { label: 'Custom', value: 'c'}\n  ]\n  //selectedSize: string; // replaced with this.widgets['alignView-selectedSize']\n\n  alignmentViewHeight: number;\n  rightViewHeight: number;\n  canvasViewHeight: number;\n\n  leftWidth: number;\n  rightWidth: number;\n\n  // Colors\n  //selectedColorSchemeName: string; // replaced with this.widgets['alignView-colorSchemeName']\n  colorScheme; // current color scheme;\n  // customColorScheme; // replaced with this.widgets['alignView-customColorScheme']\n  useCustomColorScheme: boolean;\n  colorSchemeOptions = [\n    { label: 'Normal', \n      value: 'n',\n    },\n    { label: 'Alternative', \n    value: 'a',\n    },\n    {\n      label: 'Custom',\n      value: 'c'\n    }\n  ]\n\n  // Export\n  AlignmentExportFileName: string = \"\"\n  AlignmentExportFileTypeVis: string = \"svg\";\n  AlignmentExportFileTypeData: string = \"fasta\";\n\n  constructor(injector: Injector,\n    private eventManager: EventManager,\n    public commonService: CommonService,\n    @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer, \n    elRef: ElementRef,\n    private cdref: ChangeDetectorRef,\n    private gtmService: GoogleTagManagerService) {\n\n    super(elRef.nativeElement);\n\n    this.visuals = commonService.visuals;\n    this.commonService.visuals.alignment = this;\n    this.widgets = this.commonService.session.style.widgets;\n  }\n\n  ngOnInit(): void {\n\n    this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/alignment\",\n            page_title: \"Alignment View\"\n        });\n    // set events such as node-selected\n    this.setEvents();\n\n    this.setDefaultWidgets();\n\n    this.labelFieldList = [];\n    this.commonService.session.data['nodeFields'].map((d, i) => {\n      if (d != 'seq' && d != 'sequence') {\n        this.labelFieldList.push({\n          label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n          value: d\n        });\n      }\n    });\n\n    // sets nodesWithSeq, seqArr, and longestSeqLength\n    this.nodesWithSeq = [];\n    this.seqArray = [];\n    this.commonService.session.data.nodes.forEach((node, index) => {\n      if (node.seq != null && node.seq != \"\" && node.seq != \"null\"){\n        this.nodesWithSeq.push(index);\n        this.seqArray.push(node.seq.toUpperCase());\n        if (node.seq.length > this.longestSeqLength) {\n          this.longestSeqLength = node.seq.length;\n        }\n      }\n    })\n\n    this.labelArray = this.getData(this.nodesWithSeq, ['index', this.widgets['alignView-labelField']]);\n\n    // calculations countMatrix, proportionMatrix, and positionMatrix\n    this.calculateProportionAtEachLocation();\n\n    // sets different variables relating to size and display\n    this.onAlignmentTopChange()\n\n    if (this.widgets['alignView-colorSchemeName'] == 'n' || this.widgets['alignView-colorSchemeName'] == 'a') {\n      this.useCustomColorScheme = false;\n    } else {\n      this.useCustomColorScheme = true;\n    }\n    this.onSelectedColorChanged(true)\n\n    // updates spanWidth, spanHeight, rightWidth, leftWidth, fontSize, and then updates alignment\n    this.onSelectedSizeChanged()\n    // updates the valus of nodeWidthSeqShortened based on size of rigthWitdth, longestSeqLength, and nodesWithSeq\n    this.shortenNodesWithSeq();\n\n    // updates shows or hides minimap and then updates view heights\n    this.updateMiniMapVisibility();    \n\n    this.container.on('resize', () => { this.goldenLayoutComponentResize()})\n    this.container.on('hide', () => { \n      this.viewActive = false; \n      this.cdref.detectChanges();\n    })\n    this.container.on('show', () => { \n      this.viewActive = true; \n      this.cdref.detectChanges();\n    })\n  }\n\n  ngAfterViewInit(): void {\n    this.highlightRows();\n  }\n\n  // General\n\n  /**\n   * Defines new widgets and set default values\n   */\n  setDefaultWidgets() {\n    //size\n    if (this.widgets['alignView-selectedSize'] == undefined) {\n      this.widgets['alignView-selectedSize'] = 'l';\n    }\n    // height and width are declare/checked in this.onSelectedSizeChanged()\n\n    // color\n    if (this.widgets['alignView-colorSchemeName'] == undefined) {\n      this.widgets['alignView-colorSchemeName'] = 'n';\n    }\n\n    if (this.widgets['alignView-customColorScheme'] == undefined) {\n      this.widgets['alignView-customColorScheme'] = {\n        'A': '#ccff00',\n        'C': '#f0e442',\n        'G': '#ff9900',\n        'T': '#ff6600',\n        'ambig': '#ffffff',\n      }\n    }\n\n    // labels/sorting\n    if (this.widgets['alignView-labelField'] == undefined) {\n      this.widgets['alignView-labelField'] = '_id';\n    }\n\n    if (this.widgets['alignView-sortField'] == undefined) {\n      this.widgets['alignView-sortField'] = 'index';\n    }\n\n    // top settings\n    if (this.widgets['alignView-showMiniMap'] == undefined) {\n      this.widgets['alignView-showMiniMap'] = true;\n    }\n\n    if (this.widgets['alignView-topDisplay'] == undefined) {\n      this.widgets['alignView-topDisplay'] = 'barplot';\n    }\n\n    if (this.widgets['alignView-rulerMinorInterval'] == undefined) {\n      this.widgets['alignView-rulerMinorInterval'] = 20;\n    }\n\n    // main canvas\n    if (this.widgets['alignView-charSetting'] == undefined) {\n      this.widgets['alignView-charSetting'] = 'show';\n    }\n    this.widgets['alignView-charSetting'] = 'show';\n  }\n\n  /**\n   * \n   * @param indexList an array of indexes for the nodes to get data from\n   * @param field string | array of which field to get data from\n   * @returns an array of objects\n   */\n  getData(indexList, field) {\n    if (Array.isArray(field)) {\n      return indexList.map(index => {\n        let currentObj = {}\n        field.forEach(f => currentObj[f] = (f == \"seq\") ? this.commonService.session.data.nodes[index][f].toUpperCase() : this.commonService.session.data.nodes[index][f]);\n        return currentObj;\n      })\n    } else if (field == \"seq\") {\n      return indexList.map(index => this.commonService.session.data.nodes[index][\"seq\"].toUpperCase());\n    } else {\n      return indexList.map(index => this.commonService.session.data.nodes[index][field])\n    }\n  }\n\n  /**\n   * Updates the value of this.longestSeqLength\n   */\n  updateLongestSeqLength() {\n    let longestSeq = 0;\n    this.seqArray.forEach((seq) => {\n      if (seq.length > longestSeq) {\n        longestSeq = seq.length\n      }\n    })\n    this.longestSeqLength = longestSeq;\n  }\n\n  /**\n  * Updates the alignment by generating a new canvas, and recalcuating various heights\n  */\n  updateAlignment() {\n    generateCanvas(this.seqArray, {width: this.spanWidth, height: this.spanHeight, charSetting: this.widgets['alignView-charSetting'], fontSize: this.fontSize, colors: this.colorScheme}).then(function(canvas: HTMLCanvasElement) {\n      $('#msa-viewer .canvasHolder').empty().append(canvas)\n    })\n    \n    this.updateViewHeights();\n  }\n\n  // Mini Map\n\n  /**\n  * Creates a minimap. \n  * The sequences (seqArrayShortened) are previously downsample by picking 1 nt / every n nucleotides;\n  */\n  updateMiniMap() {\n    $('#miniMap canvas').remove();\n    generateCanvas(this.seqArrayShortened, {width: 1, height: 1, charSetting: 'hide', fontSize: 1, colors: this.colorScheme}).then(function(canvas: HTMLCanvasElement) {\n      $('#miniMap').append(canvas);\n    })\n  }\n\n  /**\n   * Adds/Removed miniMap and miniMap title\n   */\n  updateMiniMapVisibility() {\n    if (this.widgets['alignView-showMiniMap']){\n      this.updateMiniMap();\n      $('#miniMapHolder').css({'display': 'block'});\n      $('#miniMapTitle').css({'display': 'block'});\n    } else {\n      $('#miniMapHolder').css({'display': 'none'});\n      $('#miniMapTitle').css({'display': 'none'});\n    }\n\n    this.updateViewHeights();\n  }\n\n  /**\n   * Add miniMapHighlight to correct position\n   * @param e mouse event\n   * @param miniMap HTMLElement\n   */\n  showMiniMapHighlight(e: MouseEvent, miniMap: HTMLElement) {\n    let mmDimensions = miniMap.getBoundingClientRect();\n    \n    // need to reduce number of sequences on minimap if there are too many\n    let scaleFactorNumber = (this.nodesWithSeq.length <= 100)? 1: Math.ceil(this.nodesWithSeq.length/100);\n    let viewHeight = $('.canvasLabels').height();\n    let highlightHeight = viewHeight/(this.spanHeight*scaleFactorNumber);\n\n    // want the minimap to be around this.rightWidth pixels wide; caculate how much to downscale by and then downscale\n    let scaleFactorLength = (this.longestSeqLength < this.rightWidth)? 1 : Math.ceil(this.longestSeqLength/this.rightWidth);\n    let highlightWidth = $('.canvasHolder').width()/(this.spanWidth*scaleFactorLength)\n\n    let canvasWidth = $('#miniMap canvas').width()\n    let left = e.clientX - mmDimensions.left - highlightWidth/2;\n    if (left < 0) {\n      left = 0;\n    } else if (left > canvasWidth - highlightWidth) {\n      left = canvasWidth - highlightWidth;\n    }\n\n    $('#miniMapHighlight').css({'display': 'block', 'top': top +'px', 'left': left +'px', 'height': highlightHeight+'px', 'width': highlightWidth+'px'})\n  }\n\n  /**\n   * Moves the position of miniMapHighlight\n   * @param e mouse event\n   * @param miniMap HTMLElement\n   */\n  updateMiniMapHighlight(e: MouseEvent, miniMap: HTMLElement) {\n    let mmDimensions = miniMap.getBoundingClientRect();\n\n    let highlightHeight = $('#miniMapHighlight').height()\n    let top = e.clientY - mmDimensions.top - (highlightHeight/2)\n    if (top < 0) {\n      top = 0\n    } else if (top > mmDimensions.height-highlightHeight) {\n      top = mmDimensions.height-highlightHeight\n    }\n\n    let canvasWidth = $('#miniMap canvas').width()\n    let highlightWidth = $('#miniMapHighlight').width()\n    let left = e.clientX - mmDimensions.left - highlightWidth/2;\n    if (left < 0) {\n      left = 0;\n    } else if (left > canvasWidth - highlightWidth) {\n      left = canvasWidth - highlightWidth;\n    }\n\n    $('#miniMapHighlight').css({'top': top +'px', 'left': left +'px'});\n  }\n\n  /**\n   * Removes highling from minimap\n   */\n  hideMiniMapHighlight() {\n    $('#miniMapHighlight').css({'display': 'none'})\n  }\n\n  /**\n   * Moves scroll position of main canvas, canvasLabels, and alignmentTop(Bar Plot, Rule) based on position of miniMapHighlight\n   */\n  miniMapClick(e: MouseEvent, miniMap: HTMLElement, canvasHolder: HTMLElement, canvasLabels: HTMLElement, alignmentTop: HTMLElement) {\n    let mmDimensions = miniMap.getBoundingClientRect();\n    let highlightDimensions =  document.getElementById('miniMapHighlight').getBoundingClientRect();\n\n    // want the minimap to be around this.rightWidth pixels wide; caculate how much to downscale by and then downscale\n    let scaleFactorLength = (this.longestSeqLength < this.rightWidth)? 1 : Math.ceil(this.longestSeqLength/this.rightWidth);\n    // need to reduce number of sequences on minimap if there are too many\n    let scaleFactorNumber = (this.nodesWithSeq.length <= 100)? 1: Math.ceil(this.nodesWithSeq.length/100);\n    //let scaleFactor = Math.ceil(this.longestSeqLength/this.rightWidth)\n    let horizontalScroll = (highlightDimensions.left - mmDimensions.left)*this.spanWidth*scaleFactorLength;    \n    alignmentTop.scrollLeft = horizontalScroll < 10 ? horizontalScroll : horizontalScroll + 7;\n    canvasHolder.scrollLeft = horizontalScroll < 10 ? horizontalScroll : horizontalScroll + 7;\n\n    let verticalScroll = (highlightDimensions.top - mmDimensions.top)*this.spanHeight*scaleFactorNumber;\n    canvasLabels.scrollTop = verticalScroll < 4 ? verticalScroll : verticalScroll+4;\n    canvasHolder.scrollTop = verticalScroll < 4 ? verticalScroll : verticalScroll+4;  \n  }\n\n  // Tooltip\n\n  /**\n   * \n   * @param e $event\n   * @param index index of the nt for the tooltip\n   */\n  showTooltip(e: MouseEvent ,index:number) {\n    // offsetX = mouse X position + adjustment to center of the bar -50 to center toolbar\n    let [x, ] = this.getRelativeMousePosition(e);\n    let adjX = this.spanWidth/2 - (e.offsetX % this.spanWidth)\n    let offsetX = x + adjX -50;\n    \n    // offsetY = 151 (51 offset + 100 height) + height of minimap (number of seq/scaleFactor + 26 for padding, border, margin)\n    let offsetY;\n    if (this.widgets['alignView-showMiniMap']) {\n      let scaleFactorNumber = (this.nodesWithSeq.length <= 100)? 1: Math.ceil(this.nodesWithSeq.length/100)\n      offsetY = 151 + Math.ceil(this.nodesWithSeq.length/scaleFactorNumber+26)\n    } else {\n      offsetY = 151;\n    }\n\n    let htmlString = this.tabulate(index);\n    $('#tooltipAlign').html(htmlString)\n    $('#tooltipHolder').css({'display': 'block', 'position': 'absolute', 'left': offsetX + 'px', 'top': offsetY + 'px'})\n  }\n\n  /**\n   * Hides the tooltip\n   */\n  hideTooltip() {\n    //$('#tooltipAlign').html(\"\")\n    $('#tooltipHolder').css({'display': 'none'})\n  }\n\n\n  // Data\n\n  /**\n   * Updates seqArrayShortened by downsampling (selecting 1 out of every n NTs and selected 1 out of every m sequences, as needed) nodesWithSeq\n   * \n   */\n  shortenNodesWithSeq() {\n    if (this.longestSeqLength < this.rightWidth && this.nodesWithSeq.length <= 100) {\n      this.seqArrayShortened = this.seqArray\n      $('#miniMap').css({'width': this.longestSeqLength+'px', 'height': this.nodesWithSeq.length+'px'})\n      $('#miniMapTitle').css({'height': (this.nodesWithSeq.length+16)+'px', 'line-height': (this.nodesWithSeq.length+16)+'px'})\n      return; \n    }\n\n    // want the minimap to be around this.rightWidth pixels wide; caculate how much to downscale by and then downscale\n    let scaleFactorLength = (this.longestSeqLength < this.rightWidth)? 1 : Math.ceil(this.longestSeqLength/this.rightWidth);\n    // need to reduce number of sequences on minimap if there are too many\n    let scaleFactorNumber = (this.nodesWithSeq.length <= 100)? 1: Math.ceil(this.nodesWithSeq.length/100);\n    this.seqArrayShortened = [];\n    this.seqArray.forEach((seq, index) => {\n      if (index % scaleFactorNumber != 0) return;\n      let downSizedSeq = \"\";\n      for (let i=0; i < this.longestSeqLength; i+= scaleFactorLength) {\n        downSizedSeq += seq.charAt(i);\n      }\n      this.seqArrayShortened.push(downSizedSeq)\n    })\n\n    $('#miniMap').css({'width': Math.ceil(this.longestSeqLength/scaleFactorLength)+'px', 'height': Math.ceil(this.nodesWithSeq.length/scaleFactorNumber)+'px'})\n    $('#miniMapTitle').css({'height': Math.ceil(this.nodesWithSeq.length/scaleFactorNumber+16)+'px', 'line-height': Math.ceil(this.nodesWithSeq.length/scaleFactorNumber+16)+'px'})\n  }\n\n  /**\n   * Calculates the count, proportion, and y position (for logo/bar plot) of each base at each position\n   */\n  calculateProportionAtEachLocation() {\n    // count matrix: [ [#A, #C, #G, #T, #other/ambiguos]-for each location, ... ]\n    this.countMatrix = [];\n    this.proportionMatrix = [];\n    this.positionMatrix = [];\n\n    for (let i =0; i<this.longestSeqLength; i++) {\n      this.countMatrix.push([0,0,0,0,0]);\n    }\n\n    for (let seq of this.seqArray) {\n      for (let i=0; i< seq.length; i++) {\n        let nt = seq[i];\n        switch (nt) {\n          case 'A':\n            this.countMatrix[i][0] += 1;\n            break;\n          case 'C':\n            this.countMatrix[i][1] += 1;\n            break;\n          case 'G':\n            this.countMatrix[i][2] += 1;\n            break;\n          case 'T':\n            this.countMatrix[i][3] += 1;\n            break; \n          default:\n            this.countMatrix[i][4] += 1\n        }\n      } \n    }\n    \n    function calcProportion(value) {\n      let sum = value[0] + value[1] + value[2] + value[3] + value[4];\n      return [value[0]/sum, value[1]/sum, value[2]/sum, value[3]/sum, value[4]/sum]\n    }\n\n    function calculatePosition(value) {\n      // custom merge sort; i want  first four items in value sorted but i want array of indexes returned not array of values\n      let mergeA = value[0] > value[1] ? [0,1] : [1,0]\n      let mergeB = value[2] > value[3] ? [2,3] : [3,2]\n      let sortedIndexes = [];\n      let locA = 0, locB=0;\n      for (let i =0; i<4; i++) {\n        if (locA == 2) {\n          sortedIndexes.push(mergeB[locB])\n          locB += 1;\n        } else if (locB == 2) {\n          sortedIndexes.push(mergeA[locA])\n          locA += 1;\n        } else if (value[mergeA[locA]] > value[mergeB[locB]]) {\n          sortedIndexes.push(mergeA[locA])\n          locA += 1;\n        } else {\n          sortedIndexes.push(mergeB[locB])\n          locB += 1;\n        }\n      }\n\n      // use sorted index to create temp/row of positionMatrix such at the ambig (value[4]) is at the very top and then largest to smallest\n      let temp = [0,0,0,0,0];\n      let y = value[4]*100;\n      for (let index of sortedIndexes) {\n        temp[index] = y;\n        y += value[index]*100\n      }\n      return temp;\n    }\n\n    this.proportionMatrix = this.countMatrix.map(calcProportion)\n    this.positionMatrix = this.proportionMatrix.map(calculatePosition)\n  }\n\n  /**\n   * Generates and returns the proportion matrix from Amino Acid sequence\n   */\n    calculateProportionAminoAcids() {\n      // count matrix: [ [#A, #R, #N, #D, #C, #E, #Q, #G, #H, #I, #L, #K, #M, #F, #P, #S, #T, #W, #Y, #V, #*, #-, #X]-for each location, ... ]\n      let countMatrix = [];\n  \n      for (let i =0; i<this.longestSeqLength; i++) {\n        countMatrix.push(Array(23).fill(0));\n      }\n  \n      for (let seq of this.seqArray) {\n        for (let i=0; i< seq.length; i++) {\n          let nt = seq[i];\n          switch (nt) {\n            case 'A':\n              countMatrix[i][0] += 1;\n              break;\n            case 'R':\n              countMatrix[i][1] += 1;\n              break;\n            case 'N':\n              countMatrix[i][2] += 1;\n              break;\n            case 'D':\n              countMatrix[i][3] += 1;\n              break; \n            case 'C':\n              countMatrix[i][4] += 1;\n              break;\n            case 'E':\n              countMatrix[i][5] += 1;\n              break;\n            case 'Q':\n              countMatrix[i][6] += 1;\n              break;\n            case 'G':\n              countMatrix[i][7] += 1;\n              break;\n            case 'H':\n              countMatrix[i][8] += 1;\n              break;\n            case 'I':\n              countMatrix[i][9] += 1;\n              break;\n            case 'L':\n              countMatrix[i][10] += 1;\n              break; \n            case 'K':\n              countMatrix[i][11] += 1;\n              break;\n            case 'M':\n              countMatrix[i][12] += 1;\n              break;\n            case 'F':\n              countMatrix[i][13] += 1;\n              break; \n            case 'P':\n              countMatrix[i][14] += 1;\n              break;\n            case 'S':\n              countMatrix[i][15] += 1;\n              break; \n            case 'T':\n              countMatrix[i][16] += 1;\n              break; \n            case 'W':\n              countMatrix[i][17] += 1;\n              break; \n            case 'Y':\n              countMatrix[i][18] += 1;\n              break; \n            case 'V':\n              countMatrix[i][19] += 1;\n              break; \n            case '*':\n              countMatrix[i][20] += 1;\n              break; \n            case '-':\n              countMatrix[i][21] += 1;\n              break; \n            case 'X':\n              countMatrix[i][22] += 1;\n              break; \n            default:\n              countMatrix[i][22] += 1;\n          }\n        } \n      }\n\n      function calcProportion(value) {\n        let sum = value.reduce((acc, cur) => acc + cur, 0)\n        return value.map(current => current/sum);\n      }\n      return countMatrix.map(calcProportion)\n}\n\n  /**\n   * Generates and returns the position Matrix from Amino Acid proportion matrix\n   */\n  calculatePositionMatrixAminoAcids() {\n    let count = 0;\n    let output = [];\n      //let index2NT = ['A', 'R', 'N', 'D', 'C', 'E', 'Q', 'G', 'H', 'I', 'L', 'K', 'M', 'F', 'P', 'S', 'T', 'W', 'Y', 'V', '*', '-', 'X'];\n      this.proportionMatrixAA.forEach((row) => {\n        let nonZeroIndexes = [];\n        row.forEach((value, index) => {\n          if (value > 0 && index < 20) nonZeroIndexes.push(index);\n        })\n        nonZeroIndexes.sort(compareIndices);\n        function compareIndices(a,b) {\n          return row[b] - row[a]\n        }\n        count += 1;\n        let temp = new Array(23).fill(0);\n        let y = (row[22]+row[21]+row[20])*100;        \n        for (let index of nonZeroIndexes) {\n          temp[index] = y;\n          y += row[index]*100\n        }\n        output.push(temp);\n      })\n\n    return output;\n  }\n\n  /**\n   * Similar to caclulating the proportion, but gaps and ambiguous nucleotides are separated\n   */\n  calculateAdvancedProportion() {\n        // count matrix: [ [#A, #C, #G, #T, gaps, #N, #R, #Y, #K, #M, #S, #W, #B, #D, #H, #V #other]-for each location, ... ]\n        let countMatrix = [];\n    \n        for (let i =0; i<this.longestSeqLength; i++) {\n          countMatrix.push(Array(17).fill(0)); // update this\n        }\n    \n        for (let seq of this.seqArray) {\n          for (let i=0; i< seq.length; i++) {\n            let nt = seq[i];\n            switch (nt) {\n              case 'A':\n                countMatrix[i][0] += 1;\n                break;\n              case 'C':\n                countMatrix[i][1] += 1;\n                break;\n              case 'G':\n                countMatrix[i][2] += 1;\n                break;\n              case 'T':\n                countMatrix[i][3] += 1;\n                break; \n              case '-':\n                countMatrix[i][4] += 1;\n                break;\n              case 'N':\n                countMatrix[i][5] += 1;\n                break;\n              case 'R':\n                countMatrix[i][6] += 1;\n                break;\n              case 'Y':\n                countMatrix[i][7] += 1;\n                break;\n              case 'K':\n                countMatrix[i][8] += 1;\n                break;\n              case 'M':\n                countMatrix[i][9] += 1;\n                break;\n              case 'S':\n                countMatrix[i][10] += 1;\n                break; \n              case 'W':\n                countMatrix[i][11] += 1;\n                break;\n              case 'B':\n                countMatrix[i][12] += 1;\n                break;\n              case 'D':\n                countMatrix[i][13] += 1;\n                break; \n              case 'H':\n                countMatrix[i][14] += 1;\n                break;\n              case 'V':\n                countMatrix[i][15] += 1;\n                break; \n              default:\n                countMatrix[i][16] += 1;\n            }\n          } \n        }\n\n        function calcProportion(value) {\n          let sum = value.reduce((acc, cur) => acc + cur, 0)\n          return value.map(current => current/sum);\n        }\n        return countMatrix.map(calcProportion)\n  }\n\n  /** returns Math.floor(i); allows for it to be called from within the template */\n  floor(i) {\n    return Math.floor(i)\n  }\n\n  /**\n   * @param i position\n   * @returns the x pos for the elements in the barplot/logo/ruler based on the startPos and selectedSeqType\n   */\n  xPos(i) {\n    if (this.selectedSeqType == 'codon' && i < this.startPos) {\n      return 0\n    } else if (this.selectedSeqType=='codon') {\n      return this.spanWidth*(i-this.startPos+1+Math.floor((i-this.startPos+1)/3))\n    } else {\n      return this.spanWidth*i;\n    }\n  }\n\n  /** Calculates the need with of SVG image based on selectedSeqType and the length of the sequences */\n  getSVGWidth() {\n    if (this.selectedSeqType == 'nt') {\n      return this.spanWidth*this.proportionMatrix.length+17\n    } else if (this.selectedSeqType == 'codon') {\n      let length = this.proportionMatrix.length\n      return this.spanWidth*(length+Math.floor(length/3))+17\n    } else {\n      return this.spanWidth*this.proportionMatrixAA.length+17\n    }\n  }\n\n  /** Updates Alignment View when type of sequence is changed */\n  onSeqTypeChange() {\n    if (this.selectedSeqType=='nt') {\n      this.startPos = 1;\n      this.revert2NT();\n    } else if (this.selectedSeqType == 'codon') {\n      this.NT2Codon(this.startPos-1);\n    } else {\n      this.convertToAASequence(this.startPos-1);\n    }\n  }\n\n  /** Returns a lookup table for converting NTs to Amino Acids. Doesn't account for ambiguity. USe checkAmbiguousCodons() to convert a codon\n   * with ambiguous nucleotides into an Amino Acid\n   */\n  getNT2AATable() {\n    return {\n      'TTT': 'F', 'TTC': 'F', 'TTA': 'L', 'TTG': 'L', 'TCT': 'S', 'TCC': 'S', 'TCA': 'S', 'TCG': 'S', \n      'TAT': 'Y', 'TAC': 'Y', 'TAA': '*', 'TAG': '*', 'TGT': 'C', 'TGC': 'C', 'TGA': '*', 'TGG': 'W',\n      'CTT': 'L', 'CTC': 'L', 'CTA': 'L', 'CTG': 'L', 'CCT': 'P', 'CCC': 'P', 'CCA': 'P', 'CCG': 'P',\n      'CAT': 'H', 'CAC': 'H', 'CAA': 'Q', 'CAG': 'Q', 'CGT': 'R', 'CGC': 'R', 'CGA': 'R', 'CGG': 'R', \n      'ATT': 'I', 'ATC': 'I', 'ATA': 'I', 'ATG': 'M', 'ACT': 'T', 'ACC': 'T', 'ACA': 'T', 'ACG': 'T',\n      'AAT': 'N', 'AAC': 'N', 'AAA': 'K', 'AAG': 'K', 'AGT': 'S', 'AGC': 'S', 'AGA': 'R', 'AGG': 'R', \n      'GTT': 'V', 'GTC': 'V', 'GTA': 'V', 'GTG': 'V', 'GCT': 'A', 'GCC': 'A', 'GCA': 'A', 'GCG': 'A',\n      'GAT': 'D', 'GAC': 'D', 'GAA': 'E', 'GAG': 'E', 'GGT': 'G', 'GGC': 'G', 'GGA': 'G', 'GGG': 'G'\n    }\n  }\n\n  /** Converts the nucleotide sequence for each node into an amino acid sequence, based on startPos and , then updates the view */\n  convertToAASequence(startPos=0) {\n    let NT2AA_table = this.getNT2AATable();\n\n    this.seqArray = this.getData(this.nodesWithSeq, 'seq');\n\n    this.updateLongestSeqLength();\n    let AAarray = [];\n    let NT_check = /^[ACGT]+$/;\n    \n    this.seqArray.forEach(seq => {\n      if (this.translationSetting=='Maintain Codons') {\n        let aaString = ''\n        for (let i=startPos; i< seq.length; i += 3) {\n          let codon = seq.substring(i, i+3);\n          if (NT_check.test(codon)) {\n            aaString += NT2AA_table[codon];\n          } else if (codon == '---') {\n            aaString += '-'\n          } else {\n            aaString += this.checkAmbiguousCodons(codon, NT2AA_table);\n          }\n        }\n        AAarray.push(aaString);\n      } else {\n        let aaString = '';\n        let gapCount = 0;\n        let codon = '';\n        for (let i=startPos; i < seq.length; i++) {\n          let nt = seq.charAt(i);\n          if (nt == '-') {\n            gapCount += 1;\n          } else {\n            codon += nt;\n          }\n\n          if (gapCount == 3) {\n            aaString += '-';\n            gapCount = 0;\n          } else if (codon.length == 3) {\n            if (NT_check.test(codon)) {\n              aaString += NT2AA_table[codon]\n            } else {\n              let aa = this.checkAmbiguousCodons(codon, NT2AA_table);\n              aaString += aa;\n            } \n            codon = '';\n          }\n        }\n        AAarray.push(aaString);\n      }     \n    })\n    this.seqArray = AAarray;\n    this.colorScheme =   {\n      A: '#33cc00',\n      R: '#cc0000',\n      N: '#6600cc',\n      D: '#0033ff',\n      C: '#ffff00',\n      Q: '#6600cc',\n      E: '#0033ff',\n      G: '#33cc00',\n      H: '#009900',\n      I: '#33cc00',\n      L: '#33cc00',\n      K: '#cc0000',\n      M: '#33cc00',\n      F: '#009900',\n      P: '#33cc00',\n      S: '#0099ff',\n      T: '#0099ff',\n      W: '#009900',\n      Y: '#009900',\n      V: '#33cc00',\n      X: '#ffffff'\n    }\n\n    this.updateAlignment();\n    this.updateLongestSeqLength();\n    this.shortenNodesWithSeq();\n    this.proportionMatrixAA = this.calculateProportionAminoAcids();\n    this.positionMatrixAA = this.calculatePositionMatrixAminoAcids();\n    this.updateMiniMap();\n  }\n\n  /** Converts a codon into an amino acid, tries to resolve ambiguous nucleotides; Return amino acid, X for ambiguous amino acid, or - if codon.length != 3 */\n  checkAmbiguousCodons(codon: string, NT2AA_table=this.getNT2AATable()) {\n    let ambiguousCheck = /^[ACGTNRYKMSWBDHV]+$/\n    if (codon.length != 3) {\n      return '-'\n    } else if (!ambiguousCheck.test(codon)) {\n      return 'X'\n    }\n\n    let positionPossibilities = [];\n    for (let i=0; i<3; i++) {\n      let currentNT = codon.charAt(i);\n      if (currentNT == 'A' || currentNT == 'C' || currentNT == 'G' || currentNT == 'T') {\n        positionPossibilities.push([currentNT])\n      } else if (currentNT == 'W') {\n        positionPossibilities.push(['A', 'T'])\n      } else if (currentNT == 'S') {\n        positionPossibilities.push(['C', 'G'])\n      } else if (currentNT == 'M') {\n        positionPossibilities.push(['A', 'C'])\n      } else if (currentNT == 'K') {\n        positionPossibilities.push(['G', 'T'])\n      } else if (currentNT == 'R') {\n        positionPossibilities.push(['A', 'G'])\n      } else if (currentNT == 'Y') {\n        positionPossibilities.push(['C', 'T'])\n      } else if (currentNT == 'B') {\n        positionPossibilities.push(['C', 'G', 'T'])\n      } else if (currentNT == 'D') {\n        positionPossibilities.push(['A', 'G', 'T'])\n      } else if (currentNT == 'H') {\n        positionPossibilities.push(['A', 'C', 'T'])\n      } else if (currentNT == 'V') {\n        positionPossibilities.push(['A','C', 'G'])\n      } else if (currentNT == 'N') {\n        positionPossibilities.push(['A', 'C', 'G', 'T'])\n      }\n    }\n    let possibleCodons = [];\n    positionPossibilities[0].forEach(nt0 => {\n      positionPossibilities[1].forEach(nt1 => {\n        positionPossibilities[2].forEach(nt2 => {\n          possibleCodons.push(nt0+nt1+nt2);\n        })\n      })\n    })\n\n    let possibleAA = NT2AA_table[possibleCodons[0]];\n    for (let i=1; i<possibleCodons.length; i++) {\n      let AA = NT2AA_table[possibleCodons[i]]\n      if (possibleAA != AA) {\n        return 'X'\n      }\n    }\n\n    return possibleAA;\n  }\n\n  /** Reverts the view back to the original sequence view */\n  revert2NT() {\n    this.seqArray = this.getData(this.nodesWithSeq, 'seq');\n    this.updateLongestSeqLength();\n    this.shortenNodesWithSeq();\n    this.onSelectedColorChanged();\n  }\n\n  /** Converts the sequence into a codons by introducing spaces every 3NTs and then updates the view */\n  NT2Codon(start) {\n    let newSeqs = []\n    this.seqArray = this.getData(this.nodesWithSeq, 'seq');\n    this.seqArray.forEach(seq => {\n      let codons = []\n      for (let i=start; i<seq.length; i+= 3) {\n        codons.push(seq.slice(i, i+3));\n      }\n      newSeqs.push(codons.join(' '));\n    })\n\n    this.seqArray = newSeqs;\n    this.updateLongestSeqLength();\n    this.shortenNodesWithSeq();\n    this.onSelectedColorChanged();\n  }\n\n  // Layout Positioning\n\n  /**\n  * Set rightViewHeigh, alignmentViewHeight, and canvasViewHeigh\n  */\n  updateViewHeights() {\n    // order is important as subsequent calculations rely on previous updated values; These values are used to ensure the view heights are correct and scrolling occurs as expectd\n    this.rightViewHeight = this.calculateRightHeight();\n    this.alignmentViewHeight = this.calculateViewHeight();\n    this.canvasViewHeight = this.calculateCanvasViewHeight();\n  }\n\n  /**\n   * @returns the height needed to for all the elements on the right half of msa-viewer. If this height > available space, then scrolling will be used\n   */\n  calculateRightHeight(): number {\n    let miniMapHeight = (this.widgets['alignView-showMiniMap']) ? $('#miniMapHolder').height()+16 : 0;\n    // 170 alignmentTop, 17 bottomScrollBar, height of canvas\n    return 170+25+this.nodesWithSeq.length*this.spanHeight+ miniMapHeight;\n  }\n\n  /**\n   * @returns the height for msa-viewer element based on the minimum of the available space for the view and the height needed for the elements\n   */\n  calculateViewHeight(): number {\n    return Math.min($(\".msa-viewer-container\").parent().height()-50, this.rightViewHeight)\n  }\n\n  /**\n   * @returns the height for the canvasHolder element and then subsequently the canvasLabels element. Not the height of the canvas itself\n   */\n  calculateCanvasViewHeight(): number {\n    let miniMapHeight = (this.widgets['alignView-showMiniMap']) ? $('#miniMapHolder').outerHeight() : 0;\n    return Math.min(this.alignmentViewHeight - 170 - miniMapHeight, this.nodesWithSeq.length*this.spanHeight+25)\n  }\n\n  /**\n   * @returns the width for the right half of the viewer\n   */\n  calculateRightWidth(): number {\n    // 7: gap between left and right (5) + 2\n    return $(\"#msa-viewer\").width() - this.leftWidth - 7;\n  }\n\n\n  // Sizing\n  \n  /**\n  * Updates font size as needed and then updates the alignment view based on new height\n  */\n  onSpanHeightChange(e) {\n    if (e >= 16) {\n      this.fontSize = 16;\n      this.leftWidth=250;\n    } else if (e >= 12) {\n      this.fontSize = 12;\n      this.leftWidth = 200;\n    } else if (e >= 10) {\n      this.fontSize = 10;\n      this.leftWidth = 150;\n    }\n\n    this.rightWidth = this.calculateRightWidth();\n\n    this.widgets['alignView-selectedSize']='c';\n    this.widgets['alignView-spanHeight'] = e;\n    this.updateAlignment();\n  }\n\n  /**\n   * Updates the alignment view with the new width\n   */\n  onSpanWidthChange(e){\n    this.widgets['alignView-selectedSize']='c';\n    this.widgets['alignView-spanWidth'] = e\n    this.updateAlignment();\n  }\n\n  /**\n   * Updates spanHeight, spanWidth, fontSize, and sometimes charSetting and then updates alignment view with new settings\n   */\n  onSelectedSizeChanged() {\n    if (this.widgets['alignView-selectedSize'] == 's') {\n      this.spanHeight = 10;\n      this.spanWidth = 2;\n      this.widgets['alignView-charSetting'] = 'hide';\n    } else if (this.widgets['alignView-selectedSize'] == 'm') {\n      this.spanHeight = 12;\n      this.spanWidth = 6;\n      //this.charSetting = 'hide';\n    } else if (this.widgets['alignView-selectedSize'] == 'l') {\n      this.spanHeight = 16;\n      this.spanWidth = 10;\n      //this.charSetting = 'show';\n    } else if (this.widgets['alignView-selectedSize'] == 'c') {\n      \n      if (!this.widgets['alignView-spanWidth']) {\n        this.spanWidth = 10;\n      } else {\n        this.spanWidth = this.widgets['alignView-spanWidth']\n      }\n\n      if (!this.widgets['alignView-spanHeight']) {\n        this.spanHeight = 16;\n      } else {\n        this.spanHeight = this.widgets['alignView-spanHeight']\n      }\n    }\n\n    if (this.spanHeight >= 16) {\n      this.fontSize = 16;\n      this.leftWidth=250;\n    } else if (this.spanHeight >= 12) {\n      this.fontSize = 12;\n      this.leftWidth = 200;\n    } else if (this.spanHeight >= 10) {\n      this.fontSize = 10;\n      this.leftWidth = 150;\n    }\n\n    this.widgets['alignView-spanWidth'] = this.spanWidth;\n    this.widgets['alignView-spanHeight'] = this.spanHeight;\n\n    this.rightWidth = this.calculateRightWidth();\n    this.updateAlignment();\n  }\n\n\n  // Colors\n\n  /**\n   * Updates the color scheme for the view based on what is selected\n   * @param skipUpdateAlignment set to true during ngOnInit to skip this.updateAlignment() and if statement for this.updateMiniMap()\n   */\n  onSelectedColorChanged(skipUpdateAlignment=false) {\n    if (this.selectedSeqType != 'aa') {\n      if (this.widgets['alignView-colorSchemeName'] == 'n') {\n        this.colorScheme = {\n          'A': '#ccff00',\n          'C': '#f0e442',\n          'G': '#ff9900',\n          'T': '#ff6600',\n          'ambig': '#ffffff',\n        }\n        this.useCustomColorScheme = false;\n      } else if (this.widgets['alignView-colorSchemeName'] == 'a') {\n        this.colorScheme = {\n          'A': '#009E73',\n          'C': '#F0E442',\n          'G': '#E69F00',\n          'T': '#D55E00',\n          'ambig': '#ffffff',\n          }\n          this.useCustomColorScheme = false;\n      } else {\n        this.colorScheme = {\n          'A': this.widgets['alignView-customColorScheme']['A'],\n          'C': this.widgets['alignView-customColorScheme']['C'],\n          'G': this.widgets['alignView-customColorScheme']['G'],\n          'T': this.widgets['alignView-customColorScheme']['T'],\n          'ambig': this.widgets['alignView-customColorScheme']['ambig'],\n          }\n        this.useCustomColorScheme = true;\n      }\n    } else {\n      this.useCustomColorScheme = false;\n      this.colorScheme =   {\n        A: '#33cc00',\n        R: '#cc0000',\n        N: '#6600cc',\n        D: '#0033ff',\n        C: '#ffff00',\n        Q: '#6600cc',\n        E: '#0033ff',\n        G: '#33cc00',\n        H: '#009900',\n        I: '#33cc00',\n        L: '#33cc00',\n        K: '#cc0000',\n        M: '#33cc00',\n        F: '#009900',\n        P: '#33cc00',\n        S: '#0099ff',\n        T: '#0099ff',\n        W: '#009900',\n        Y: '#009900',\n        V: '#33cc00',\n        X: '#ffffff'\n      }\n      \n    }\n\n    if (skipUpdateAlignment == false) {\n      this.updateAlignment();\n      if (this.widgets['alignView-showMiniMap']) {\n        this.updateMiniMap();\n      }\n    }\n  }\n\n  /**\n   * Updates the colorScheme for nt given with the e.target.value color\n   * @param nt 'A' | 'C' | 'G' | 'T' | 'ambig'\n   */\n  updateColorScheme(nt, e) {\n    this.colorScheme[nt] = e.target.value;\n    this.widgets['alignView-customColorScheme'][nt] = e.target.value;\n    this.updateAlignment();\n    if (this.widgets['alignView-showMiniMap']) {\n      this.updateMiniMap();\n    }\n  }\n\n  /**\n   * @param index 0=A, 1=C, 2=G, 3=T, anythingElse=ambig\n   * @returns the value (hexvalue) from colorScheme based on the index given\n   */\n  fillColor(index:number) {\n    if (this.selectedSeqType == 'aa') {\n      switch (index) {\n        //['A', 'R', 'N', 'D', 'C', 'E', 'Q', 'G', 'H', 'I', 'L', 'K', 'M', 'F', 'P', 'S', 'T', 'W', 'Y', 'V', '*', '-', 'X']\n        case 0:\n          return this.colorScheme['A']\n        case 1:\n          return this.colorScheme['R']\n        case 2:\n          return this.colorScheme['N']\n        case 3:\n          return this.colorScheme['D']\n        case 4:\n          return this.colorScheme['C']\n        case 5:\n          return this.colorScheme['E']\n        case 6:\n          return this.colorScheme['Q']\n        case 7:\n          return this.colorScheme['G']\n        case 8:\n          return this.colorScheme['H']\n        case 9:\n          return this.colorScheme['I']\n        case 10:\n          return this.colorScheme['L']\n        case 11:\n          return this.colorScheme['K']\n        case 12:\n          return this.colorScheme['M']\n        case 13:\n          return this.colorScheme['F']\n        case 14:\n          return this.colorScheme['P']\n        case 15:\n          return this.colorScheme['S']\n        case 16:\n          return this.colorScheme['T']\n        case 17:\n          return this.colorScheme['W']\n        case 18:\n          return this.colorScheme['Y']\n        case 19:\n          return this.colorScheme['V']\n        case 22:\n          return this.colorScheme['X']\n        default:\n          return this.colorScheme['X']\n      }\n    }\n    if (index == 0) {\n      return this.colorScheme['A'];\n    } else if (index == 1) {\n      return this.colorScheme['C'];\n    } else if (index == 2) {\n      return this.colorScheme['G'];\n    } else if (index == 3) {\n      return this.colorScheme['T'];\n    } else {\n      return this.colorScheme['ambig'];\n    }\n  }\n\n  // Helper\n\n  /**\n   * Searches nodesWithSequences for name given; changes background color for all nodes that are found\n   * @param name name/id of node to search for\n   * @param field which field from node to search in\n   */\n  search(name: string, field: string) {\n    $('.canvasLabels div').removeClass('searchHighlight2')\n    if (name == \"\") {\n      return;\n    }\n\n    let isFieldNumerical = typeof this.getData([this.nodesWithSeq[0]], field)[0] === 'number'\n\n    let data = this.getData(this.nodesWithSeq, (field == 'index' ? ['index'] : ['index', field]))\n    let indexes;\n    if (isFieldNumerical) {\n      indexes = data.filter((obj) => obj[field] == parseFloat(name)).map((obj) => obj['index'])\n    } else {\n      indexes = data.filter((obj) => obj[field].includes(name)).map((obj) => obj['index'])\n    }\n    //let indexes = this.nodesWithSeq.filter((obj) => obj.name.includes(name)).map((obj) => this.nodesWithSeq.indexOf(obj));\n    if (indexes.length == 0) {\n      console.log('not found');\n      return;\n    }\n\n    for (let index of indexes) {\n      //let element = $('.canvasLabels div').get(index);\n      let element = $(`.canvasLabels div[data-index=\"${index}\"]`)\n      $(element).addClass('searchHighlight2')\n    }\n\n    // need to scroll if necessary\n    let scroll = $('.canvasLabels').scrollTop();\n    let topIndex = scroll/this.spanHeight;\n    topIndex = (topIndex%1 > .2) ? Math.ceil(topIndex) : Math.floor(topIndex)\n    let bottomIndex = Math.floor((this.canvasViewHeight-20) / this.spanHeight + topIndex -1);\n    if (indexes[0] < topIndex || indexes[0] > bottomIndex) {\n        let scrollPos = (indexes[0])*this.spanHeight -5\n        $('.canvasLabels').scrollTop(scrollPos)\n    }\n    \n  }\n\n  /**\n   * Replaces search function and better incorporates with all node-selected events and not node-selected from search\n   */\n  highlightRows() {\n    $('.canvasLabels div').removeClass('searchHighlight2')\n    let nodes = this.getData(this.nodesWithSeq, ['index', 'selected']);\n    let selectedNodes = nodes.filter(node => node.selected);\n\n    if (selectedNodes.length == 0) {\n      return;\n    }\n\n    for (let node of selectedNodes) {\n      //let element = $('.canvasLabels div').get(index);\n      let element = $(`.canvasLabels div[data-index=\"${node.index}\"]`)\n      $(element).addClass('searchHighlight2')\n    }\n    let firstPositionSelected = nodes.indexOf(selectedNodes[0])\n\n    // need to scroll if necessary\n    let scroll = $('.canvasLabels').scrollTop();\n    let topIndex = scroll/this.spanHeight;\n    topIndex = (topIndex%1 > .2) ? Math.ceil(topIndex) : Math.floor(topIndex)\n    let bottomIndex = Math.floor((this.canvasViewHeight-20) / this.spanHeight + topIndex -1);\n    if (firstPositionSelected < topIndex || firstPositionSelected > bottomIndex) {\n        let scrollPos = (firstPositionSelected)*this.spanHeight -5\n        $('.canvasLabels').scrollTop(scrollPos)\n    }\n  }\n\n  /**\n   * Opens settings pane\n   */\n  openSettings() {\n    //this.alignmentDialogSettings.isVisible ? this.alignmentDialogSettings.setVisibility(false) : this.alignmentDialogSettings.setVisibility(true);\n    this.alignmentDialogSettings.isVisible = !this.alignmentDialogSettings.isVisible\n  }\n\n  /**\n   * Updates text in Alignment Top\n   */\n  onAlignmentTopChange() {\n    if (this.widgets['alignView-topDisplay'] == 'barplot') {\n      $('#alignmnetTopTitle').text('Bar Plot').prop('title', 'Barplot representation of the sequences that shows the proportion of each nucleotide at each position.');\n    } else {\n      $('#alignmnetTopTitle').text('Logo').prop('title', 'Logo representation of the sequences that shows the proportion of each nucleotide at each position.');\n    }\n  }\n\n  /** XXXX May need to remove; currently use position matrix instead of calculating each XXXX\n   * @param i current index of the base/nt in proportion matrix\n   * @param j A=0, C=1, G=2, T=3, other/ambiguos=4\n   * @returns location for the y value of rectangle in the logo\n   */\n  calculateY(i:number, j:number) {\n    if (j == 4) { return 0}\n    let nt = this.proportionMatrix[i];\n    let y = nt[4]*100;\n    if (j==0) { return y }\n    for (let k=0; k<j; k++) {\n      y += nt[k]*100\n    }\n    return y;\n  }\n\n  /**\n   * Sychronises horizonal scrolls on canvasHolder with alignmentTop and vertical scrolls on canvasHolder with canvasLabels\n   * @param canvasHolder div class=\"canvasHolder\"\n   * @param canvasLabels div class=\"canvasLabels\"\n   * @param alignmentTop div class=\"alignmentTop\"\n   */\n  canvasScroll(canvasHolder: HTMLElement, canvasLabels: HTMLElement, alignmentTop: HTMLElement) {\n    if (canvasHolder.scrollLeft != alignmentTop.scrollLeft) {\n      alignmentTop.scrollLeft = canvasHolder.scrollLeft\n    }\n    if (canvasHolder.scrollTop != canvasLabels.scrollTop) {\n      canvasLabels.scrollTop = canvasHolder.scrollTop;\n    }   \n  }\n\n\n  /**\n  * Generate a tabular HTML string from the index of proportionMatrix\n  * @param data index of the position to use to make the HTML string of the table\n  * @returns an HTML string with a table representation of the data\n  */\n  tabulate(index) {\n    let dataType = this.selectedSeqType == 'aa' ? 'AA': 'NT'\n\n    let tableHtml = `\n        <style>\n        #tooltip-table {\n            border-spacing: 0;\n            width: 100%;\n            border: 1px solid #ddd;\n            z-index: 1000;\n        }\n        \n        #tooltip-table td, #tooltip-table th {\n            text-align: left;\n            padding: 2px;\n            border: 1px solid #ddd;\n        }\n        \n        #tooltip-table tr:nth-child(even) {\n            background-color: #f2f2f2;\n        }\n        \n        #tooltip-table tr:nth-child(odd) {\n            background-color: #fff;\n        }\n        </style>\n        <div>Position: ${index+1}</div>\n        <table id=\"tooltip-table\"><thead><th>${dataType}</th><th> % </th></thead><tbody>`;\n\n        \n        if (this.selectedSeqType == 'aa') {\n          let data = this.proportionMatrixAA[index];\n          let nonZeroIndexes = [];\n          let index2NT = ['A', 'R', 'N', 'D', 'C', 'E', 'Q', 'G', 'H', 'I', 'L', 'K', 'M', 'F', 'P', 'S', 'T', 'W', 'Y', 'V', 'STOP', 'GAP', 'UNK'];\n          data.forEach((value, index) => {\n            if (value > 0) nonZeroIndexes.push(index);\n          })\n          nonZeroIndexes.sort(compareIndices);\n          function compareIndices(a,b) {\n            return data[b] - data[a]\n          }\n          let numberOfRows = Math.min(4, nonZeroIndexes.length)\n          let sum = 0;\n          for (let i = 0; i< numberOfRows; i++) {\n            let AAindex = nonZeroIndexes[i];\n            tableHtml += `<tr><td>${index2NT[AAindex]}</td><td>`+(data[AAindex]*100).toFixed(1) +'%</td>';\n            sum += data[AAindex];\n          }\n          if (sum <= 0.99) {\n            tableHtml += `<tr><td>Other</td><td>`+((1-sum)*100).toFixed(1) +'%</td>';\n          }\n          \n        } else {\n          for (let i = 0; i<5; i++) {\n            let data = this.proportionMatrix[index]\n            tableHtml += '<tr>';\n            if (i == 0) {\n              tableHtml += '<td>A</td><td>' + (data[i]*100).toFixed(1) + '%</td>';\n            } else if (i == 1) {\n              tableHtml += '<td>C</td><td>' + (data[i]*100).toFixed(1) + '%</td>';\n            } else if (i == 2) {\n              tableHtml += '<td>G</td><td>' + (data[i]*100).toFixed(1) + '%</td>';\n            } else if (i == 3) {\n              tableHtml += '<td>T</td><td>' + (data[i]*100).toFixed(1) + '%</td>';\n            } else {\n              tableHtml += '<td>other</td><td>' + (data[i]*100).toFixed(1) + '%</td>'\n            }\n            tableHtml += '</tr>';\n          } \n        }\n        \n    tableHtml += '</tbody></table>';\n\n    return tableHtml;\n  }\n\n  /**\n  * @returns an array [X, Y] of the position of mouse relative to alignment view. Global position (i.e. d3.event.pageX) doesn't work for a dashboard\n  */  \n  getRelativeMousePosition(e) {\n    let rect = document.querySelector('alignmentviewcomponent').getBoundingClientRect();\n    let X = e.pageX - rect.left;\n    let Y = e.pageY - rect.top; \n    return [X, Y];\n  }\n\n  /**\n   * Set events such as node-selected so that they can be triggered; such as with search\n   */\n  setEvents() {\n    let that = this;\n\n    $(document).on( \"node-selected\", function( ) {  \n      //that.search($('#search').val() as string, $('#search-field').val() as string)\n      that.highlightRows();\n    });\n\n  }\n\n  /**\n   * updates labelArray and then searches again if needed\n   */\n  onLabelFieldChange() {\n    this.labelArray = this.getData(this.nodesWithSeq, ['index', this.widgets['alignView-labelField']])\n    \n    setTimeout(()=>this.highlightRows(), 1);\n  }\n\n  /**\n   * Sorts the indexes in nodesWithSeq based on the field selected. \n   * After updating nodesWithSeq, it updates labelArray, seqArray, seqArrayShortened, main canvas, and minimap\n   */\n  onSortFieldChange() {\n    let newSort;\n    let sortField = this.widgets['alignView-sortField']\n    if (sortField == \"None\") {\n      return;\n    } else if ( sortField == \"index\") {\n      //return\n      newSort = this.getData(this.nodesWithSeq, [sortField]).sort((a,b) => a[sortField] -b[sortField]);\n      //this.nodesWithSeq.sort((a,b) => )\n    } else if (typeof this.getData([this.nodesWithSeq[0]], sortField)[0] == 'number') {\n      newSort = this.getData(this.nodesWithSeq, ['index', sortField]).sort((a,b) => a[sortField] - b[sortField]);\n    } else {\n      newSort = this.getData(this.nodesWithSeq, ['index', sortField]).sort((a,b) => a[sortField].localeCompare(b[sortField]));\n    }\n\n    // updates nodesWithSeq\n    this.nodesWithSeq = newSort.map((obj) => obj['index'])\n    // updates labelArray with new sort\n    this.onLabelFieldChange();\n\n    // updates seqArray with new order\n    this.seqArray = this.getData(this.nodesWithSeq, 'seq');\n\n    // updates seqArrayShortened with new order\n    this.shortenNodesWithSeq();\n\n    // updates main canvas and minimap canvas\n    this.updateAlignment();\n  }\n\n  \n  updateNodeColors() { }\n  updateLinkColor() { }\n\n  updateVisualization() {\n  }\n\n  // function is called when style file is applied\n  applyStyleFileSettings() {\n    this.widgets = (window as any).context.commonService.session.style.widgets;\n\n    this.labelArray = this.getData(this.nodesWithSeq, ['index', this.widgets['alignView-labelField']]);\n\n    // sets different variables relating to size and display\n    this.onAlignmentTopChange()\n\n    if (this.widgets['alignView-colorSchemeName'] == 'n' || this.widgets['alignView-colorSchemeName'] == 'a') {\n      this.useCustomColorScheme = false;\n    } else {\n      this.useCustomColorScheme = true;\n    }\n    this.onSelectedColorChanged(true)\n\n    // updates spanWidth, spanHeight, rightWidth, leftWidth, fontSize, and then updates alignment\n    this.onSelectedSizeChanged()\n\n    // updates shows or hides minimap and then updates view heights\n    this.updateMiniMapVisibility()\n  }\n\n  goldenLayoutComponentResize() {\n    this.updateViewHeights()\n    this.rightWidth = this.calculateRightWidth()\n  }\n\n  openRefreshScreen() {\n    \n  }\n  onRecallSession() {\n    \n  }\n  onLoadNewData() {   \n  }\n  onFilterDataChange() {\n    \n  }\n\n  /**\n   * Opens the Alignment View Export Pain\n  */\n  openExport() {\n    this.ShowAlignExportPane = true;\n  }\n\n  /**\n   * Exports the alignmentTop and main canvas as png image\n   */\n  exportPNG() {\n    let that = this;\n    let alignmentTop = document.querySelector('#alignmentTop svg');\n    let mainCanvas = $('.canvasHolder canvas').get(0) as HTMLCanvasElement\n    let exportWidth = mainCanvas.width\n    let exportHeight = mainCanvas.height + 140;\n    svgAsPngUri(alignmentTop, {\n      scale: 1,\n      backgroundColor: '#ffffff',\n      encoderType: 'image/png',\n      encoderOptions: 0.8\n    }).then((topB64string) => {\n      let imageDataUrl;\n\n      let exportCanvas = document.createElement(\"canvas\");\n      exportCanvas.height = exportHeight;\n      exportCanvas.width = exportWidth;\n      let ctx = exportCanvas.getContext(\"2d\");\n\n      let iTop = new Image();\n      let iMain = new Image();\n      iTop.src = topB64string;\n      iTop.onload = function() {\n        iMain.src = mainCanvas.toDataURL()\n        iMain.onload = function() {\n\n          ctx.drawImage(iTop, 0, 0)\n          ctx.drawImage(iMain, 0, 140)\n\n          imageDataUrl = exportCanvas.toDataURL(\"image/png\")\n          saveAs(imageDataUrl, that.AlignmentExportFileName + '.png')\n        }\n      }\n  }); \n  }\n\n  /**\n   * Exports the alignment top and main canvas as svg or png image\n   */\n  exportVisualization() {\n    $(\"body\").css(\"cursor\", \"progress\");\n    if (this.AlignmentExportFileTypeVis == 'png') {\n      this.exportPNG();\n    } else {\n      \n    let canvas = $('.canvasHolder canvas').get(0) as HTMLCanvasElement\n    let canvasDataURL = canvas.toDataURL();\n  \n    let foreignObj = document.createElementNS('http://www.w3.org/2000/svg', 'image')\n    foreignObj.setAttribute('x', '0'); // Set the x-coordinate\n    foreignObj.setAttribute('y', '140'); // Set the y-coordinate\n    foreignObj.setAttribute('width', canvas.width.toString()); // Set the width\n    foreignObj.setAttribute('height', canvas.height.toString()); // Set the height\n    foreignObj.setAttribute('xlink:href', canvasDataURL);\n\n    let top = $('#alignmentTop svg').get(0)\n    top.style.height = 150+canvas.height+'px'\n    top.appendChild(foreignObj);\n\n    let content = this.commonService.unparseSVG(top);\n    let blob = new Blob([content], { type: 'image/svg+xml;charset=utf-8' });\n    saveAs(blob, this.AlignmentExportFileName + '.svg');\n\n    top.style.height = 150+canvas.height+'px';\n    top.removeChild(foreignObj)\n    }\n    $(\"body\").css(\"cursor\", \"default\");\n  }\n\n  /**\n   * Exports sequencing data (id + seq string) as fasta or mega file\n   */\n  exportData(includeConsensus=false) {\n    let data, consensus, megaFormat;\n    if (this.selectedSeqType == 'aa') {\n      let labels = this.getData(this.nodesWithSeq, '_id')\n      data = labels.map((id, index) => ({ '_id': id, seq: this.seqArray[index] }));\n      consensus = includeConsensus? this.getConsensus(this.proportionMatrixAA, 'plurality', 'aa') : '';\n      megaFormat = 'DataType=Protein Missing=X Indel=-;\\r\\n\\r\\n'\n    } else {\n      data = this.getData(this.nodesWithSeq, ['_id', 'seq']);\n      consensus = includeConsensus? this.getConsensus(this.proportionMatrix) : '';\n      megaFormat = 'DataType=DNA CodeTable=Standard\\r\\n\\tIdentical=. Missing=? Indel=-;\\r\\n\\r\\n'\n    }\n    if (this.AlignmentExportFileTypeData == 'fasta') {\n      let consensusString = includeConsensus? '>consensus\\r\\n' + consensus + \"\\r\\n\":'';\n      let blob = new Blob([consensusString, data.map(node => \">\" + node._id + \"\\r\\n\" + node.seq).join(\"\\r\\n\")])\n      saveAs(blob, this.AlignmentExportFileName+'.fasta')\n    } else if (this.AlignmentExportFileTypeData == 'mega') {\n      let headers = \"#mega\\r\\n!Title \" + this.AlignmentExportFileName + \";\\r\\n!Format\\r\\n\\t\" + megaFormat;\n      let consensusString = includeConsensus? '#consensus\\r\\n' + consensus + \"\\r\\n\" : '';\n      let blob = new Blob([headers, consensusString, data.map(node => \"#\" + node._id + \"\\r\\n\" + node.seq).join(\"\\r\\n\")])\n      saveAs(blob, this.AlignmentExportFileName+'.meg')\n    }\n  }\n\n  exportDataTable(option='basic', includeConsensus) {\n    // basic 5 number for each position     // may not use basic option but keeping it for now\n    // advances includes proportion for gaps and each ambiguous nucleotide option\n    // [A, C, G, T, #other/ambig]\n    let csvString;\n    if (option == 'basic') {\n      let csvHeader = 'A,C,G,T,other (including gap and abiguous)\\n';\n      csvString = csvHeader + this.proportionMatrix.map(innerArray => innerArray.join(',')).join('\\n');\n    } else if (includeConsensus) {\n      let csvHeader;\n      let proportionMatrix;\n      let consensus;\n      if (this.selectedSeqType =='aa') {\n        csvHeader = 'position,consensus,\"consensus ambiguities (most prevalent AA outside of brackets, other AAs found at this position inside brackets)\",A,R,N,D,C,E,Q,G,H,I,L,K,M,F,P,S,T,W,Y,V,stop,gap,ambiguous\\n';\n        proportionMatrix = this.proportionMatrixAA;\n        consensus = this.getConsensus(proportionMatrix, 'meme', 'aa')\n      } else {\n        csvHeader = 'position,consensus,\"consensus ambiguities (most prevalent NT outside of brackets, other NTs found at this position inside brackets)\",A,C,G,T,gap,N,R,Y,K,M,S,W,B,D,H,V,other\\n';\n        proportionMatrix= this.calculateAdvancedProportion();\n        consensus = this.getConsensus(proportionMatrix, 'meme')\n      }\n       \n      let consensusInterator = getNextPosition(consensus);\n      csvString = csvHeader + proportionMatrix.map((innerArray,pos) => {\n        let chars = consensusInterator.next().value;\n        return (pos+1) + ',' + chars.charAt(0)+',' + chars + ',' + innerArray.join(',')\n      }).join('\\n');\n    } else {\n      let proportionMatrix;\n      let csvHeader;\n      if (this.selectedSeqType == 'aa') {\n        csvHeader = 'position,A,R,N,D,C,E,Q,G,H,I,L,K,M,F,P,S,T,W,Y,V,stop,gap,ambiguous\\n';\n        proportionMatrix = this.proportionMatrixAA;\n      } else {\n        csvHeader = 'position,A,C,G,T,gap,N,R,Y,K,M,S,W,B,D,H,V,other\\n';\n        proportionMatrix = this.calculateAdvancedProportion();\n      }\n\n      csvString = csvHeader + proportionMatrix.map((innerArray,pos) => (pos+1)+ ',' + innerArray.join(',')).join('\\n');\n    }\n    function* getNextPosition(input) {\n      for (let i = 0; i < input.length; i++) {\n        const char = input[i];\n        if (input[i+1] === '[') {\n            // Yield the character and everything in the brackets\n            let bracketContent = '';\n            while (input[i] !== ']') {\n                bracketContent += input[i];\n                i++;\n            }\n            bracketContent += ']';\n            yield bracketContent;\n        } else {\n            // Yield individual characters\n            yield char;\n        }\n      }\n    }\n\n    let blob = new Blob([csvString], { type: 'text/csv' })\n    saveAs(blob, this.AlignmentExportFileName + '.csv')\n  }\n\n  /** Gets the consensus sequence of a NT or AA sequence, defined by most common char at a position (not based on meeting a threshold);\n   * \n   * Option: \n   ** 'pluratily' returns just the sequence of most common bases\n   ** 'meme' return the most common base, then adds other bases found at that position in brackets.\n   * \n   * Given all A at first 1, and 70% C and 30% A at 2nd pos, plurality returns 'AC', 'meme' returns 'AC[A]'\n   */\n  getConsensus(proportionMatrix, option='plurality', seq='nt') {\n    let consensusSeq = '';\n    if (option == 'plurality') {\n      let index2NT = seq == 'nt' ? ['A', 'C', 'G', 'T', '-'] : ['A', 'R', 'N', 'D', 'C', 'E', 'Q', 'G', 'H', 'I', 'L', 'K', 'M', 'F', 'P', 'S', 'T', 'W', 'Y', 'V', '*', '-', 'X']\n      proportionMatrix.forEach((row) => {\n        let maxPos = row.indexOf(Math.max(...row));\n        if (maxPos > 4 && seq=='nt') {consensusSeq += 'N'}\n        else {consensusSeq += index2NT[maxPos];}\n      })\n      return consensusSeq;\n    } else if (option == 'meme') {\n      let index2NT = seq == 'nt' ?  ['A','C','G','T','-','N','R','Y','K','M','S','W','B','D','H','V', 'invalid'] : ['A', 'R', 'N', 'D', 'C', 'E', 'Q', 'G', 'H', 'I', 'L', 'K', 'M', 'F', 'P', 'S', 'T', 'W', 'Y', 'V', '*', '-', 'X'];\n      proportionMatrix.forEach((row) => {\n        let nonZeroIndexes = [];\n        row.forEach((value, index) => {\n          if (value > 0) nonZeroIndexes.push(index);\n        })\n        nonZeroIndexes.sort(compareIndices);\n        function compareIndices(a,b) {\n          return row[b] - row[a]\n        }\n        nonZeroIndexes.forEach((index, pos) => {\n          if (pos == 1) {\n            consensusSeq += '['\n          }\n          consensusSeq += index2NT[index]\n        })\n        if (nonZeroIndexes.length > 1) consensusSeq+=']'\n      })\n\n      return consensusSeq;\n    }\n  }\n}\n\nexport namespace AlignmentViewComponent {\n  export const componentTypeName = 'Alignment View';\n}\n\n","\n// Moved out of alignment-view-plugin-component, so that it can be accessed from files view without having to initialize the whole view\n/**\n   * Adapted from  https://github.com/CDCgov/AlignmentViewer to also allow minimum charSetting, accepts array of seq (not array of seq objects)\n   * @param seqs array of sequences objects ['ATGA...', 'TATA...', ...]\n   * @param config  object: { width: number, height: number, charSetting:['hide'|'show'|'min'], fontSize: number, colors: {'A':'#000000', 'C': , 'G':, 'T':, 'ambig':}}\n   * @returns promise of a HTMLCanvasElement showing the alignment\n   */\nexport function generateCanvas(seqs, config) {\n    config = Object.assign({\n      width: 1,\n      height: 1,\n      'charSetting': 'hide'\n    }, config, {\n      colors: Object.assign({\n        'A': '#ccff00',\n        'C': '#ffff00',\n        'G': '#ff9900',\n        'T': '#ff6600',\n        'ambig': '#ffffff'\n      }, ('colors' in config) ? config.colors : {}),\n    });\n  \n    return new Promise(resolve => {\n      let longest = 0;\n      let n = seqs.length;\n      for (let i = 0; i < n; i++) {\n        let seq = seqs[i].toUpperCase();\n        if (seq.length > longest) longest = seq.length;\n      }\n      let ch = Math.ceil(config.height);\n      let cw = Math.ceil(config.width);\n      let width = longest * config.width;\n      let height = seqs.length * config.height;\n      let canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n      let context = canvas.getContext('2d', { alpha: false });\n      context.fillStyle = config.colors['ambig'];\n      context.fillRect(0, 0, width, height);\n      Object.keys(config.colors).forEach(nucleotide => {\n        if(nucleotide == 'ambig') return;\n        context.fillStyle = config.colors[nucleotide];\n        for (let row = 0; row < n; row ++) {\n          let seq = seqs[row];\n          let y = Math.floor(row * ch);\n          for (let col = 0; col < longest; col++) {\n            let c = seq[col];\n            if(!c) break;\n            if(c != nucleotide) continue;\n            let x = Math.floor(col * cw);\n            context.fillRect(x, y, cw, ch);\n          }\n        }\n      });\n      context.font = (config.fontSize) + 'px mono';\n      context.textAlign = 'center';\n      context.textBaseline = 'bottom';\n      context.fillStyle = 'black';\n      if(config.charSetting=='show'){\n        for (let row = 0; row < n; row++) {\n          let seq = seqs[row];\n          let y = row * ch + ch;\n          for (let col = 0; col < longest; col++) {\n            let c = seq[col];\n            if(!c) break;\n            let x = col * cw + cw/2;\n            context.fillText(c, x, y, cw);\n          }\n        }\n      } else if (config.charSetting=='min'){\n        let refSeq = seqs[0]\n        for (let col = 0; col < longest; col++) {\n          let c = refSeq[col];\n          if(!c) break;\n          let x = col * cw + cw/2;\n          context.fillText(c, x, ch, cw);\n        }\n\n        for (let row = 1; row < n; row++) {\n          let seq = seqs[row];\n          let y = row * ch + ch;\n          for (let col = 0; col < longest; col++) {\n            let c = (refSeq[col] != seq[col] || seq[col]=='-' || refSeq[col] == ' ')? seq[col]: '.';\n            if(!c) break;\n            let x = col * cw + cw/2;\n            context.fillText(c, x, y, cw);\n          }\n        } \n\n      }\n      resolve(canvas);\n    });\n  }","import { ChangeDetectorRef, Component, ElementRef, Inject, OnInit, Output, EventEmitter, ViewChild } from '@angular/core';\nimport { SelectItem } from 'primeng/api';\nimport * as saveAs from 'file-saver';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\n\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { CommonService } from '@app/contactTraceCommonServices/common.service';\nimport { MicobeTraceNextPluginEvents } from '@app/helperClasses/interfaces';\nimport { MicrobeTraceNextVisuals } from '@app/microbe-trace-next-plugin-visuals';\nimport { ComponentContainer } from 'golden-layout';\nimport cytoscape, { Core } from 'cytoscape';\n\ntype DataRecord = { index: number, id: string, x: number; y: number, color: string, Xgroup: number, Ygroup: number, strokeColor: string, totalCount?: number, counts ?: any }//selected: boolean }\n\n@Component({\n  selector: 'bubble-component',\n  templateUrl: './bubble.component.html',\n  styleUrls: ['./bubble.component.scss']\n})\nexport class BubbleComponent extends BaseComponentDirective implements OnInit, MicobeTraceNextPluginEvents {\n\n  @Output() DisplayGlobalSettingsDialogEvent = new EventEmitter();\n\n  @ViewChild('cyBubble', { static: false }) cyContainer: ElementRef;\n  @ViewChild('bubbleTooltip') toolTip: ElementRef;\n  \n  cy: Core;\n  \n  visuals: MicrobeTraceNextVisuals;\n  widgets: any;\n\n  viewActive: boolean = true;\n  settingsOpen: boolean = false;\n  exportOpen: boolean = false;\n\n  BubbleExportFileType: string = 'png'\n  BubbleExportFileName: string = ''\n  SelectedBubbleExportScaleVariable: number = 1;\n  CalculatedResolution: string;\n\n  viewHeight: number;\n  viewWidth: number;\n\n  selectedFieldList: SelectItem[] = [];\n  xVariable: string;\n  yVariable: string;\n  nodeSize: number;\n  nodeSpacing = 0.05;\n\n  allData: DataRecord[] = [];\n  visibleData: DataRecord[] = [];\n\n  X_categories = []\n  X_tickValues = []\n\n  Y_categories = []\n  Y_tickValues = []\n\n  scaleFactor: number = 200;\n  svgDefs: {} = {};\n\n  NodeCollapsingTypes: any = [\n    { label: 'On', value: true },\n    { label: 'Off', value: false }\n  ];\n  SelectedNodeCollapsingTypeVariable: boolean;\n\n  constructor(\n    public commonService: CommonService,\n    @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer,\n    elRef: ElementRef,\n    private cdref: ChangeDetectorRef,\n    private gtmService: GoogleTagManagerService\n  ) {\n    super(elRef.nativeElement);\n\n    this.visuals = commonService.visuals;\n    this.visuals.bubble = this;\n    this.widgets = this.commonService.session.style.widgets;\n  }\n\n  ngOnInit(): void {\n    this.gtmService.pushTag({\n      event: \"page_view\",\n      page_location: \"/bubble\",\n      page_title: \"Bubble View\"\n    });\n\n    try {\n      this.viewHeight = this.container.height - 73;\n      this.viewWidth = this.container.width - 42;\n    } catch (error) {\n      console.log('unable to set proper view sizes for bubble view, setting to default values');\n      this.viewWidth = 800;\n      this.viewHeight = 600;\n    } \n    \n    this.selectedFieldList.push({ label: \"None\", value: \"None\"})\n    this.commonService.session.data['nodeFields'].map((d) => {\n      if (['seq', 'origin', '_diff', '_ambiguity', 'index', '_id'].includes(d)) return;\n      this.selectedFieldList.push({\n        label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n        value: d\n      });\n    })\n\n    this.setWidgets();\n    this.updateAxisValues('X');\n    this.updateAxisValues('Y');\n\n    this.getData();\n    this.onNodeSizeChange();\n\n    this.container.on('resize', () => { this.goldenLayoutComponentResize()})\n    this.container.on('hide', () => { \n      this.viewActive = false; \n      this.cdref.detectChanges();\n    })\n    this.container.on('show', () => { \n        this.viewActive = true; \n        this.setSelectedNodes(this);\n        setTimeout(() => {\n          this.goldenLayoutComponentResize();\n          this.cdref.detectChanges();\n        }, 5)\n\n    })\n    \n    let that = this;\n    $( document ).on(\"node-selected\", function( ) {\n      if (that.viewActive) {\n          that.visuals.bubble.setSelectedNodes(that);\n      }\n    });\n\n    $( document ).on( \"node-visibility\", function( ) {\n      //console.log('node visi event')\n      that.updateVisibleNodes()\n      that.updateNodes();\n    });\n  }\n\n  ngAfterViewInit(): void {\n    this.generateCytoscape();\n  }\n\n  setWidgets() {\n    if (this.widgets['bubble-x'] == undefined || !(this.selectedFieldList.map(x=> x.value).includes(this.widgets['bubble-x']))) {\n      this.xVariable = 'cluster';\n      this.widgets['bubble-x'] = this.xVariable;\n    } else {\n      this.xVariable = this.widgets['bubble-x'];\n    }\n\n    if (this.widgets['bubble-y'] == undefined || !(this.selectedFieldList.map(x=> x.value).includes(this.widgets['bubble-y']))) {\n      this.xVariable = 'None';\n      this.widgets['bubble-y'] = this.xVariable;\n    } else {\n      this.yVariable = this.widgets['bubble-y']\n    }\n\n    if (this.widgets['bubble-x'] == 'None' && this.widgets['bubble-y'] == 'None') {\n      this.openSettings();\n    }\n\n    if (this.widgets['bubble-size'] < 10 || this.widgets['bubble-size'] > 40 || this.widgets['bubble-size'] == undefined || this.widgets['bubble-size'] == null || typeof this.widgets['bubble-size'] != 'number') {\n      this.widgets['bubble-size'] = 15;\n    }\n    this.nodeSize = this.widgets['bubble-size']\n\n    if (this.widgets['bubble-charge'] < .01 || this.widgets['bubble-charge'] > .15 || this.widgets['bubble-charge'] == undefined || this.widgets['bubble-charge'] == null || typeof this.widgets['bubble-charge'] != 'number') {\n      this.widgets['bubble-charge'] = 0.05;\n    }\n    this.nodeSpacing = this.widgets['bubble-charge']\n\n    if (this.widgets['bubble-collapsed'] == undefined || this.widgets['bubble-collapsed'] == null) {\n      this.widgets['bubble-collapsed'] = false;\n    }\n    this.SelectedNodeCollapsingTypeVariable = this.widgets['bubble-collapsed']\n  }\n\n  mapDataToCytoscapElements(data: DataRecord[]): cytoscape.ElementsDefinition {\n    const nodes = data.map((node) => {\n      let size = this.SelectedNodeCollapsingTypeVariable ? this.nodeSize * Math.sqrt(node.totalCount): this.nodeSize;\n      // probably do something here for node size\n      return {\n        data: {\n          id: node.id,\n          nodeSize: size,\n          nodeColor: node.color,\n          label: node.id,\n          counts: node.counts,\n          totalCount: node.totalCount,\n        },\n        position: {\n          x: node.x*this.scaleFactor,\n          y: node.y*this.scaleFactor\n        }\n      }\n    })\n\n    return { nodes: nodes, edges: null }\n  }\n\n  AddAxes() {\n    let Axes = [];\n    if ( this.xVariable != 'None') {\n      this.X_categories.forEach((value, i) => {\n        let label = value== null || value == undefined ? 'Unknown': value;\n        Axes.push(\n          {group: 'nodes', data: {id: `x_axis${i}`, label: label}, position: {x: i*this.scaleFactor, y: this.Y_categories.length*this.scaleFactor-50}, classes: ['X_axis'],\n        })\n      })\n\n      Axes.push({ group: 'nodes', data: {id: 'x_axis_Label', label: this.commonService.capitalize(this.xVariable)}, position: {x: (this.X_categories.length-1)*this.scaleFactor/2, y: this.Y_categories.length*this.scaleFactor}, classes: ['X_axis', 'axisLabel']})\n    }\n\n    if ( this.yVariable != 'None') {\n      this.Y_categories.forEach((value, i) => {\n        let label = value== null || value == undefined ? 'Unknown': value;\n        Axes.push(\n          {group: 'nodes', data: {id: `y_axis${i}`, label: label}, position: {x: -100, y: i*this.scaleFactor}, classes: ['Y_axis'],\n        })\n      })\n\n      Axes.push({ group: 'nodes', data: {id: 'y_axis_Label', label: this.commonService.capitalize(this.yVariable)}, position: {x: -150, y: (this.Y_categories.length-1)*this.scaleFactor/2}, classes: ['Y_axis', 'axisLabel']})\n\n    }\n\n    this.cy.add(Axes);\n    this.cy.fit(this.cy.nodes(), 30);\n    this.cy.nodes().lock()\n  }\n\n  getCytoscapeStyle(): cytoscape.StylesheetCSS[] {\n    return [\n      {\n        selector: 'node',\n        css: {\n            //'background-color': 'data(nodeColor)', // Use dynamic node color\n            //'label': 'data(label)',\n            'width': 'data(nodeSize)',\n            'height': 'data(nodeSize)',\n            'border-width': 3, // Use dynamic border width\n            'border-color': '#000000',\n        }\n      },\n      // Apply styles only to nodes with nodeColor defined\n      {\n        selector: 'node[nodeColor]',\n        css: {\n            'background-color': 'data(nodeColor)'\n        }\n      },\n      {\n        selector: '.X_axis',\n        css: {\n          'label': 'data(label)',\n          'shape': 'rectangle',\n          'border-width': 0,\n          'background-color': 'white',\n          'width': 1,\n          'height': 1\n        }\n      },\n      {\n        selector: '.Y_axis',\n        css: {\n          'label': 'data(label)',\n          'shape': 'rectangle',\n          //'border-color': 'none',\n          'border-width': 0,\n          'background-color': 'white',\n          'width': 1,\n          'height': 1,\n          'text-valign': 'center'\n        }\n      },\n      {\n        selector: '#y_axis_Label',\n        css: {\n          'text-rotation': 4.71239\n        }\n      },\n      {\n        selector: '.axisLabel',\n        css: {\n          'font-size': 24\n        }\n      },\n      {\n        selector: 'node:selected',\n        css: {\n            'border-color': '#ff8300',\n        }\n      },\n    ]\n  }\n\n  generateCytoscape() {\n    this.cy = cytoscape({\n      container: this.cyContainer.nativeElement,\n      elements: this.mapDataToCytoscapElements(this.visibleData),\n      style: this.getCytoscapeStyle(),\n      layout: {\n        name: 'preset',\n        fit: true,\n        padding: 30\n      },\n\n      zoomingEnabled: true,\n      userZoomingEnabled: false,\n      panningEnabled: true,\n      userPanningEnabled: false,\n  \n    })\n\n    this.AddAxes();\n    this.cy.nodes().lock()\n\n    // Example: Hover events\n    this.cy.on('mouseover', 'node', (evt) => {\n      const node = evt.target;\n      if (node.classes().length > 0) return;\n      this.showTooltip(node.data(), evt.originalEvent);\n    });\n\n    this.cy.on('mouseout', 'node', () => {\n        this.hideTooltip();\n    });\n  }\n\n  showTooltip(d, e) {\n    let tooltipHTML: string = '';\n    if (this.SelectedNodeCollapsingTypeVariable) {\n      tooltipHTML = `\n      <style>\n        #bubbleToolTip {\n          border-spacing: 0;\n          width: 100%;\n          //border: 1px solid #ddd;\n          z-index: 1000;\n        }\n\n        #bubbleToolTip td, #bubbleToolTip th {\n          text-align: center;\n          padding: 2px;\n          font-weight: 400;\n          border: 1px solid #ddd;\n        }\n\n        #bubbleToolTip tr:nth-child(even) {\n          background-color: #f2f2f2;\n        }\n\n        #bubbleToolTip tr:nth-child(odd) {\n          background-color: #fff;\n        } \n      </style>\n      <table id=\"bubbleToolTip\"><thead><th>${this.commonService.capitalize(this.commonService.session.style.widgets['node-color-variable'])}</th><th> Count </th><th> % </th></thead><tbody>`;\n      d.counts.forEach((x) => tooltipHTML += `<tr><td>${x.label}</td><td> ${x.count}</td><td>${(x.count/d.totalCount*100).toFixed(1)}%</td></tr>`)\n      tooltipHTML += '</tbody></table>';\n    } else {\n      tooltipHTML = `${d.id}`\n    }\n    let [X, Y] = this.getRelativeMousePosition(event);\n    \n    this.toolTip.nativeElement.innerHTML = tooltipHTML;\n    Object.assign(this.toolTip.nativeElement.style, {\n      position: 'absolute',\n      left: (X+20)+'px',\n      top: (Y+10)+'px',\n      zIndex: '1000',\n      transition: 'opacity 100ms',\n      opacity: '1'\n    })\n    this.toolTip.nativeElement.addEventListener('transitionend', () => {\n      this.toolTip.nativeElement.style.zIndex = '1000'\n    }, { once: true })\n  }\n\n  getRelativeMousePosition(event) {\n    let rect = this.cyContainer.nativeElement.getBoundingClientRect();\n    const X = event['clientX'] - rect.left;\n    const Y = event['clientY'] - rect.top;\n    return [X, Y]\n  }\n\n  hideTooltip() {\n    Object.assign(this.toolTip.nativeElement.style, {\n      transition: 'opacity 100ms',\n      opacity: 0\n    })\n    this.toolTip.nativeElement.addEventListener('transitionend', () => {\n      this.toolTip.nativeElement.style.zIndex = '-1'\n    }, { once: true })\n  }\n\n  /**\n   * Gets the data from commonService.getVisibleNodes and then creates node with this. Creates the axis labels and \n   * (updates axes and places nodes with this.updateAxes and updates color of nodes with this.updateColors)\n   */\n  getData() {\n    this.allData = [];\n  \n    let nodes = this.commonService.session.data.nodeFilteredValues;\n    nodes.forEach(node => {\n      let nodeDR: DataRecord = {\n        index: node.index,\n        id: node._id,\n        x: 0,\n        y: 0,\n        color: '#ff00ff',\n        Xgroup: 0,\n        Ygroup: 0,\n        strokeColor: node.selected ? this.commonService.session.style.widgets['selected-color']: '#000000',\n        totalCount: 1\n      }\n      if (this.xVariable != undefined || this.xVariable != 'None') {\n        let nodeX = node[this.xVariable];\n        let locX = this.X_categories.indexOf(nodeX);\n        nodeDR.Xgroup = locX;\n      }\n      if (this.yVariable != undefined || this.yVariable != 'None') {\n        let nodeY = node[this.yVariable];\n        let locY = this.Y_categories.indexOf(nodeY);\n        nodeDR.Ygroup = locY;\n      }\n\n      this.allData.push(nodeDR)\n    })\n    this.updateAxes();\n    this.updateColors();\n    if (this.widgets[\"node-timeline-variable\"] != 'None') {\n      this.sortData(this.widgets[\"node-timeline-variable\"])\n      let currentLength = this.allData.length;\n      this.visibleData = this.allData.slice(0, currentLength);\n    }\n    this.updateVisibleNodes();\n\n  }\n\n  /**\n   * updates values of visibleNodes based on SelectedNodeCollapsingTypeVariable and if timeline mode is active\n   */\n  updateVisibleNodes() {\n    // if no timeline and not collapsed\n    if (this.widgets[\"node-timeline-variable\"] == 'None' && this.SelectedNodeCollapsingTypeVariable == false) {\n      this.visibleData = this.allData;\n    // if timeline and not collapse\n    } else if (this.widgets[\"node-timeline-variable\"] != 'None' && this.SelectedNodeCollapsingTypeVariable == false) {\n      let visibleNodes = this.commonService.getVisibleNodes();\n      if (visibleNodes.length == this.visibleData.length) { return }\n      this.visibleData = [];\n      this.allData.forEach(node => {\n        if (visibleNodes.find(vNode => vNode._id == node.id)) {\n          this.visibleData.push(node);\n        }\n      })\n    // if no timeline and collapse\n    } else if (this.widgets[\"node-timeline-variable\"] == 'None'){\n      // console.log(this.commonService.getVisibleNodes().length, this.visibleData.reduce((sum, obj) => sum + obj.totalCount, 0))\n      this.getCollapsedData(false, false)\n    // if timeline and collapse\n    } else {\n      if (this.commonService.getVisibleNodes().length == this.visibleData.reduce((sum, obj) => sum + obj.totalCount, 0)) { return }\n      this.getCollapsedData(false, false);\n    } \n    \n\n  }\n\n  /**\n  * Updates the value of X_categories X_tickValues based on xVariables (or those variables for Y axis)\n  * @param axis 'X' or anything else defaults to 'Y' axis\n  */\n  updateAxisValues(axis: string) {\n    let nodes = this.commonService.session.data.nodeFilteredValues;\n\n    if (axis == 'X') {\n      this.widgets['bubble-x'] = this.xVariable;\n      if ( this.xVariable == 'None' || this.xVariable == undefined) {\n        this.X_categories = [ undefined ];\n        this.X_tickValues = [ 0 ];\n      }\n\n      this.X_categories = [];\n      this.X_tickValues = [];\n\n      nodes.forEach(node => {\n        let nodeX = node[this.xVariable];\n        if (this.X_categories.indexOf(nodeX) == -1) {\n          this.X_tickValues.push(this.X_categories.length);\n          this.X_categories.push(nodeX);\n        }\n    })\n\n    } else {\n      this.widgets['bubble-y'] = this.yVariable;\n      if ( this.yVariable == 'None' || this.yVariable == undefined) {\n        this.Y_categories = [ undefined ];\n        this.Y_tickValues = [ 0 ];\n      }\n\n      this.Y_categories = [];\n      this.Y_tickValues = [];\n\n      nodes.forEach(node => {\n        let nodeY = node[this.yVariable];\n        if (this.Y_categories.indexOf(nodeY) == -1) {\n          this.Y_tickValues.push(this.Y_categories.length);\n          this.Y_categories.push(nodeY);\n        }\n      })\n    }\n  }\n\n  /**\n   * Updates axis tickValues (X_tickValues & Y_tickValues) and positions for each node\n   */\n  updateAxes() {\n    this.X_tickValues.forEach(xLoc => {\n      this.Y_tickValues.forEach(yLoc => {\n        let filteredNodes = this.allData.filter(node => node.Xgroup == xLoc && node.Ygroup == yLoc)\n        if (filteredNodes.length == 0) {\n          return;\n        } else if (filteredNodes.length == 1) {\n          filteredNodes[0].x = xLoc;\n          filteredNodes[0].y = yLoc;\n        } else {\n          this.calculateHexagonalGridPositions(filteredNodes)\n        }\n      })\n    })\n  }\n\n  /**\n   * Updates this.visibleData so that each node represents a multiple datapoints instead of a single data point;\n   * Also updates color/pattern of nodes so that they are pie charts based on proportion of each datapoint's color\n   */\n  getCollapsedData( sortData = false, initial  = true) {\n    if (this.widgets[\"node-timeline-variable\"] != 'None' && sortData) {\n      this.sortData(this.widgets[\"node-timeline-variable\"])\n    }\n    \n    if (initial) {\n      this.visibleData = [];\n      let fullNodes = this.commonService.session.data.nodeFilteredValues;\n      this.allData.forEach(node => {\n        let X_group = 0, Y_group = 0;\n        let currentFullNode = fullNodes.find(fNode => fNode.index == node.index)\n        if (this.xVariable != undefined || this.xVariable != 'None') {\n          let nodeX = currentFullNode[this.xVariable];\n          X_group = this.X_categories.indexOf(nodeX);\n        }\n        if (this.yVariable != undefined || this.yVariable != 'None') {\n          let nodeY = currentFullNode[this.yVariable];\n          Y_group = this.Y_categories.indexOf(nodeY);\n        }\n\n        let index = this.visibleData.findIndex((node) => node.Xgroup==X_group && node.Ygroup==Y_group);\n        if (index == -1) {\n          //console.log(X_group, Y_group)\n          let length = this.visibleData.length;\n          this.visibleData.push({\n            index: length,\n            id: `cNode${length}`,\n            x: X_group,\n            y: Y_group,\n            color: node.color,\n            Xgroup: X_group,\n            Ygroup: Y_group,\n            strokeColor: '#000000',\n            totalCount: 0,\n            counts: []\n          })\n        }\n      })\n\n    }\n\n    let changedVisibleNodes = this.generateCollapsedCounts();\n    this.generatePieChartsSVGDefs(changedVisibleNodes);\n\n    this.cy.remove('node');\n    this.updateNodes();\n\n    this.cy.style().resetToDefault();\n    this.cy.style(this.getCytoscapeStyle())\n    this.visibleData.forEach((node, i) => {\n      if ( node.totalCount == 1 || node.counts.length == 1) {\n        return;\n      } else {\n        let size = this.nodeSize * Math.sqrt(node.totalCount);\n        let svgPattern = `<svg width='${size}' height='${size}' xmlns='http://www.w3.org/2000/svg'><defs>${this.svgDefs[`node${i}`]}</defs><circle fill=\"url(#node${i})\" cx='${size/2}' cy='${size/2}' r='${size/2}'/></svg>`;\n        let b64 = 'data:image/svg+xml;base64,' + btoa(svgPattern);\n        this.cy.style().selector(`#cNode${i}`).style({ 'background-color': 'transparent', 'background-fit': 'cover', 'background-image': b64})\n      }\n    })\n    this.cy.style().update();\n\n    this.updateAxes();\n  }\n\n  /**\n   * Update the values for counts for each node in this.visibleData (relevant when nodes are collapsed). These values are used when creating a pie\n   * chart of each collapsed node.\n   * @returns an array of indexes of visibleData that was changed\n   */\n  generateCollapsedCounts() {\n    let fullNodes = this.commonService.getVisibleNodes();\n    let colorCategory = this.commonService.session.style.widgets['node-color-variable']\n    let changedVisibleNodes = [];\n\n    this.visibleData.forEach(node => {\n      if (node.id == '' && node.index == 1000) {\n        node.counts = { label: '', count: 0}\n        return;\n      }\n      let X = this.X_categories[node.Xgroup]\n      let Y = this.Y_categories[node.Ygroup]\n      \n      let currentNodes = fullNodes.filter(fNode => fNode[this.xVariable] == X && fNode[this.yVariable]==Y) \n      node.counts = [];\n      let previousTotal = node.totalCount;\n      node.totalCount = 0;\n      currentNodes.forEach(cNode => {\n        let currentCategory = cNode[colorCategory];\n        let index = node.counts.findIndex((countItem) => countItem.label == currentCategory)\n        if (index == -1) {\n          node.counts.push({\n            label: currentCategory,\n            count: 1\n          })\n        } else {\n          node.counts[index].count += 1\n        }\n        node.totalCount += 1;\n      })\n      if (previousTotal != node.totalCount) {\n        //console.log('node updated: ', node.totalCount, node.index)\n        changedVisibleNodes.push(node.index)\n      }\n    })\n    return changedVisibleNodes;\n  }\n\n  /**\n   * @returns a string representing the SVG def of the patterns needed to generate the pie chart\n   */\n  generatePieChartsSVGDefs(changedVisibleNodes) : void {\n    changedVisibleNodes.forEach((indexNumber) => {\n      let patternString = '';\n      let node = this.visibleData.find(vNode => vNode.index == indexNumber);\n\n      if (node.totalCount < 2 || node.counts.length == 1 || node == undefined) {\n        return;\n      }\n      let proportions = []\n      let coordinates = []\n      let colors = [];\n      node.counts.forEach(x => {\n        let proportion = proportions.reduce((acc, cv) => acc+cv, 0) + x.count/node.totalCount\n        let xPos = Math.cos(2 * Math.PI * proportion)\n        let yPos = Math.sin(2 * Math.PI * proportion)\n        \n        proportions.push(x.count/node.totalCount)\n        coordinates.push([xPos, yPos])\n        colors.push(this.commonService.temp.style.nodeColorMap(x.label))\n      })\n\n      patternString += `<pattern id='node${indexNumber}' viewBox='-1 -1 2 2' style='transform: rotate(-.25turn)' width='100%' height='100%'>` ;\n      for (let i = 0; i<coordinates.length; i++) {\n        let arcStart = i == 0 ? '1 0': coordinates[i-1][0] + ' ' + coordinates[i-1][1];\n        let largeArcFlag = proportions[i] > .5 ? 1: 0 \n        let arcEnd = i == coordinates.length-1 ? '1 0' : coordinates[i][0] + ' ' + coordinates[i][1]\n        patternString += `<path d='M 0 0 L ${arcStart} A 1 1 0 ${largeArcFlag} 1 ${arcEnd} L 0 0' fill='${colors[i]}' />`\n      }\n      patternString += '</pattern>'\n      this.svgDefs[`node${indexNumber}`] = (patternString);\n    })\n  }\n\n  /**\n   * Updates the color of the nodes in allData\n   */\n  updateColors() {\n    let fillcolor = this.commonService.session.style.widgets['node-color']\n    let colorVariable = this.commonService.session.style.widgets['node-color-variable']\n\n    let fullNodes = this.commonService.session.data.nodeFilteredValues;\n\n    this.allData.forEach(node => {\n      let currentFullNode = fullNodes.find(Fnode => node.index == Fnode.index);\n      node.color = colorVariable == 'None' ? fillcolor : this.commonService.temp.style.nodeColorMap(currentFullNode[colorVariable]);\n    })\n\n    if (this.cy && this.cy.nodes().length > 0) {\n      this.cy.nodes().forEach(node => {\n        if (node.classes().length > 0) return;\n        let currentNode = this.allData.find(dataNode => dataNode.id == node.id());\n        node.data('nodeColor', currentNode.color);\n      });\n      this.cy.style().update(); // Refresh Cytoscape styles to apply changes\n    }\n\n  }\n\n  /**\n   * Calculates the position (x, y) for the array of nodes; nodes are positioned in a layers spiral/hexagonal pattern \n   */\n  calculateHexagonalGridPositions(nodes: DataRecord[]) {\n    const layerDistance = this.nodeSpacing + .02;\n    let layer = 0;\n    let nodesInLayer = 1;\n\n    let count = 0;\n    nodes.forEach(node => {\n      const angle = (2 * Math.PI / nodesInLayer) * count;\n      node.x = node.Xgroup + layer * layerDistance * Math.cos(angle);\n      node.y = node.Ygroup + layer * layerDistance * Math.sin(angle);\n\n      count++;\n      if (count >= nodesInLayer) {\n        count = 0;\n        layer++;\n        nodesInLayer = 6*layer;\n      }\n    })\n  }\n\n  onNodeCollapsingChange() {\n    this.widgets['bubble-collapsed'] = this.SelectedNodeCollapsingTypeVariable;\n    if (this.SelectedNodeCollapsingTypeVariable) {\n      this.getCollapsedData(true);\n    } else {\n      this.cy.remove('node');\n      this.getData();\n      this.updateNodes();\n    }\n  }\n\n  goldenLayoutComponentResize() {    \n    this.viewHeight = this.container.height - 73;\n    this.viewWidth = this.container.width - 42;\n    setTimeout(() => this.cy.fit(this.cy.nodes(), 30), 300);\n  }\n\n  setSelectedNodes(that) {\n    if (that.commonService.visuals.bubble.SelectedNodeCollapsingTypeVariable) {\n      return;\n    }\n    let nodes = that.commonService.getVisibleNodes()\n    nodes.forEach(node => {\n      let datum = that.visibleData.find(datum => datum.index == node.index)\n      let datum_all = that.allData.find(datum => datum.index == node.index)\n      if (node.selected) console.log('found: ', datum)\n\n      datum.strokeColor = node.selected ? this.commonService.session.style.widgets['selected-color']: '#000000';\n      datum_all.strokeColor = node.selected ? this.commonService.session.style.widgets['selected-color']: '#000000';\n    })\n    that.strokeColor = (d: DataRecord) => d.strokeColor;\n  }\n\n  updateNodes() {\n    if (this.cy) {\n      this.cy.remove('node');\n      this.cy.add(this.mapDataToCytoscapElements(this.visibleData))\n      this.AddAxes();\n    }\n  }\n\n  onDataChange(axis: string) {\n    this.updateAxisValues(axis)\n    this.svgDefs = {};\n    if (this.SelectedNodeCollapsingTypeVariable) {\n      this.getCollapsedData(true);\n    } else {\n      this.getData();\n    }\n    this.updateNodes();\n  }\n\n  /**\n   * Sorts this.allData chronologically based on the given sortVariable\n   * @param sortVariable name of a property of commonService.session.data.nodeFilteredValues\n   */\n  sortData(sortVariable) {\n    let allNodes = JSON.parse(JSON.stringify(this.commonService.session.data.nodeFilteredValues));\n    allNodes.sort((a, b) => new Date(a[sortVariable]).getTime() - new Date(b[sortVariable]).getTime())\n    \n    let allData = []\n    allNodes.forEach(node => {\n      allData.push(this.allData.find(dataNode => node._id == dataNode.id))      \n    })\n\n    this.allData = allData;\n    this.recalculatePositions();\n    this.updateVisibleNodes();\n    this.updateNodes();\n  }\n\n  /**\n   * Recalculates the position of the nodes in allData\n   */\n  recalculatePositions() {\n    this.X_tickValues.forEach(xLoc => {\n      this.Y_tickValues.forEach(yLoc => {\n        let filteredNodes = this.allData.filter(node => node.Xgroup == xLoc && node.Ygroup == yLoc)\n        if (filteredNodes.length == 0) {\n          return;\n        } else if (filteredNodes.length == 1) {\n          filteredNodes[0].x = xLoc;\n          filteredNodes[0].y = yLoc;\n        } else {\n          this.calculateHexagonalGridPositions(filteredNodes)\n        }\n      })\n    })\n  }\n\n  onNodeSpacingChange() {\n    this.widgets['bubble-charge'] = this.nodeSpacing;\n    this.recalculatePositions();\n    if (this.cy) {\n      this.cy.nodes().unlock();\n      this.cy.nodes().positions((node, i) => {\n        if (node.classes().length > 0) return;\n        let current = this.visibleData[i];\n        return {\n          x: current.x*this.scaleFactor,\n          y: current.y*this.scaleFactor\n        }\n      })  \n\n      this.cy.fit(this.cy.nodes(), 30);\n      this.cy.nodes().lock();\n    }\n  }\n\n  onNodeSizeChange() {\n    this.widgets['bubble-size'] = this.nodeSize;\n    if (this.SelectedNodeCollapsingTypeVariable) {\n      if (this.cy) {\n        this.cy.nodes().forEach(node => {\n          node.data('nodeSize', this.nodeSize * Math.sqrt(node.data().totalCount));\n        });\n        this.cy.style().update();\n        this.cy.fit(this.cy.nodes(), 30);\n      }\n    } else {\n      this.recalculatePositions();\n      if (this.cy) {\n        this.cy.nodes().forEach(node => {\n          node.data('nodeSize', this.nodeSize);\n        }); \n        this.cy.style().update(); \n        this.cy.fit(this.cy.nodes(), 30);\n      }\n    }\n}\n\n  /**\n  * Opens Global Setting Dialog\n  */\n  showGlobalSettings() {\n    this.DisplayGlobalSettingsDialogEvent.emit(\"Styling\");\n  }\n\n  updateNodeColors() {\n    if (this.SelectedNodeCollapsingTypeVariable) {\n      let _ = this.generateCollapsedCounts();\n      this.generatePieChartsSVGDefs(this.visibleData.map(obj => obj.index));\n      this.cy.remove('node');\n      this.getData();\n      this.updateNodes();\n\n      this.visibleData.forEach((node, i) => {\n        if ( node.totalCount == 1 || node.counts.length == 1) {\n          let currrentVar = node.counts[0].label\n          //console.log(node, currrentVar)\n          this.cy.style().selector(`#${node.id}`).style({ 'background-color': this.commonService.temp.style.nodeColorMap(currrentVar)})\n          return;\n        } else {\n          let size = this.nodeSize * Math.sqrt(node.totalCount);\n          let svgPattern = `<svg width='${size}' height='${size}' xmlns='http://www.w3.org/2000/svg'><defs>${this.svgDefs[`node${i}`]}</defs><circle fill=\"url(#node${i})\" cx='${size/2}' cy='${size/2}' r='${size/2}'/></svg>`;\n          let b64 = 'data:image/svg+xml;base64,' + btoa(svgPattern);\n          this.cy.style().selector(`#cNode${i}`).style({ 'background-color': 'transparent', 'background-fit': 'cover', 'background-image': b64})\n        }\n      })\n      this.cy.style().update();\n\n      let fillcolor = this.commonService.session.style.widgets['node-color']\n      let colorVariable = this.commonService.session.style.widgets['node-color-variable']\n  \n      let fullNodes = this.commonService.session.data.nodeFilteredValues;\n  \n      this.allData.forEach(node => {\n        let currentFullNode = fullNodes.find(Fnode => node.index == Fnode.index);\n        node.color = colorVariable == 'None' ? fillcolor : this.commonService.temp.style.nodeColorMap(currentFullNode[colorVariable]);\n      })\n    } else {\n      this.updateColors();\n    }\n  }\n\n  getAxisLabel(axis: string) {\n    if (axis == 'X') {\n      if (this.xVariable == 'None') return;\n      return this.commonService.capitalize(this.xVariable)\n    }\n    else {\n      if (this.yVariable == 'None') return;\n      return this.commonService.capitalize(this.yVariable)\n    }\n  }\n\n  updateLinkColor() {}\n  updateVisualization() {}\n  applyStyleFileSettings() {\n    this.widgets = (window as any).context.commonService.session.style.widgets;\n\n    if (this.widgets['bubble-x'] != undefined && this.selectedFieldList.map(x => x.value).includes(this.widgets['bubble-x'])) {\n      this.xVariable = this.widgets['bubble-x'];\n      this.onDataChange('X');\n    } else {\n      this.widgets['bubble-x'] = this.xVariable;\n    }\n\n    if (this.widgets['bubble-y'] != undefined && this.selectedFieldList.map(x => x.value).includes(this.widgets['bubble-y'])) {\n      this.yVariable = this.widgets['bubble-y'];\n      this.onDataChange('Y');\n    } else {\n      this.widgets['bubble-y'] = this.yVariable;\n    }\n\n    if (this.widgets['bubble-size'] >= 10 && this.widgets['bubble-size'] <= 40) {\n      this.nodeSize = this.widgets['bubble-size'];\n      this.onNodeSizeChange()\n    } else {\n      this.widgets['bubble-size'] = this.nodeSize;\n    }\n    \n    if (this.widgets['bubble-charge'] >= .01 && this.widgets['bubble-charge'] <= .15) {\n      this.nodeSpacing = this.widgets['bubble-charge'];\n      this.onNodeSpacingChange();\n    } else {\n      this.widgets['bubble-charge'] = this.nodeSpacing;\n    }\n    \n    if (this.widgets['bubble-collapsed'] == undefined || this.widgets['bubble-collapsed'] == null) {\n      this.widgets['bubble-collapsed'] = this.SelectedNodeCollapsingTypeVariable;\n    } else if (this.widgets['bubble-collapsed'] != this.SelectedNodeCollapsingTypeVariable) {\n      this.SelectedNodeCollapsingTypeVariable = this.widgets['bubble-collapsed'];\n      this.onNodeCollapsingChange();\n    }\n  }\n\n  openRefreshScreen() {}\n  onRecallSession() {}\n  onLoadNewData() {}\n  onFilterDataChange() {}\n    \n  openExport() { \n    this.setCalculatedResolution();\n    this.exportOpen = true;\n  }\n\n  /**\n  * Sets CalculatedResolution variable to string such as '1250 x 855px'. Only called when export is first opened\n  */\n  setCalculatedResolution() {\n    this.CalculatedResolution = (Math.round((this.viewWidth-42) * this.SelectedBubbleExportScaleVariable) + \" x \" + Math.round((this.viewHeight-73) * this.SelectedBubbleExportScaleVariable) + \"px\");\n  }\n\n  /**\n   * Updates CalculatedResolution variable to string such as '1250 x 855px' based on ImageDimensions and SelectedNetworkExportScaleVariable. \n   * This is called anytime SelectedNetworkExportScaleVariable is updated.\n   */\n  updateCalculatedResolution() {\n    this.CalculatedResolution = (Math.round((this.viewWidth-42) * this.SelectedBubbleExportScaleVariable) + \" x \" + Math.round((this.viewHeight-73) * this.SelectedBubbleExportScaleVariable) + \"px\");\n    this.cdref.detectChanges();\n  }\n\n  exportVisualization() {\n    //let svg = $('#bubbleViewContainer svg')[0]\n    if (this.BubbleExportFileType == 'svg') {\n      //this.cy.svg();\n      console.log('need to implement svg export')\n      // consider using something like alignment view or cytoscape-svg package // xxzx\n\n      // let textElements = svg.querySelectorAll('text');\n      // textElements.forEach(text => { text.setAttribute('fill', 'black');});\n\n      // let svgString = this.commonService.unparseSVG(svg);\n      // let content;\n      // if (this.SelectedNodeCollapsingTypeVariable) {\n      //   let svgDef = this.commonService.unparseSVG($('#bubbleDefs')[0])\n      //   content = svgString.slice(0, -6) + svgDef + svgString.slice(-6);\n      // } else {\n      //   content = svgString;\n      // }\n      // let blob = new Blob([content], { type: 'image/svg+xml;charset=utf-8' });\n      // saveAs(blob, this.BubbleExportFileName + '.' + this.BubbleExportFileType);\n    } else {\n      let x = Math.round((this.viewWidth - 42 ) * this.SelectedBubbleExportScaleVariable)\n      let y = Math.round((this.viewHeight - 73 ) * this.SelectedBubbleExportScaleVariable)\n      let pngString = this.cy.png({bg:'white', maxHeight: y, maxWidth: x});\n      saveAs(pngString, this.BubbleExportFileName + '.png' )\n    }\n    this.exportOpen = false;\n  }\n\n  openSettings() {\n  this.settingsOpen = true;\n  }\n}\n\nexport namespace BubbleComponent {\n  export const componentTypeName = 'Bubble';\n}\n","import { ChangeDetectorRef, Component, ElementRef, Inject, Injector, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { EventManager } from '@angular/platform-browser';\nimport { ComponentContainer } from 'golden-layout';\nimport { SelectItem } from 'primeng/api';\nimport { Table } from 'primeng/table';\nimport * as saveAs from 'file-saver';\n// import pdfMake from 'pdfmake/build/pdfmake.js';\n// import pdfFonts from 'pdfmake/build/vfs_fonts.js'\n\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { MicobeTraceNextPluginEvents } from '../../helperClasses/interfaces';\nimport { MicrobeTraceNextVisuals } from '../../microbe-trace-next-plugin-visuals';\nimport { CommonService } from '../../contactTraceCommonServices/common.service';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\n\n@Component({\n  selector: 'CrosstabComponent',\n  templateUrl: './crosstab-plugin.component.html',\n  styleUrls: ['./crosstab-plugin.component.scss']\n})\nexport class CrosstabComponent extends BaseComponentDirective implements OnInit, MicobeTraceNextPluginEvents {\n\n  private visuals: MicrobeTraceNextVisuals;\n\n  @ViewChild('dt') dataTable: Table;\n\n  widgets;\n  xVariable;\n  yVariable; \n\n  viewActive: boolean = true;\n  \n  showOptions: any = [\n    { label: 'Counts', value: false },\n    { label: 'Proportion', value: true }\n  ]\n\n  settingsOpen: boolean = true;\n  exportOpen: boolean = false;\n\n  SelectedCrossTabExportFilename: string = \"\";\n  SelectedCrossTabExportFileType = 'csv';\n  CrossTabExportFileTypeList: any = [\n    { label: 'xlsx', value: 'xlsx' },\n    { label: 'csv', value: 'csv' },\n    { label: 'json', value: 'json'},\n    { label: 'pdf', value: 'pdf'}\n];\n\n  fieldList: SelectItem[];\n  SelectedTableData: TableData;\n  totalRow;\n  selectedSize = '';\n  scrollHeight: string;\n  tableStyleCrosstab;\n  sizes = [\n      { name: 'Small', class: 'p-datatable-sm' },\n      { name: 'Normal', class: '' },\n      { name: 'Large',  class: 'p-datatable-lg' }\n  ];\n\n  constructor(injector: Injector,\n    private renderer: Renderer2,\n    private elem: ElementRef,\n    private eventManager: EventManager,\n    public commonService: CommonService,\n    @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer, \n    elRef: ElementRef,\n    private cdref: ChangeDetectorRef,\n    private gtmService: GoogleTagManagerService) {\n\n      super(elRef.nativeElement);\n\n      this.visuals = commonService.visuals;\n      this.visuals.crossTab = this;\n      this.widgets = this.commonService.session.style.widgets;\n  }\n\n  ngOnInit() {\n\n    this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/crosstab\",\n            page_title: \"Crosstab View\"\n        });\n\n    this.updateFieldLists();\n    this.setWidgets();\n\n    this.updateTable();\n\n    // offsets: 70 table-wrapper padding-top, 10 table-wrapper padding-bottom\n    let pFooterHeight = this.selectedSize == 'p-datatable-sm' ? 41 : this.selectedSize == 'p-datatable-lg' ? 65 : 57;\n    this.scrollHeight = ($('crosstabcomponent').height() - 70 - 10 - pFooterHeight) + 'px';\n    let width = ($('crosstabcomponent').width() - 23) + 'px';\n    this.tableStyleCrosstab = {\n        'max-width' : width,\n        'display': 'block'\n    }\n\n    this.container.on('resize', () => { this.goldenLayoutComponentResize()})\n    this.container.on('hide', () => { \n      this.viewActive = false; \n      this.cdref.detectChanges();\n    })\n    this.container.on('show', () => { \n        this.viewActive = true; \n        this.cdref.detectChanges();\n    })\n  }\n\n  /**\n   * Set Default widgets if not previously defined or when a style file is loaded\n   */\n  setWidgets() {\n\n    // x and y variable\n    if (this.widgets['crosstab-xVariable'] == undefined || !(this.fieldList.map(x => x.value).includes(this.widgets['crosstab-xVariable']))) {\n      this.xVariable = 'cluster';\n      this.widgets['crosstab-xVariable'] = 'cluster'\n    } else {\n      this.xVariable = this.widgets['crosstab-xVariable'];\n    }\n\n    if (this.widgets['crosstab-yVariable'] == undefined || !(this.fieldList.map(x => x.value).includes(this.widgets['crosstab-yVariable']))) {\n      this.yVariable = 'None';\n      this.widgets['crosstab-yVariable'] = 'None';\n    } else {\n      this.yVariable = this.widgets['crosstab-yVariable'];\n    }\n\n    // use proportion\n    if (this.widgets['crosstab-useProportion'] == undefined) {\n      this.widgets['crosstab-useProportion'] = false;\n    }\n  }\n\n  /**\n   * Generates the table by counting the data. Converts the counts into proportions if needed\n   */\n  updateTable() {\n    var xValues = [], yValues = [];\n    let rawdata = this.commonService.getVisibleNodes();\n\n    // get values for X and Y axis\n    rawdata.forEach(row => {\n      var val = row[this.xVariable];\n      if (!xValues.includes(val)) xValues.push(val);\n      val = row[this.yVariable];\n      if (!yValues.includes(val)) yValues.push(val);\n    });\n    xValues.push('Total');\n    yValues.push('Total');\n    xValues = xValues.map(String);\n    \n    // populate count array [{}, {}, ...] where each item/object is a row\n    var data = [];\n    this.totalRow = { col: 'Total'}\n    xValues.forEach(col => this.totalRow[col] = 0)\n    rawdata.forEach(row => {\n      var match = data.find(arow => arow.col == row[this.widgets['crosstab-yVariable']]);\n      if (match) {\n        match[row[this.xVariable]]++;\n        match['Total']++;\n      } else {\n        var newRow = { col: row[this.widgets['crosstab-yVariable']] };\n        xValues.forEach(col => newRow[col] = 0);\n        newRow[row[this.xVariable]]++;\n        newRow['Total'] = 1;\n        data.push(newRow);\n      }\n      this.totalRow[row[this.xVariable]]++;\n    });\n    this.totalRow['Total'] = Object.keys(this.totalRow).filter(key => key!= 'col').reduce((acc, key) => acc + this.totalRow[key], 0);\n    data.forEach(row => {\n      row.col = String(row.col)\n    })\n\n    this.SelectedTableData = {\n      tableColumns: [\n        {\n          field: 'col',\n          header: ''\n        }\n       ],\n      data: data\n    }\n    xValues.forEach(value => {\n      this.SelectedTableData.tableColumns.push({\n        field: value,\n        header: value\n      })\n    })\n    \n    if(this.widgets['crosstab-useProportion']) {\n      this.convertToProportion();\n    }\n    \n  }\n\n  /**\n   * Calculate proportion instead of count for each cell based on total. \n   */\n  convertToProportion() {\n    // Future updates may give option for proportion based on col and row as well\n    // But it's not clear how to work with pivot function (would proportion by row/X become by col/Y or not)\n\n    let total = this.totalRow['Total'];\n    this.SelectedTableData.data.forEach(row => {\n      Object.keys(row).forEach(key => {\n        if (key =='col') return;\n        row[key] = (row[key]/total).toFixed(3);\n      })\n    })\n    Object.keys(this.totalRow).forEach(key => {\n      if (key == 'col') return;\n      this.totalRow[key] = (this.totalRow[key]/total).toFixed(3);\n    })\n    //this.cdref.detectChanges();\n  }\n\n  /**\n   * Switch the value of widgets['crosstab-xVariable'] and widgets['crosstab-yVariable'], and then updates the values in the table so that it pivots.\n   * This function does not recount the value.\n   */\n  pivotCrosstab() {\n    // switch widgets['crosstab-xVariable'] and yVariable\n    let tmp = this.xVariable;\n    this.xVariable = this.yVariable;\n    this.yVariable = tmp;\n    \n    // use prevData and prevColumn to generate the newData and newTableColumns\n    let prevData = this.SelectedTableData.data;\n    let prevColumns = this.SelectedTableData.tableColumns.slice(1).map(obj => obj.header);\n    let newData = [];\n    let newTotalRow = { col: 'Total'};\n\n    let newTableColumns = [{\n      field: 'col',\n      header: ''\n    }]\n    prevData.forEach((row)=> {\n      newTableColumns.push({\n        field: row.col,\n        header: row.col\n      })\n      newTotalRow[row.col] = row['Total']\n    })\n    newTableColumns.push({ field: 'Total', header: 'Total'})\n\n    prevColumns.forEach(pcol => {\n      if (pcol == 'Total') return;\n      let newRow = {col: pcol}\n\n      newTableColumns.forEach(ncol => {\n        if (ncol.header == '') return;\n        else if (ncol.header == 'Total') {\n          newRow['Total'] = this.totalRow[pcol]\n          return;\n        }\n        newRow[ncol.field] = prevData.find(aRow => aRow.col == ncol.field)[pcol];\n      })\n      newData.push(newRow);\n    })\n\n    newTotalRow['Total'] = this.totalRow['Total'];\n\n    // update the table with new values\n    this.SelectedTableData = {\n      tableColumns: newTableColumns,\n      data: newData\n    }\n    this.totalRow = newTotalRow;\n\n    this.widgets['crosstab-xVariable'] = this.xVariable;\n    this.widgets['crosstab-yVariable'] = this.yVariable;\n  }\n\n  /**\n   * Converts the data into proportion or recounts the data\n   */\n  useProportionChanged() {\n    if (this.widgets['crosstab-useProportion']) {\n      this.convertToProportion();\n    } else {\n      this.updateTable();\n    }\n  }\n\n  formatTableTitle() {\n    if (this.xVariable != 'None' && this.yVariable != 'None') {\n      return `${this.commonService.capitalize(this.xVariable.replace(\"_\", \"\"))} vs ${this.commonService.capitalize(this.yVariable.replace(\"_\",\"\"))}`\n    } else if (this.xVariable != 'None') {\n      return `${this.commonService.capitalize(this.xVariable.replace(\"_\", \"\"))}`\n    } else if (this.yVariable != 'None') {\n      return `${this.commonService.capitalize(this.yVariable.replace(\"_\",\"\"))}`\n    } else {\n      return ''\n    }\n  }\n\n  /**\n   * Updates the stored values and table when the widgets['crosstab-xVariable'] or widgets['crosstab-yVariable'] is changed\n   */\n  onDataChange() {\n\n    this.widgets['crosstab-xVariable'] = this.xVariable;\n    this.widgets['crosstab-yVariable'] = this.yVariable;\n\n    this.updateTable();\n  }\n\n\n  /**\n   * Updates the values for the fieldListDictionary then updates the fieldList\n   */\n  updateFieldLists() {\n    this.fieldList = []\n\n    this.fieldList.push({ label: \"None\", value: \"None\"})\n    this.commonService.session.data['nodeFields'].map((d) => {\n      if (['seq', 'origin', '_diff', '_ambiguity', 'index', '_id'].includes(d)) return;\n      this.fieldList.push({\n        label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n        value: d\n      });\n    })\n  }\n\n  updateNodeColors() {  }\n  updateVisualization() {  }\n\n  applyStyleFileSettings() { \n    this.widgets = (window as any).context.commonService.session.style.widgets;\n    let tempX, tempY;\n    if (this.widgets['crosstab-xVariable'] != undefined) {\n      tempX = this.widgets['crosstab-xVariable']\n    } \n    if (this.widgets['crosstab-yVariable'] != undefined) {\n      tempY = this.widgets['crosstab-yVariable'];\n    }\n\n    this.cdref.detectChanges();\n    \n    // x and y variable\n    if (tempX == undefined || !(this.fieldList.map(x => x.value).includes(tempX))) {\n      this.xVariable = 'None';\n      this.widgets['crosstab-xVariable'] = 'None';\n    } else {\n      this.xVariable = tempX;\n      this.widgets['crosstab-xVariable'] = tempX\n    }\n\n    if (tempY == undefined || !(this.fieldList.map(x => x.value).includes(tempY))) {\n      this.yVariable = 'None';\n      this.widgets['crosstab-yVariable'] = 'None';\n    } else {\n      this.yVariable = tempY;\n      this.widgets['crosstab-yVariable'] = tempY;\n    }\n\n    // use proportion\n    if (this.widgets['crosstab-useProportion'] == undefined) {\n      this.widgets['crosstab-useProportion'] = false;\n    }\n\n    this.updateTable();\n   }\n\n  updateLinkColor() {  }\n  openRefreshScreen() { }\n  onRecallSession() {  }\n  onLoadNewData() { \n    this.updateTable();\n   }\n  onFilterDataChange() { \n    this.updateTable();\n   }\n\n  /**\n   * Opens the settings menu\n   */\n  openSettings() {\n    this.settingsOpen = true;\n  }\n\n  /**\n   * Opens the export menu\n   */\n  openExport() {\n    this.exportOpen = true;\n  }\n\n  /**\n   * Exports visualization as csv file or calls saveAsExcelFile to save as Excel\n   */\n  exportVisualization() {\n    if (this.SelectedCrossTabExportFileType == 'xlsx') {\n      this.saveAsExcelFile();\n  } else if (this.SelectedCrossTabExportFileType == 'csv') {\n      this.dataTable.exportFilename = this.SelectedCrossTabExportFilename;\n      this.dataTable.value.push(this.totalRow)\n      this.dataTable.exportCSV()\n      this.dataTable.value.pop()\n  } else if (this.SelectedCrossTabExportFileType == 'json') {\n    let keys = Object.keys(this.SelectedTableData.data[0])\n    let data = this.SelectedTableData.data.map(row => {\n      let output = {}\n      keys.forEach(key => {\n        if (key == 'Total') return;\n        else if (row[key] == 'null') {\n          output[key] = null;\n        } else {\n          output[key] = row[key]\n        }\n      })\n      return output;\n    })\n    let blob = new Blob([JSON.stringify(data)], { type: \"application/json;charset=utf-8\"});\n    saveAs(blob, this.SelectedCrossTabExportFilename +'.json');\n  } else {\n    let columns = ['col']\n    this.SelectedTableData.tableColumns.forEach(col => {\n      if (col.header != '') {\n        columns.push(col.header)\n      }\n    })\n\n    let dataBody = [this.SelectedTableData.tableColumns.map(col => {\n      if (col.header == '') return this.commonService.capitalize(this.yVariable)      \n      return this.commonService.capitalize(col.header);\n    })].concat(this.SelectedTableData.data.map(formatData)).concat([formatData(this.totalRow)]);\n    \n    function formatData(dataRow) {\n      return columns.map(header => dataRow[header])\n    }\n\n    // pdfMake.vfs = pdfFonts.pdfMake.vfs;\n    //   pdfMake.createPdf({\n    //     content: [ \n    //       { image: this.commonService.watermark },\n    //       { \n    //         text: \"Cluster Crosstab Snapshot:\",\n    //         style: \"header\",\n    //         alignment: \"center\"\n    //       },\n    //       {\n    //         text: `${this.commonService.capitalize(this.xVariable)} vs ${this.commonService.capitalize(this.yVariable)}`,\n    //         style: \"fontSize: 18\",\n    //         alignment: \"center\"\n    //       },\n    //       {\n    //         style: \"paddedTable\",\n    //         table: {\n    //           headerRows: 1,\n    //           widths: this.SelectedTableData.tableColumns.map(col => \"*\"),\n    //           body: dataBody,\n    //         }\n    //       }\n    //     ],\n    //     footer: function(currentPage, pageCount) {\n    //       return [\n    //         {\n    //           text: `Page ${currentPage.toString()} of ${pageCount}`,\n    //           alignment: \"center\"\n    //         }\n    //       ];\n    //     },\n    //     styles: {\n    //       header: {\n    //         fontSize: 22,\n    //         bold: true\n    //       },\n    //       paddedTable: {\n    //         margin: [10, 10, 10, 10]\n    //       }\n    //     }\n    //   }).download(this.SelectedCrossTabExportFilename + '.pdf');\n    }\n\n  this.exportOpen = !this.exportOpen;\n  }\n\n  /**\n   * Exports the data as an excel file\n   */\n  saveAsExcelFile() {\n    import(\"xlsx\").then(xlsx => {\n      this.dataTable.value.push(this.totalRow);\n      let headers = [];\n      this.SelectedTableData.tableColumns.forEach(item => headers.push(item.field))\n      let worksheet = xlsx.utils.json_to_sheet(this.dataTable.value, { header: headers}) ; \n      const workbook = { Sheets: { 'data': worksheet }, SheetNames: ['data'] }\n      const excelBuffer: any = xlsx.write(workbook, { bookType: 'xlsx', type: 'array' });\n      const EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n      const data: Blob = new Blob([excelBuffer], { type: EXCEL_TYPE });\n      saveAs(data, this.SelectedCrossTabExportFilename + '.xlsx');\n      this.dataTable.value.pop()\n  })\n}\n\n  /**\n   * Resizes the component as need based on how the goldenlayout dashboard is resized\n   */\n  goldenLayoutComponentResize() {\n    let pFooterHeight = this.selectedSize == 'p-datatable-sm' ? 41 : this.selectedSize == 'p-datatable-lg' ? 65 : 57;\n    this.scrollHeight = ($('crosstabcomponent').height() - 70 - 10 - pFooterHeight) + 'px';\n    let width = ($('crosstabcomponent').width() - 23) + 'px';\n    this.tableStyleCrosstab = {\n        'max-width' : width,\n        'display': 'block'\n    }\n  }\n\n  onTableSizeChange() {\n    let pFooterHeight = this.selectedSize == 'p-datatable-sm' ? 41 : this.selectedSize == 'p-datatable-lg' ? 65 : 57;\n    console.log('abc', pFooterHeight);\n    this.scrollHeight = ($('crosstabcomponent').height() - 70 - 10 - pFooterHeight) + 'px';\n  }\n\n}\n\nexport namespace CrosstabComponent {\n  export const componentTypeName = 'Crosstab';\n}\n\ninterface TableData {\n  data: any[],\n  tableColumns: any[],\n}","export const colorSchemes = {\r\n    colorful: [\r\n        '#EAC435', '#345995', '#03CEA4', '#FF6B6B', '#CA1551',\r\n        '#3A3335', '#FFE19C', '#C1FFF2', '#511730', '#8789C0' ],\r\n    cool: [\r\n        '#5680E9', '#84CEEB', '#5AB9EA', '#C1C8E4', '#8860D0',\r\n        '#7555E8', '#69C6EA', '#5971EA', '#AAACE2', '#C060D1' ],\r\n    warm: [\r\n        '#BA9434', '#FFE899', '#FFAC47', '#FF813D', '#E55730',\r\n        '#BA9948', '#A38B3C', '#A36E2E', '#A35327', '#92381F'\r\n    ]\r\n};\r\n","import { Component, OnInit, OnChanges, Input, ElementRef, ChangeDetectorRef } from '@angular/core';\nimport { colorSchemes } from '../constants/color-schemes';\nimport { GanttChartService } from './gantt-chart.service';\n\n@Component({\n  selector: 'ngx-gantt-chart',\n  templateUrl: './gantt-chart.component.html',\n  styleUrls: ['./gantt-chart.component.scss'],\n  providers: [GanttChartService]\n})\nexport class GanttChartComponent implements OnInit, OnChanges {\n\n  @Input() data;\n  @Input() width: number;\n  @Input() colorScheme = 'colorful';\n  @Input() customColorScheme: string[] = [];\n\n  componentID;\n  xPadding = 60;\n  yPadding = this.xPadding / 2;\n  phaseTimelines;\n  height: number;\n\n  gridWidthX: number;\n  gridWidthY: number;\n\n  gridPrecisionX: number;\n\n  gridID: string;\n  gridPath: string;\n\n  xAxis: any;\n  yAxis: any;\n\n  monthNames = [\n    'January', 'February', 'March',\n    'April', 'May', 'June', 'July',\n    'August', 'September', 'October',\n    'November', 'December'\n  ];\n\n\n  addDays(date, days: number) {\n    const newdate = new Date(date);\n    newdate.setDate((new Date(date)).getDate() + days);\n    const day = newdate.getDate();\n    const monthIndex = newdate.getMonth();\n    const year = newdate.getFullYear();\n\n\n    return this.monthNames[monthIndex] + ' ' + day + ', ' + year;\n  }\n\n  shortenDate(date) {\n    if (typeof date === \"string\"){\n      date = date.replace('January', 'Jan');\n      date = date.replace('February', 'Feb');\n      date = date.replace('March', 'Mar');\n      date = date.replace('April', 'Apr');\n      date = date.replace('May', 'May');\n      date = date.replace('June', 'Jun');\n      date = date.replace('July', 'Jul');\n      date = date.replace('August', 'Aug');\n      date = date.replace('September', 'Sep');\n      date = date.replace('October', 'Oct');\n      date = date.replace('November', 'Nov');\n      date = date.replace('December', 'Dec');\n    }\n    return date;\n  }\n\n  computeGrid() {\n    this.cdref.detectChanges();\n    // compute the min date and max date\n    // const oneDay = 24 * 60 * 60 * 1000;\n    // const dateRange = Math.round(Math.abs(\n    //     (this.ganttChartService.ganttMaxDate.getTime()\n    //      - this.ganttChartService.ganttMinDate.getTime()\n    //      ) / (oneDay)));\n    let flag = 0;\n    let qts = 1;\n\n    // 3m --> 1 week  --> 12\n    // 6m --> 2 weeks --> 12\n    // 9m --> 3 weeks --> 12\n\n    while (flag === 0) {\n      if (this.ganttChartService.ganttDateRange <= 90 * qts) {\n        this.gridPrecisionX = 7 * qts;\n        flag = 1;\n      } else qts = qts + 1;\n    }\n\n    // console.log(this.gridPrecisionX);\n\n    this.gridWidthX = this.ganttChartService.transformX(this.gridPrecisionX);\n    this.gridWidthY = this.ganttChartService.rectHeight / this.ganttChartService.ganttPhases.length;\n    this.gridPath = 'M ' + this.gridWidthX + ' 0 L 0 0 0 ' + this.gridWidthY;\n\n    this.xAxis = [];\n    this.yAxis = [];\n\n    let date = this.ganttChartService.ganttMinDate;\n    // let xPos = this.ganttChartService.transformGanttDate(date) + this.ganttChartService.xPadding + 150;\n    const yTrans = this.ganttChartService.rectHeight + this.ganttChartService.yPadding + 10;\n    // let transform = 'translate(' + xPos + 'px, ' + yTrans + 'px)';\n    // this.xAxis.push({xPos: xPos, value: date, transform: transform});\n    while (new Date(date) <= new Date(this.ganttChartService.ganttMaxDate)) {\n      // console.log(date);\n      const xPos = this.ganttChartService.transformGanttDate(date) + this.ganttChartService.xPadding + 150;\n      const transform = 'translate(' + xPos + 'px, ' + yTrans + 'px)';\n      this.xAxis.push({xPos, value: this.shortenDate(date), transform});\n      date = this.addDays(date, this.gridPrecisionX);\n    }\n\n    // console.log(this.xAxis);\n    let cnt = 0;\n    for (const phase of this.ganttChartService.ganttPhases) {\n      const yPos = this.gridWidthY * cnt + this.gridWidthY * 0.5 + this.ganttChartService.yPadding;\n      this.yAxis.push({yPos, value: phase });\n      cnt++;\n    }\n    // console.log(this.yAxis);\n    // console.log(this.xAxis);\n  }\n\n  getWidth(gEntry): number {\n    if (gEntry.to === gEntry.from) {\n      return 15;\n    } else {\n      return this.ganttChartService.transformGanttDate(gEntry.to) - this.ganttChartService.transformGanttDate(gEntry.from); \n    }\n  }\n\n\n\n  setDimensions() {\n    if (this.width) this.height = this.width - this.xPadding;\n    else {\n      const host = this.currentElement.nativeElement;\n      if (host.parentNode != null) {\n        const dims = host.parentNode.getBoundingClientRect();\n        this.width = dims.width;\n        this.height = this.width - this.xPadding;\n      }\n    }\n    \n     /*\n     console.log('---set dimensions---');\n     console.log('width: ' + this.width);\n     console.log('height: ' + this.height);\n     console.log('--------------------');\n     */\n     \n  }\n\n  setColors() {\n    let cnt = 0;\n    for (const team of this.data) {\n      if (!team.color) {\n        if (this.customColorScheme.length > 0) {\n          team.color = this.customColorScheme[cnt % this.customColorScheme.length];\n        } else {\n          team.color = colorSchemes[this.colorScheme][cnt % 10];\n        }\n        cnt++;\n      }\n    }\n  }\n\n  definePhaseTimelines() {\n    this.phaseTimelines = {};\n    for (const phase of this.ganttChartService.ganttPhases) {\n      this.phaseTimelines[phase] = [];\n    }\n\n    for (const team of this.ganttChartService.data) {\n      for (const phase of Object.keys(team.timelines)) {\n        for (const timeline of team.timelines[phase]) {\n          this.phaseTimelines[phase].push({from: timeline.from,\n            to: timeline.to,\n            color: team.color,\n            info: timeline.info,\n            toolTip: (timeline.info ? 'block' : 'none')});\n        }\n      }\n    }\n    // console.log('phase timelines: ');\n    // console.log(this.phaseTimelines);\n  }\n\n  // setColors() {\n  //   let cnt = 0;\n  //   for (const team of this.ganttChartService.data) {\n  //     if (!team.color) team.color = colorSchemes[this.ganttChartService.colorScheme][cnt % 10];\n  //     cnt++;\n  //   }\n  // }\n\n  constructor(public ganttChartService: GanttChartService,              \n              private currentElement: ElementRef,\n              private cdref: ChangeDetectorRef) { //super(ganttChartService, cdref);\n                }\n\n  ngOnInit() {\n    this.cdref.detectChanges();\n    this.componentID = 1;\n    this.setDimensions();\n    this.setColors();\n    this.ganttChartService.setValues({\n      componentID: this.componentID,\n      width: this.width,\n      xPadding: this.xPadding,\n      yPadding: this.yPadding,\n      data: this.data\n    });\n    this.gridID = 'grid' + this.ganttChartService.componentID;\n    this.height = this.ganttChartService.height;\n    this.definePhaseTimelines();\n    this.computeGrid();\n  }\n\n  ngOnChanges() {\n    this.setDimensions();\n    this.setColors();\n    this.ganttChartService.setValues({\n      componentID: this.componentID,\n      width: this.width,\n      xPadding: this.xPadding,\n      yPadding: this.yPadding,\n      data: this.data\n    });\n    this.height = this.ganttChartService.height;\n    this.definePhaseTimelines();\n    this.computeGrid();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { colorSchemes } from '../constants/color-schemes';\n\n@Injectable({\n   providedIn: 'root'\n})\nexport class GanttChartService {\n\n  width: number;\n  height: number;\n  ganttTeams: Array<any>;\n  ganttPhases: Array<any>;\n  phaseTimelines;\n  legion;\n  ganttMinDate;\n  ganttMaxDate;\n  ganttDateRange: number;\n  xPadding: number;\n  yPadding: number;\n  componentID: number;\n  data: any;\n  ganttOpacity = \"0.9\";\n\n  rectWidth: number;\n  rectHeight: number;\n  legionWidth: number;\n  legionHeight: number;\n  minX: number;\n  maxX: number;\n\n  monthNames = [\n    'January', 'February', 'March',\n    'April', 'May', 'June', 'July',\n    'August', 'September', 'October',\n    'November', 'December'\n  ];\n\n  constructor() { }\n\n  computeRectDimensions() {\n    this.rectWidth = this.width - this.xPadding * 2 - 150;\n    this.rectHeight = this.ganttPhases.length * 60;\n  }\n\n  computeLegionDimensions() {\n    const noOfLines = Math.ceil(this.data.length / 3);\n    this.legionWidth = this.width - this.xPadding * 2 - 150;\n    this.legionHeight = 40 + 40 * noOfLines;\n  }\n\n  transformX(x: number) {\n    return this.rectWidth * x / (this.maxX - this.minX);\n  }\n\n  computeLegion() {\n    const noOfLines = Math.ceil(this.data.length / 3);\n    this.legion = [];\n    let cnt = 0;\n    for (let line = 0; line < noOfLines; line++) {\n      const legionLine = [];\n      for (let i = 0; i < 3; i++) {\n        if (this.ganttTeams[cnt]) legionLine.push(this.ganttTeams[cnt]);\n        cnt++;\n      }\n      this.legion.push(legionLine);\n    }\n    // console.log(this.legion);\n  }\n\n  transformGanttDate(d) {\n    const oneDay = 24 * 60 * 60 * 1000;\n    const daysSinceMinDate = Math.round(Math.abs(\n        (new Date(d).getTime()\n        - (new Date(this.ganttMinDate)).getTime()\n        ) / (oneDay)));\n    return this.rectWidth * daysSinceMinDate / (this.maxX - this.minX);\n  }\n\n  closestMultipleLessThanEqualTo(factor, num) {\n    if (num % factor === 0) return num;\n    else return this.closestMultipleLessThanEqualTo(factor, num - 1);\n  }\n\n  closestMultipleMoreThanEqualTo(factor, num) {\n    if (num % factor === 0) return num;\n    else return this.closestMultipleMoreThanEqualTo(factor, num + 1);\n  }\n\n\n  setValues({\n    componentID: componentID,\n    width: width,\n    xPadding: xPadding,\n    yPadding: yPadding,\n    data: data\n  }) {\n    this.componentID = componentID;\n    this.width = width;\n    this.xPadding = xPadding;\n    this.yPadding = yPadding;\n    this.data = data;\n    const froms: any = [];\n    const tos: any = [];\n    const phases = new Set();\n    this.ganttTeams = [];\n    // this.setColors();\n    for (const team of this.data) {\n      this.ganttTeams.push({name: team.name, color: team.color, opacity: team.opacity});\n      for (const phase of Object.keys(team.timelines)) {\n        phases.add(phase);\n        for (const timeline of team.timelines[phase]) {\n          froms.push(timeline.from);\n          tos.push(timeline.to);\n        }\n      }\n    }\n    this.ganttPhases = Array.from(phases);\n\n    const minDate = froms.filter(x => x !== null && x!==\"null\").reduce((a, b) => new Date(a) < new Date(b) ? a : b );\n    const maxDate = tos.filter(x=>x!==null && x!==\"null\").reduce((a, b) => new Date(a) > new Date(b) ? a : b );\n\n    this.ganttMinDate = minDate;\n    this.ganttMaxDate = maxDate;\n    const noOfLines = Math.ceil(this.data.length / 3);\n    this.height = this.ganttPhases.length * 60 + this.yPadding * 3 + 100 + 40 + 30 * noOfLines;\n\n    const oneDay = 24 * 60 * 60 * 1000;\n    this.ganttDateRange = Math.round(Math.abs(\n        (new Date(this.ganttMaxDate).getTime()\n        - new Date(this.ganttMinDate).getTime()\n        ) / (oneDay)));\n    this.minX = 0;\n    this.maxX = this.ganttDateRange;\n    let flag = 0;\n    let qts = 1;\n    let gridPrecisionX = 0;\n    while (flag === 0) {\n      if (this.ganttDateRange <= 90 * qts) {\n        gridPrecisionX = 7 * qts;\n        flag = 1;\n        break;\n      } else { qts = qts + 1; }\n    }\n\n    this.maxX = this.closestMultipleMoreThanEqualTo(7 * qts, this.ganttDateRange);\n    this.ganttMaxDate = this.addDays(this.ganttMinDate, this.maxX);\n\n    this.computeRectDimensions();\n    this.computeLegionDimensions();\n    this.computeLegion();\n    // this.printAll();\n  }\n\n  addDays(date, days: number) {\n    const newdate = new Date(date);\n    newdate.setDate((new Date(date)).getDate() + days);\n    const day = newdate.getDate();\n    const monthIndex = newdate.getMonth();\n    const year = newdate.getFullYear();\n\n\n    return this.monthNames[monthIndex] + ' ' + day + ', ' + year;\n  }\n\n  printAll() {\n    console.log('line-graph-service');\n    console.log('component ID: ' + this.componentID);\n    console.log('width: ' + this.width);\n    console.log('height: ' + this.height);\n    console.log('xPadding: ' + this.xPadding);\n    console.log('yPadding: ' + this.yPadding);\n    console.log('rectWidth: ' + this.rectWidth);\n    console.log('rectHeight: ' + this.rectHeight);\n    console.log('ganttMinDate: ' + this.ganttMinDate);\n    console.log('ganttMaxDate: ' + this.ganttMaxDate);\n  }\n}\n","import { Injector, Component, Output, EventEmitter, OnInit,\n  ViewChild, ViewContainerRef, ElementRef, ChangeDetectorRef, Inject } from '@angular/core';\nimport { EventManager } from '@angular/platform-browser';\nimport { CommonService } from '@app/contactTraceCommonServices/common.service';\nimport { SelectItem } from 'primeng/api';\nimport { DialogSettings } from '@app/helperClasses/dialogSettings';\nimport * as _ from 'lodash';\nimport * as saveAs from 'file-saver';\nimport * as domToImage from 'html-to-image';\nimport { CustomShapes } from '@app/helperClasses/customShapes';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { ComponentContainer } from 'golden-layout';\nimport { GanttChartService } from './gantt-chart/gantt-chart.service';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\nimport { MicrobeTraceNextVisuals } from '../../microbe-trace-next-plugin-visuals';\nimport { cloneDeep } from 'lodash';\n\n\n@Component({\n  selector: 'GanttComponent',\n  templateUrl: './gantt-plugin.component.html',\n  styleUrls: ['./gantt-plugin.component.scss']\n})\nexport class GanttComponent extends BaseComponentDirective implements OnInit {\n  @ViewChild('ganttContainer', {read: ViewContainerRef}) ganttContainer: ViewContainerRef;\n  @Output() DisplayGlobalSettingsDialogEvent = new EventEmitter();\n  viewActive: boolean = true;\n  svgStyle: object = {\n    height: '0px',\n    width: '1000px'\n  };\n\n  ganttChartData: object[];\n\n  private customShapes: CustomShapes = new CustomShapes();\n\n  ShowNetworkAttributes = false;\n  ShowStatistics = false;\n  ShowGanttExportPane = false;\n  ShowGanttSettingsPane = false;\n  IsDataAvailable = true;\n  svg: any = null;\n  settings: object = this.commonService.session.style.widgets;\n  visuals: MicrobeTraceNextVisuals;\n  nodeIds: string[] = [];\n  FieldList: SelectItem[] = [];\n  ganttChartService: GanttChartService;\n  GanttEntryName: string = \"\";\n  GanttStartVariable: string = \"\";\n  GanttEndVariable: string = \"\";\n  GanttEntryColor: string = \"#000000\";\n  ganttEntries: object[] = [];\n  SelectedGanttChartImageFilenameVariable = \"default_gantt_chart\";\n\n  // ganttChartData: Object[] = [];\n\n  NetworkExportFileTypeList: any = [\n    { label: 'png', value: 'png' },\n    { label: 'jpeg', value: 'jpeg' },\n    { label: 'svg', value: 'svg' }\n  ];\n\n  SelectedNetworkExportFileTypeListVariable = 'png';\n  GanttSettingsDialogSettings: DialogSettings = new DialogSettings('#gantt-settings-pane', false);\n  isExportClosed: boolean;\n\n  constructor(injector: Injector,\n              private eventManager: EventManager,\n              public commonService: CommonService,\n              @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer,\n              @Inject(ViewContainerRef) ViewContainerRef, \n              elRef: ElementRef,\n              ganttChartService: GanttChartService,\n              private cdref: ChangeDetectorRef,\n              private gtmService: GoogleTagManagerService) {\n\n    super(elRef.nativeElement);\n\n    this.visuals = commonService.visuals;\n    this.commonService.visuals.gantt = this;\n    this.ganttChartService = ganttChartService;\n  }\n\n  dataAvail(): boolean {\n    if (!this.ganttChartData || this.ganttChartData.length === 1 && this.ganttChartData[0][\"name\"] === \"_blank\"){\n      return false;\n    }\n    return true;\n  }\n\n  openSettings(): void {\n    this.visuals.gantt.GanttSettingsDialogSettings.setVisibility(true);\n  }\n  openExport(): void {\n    this.ShowGanttExportPane = true;\n\n    this.visuals.microbeTrace.GlobalSettingsDialogSettings.setStateBeforeExport();\n    //this.visuals.microbeTrace.GlobalSettingsLinkColorDialogSettings.setStateBeforeExport();\n    //this.visuals.microbeTrace.GlobalSettingsNodeColorDialogSettings.setStateBeforeExport();\n    this.isExportClosed = false;\n  }\n\n  ngOnInit(): void {\n\n    this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/gantt\",\n            page_title: \"Gantt Chart View\"\n        });\n\n    this.nodeIds = this.getNodeIds();\n    this.visuals.gantt.FieldList.push(\n      {\n        label: \"None\",\n        value: \"\",\n      }\n    )\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    this.commonService.session.data['nodeFields'].map((d, i) => {\n\n      this.visuals.gantt.FieldList.push(\n        {\n          label: this.visuals.gantt.commonService.capitalize(d.replace('_', '')),\n          value: d\n        });\n    });\n\n    this.visuals.microbeTrace.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n    this.visuals.microbeTrace.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n    \n\n    // this.createGanttEntry();\n    this.ganttChartData = [this.makeBlankEntry()];\n    this.openSettings();\n    \n    // this.ganttChartData = [this.makeGanttEntry(\"_blank\", \"Ipstart\", \"Ipend\", \"#2ca02c\")];\n    this.goldenLayoutComponentResize();\n\n    this.container.on('resize', () => { this.goldenLayoutComponentResize() })\n    this.container.on('hide', () => { \n      this.viewActive = false; \n      this.cdref.detectChanges();\n    })\n    this.container.on('show', () => { \n      this.viewActive = true; \n      this.cdref.detectChanges();\n      this.visuals.microbeTrace.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n      this.visuals.microbeTrace.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n    })\n  }\n\n  makeBlankEntry(): object {\n    const timelineEntry = [{from:\"2000/01/01\", to: \"2024/12/31\"}];\n    const timelines = {};\n    this.nodeIds.forEach( (element: string) => {\n      timelines[element] = timelineEntry;\n    });\n    const blankEntry = {name: \"_blank\", color: \"#ffffff\", timelines: timelines};\n    return blankEntry;\n\n    // return this.makeGanttEntry(\"_blank\", \"ipstart\", \"ipend\", \"#2ca02c\");\n  }\n  goldenLayoutComponentResize() {\n    $('#gantt-plugin').height($('ganttcomponent').height()-19);\n    $('#gantt-plugin').width($('ganttcomponent').width()-1)\n  }\n\n  makeGanttEntry(dateName: string, startVariable: string, endVariable: string, entryColor: string): object {\n    const timeline = {};\n\n    this.nodeIds.forEach( (element: string) => {\n      const nodeData = this.visuals.gantt.commonService.session.data.nodes.filter(x => x._id == element)\n      const hasTimeZone: RegExp = /GMT.\\d{4}/;\n      const startDate = hasTimeZone.exec(nodeData[0][startVariable])? nodeData[0][startVariable].substring(4,15) : nodeData[0][startVariable];\n      const endDate = hasTimeZone.exec(nodeData[0][endVariable])? nodeData[0][endVariable].substring(4,15) : nodeData[0][endVariable];\n      const regExp: RegExp = /^.*$/;\n      if (startDate && endDate && regExp.exec(startDate) && regExp.exec(endDate)) {\n        const entry = [{ from: startDate, to: endDate, info: dateName }]\n        timeline[element] = entry;\n      }\n    })\n\n    const ganttEntry = {name: dateName, color: entryColor, opacity: this.ganttChartService.ganttOpacity, timelines: timeline};\n    return ganttEntry;\n  }\n\n  createGanttEntry(): void {\n    if (!this.GanttEndVariable) {\n      this.GanttEndVariable = this.GanttStartVariable;\n    }\n    if (this.ganttEntries.length === 0) { //} || this.ganttChartData.length === 1 && this.ganttChartData[0][\"name\"] === \"_blank\"){\n      const newEntry = this.makeGanttEntry(this.GanttEntryName, this.GanttStartVariable, this.GanttEndVariable, this.GanttEntryColor);\n      this.ganttEntries = [{entryName: this.GanttEntryName, startDate: this.GanttStartVariable, endDate: this.GanttEndVariable, color: this.GanttEntryColor}]\n      this.ganttChartData = [newEntry];\n\n    }\n    else {\n      const newEntry = this.makeGanttEntry(this.GanttEntryName, this.GanttStartVariable, this.GanttEndVariable, this.GanttEntryColor);\n      this.ganttEntries.push({entryName: this.GanttEntryName, startDate: this.GanttStartVariable, endDate: this.GanttEndVariable, color: this.GanttEntryColor});\n      const existingData = cloneDeep(this.ganttChartData);\n      existingData.push(newEntry);\n      this.ganttChartData = existingData;\n    }\n    this.cdref.markForCheck();\n    this.resetEntryForm();\n    this.visuals.gantt.GanttSettingsDialogSettings.setVisibility(false);\n\n  }\n\n  removeGanttEntry(entryName): void {\n    const startingEntries = cloneDeep(this.ganttChartData);\n    const endingEntries = startingEntries.filter(x => x[\"name\"] !== entryName)\n    this.ganttEntries = this.ganttEntries.filter(x => x[\"entryName\"] !== entryName);\n    this.ganttChartData = endingEntries;\n  }\n\n  resetEntryForm(): void {\n    this.GanttEntryName = \"\";\n    this.GanttEntryColor = \"#000000\";\n    this.GanttEndVariable = \"\";\n    this.GanttStartVariable = \"\";\n  }\n\n  updateEntryColor(entryName: string, event: Event): void {\n    const color = (event.target as HTMLInputElement).value;\n    const startingData = cloneDeep(this.ganttChartData);\n    for (let i=0; i<startingData.length; i++){\n      if (startingData[i][\"name\"] === entryName){\n        startingData[i][\"color\"] = color;\n      }\n    }\n    this.ganttChartData = startingData;\n\n  }\n\n  getNodeIds(): string[] {\n    const idSet: string[] = this.visuals.gantt.commonService.session.data.nodes.map(x=>x._id);\n    return idSet;\n  }\n\n  listGanttEntries(): object[] {\n    return this.ganttEntries;\n  }\n  saveImage(event): void {\n    const fileName = this.SelectedGanttChartImageFilenameVariable;\n    const domId = 'gantt';\n    const exportImageType = this.SelectedNetworkExportFileTypeListVariable ;\n    const content = document.getElementById(domId);\n    if (exportImageType === 'png') {\n      domToImage.toPng(content).then(\n        dataUrl => {\n          saveAs(dataUrl, fileName);\n      });\n    } else if (exportImageType === 'jpeg') {\n        domToImage.toJpeg(content, { quality: 0.85 }).then(\n          dataUrl => {\n            saveAs(dataUrl, fileName);\n          });\n    } else if (exportImageType === 'svg') {\n        // The tooltips were being displayed as black bars, so I add a rule to hide them.\n        // Have to parse the string into a document, get the right element, add the rule, and reserialize it\n        let svgContent = this.visuals.gantt.commonService.unparseSVG(content);\n        const parser = new DOMParser();\n        const deserialized = parser.parseFromString(svgContent, 'text/xml')\n        console.log(deserialized);\n        const style = deserialized.getElementsByTagName('style');\n        console.log(style);\n        style[0].innerHTML = \".tooltip { display: none !important; } .small { font-size: 80%; font-family: Roboto, 'Helvetica Neue', sans-serif; }\";\n        const serializer = new XMLSerializer();\n        svgContent = serializer.serializeToString(deserialized);\n        const blob = new Blob([svgContent], { type: 'image/svg+xml;charset=utf-8' });\n        saveAs(blob, fileName);\n    }\n\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace GanttComponent {\n    export const componentTypeName = 'Gantt Chart';\n}\n","import { Injector, Component, Output, EventEmitter, \n  ElementRef, Renderer2, ChangeDetectorRef, Inject, OnInit, ViewContainerRef,\n  ViewChild} from '@angular/core';\nimport { EventManager } from '@angular/platform-browser';\nimport { CommonService } from '@app/contactTraceCommonServices/common.service';\nimport * as _ from 'lodash';\nimport * as saveAs from 'file-saver';\nimport * as domToImage from 'html-to-image';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { ComponentContainer } from 'golden-layout';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\nimport { DialogSettings } from '../../helperClasses/dialogSettings';\n// import { PlotlyComponent, PlotlyModule } from 'angular-plotly.js';\nimport { SelectItem } from 'primeng/api';\nimport { MicrobeTraceNextVisuals } from '../../microbe-trace-next-plugin-visuals';\nimport { cloneDeep } from 'lodash';\n\n\n@Component({\n  selector: 'HeatmapComponent',\n  templateUrl: './heatmap.component.html',\n  styleUrls: ['./heatmap.component.scss']\n})\nexport class HeatmapComponent extends BaseComponentDirective implements OnInit {\n\n  @ViewChild('heatmapContainer', { read: ElementRef }) heatmapContainerRef: ElementRef;  @\n  Output() DisplayGlobalSettingsDialogEvent = new EventEmitter();\n\n  private Plotly: any;\n\n  \n  labels: string[];\n  xLabels: string[];\n  yLabels: string[];\n  matrix: object;\n  // plot: PlotlyComponent;\n  visuals: MicrobeTraceNextVisuals;\n  nodeIds: string[];\n  viewActive: boolean;\n  heatmapData: object;\n  FieldList: SelectItem[] = [];\n  heatmapLayout: object;\n  heatmapConfig: object;\n  invertX: boolean;\n  invertY: boolean;\n  heatmapShowLabels: boolean;\n  loColor: string;\n  medColor: string;\n  hiColor: string;\n  HeatmapSettingsDialogSettings: DialogSettings = new DialogSettings('#heatmap-settings-pane', false);\n  ShowHeatmapExportPane: boolean = false;\n  invertOptions: object = [\n    { label: \"Yes\", value: true },\n    { label: \"No\", value: false }\n  ];\n  SelectedImageFilenameVariable = \"default_heatmap\";\n  SelectedNetworkExportFileTypeVariable: string = \"png\";\n  NetworkExportFileTypeList: object = [\n    { label: 'png', value: 'png' },\n    { label: 'jpeg', value: 'jpeg' },\n    { label: 'svg', value: 'svg' }\n  ];\n  SelectedDistanceMatrixFilenameVariable: string = \"distance_matrix.csv\";\n  heatmapLabels: string[];\n  heatmapMetric: string;\n    \n  constructor(injector: Injector,\n        private eventManager: EventManager,\n        public commonService: CommonService,\n        @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer, \n        elRef: ElementRef,\n        private cdref: ChangeDetectorRef,\n        private gtmService: GoogleTagManagerService,\n        private renderer: Renderer2,\n        // private plotlyModule: PlotlyModule\n      ) {\n          super(elRef.nativeElement);\n          this.visuals = commonService.visuals;\n          this.visuals.heatmap = this;\n          this.invertX = this.commonService.session.style.widgets['heatmap-invertX'];\n          this.invertY = this.commonService.session.style.widgets['heatmap-invertY'];\n          this.heatmapShowLabels = this.commonService.session.style.widgets['heatmap-axislabels-show'];\n          this.loColor = this.commonService.session.style.widgets['heatmap-color-low'];\n          this.medColor = this.commonService.session.style.widgets['heatmap-color-medium'];\n          this.hiColor = this.commonService.session.style.widgets['heatmap-color-high']\n          this.heatmapMetric = this.commonService.session.style.widgets['default-distance-metric'].toUpperCase();\n        }\n\n  openSettings(): void {\n    this.visuals.heatmap.HeatmapSettingsDialogSettings.setVisibility(true);\n  }\n  \n  openExport(): void {\n    this.ShowHeatmapExportPane = true;\n  }\n  \n  openCenter(): void {\n    const reCenter = {\n      'xaxis.autorange': true,\n      'yaxis.autorange': true\n    }\n    console.log(reCenter);\n    // PlotlyModule.plotlyjs.relayout(\"heatmap\", reCenter);\n  }\n  \n  async ngOnInit(): Promise<void> {\n\n     // Lazy load Plotly.js when the component initializes\n     this.Plotly = await import('plotly.js-dist-min');\n\n    this.viewActive = true;\n    this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/heatmap\",\n            page_title: \"Heatmap View\"\n        });\n\n    this.nodeIds = this.getNodeIds();\n    this.visuals.heatmap.FieldList.push(\n      {\n        label: \"None\",\n        value: \"\",\n      }\n    )\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    this.commonService.session.data['nodeFields'].map((d, i) => {\n\n      this.visuals.heatmap.FieldList.push(\n        {\n          label: this.visuals.heatmap.commonService.capitalize(d.replace('_', '')),\n          value: d\n        });\n    });\n\n    this.visuals.microbeTrace.GlobalSettingsNodeColorDialogSettings.setVisibility(false);\n    this.visuals.microbeTrace.GlobalSettingsLinkColorDialogSettings.setVisibility(false);\n    \n\n    this.goldenLayoutComponentResize();\n\n    this.container.on('resize', () => { this.goldenLayoutComponentResize() })\n    this.container.on('hide', () => { \n      this.viewActive = false; \n      this.cdref.detectChanges();\n    })\n    this.container.on('show', () => { \n      this.viewActive = true; \n      this.cdref.detectChanges();\n    })\n\n    this.redrawHeatmap();\n  }\n\n  drawHeatmap(xLabels: string[], yLabels: string[], config: object): void {\n    this.commonService.getDM().then(dm => {\n      if (this.invertX) {\n        dm.forEach(l => l.reverse());\n        xLabels.reverse();\n      }\n      this.heatmapLabels = xLabels;\n      if (this.invertY) {\n        dm.reverse();\n        yLabels.reverse();\n      }\n\n      this.heatmapData = [{\n        x: xLabels,\n        y: yLabels,\n        z: dm,\n        type: 'heatmap',\n        colorscale: [\n          [0, this.loColor],\n          [0.5, this.medColor],\n          [1, this.hiColor]\n        ]\n      }]\n\n      const parentElement = this.heatmapContainerRef.nativeElement.parentElement;\n    const width = parentElement.clientWidth;\n    const height = parentElement.clientHeight;\n\n      this.heatmapLayout = {\n          xaxis: config,\n          yaxis: config,\n          width: width,\n          height: height\n        }\n      this.heatmapConfig = {\n          displaylogo: false,\n          displayModeBar: false\n        }\n\n        this.Plotly.newPlot('heatmap', this.heatmapData, this.heatmapLayout, this.heatmapConfig);\n\n      // this.plot = PlotlyModule.plotlyjs.newPlot('heatmap', this.heatmapData, this.heatmapLayout, this.heatmapConfig);\n    });\n  }\n\n  goldenLayoutComponentResize(): void {\n    const heatmapElement = this.heatmapContainerRef.nativeElement;\n    const parentElement = heatmapElement.parentElement;\n  \n    const height = parentElement.clientHeight;\n    const width = parentElement.clientWidth;\n\n    if (height) {\n      this.renderer.setStyle(heatmapElement, 'height', `${height - 19}px`);\n    }\n    if (width) {\n      this.renderer.setStyle(heatmapElement, 'width', `${width - 1}px`);\n    }\n  }\n\n  getNodeIds(): string[] {\n    const idSet: string[] = this.visuals.heatmap.commonService.session.data.nodes.map(x=>x._id);\n    return idSet;\n  }\n  \n  redrawHeatmap(): void {\n    if (!this.heatmapContainerRef.nativeElement.length) return;\n    // if (this.plot) PlotlyModule.plotlyjs.purge('heatmap');\n    const labels = this.nodeIds;\n    const xLabels = labels.map(d => 'N' + d);\n    const yLabels = xLabels.slice();\n    this.heatmapMetric = this.commonService.session.style.widgets['default-distance-metric'].toUpperCase();\n\n\n    const config = {\n      autotick: false,\n      showticklabels: this.heatmapShowLabels\n    };\n\n    if (!config.showticklabels) {\n      config[\"ticks\"] = '';\n    }\n\n    this.drawHeatmap(xLabels, yLabels, config);\n    this.setBackground();\n  }\n\n  setBackground(): void {\n    const heatmapElement: HTMLElement = this.heatmapContainerRef.nativeElement;\n    const col = this.commonService.session.style.widgets['background-color'];\n    const contrast = this.commonService.session.style.widgets['background-color-contrast'];\n      \n    // Set background color of the main SVG\n    const mainSvg = heatmapElement.querySelector('svg.main-svg');\n    if (mainSvg) {\n      this.renderer.setStyle(mainSvg, 'background', col);\n    }\n\n    // Set fill for rect.bg\n    const rectBg = heatmapElement.querySelector('rect.bg');\n    if (rectBg) {\n      this.renderer.setStyle(rectBg, 'fill', col);\n    }\n\n    // Set fill for titles\n    const titles = heatmapElement.querySelectorAll('.xtitle, .ytitle');\n    titles.forEach(title => {\n      this.renderer.setStyle(title, 'fill', contrast);\n    });\n\n    // Set fill for axis layer texts\n    const axisTexts = heatmapElement.querySelectorAll('.xaxislayer-above text, .yaxislayer-above text');\n    axisTexts.forEach(text => {\n      this.renderer.setStyle(text, 'fill', contrast);\n    });\n  }\n\n  updateLoColor(color: string): void {\n    console.log(color);\n    this.commonService.session.style.widgets[\"heatmap-color-low\"] = color;\n    this.loColor = color;\n    this.redrawHeatmap();\n  }\n\n  updateMedColor(color: string): void {\n    console.log(color);\n    this.commonService.session.style.widgets[\"heatmap-color-medium\"] = color;\n    this.medColor = color;\n    this.redrawHeatmap();\n  }\n\n  updateHiColor(color: string): void {\n    console.log(color);\n    this.commonService.session.style.widgets[\"heatmap-color-high\"] = color;\n    this.hiColor = color;\n    this.redrawHeatmap();\n  }\n\n  updateInvertX(direction: boolean): void {\n    this.invertX = direction;\n    this.commonService.session.style.widgets[\"heatmap-invertX\"] = this.invertX;\n    this.redrawHeatmap();\n  }\n\n  updateInvertY(direction: boolean): void {\n    this.invertY = direction;\n    this.commonService.session.style.widgets[\"heatmap-invertY\"] = this.invertY;\n    this.redrawHeatmap();\n  }\n\n  saveImage(): void {\n    const fileName = this.SelectedImageFilenameVariable;\n    const domId = 'heatmap';\n    const exportImageType = this.SelectedNetworkExportFileTypeVariable;\n    console.log(exportImageType);\n    const content = document.getElementById(domId);\n    if (content) {\n      const fixedContent = this.fixGradient(content);\n      if (exportImageType === 'png') {\n        domToImage.toPng(content).then(\n          dataUrl => {\n            saveAs(dataUrl, fileName+\".\"+exportImageType);\n        });\n      } else if (exportImageType === 'jpeg') {\n          domToImage.toJpeg(content, { quality: 0.85 }).then(\n            dataUrl => {\n              saveAs(dataUrl, fileName+\".\"+exportImageType);\n            });\n      } else if (exportImageType === 'svg') {\n          const svgContent = this.commonService.unparseSVG(fixedContent);\n          const blob = new Blob([svgContent], { type: 'image/svg+xml;charset=utf-8' });\n          saveAs(blob, fileName+\".\"+exportImageType);\n      }\n    }\n  }\n\n  fixGradient(el: HTMLElement): HTMLElement {\n    const insertionPoint = el.getElementsByClassName(\"gradient_filled\");\n    const startingUrl = insertionPoint[0][\"style\"][\"fill\"];\n    const idVal = startingUrl.substring(startingUrl.indexOf(\"#\"));\n    insertionPoint[0][\"style\"][\"fill\"] = 'url(\"'+idVal;\n    return el;\n  }\n\n  saveDistanceMatrix(): void {\n    const fileName = this.SelectedDistanceMatrixFilenameVariable;\n    const labelArray = cloneDeep(this.heatmapLabels);\n    this.commonService.getDM().then(dm => {\n      let csvContent = \"data:text/csv;charset=utf-8,\";\n      if (this.heatmapShowLabels) {\n        labelArray.unshift(\"\");\n        csvContent += labelArray.join(\",\") + \"\\n\";\n        for(let i=0; i<dm.length; i++) {\n          dm[i].unshift(this.heatmapLabels[i]);\n          csvContent += dm[i].join(\",\") + \"\\n\";\n        }\n      } else {\n        csvContent += dm.map(e => e.join(\",\")).join(\"\\n\");\n      }\n      saveAs(csvContent, fileName);\n    });\n    \n  } \n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace HeatmapComponent {\n    export const componentTypeName = 'Heatmap';\n}","import { Injector, Component, Output, OnChanges, SimpleChange, EventEmitter, OnInit, NgZone, InjectionToken, ElementRef, ViewChild, ViewContainerRef, ViewChildren, QueryList, ChangeDetectorRef, Renderer2, Inject } from '@angular/core';\nimport { EventManager } from '@angular/platform-browser';\nimport { AppComponentBase } from '@shared/common/app-component-base';\nimport { CommonService } from '../../contactTraceCommonServices/common.service';\nimport * as saveAs from 'file-saver';\nimport * as d3 from 'd3';\nimport * as domToImage from 'dom-to-image-more';\nimport * as L from 'leaflet';\n// import * as moment from 'moment';\nimport moment from 'moment';\nimport 'leaflet.markercluster';\n\nimport * as MarkerCluster from 'leaflet.markercluster';\nimport { SelectItem } from 'primeng/api';\nimport { Observable } from 'rxjs';\nimport { tileLayer, latLng, marker, icon, polyline, circle, polygon, Map, MapOptions, Layer, Marker, markerClusterGroup, MarkerClusterGroupOptions, MarkerClusterGroup, circleMarker, PathOptions, featureGroup, FeatureGroup, TileLayer, geoJSON } from 'leaflet';\nimport { DialogSettings } from '../../helperClasses/dialogSettings';\nimport { MicobeTraceNextPluginEvents } from '../../helperClasses/interfaces';\nimport { MicrobeTraceNextVisuals } from '../../microbe-trace-next-plugin-visuals';\nimport { ColorIterator } from '../../helperClasses/colorIterator';\nimport * as _ from 'lodash';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { ComponentContainer } from 'golden-layout';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\n\ndeclare var google: any;\n\n\n/**\n * @title Complex Example\n */\n\ninterface LongLatInterface {\n    Longitude: any;\n    Latitude: any;\n}\n\nclass LongLatClass implements LongLatInterface {\n    Longitude: any;\n    Latitude: any;\n}\n\n// interface gmapMarkerInterface {\n//     zip: string;\n//     marker: google.maps.Marker;\n// }\n\n// class gmapMarkerClass implements gmapMarkerInterface {\n//     zip: string;\n//     marker: google.maps.Marker;\n// }\n\n\n@Component({\n    selector: 'MapComponent',\n    templateUrl: './map-plugin.component.html',\n    styleUrls: ['./map-plugin.component.css'],\n})\n\n\n\n\nexport class MapComponent extends BaseComponentDirective implements OnInit, MicobeTraceNextPluginEvents {\n\n    @Output() DisplayGlobalSettingsDialogEvent = new EventEmitter();\n\n    viewActive: boolean = true;\n    svgStyle: {} = {\n        'height': '0px',\n        'width': '1000px'\n    };\n\n    nodes: any = [];\n    map: any = null;\n    layers: MapLayers = new MapLayers();\n\n    IsDataAvailable: boolean = false;\n    ShowGEOMapExportPane: boolean = false;\n    ShowGEOMapSettingsPane: boolean = false;\n    FieldList: SelectItem[] = [];\n    SelectedLatitude: string = \"None\";\n    SelectedLongitude: string = \"None\";\n    SelectedCensusTract: string = \"None\";\n    SelectedZipCode: string = \"None\";\n    SelectedCounty: string = \"None\";\n    SelectedState: string = \"None\";\n    SelectedCountry: string = \"None\";\n    SelectedResidenceAddress: string = \"None\";\n    SelectedVenueAddress: string = \"None\";\n    SelectedExposureAddress: string = \"None\";\n\n    geocoder: any = null;\n    address: any = \"new york city\";\n\n    OriginalCenterLocation: any = null;\n    markers: any[] = [];\n    gmapOptions: any;\n    overlays: any[];\n\n\n    SelectedNetworkExportFilenameVariable: string = \"\";\n\n    NetworkExportFileTypeList: any = [\n        { label: 'png', value: 'png' },\n        { label: 'jpeg', value: 'jpeg' },\n        { label: 'webp', value: 'webp' },\n        // { label: 'svg', value: 'svg' }\n    ];\n    SelectedNetworkExportFileTypeListVariable: string = \"png\";\n\n\n\n    SelectedNetworkExportScaleVariable: any = 1;\n    SelectedNetworkExportQualityVariable: any = 0.92;\n    // view implementation of 2D to calculate resolution before export\n    CalculatedResolutionWidth: any = 1918;\n    CalculatedResolutionHeight: any = 909;\n    CalculatedResolution: any = ((this.CalculatedResolutionWidth * this.SelectedNetworkExportScaleVariable) + \" x \" + (this.CalculatedResolutionHeight * this.SelectedNetworkExportScaleVariable) + \"px\");\n\n\n    NodesTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedNodesTypeVariable: string = \"Show\";\n\n\n    LinksTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedLinksTypeVariable: string = \"Show\";\n\n\n    CountriesTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedCountriesTypeVariable: string = \"Show\";\n\n\n    StatesTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedStatesTypeVariable: string = \"Show\";\n\n\n    CountiesTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedCountiesTypeVariable: string = \"Hide\";\n\n\n    BasemapTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedBasemapTypeVariable: string = \"Hide\";\n\n    SatelliteTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedSatelliteTypeVariable: string = \"Hide\";\n\n    NodeCollapsingTypes: any = [\n        { label: 'On', value: 'On' },\n        { label: 'Off', value: 'Off' }\n    ];\n    SelectedNodeCollapsingTypeVariable: string = \"On\";\n\n    GeospatialTypes: any = [\n        { label: 'On', value: 'On' },\n        { label: 'Off', value: 'Off' }\n    ];\n    SelectedGeospatialTypeVariable: string = \"Off\";\n\n\n    SelectedNodeTransparencyVariable: any = 0.0;\n    SelectedNodeJitterVariable: any = -2;\n    SelectedNodeTooltipVariable: string = \"None\";\n\n    SelectedLinkTransparencyVariable: any = 0.0;\n    SelectedLinkTooltipVariable: string = \"None\";\n\n    //@ViewChild('select.nodeVariables') selectList: ElementRef;\n    //@ViewChildren('map-field-lat') targets: ElementRef\n\n    //@ViewChild('gmap') mapElement: any;\n    //gmap: google.maps.Map;\n    //gmapMarkers: gmapMarkerInterface[];\n\n    clusterImages: any =\n        {\n            m1: \"data:image/png;base64,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\",\n            m2: \"data:image/png;base64,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\",\n            m3: \"data:image/png;base64,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\",\n            m4: \"data:image/png;base64,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\",\n            m5: 'data:image/png;base64,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'\n        };\n\n    locationsFound: any[] = [];\n\n    private lmap: Map;\n    private mapTooltip: string = '#mapTooltip'\n\n    public leafletMarkers: Layer[] = [];\n    public leafletInitialOptions: MapOptions;\n    public leafletMarkerClusterOptions: MarkerClusterGroupOptions;\n\n    public isExporting: boolean = false;\n    public isExportClosed: boolean = false;\n    private exportTryCount: number = 0;\n\n    public NodeMapSettingsExportDialogSettings: DialogSettings;\n\n    private visuals: MicrobeTraceNextVisuals;\n\n    private colorIterator: ColorIterator = new ColorIterator();\n\n    private marker: { triangle: string, square: string, circle: string } = {\n        triangle: '<svg version=\"1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\"><path d=\"M7.5 0 L0 15 L15 15 Z\" fill=\"{mapIconColor}\"/></svg>',\n        square: '<svg version=\"1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\"><rect width=\"15\" height=\"15\" fill=\"{mapIconColor}\" /></svg>',\n        circle: '<svg version=\"1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\"><circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" fill=\"{mapIconColor}\" /></svg>',\n    };\n\n    public dateFilterRangeValues: number[] = [0, 100];\n    public dateFilterRangeMax: number = 100;\n    public dateFilterRangeDates: Date[] = [new Date(), new Date()];\n    public dateFilterRangeMinDate: Date;\n    public geospatialNodes: MarkerWithData[] = [];\n\n    constructor(injector: Injector,\n        private renderer: Renderer2,\n        private elem: ElementRef,\n        private eventManager: EventManager,\n        public commonService: CommonService,\n        @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer, \n        elRef: ElementRef,\n        private cdref: ChangeDetectorRef,\n        private gtmService: GoogleTagManagerService) {\n\n            super(elRef.nativeElement);\n\n        this.visuals = commonService.visuals;\n        this.visuals.gisMap = this;\n    }\n\n\n    ngOnInit() {\n\n        this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/map\",\n            page_title: \"Map View\"\n        });\n\n        if (!this.NodeMapSettingsExportDialogSettings) {\n            this.NodeMapSettingsExportDialogSettings = new DialogSettings('#map-settings-pane', false);\n        }\n\n        this.IsDataAvailable = (this.commonService.session.data.nodes.length == 0 ? false : true);\n\n        this.FieldList = [];\n\n        this.FieldList.push({ label: \"None\", value: \"None\" });\n        this.commonService.session.data['nodeFields'].map((d, i) => {\n\n            this.FieldList.push(\n                {\n                    label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n                    value: d\n                });\n\n        });\n\n        //this.geocoder = new google.maps.Geocoder();\n        this.initializeMap(\"US\");\n\n        if (this.commonService.temp.mapData.zipcodes == undefined) {\n            this.commonService.getMapData('zipcodes.csv').then((x) => {\n\n            });\n        }\n\n        this.hideTooltip();\n\n        // TODO: remove when not needed\n        // this.eventManager.addGlobalEventListener('window', 'node-selected', () => {\n        //     this.drawNodes();\n        // });\n\n        let that = this;\n\n        $( document ).on( \"node-selected\", function( ) {\n            //update this?\n            that.drawNodes(false);\n        });\n\n        $( document ).on( \"node-visibility\", function( ) {\n            // XXYY seems to re-jitter the nodes at times, so may want to look into that. thanks\n            //console.log('is node vis called here? probs not right')\n            let visNodes = that.commonService.getVisibleNodes();\n            if (visNodes.length == that.nodes.length) { return; }\n            that.nodes = visNodes;\n            that.matchCoordinates(undefined, true);\n            that.nodes.forEach(node => {\n                if (node._jlat == undefined || node._jlon == undefined) {\n                    that.rerollNodeAndJitter(node);\n                }\n            })\n\n            that.drawNodes(false);\n            //that.centerMap();\n        });\n        \n        $( document ).on( \"link-visibility\", function( ) {\n            that.drawLinks();\n        })\n\n        this.container.on('resize', () => { this.lmap.invalidateSize() })\n        this.container.on('hide', () => { \n            this.viewActive = false; \n            this.cdref.detectChanges();\n        })\n        this.container.on('show', () => { \n            this.viewActive = true; \n            this.cdref.detectChanges();\n        })\n    }\n\n    ngAfterViewInit() {\n        setTimeout(() => this.centerMap(), 1000)\n    }\n\n\n    initializeMap(address: string) {\n\n        this.codeAddress([\"US\"]).then((result: any[]) => {\n\n            console.log('map codeAddress result', result);\n            if (result.length > 0) {\n                let latitude = result[0].Latitude;\n                let longitude = result[0].Longitude;\n\n                this.initializeLeafletMap(latitude, longitude);\n            }\n        });\n    }\n\n    initializeLeafletMap(latitude: number, longitude: number) {\n        //TODO: put this in a config?\n        const mapTokenKey: string = 'sk.eyJ1IjoicndhdHR5IiwiYSI6ImNrY2RuMWlzcDAwMmUyc3A5ejl3ODEzMXoifQ.qpXOouVsI6P8-HOHUWofuQ'\n\n        this.layers.basemap = tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            maxZoom: 20,\n            attribution: ' <a href=\"https://openstreetmap.org/about\" target=\"_blank\">OpenStreetMap</a> contributors'\n        }); \n        this.layers.satellite = tileLayer(`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/256/{z}/{x}/{y}?access_token=${mapTokenKey}`);\n\n        this.leafletInitialOptions = {\n            zoom: 4,\n            zoomControl: true,\n            maxZoom: 15,\n            preferCanvas: true,\n            center: latLng([latitude, longitude]),\n        };\n\n        this.leafletMarkerClusterOptions = {\n            showCoverageOnHover: false,\n            zoomToBoundsOnClick: true,\n            spiderfyOnMaxZoom: true,\n            removeOutsideVisibleBounds: false,\n            maxClusterRadius: 20,\n            spiderLegPolylineOptions: { opacity: 0 }\n        };\n    }\n\n    onMapReady(map: Map) {\n\n        //get the leaflet map\n        this.lmap = map;\n        this.lmap.zoomControl.setPosition('bottomleft');\n\n\n        setTimeout(() => {\n            this.loadSettings();\n            //this.setDefaultAddressFields();\n            //this.setDateRangeFilterValues();\n            //this.onDataChange(undefined);\n        }, 600);\n    }\n\n    onMarkerClusterReady(markerCluster: MarkerClusterGroup) {\n        this.layers.markerClusterGroup = markerCluster;\n    }\n\n    getMarker(latitude: number, longitude: number): Layer {\n        return circleMarker([latitude, longitude], {\n            color: '#3c4b8d',\n            fillColor: '#3c4b8d',\n            radius: 5\n        });\n    }\n\n    /* Not sure goal of this at the moment\n    setDefaultAddressFields() {\n        const foundExposureAddressColName = this.commonService.session.data['nodeFields'].find(x => x === 'ExposureLocation');\n        if (foundExposureAddressColName) this.SelectedExposureAddress = foundExposureAddressColName;\n        const foundVenueAddressColName = this.commonService.session.data['nodeFields'].find(x => x === 'VenueLocation');\n        if (foundVenueAddressColName) this.SelectedVenueAddress = foundVenueAddressColName;\n    }*/\n\n    onDateFilterChange(e: any) {\n        this.dateFilterRangeDates[0] = moment(this.dateFilterRangeMinDate).add(this.dateFilterRangeValues[0], 'days').toDate();\n        this.dateFilterRangeDates[1] = moment(this.dateFilterRangeMinDate).add(this.dateFilterRangeValues[1], 'days').toDate();\n\n        this.onDataChange(undefined);\n    }\n\n    /* Not sure about this function\n    setDateRangeFilterValues() {\n        let markers = this.getGeospatialNodes().filter(x => x.locationDetail.Name != 'Residence');\n\n        const dates = markers.filter(x => x.locationDetail)\n            .map(x => x.locationDetail.Date);\n        this.dateFilterRangeDates[0] = _.min(dates);\n        this.dateFilterRangeDates[1] = _.max(dates);\n        const daysDiff = moment(this.dateFilterRangeDates[1]).diff(moment(this.dateFilterRangeDates[0]), 'days');\n        this.dateFilterRangeValues = [0, daysDiff];\n        this.dateFilterRangeMax = daysDiff;\n        this.dateFilterRangeMinDate = this.dateFilterRangeDates[0];\n\n        this.onDataChange(undefined);\n    }\n        */\n\n    showAllVisibleMarkers() {\n        // var bounds = new google.maps.LatLngBounds();\n        // for (var i = 0; i < this.markers.length; i++) {\n        //     bounds.extend(this.markers[i].getPosition());\n        // }\n    }\n\n    centerMap() {\n        if (this.lmap && this.layers.nodes().getLayers().length > 0) {\n            this.lmap.flyToBounds(this.layers.nodes().getBounds());\n        }\n    }\n\n    /**\n     * Calls clearAllMarkers_Leftlet() which removes all nodes from map and remove _jlat and _jlon value for each node\n     */\n    clearAllMarkers() {\n        this.clearAllMarkers_Leaflet();\n    }\n\n    /*clearAllMarkers_Google() {\n        for (var i = 0; i < this.markers.length; i++) {\n            this.markers[i].setMap(null);\n        }\n\n        this.markers = [];\n    }*/\n\n    /**\n     * Removes all nodes from map and remove _jlat and _jlon value for each node\n     */\n    clearAllMarkers_Leaflet() {\n        this.layers.removeNodes();\n        this.nodes.forEach(node => {\n            node._jlat = undefined;\n            node._jlon = undefined;\n        });\n    }\n\n    onDataChange(event) {\n        this.commonService.session.style.widgets['map-field-lat'] = this.SelectedLatitude;\n        this.commonService.session.style.widgets['map-field-lon'] = this.SelectedLongitude;\n        this.commonService.session.style.widgets['map-field-tract'] = this.SelectedCensusTract;\n        this.commonService.session.style.widgets['map-field-zipcode'] = this.SelectedZipCode;\n        this.commonService.session.style.widgets['map-field-county'] = this.SelectedCounty;\n        this.commonService.session.style.widgets['map-field-state'] = this.SelectedState;\n        this.commonService.session.style.widgets['map-field-country'] = this.SelectedCountry;\n        this.commonService.session.style.widgets['map-field-residence-address'] = this.SelectedResidenceAddress;\n        this.commonService.session.style.widgets['map-field-venue-address'] = this.SelectedVenueAddress;\n        this.commonService.session.style.widgets['map-field-exposure-address'] = this.SelectedExposureAddress;\n\n        this.clearAllMarkers();\n        this.layers.removeLinks();\n\n        this.nodes = this.commonService.getVisibleNodes();\n        let cnt: any = 0;\n        let dataFound: boolean = false;\n\n        let that = this;\n        // XXX check if reroll is need for drawNodes()\n        this.matchCoordinates(function () {\n            let rerollCheck = that.rerollCheck();\n            if (rerollCheck) {\n                that.drawNodes();\n            } else {\n                that.jitter();\n                that.drawNodes(false);\n            }\n            that.drawLinks();\n            that.resetStack();\n            // that.visuals.gisMap.lmap.flyToBounds(that.layers.nodes().getBounds());\n            }, false);\n\n    }\n\n\n    /**\n     * Updates where to show or hide nodes on the Map\n     * @param e 'Show' | 'Hide'\n     */\n    onMapNodeShowHideChange(e) {\n        this.SelectedNodesTypeVariable = e;\n\n        if (e == \"Show\") {\n            this.commonService.session.style.widgets['map-node-show'] = true;\n            this.drawNodes(false);\n            //this.drawLinks();\n        }\n        else {\n            this.commonService.session.style.widgets['map-node-show'] = false;\n            this.layers.removeNodes();\n        }\n    }\n\n    /**\n     * Updates where to show or hide links on the Map\n     * @param e 'Show' | 'Hide'\n     */\n    onMapLinksShowHideChange(e) {\n        this.SelectedLinksTypeVariable = e;\n\n        if (e == \"Show\") {\n            this.commonService.session.style.widgets['map-link-show'] = true;\n            this.drawNodes(false);\n            this.drawLinks();\n        }\n        else {\n            this.commonService.session.style.widgets['map-link-show'] = false;\n            this.layers.links.remove();\n        }\n    }\n\n\n    onCountriesShowHidChange(e) {\n        this.SelectedCountriesTypeVariable = e;\n\n        if (e == \"Show\") {\n\n            this.commonService.session.style.widgets['map-countries-show'] = true;\n            if (this.layers.countries.getLayers().length > 0) {\n                this.layers.countries.addTo(this.lmap);\n                this.resetStack();\n            } else {\n                //this.commonService.getMapData('countries.json', () => $(this).trigger('click'));\n                this.getMapData('countries.json', () => {\n                    this.layers.countries.addTo(this.lmap);\n                    this.resetStack();\n                });\n\n            }\n        }\n        else {\n\n            this.commonService.session.style.widgets['map-countries-show'] = false;\n            this.layers.countries.remove();\n\n        }\n    }\n\n\n    onStatesShowHideChange(e) {\n        this.SelectedStatesTypeVariable = e;\n\n        if (e == \"Show\") {\n            this.commonService.session.style.widgets['map-states-show'] = true;\n            if (this.layers.states.getLayers().length > 0) {\n                this.layers.states.addTo(this.lmap);\n                this.resetStack();\n            } else {\n                this.getMapData('states.json', () => {\n                    this.layers.states.addTo(this.lmap);\n                    this.resetStack();\n                });\n            }\n        }\n        else {\n            this.commonService.session.style.widgets['map-states-show'] = false;\n            this.layers.states.remove();\n        }\n    }\n\n\n    onCountiesShowHideChange(e) {\n        this.SelectedCountiesTypeVariable = e;\n\n        if (e == \"Show\") {\n            this.commonService.session.style.widgets['map-counties-show'] = true;\n\n            if (this.layers.counties.getLayers().length > 0) {\n                this.layers.counties.addTo(this.lmap);\n                this.resetStack();\n            } else {\n                this.getMapData('counties.json', () => {\n                    this.layers.counties.addTo(this.lmap);\n                    this.resetStack();\n                });\n            }\n        }\n        else {\n            this.commonService.session.style.widgets['map-counties-show'] = false;\n            this.layers.counties.remove();\n        }\n    }\n\n    onBasemapChange(e, isReload: boolean = false) {\n        this.SelectedBasemapTypeVariable = e;\n\n        if (e == \"Show\") {\n            this.commonService.session.style.widgets['map-basemap-show'] = true;\n\n            this.layers.basemap.addTo(this.lmap);\n            this.layers.basemap.bringToFront();\n\n            if (!isReload) {\n                this.SelectedSatelliteTypeVariable = 'Hide';\n                this.onSatelliteChange('Hide');\n                this.onCountiesShowHideChange('Hide');\n                this.onStatesShowHideChange('Hide');\n                this.onCountriesShowHidChange('Hide');\n            }\n        }\n        else {\n\n            this.commonService.session.style.widgets['map-basemap-show'] = false;\n\n            if (!isReload) {\n                if (this.SelectedSatelliteTypeVariable === 'Hide' && this.SelectedBasemapTypeVariable === 'Hide') {\n                    this.onCountriesShowHidChange('Show');\n                    this.onStatesShowHideChange('Show');\n                }\n            }\n\n            this.layers.basemap.remove();\n        }\n    }\n\n    onSatelliteChange(e, isReload: boolean = false) {\n        this.SelectedSatelliteTypeVariable = e;\n\n        if (e == \"Show\") {\n            this.commonService.session.style.widgets['map-satellite-show'] = true;\n\n            this.layers.satellite.addTo(this.lmap);\n            this.layers.satellite.bringToFront();\n\n            if (!isReload) {\n                this.SelectedBasemapTypeVariable = 'Hide';\n                this.onBasemapChange('Hide');\n                this.onCountiesShowHideChange('Hide');\n                this.onStatesShowHideChange('Hide');\n                this.onCountriesShowHidChange('Hide');\n            }\n        }\n        else {\n            this.commonService.session.style.widgets['map-satellite-show'] = false;\n\n            if (!isReload) {\n                if (this.SelectedSatelliteTypeVariable === 'Hide' && this.SelectedBasemapTypeVariable === 'Hide') {\n                    this.onCountriesShowHidChange('Show');\n                    this.onStatesShowHideChange('Show');\n                }\n            }\n\n            this.layers.satellite.remove();\n        }\n    }\n\n    /**\n     * Updates nodes to be collapsing or not and updates the value of the widget['map-collapsing-on']\n     */\n    onNodeCollapsingChange(e) {\n        if (this.SelectedNodeCollapsingTypeVariable == \"On\") {\n            this.commonService.session.style.widgets['map-collapsing-on'] = true;\n            this.drawNodes(false);\n        }\n        else {\n            this.commonService.session.style.widgets['map-collapsing-on'] = false;\n            this.drawNodes(false);\n        }\n    }\n\n    /**\n     * revisit if nodes need to be rerolled or not\n     * @param e \n     */\n    onGeospatialTypeChange(e) {\n        if (this.SelectedGeospatialTypeVariable == \"On\") {\n            this.commonService.session.style.widgets['map-geospatial-type-on'] = true;\n            this.drawNodes();\n            this.drawLinks();\n        }\n        else {\n            this.commonService.session.style.widgets['map-geospatial-type-on'] = false;\n            this.drawNodes();\n            this.drawLinks();\n        }\n    }\n\n    /**\n     * Updates transparency of the nodes and the value of the widget['map-node-transparency']\n     */\n    onNodeTransparencyChange(e) {\n        this.commonService.session.style.widgets['map-node-transparency'] = e;\n        this.drawNodes(false);\n    }\n\n\n    /**\n     * updates node and link positions after rerolling nodes and also updates the value of the widget['map-node-jitter']\n     * @param e \n     */\n    onNodeJitterChange(e?) {\n        if (e) {\n            this.commonService.session.style.widgets['map-node-jitter'] = e;\n        }\n        \n        this.drawNodes();\n        this.drawLinks();\n    }\n\n\n    onNodeToolTipChange(e) {\n        this.commonService.session.style.widgets['map-node-tooltip-variable'] = e;\n    }\n\n\n    /**\n     * Updates transparency of the link and the value of the widget['map-link-transparency']\n     */\n    onLinkTransparencyChange(e) {\n        this.commonService.session.style.widgets['map-link-transparency'] = e;\n        this.drawLinks();\n    }\n\n\n    onLinkToolTipChange(e) {\n        this.commonService.session.style.widgets['map-link-tooltip-variable'] = e;\n    }\n\n    exportVisualization(event) {\n        this.visuals.gisMap.ShowGEOMapExportPane = false;\n        this.isExporting = true;\n\n        if (this.commonService.session.style.widgets['node-color-variable'] != 'None') {\n            this.visuals.microbeTrace.generateNodeColorTable(\"#node-color-table-bottom-map\", false);\n        }\n\n        if (this.commonService.session.style.widgets['link-color-variable'] != 'None') {\n            this.visuals.microbeTrace.generateNodeLinkTable(\"#link-color-table-bottom-map\", false);\n        }\n\n        if (!this.isExportClosed) {\n            setTimeout(() => this.exportVisualization(undefined), 300);\n        }\n        else {\n            this.exportWork();\n        }\n    }\n\n    onCloseExport() {\n        this.isExportClosed = true;\n    }\n\n    exportWork() {\n        setTimeout(() => {\n            var format = this.visuals.gisMap.SelectedNetworkExportFileTypeListVariable;\n            const element = document.querySelector('MapComponent').parentElement;\n\n            domToImage.toBlob(element)\n                .then((blob) => {\n                    // Sometimes libraries don't play nice with each other.\n                    // Sometimes dom-to-image does not recognize the leaflet element\n                    // so we jiggle it and try again. Typically works the second time, but we try 10 times\n                    if (blob === null) {\n                        if (this.visuals.gisMap.exportTryCount > 10) {\n                            //return toast about export failed\n                        }\n                        this.visuals.gisMap.exportTryCount += 1;\n\n                        this.visuals.gisMap.lmap.flyToBounds(this.visuals.gisMap.lmap.getBounds());\n\n                        this.visuals.gisMap.exportWork();\n                    }\n                    else {\n                        saveAs(blob, this.visuals.gisMap.SelectedNetworkExportFilenameVariable + '.' + format);\n                        this.visuals.gisMap.isExporting = false;\n                        this.visuals.microbeTrace.clearTable(\"#node-color-table-bottom-map\");\n                        this.visuals.microbeTrace.clearTable(\"#link-color-table-bottom-map\");\n\n                        this.visuals.gisMap.exportTryCount = 0;\n\n                        this.visuals.microbeTrace.GlobalSettingsDialogSettings.restoreStateAfterExport();\n                        this.visuals.microbeTrace.GlobalSettingsLinkColorDialogSettings.restoreStateAfterExport();\n                        this.visuals.microbeTrace.GlobalSettingsNodeColorDialogSettings.restoreStateAfterExport();\n                        this.visuals.gisMap.NodeMapSettingsExportDialogSettings.restoreStateAfterExport();\n                    }\n                });\n        }, 1000);\n    }\n\n    displayColorOptions() {\n        this.DisplayGlobalSettingsDialogEvent.emit(\"Styling\");\n    }\n\n    codeAddress(addressList: any[]) {\n\n        let positionList: any[] = [];\n        let cnt: number = 0;\n\n        return new Promise((resolve, reject) => {\n\n            addressList.map(address => {\n\n                if (this.geocoder) {\n                    this.geocoder.geocode({ 'address': address }, (results, status) => {\n\n                        //    debugger;\n\n                        let latLng: LongLatInterface = new LongLatClass();\n\n                        if (results != null) {\n                            if (results.length > 0) {\n\n                                console.log(cnt, results);\n\n                                latLng.Latitude = results[0].geometry.location.lat();\n                                latLng.Longitude = results[0].geometry.location.lng();\n\n                                if (status == 'OK') {\n                                    positionList.push(latLng);\n\n                                } else {\n                                    alert('Geocode was not successful for the following reason: ' + status);\n                                }\n                            }\n                        }\n\n                        cnt = cnt + 1;\n\n                        if (cnt >= addressList.length)\n                            resolve(positionList);\n\n                    });\n                }\n                else\n                {\n                    let latLng: LongLatInterface = new LongLatClass();\n                    latLng.Latitude = 39.833332;\n                    latLng.Longitude = -98.583336;\n                    positionList.push(latLng);\n                    resolve(positionList);\n                }\n            });\n        });\n    }\n\n    updateCalculatedResolution(event) {\n        this.CalculatedResolution = (Math.round(this.CalculatedResolutionWidth * this.SelectedNetworkExportScaleVariable) + \" x \" + Math.round(this.CalculatedResolutionHeight * this.SelectedNetworkExportScaleVariable) + \"px\");\n        this.cdref.detectChanges();\n    }\n\n    getMapData(type, callback) {\n        var name = type.split('.')[0];\n        this.commonService.getMapData(type).then(data => {\n            if (this.commonService.includes(['countries', 'states', 'counties'], name)) {\n\n                this.layers[name] = geoJSON(data,\n                    {\n                        style: {\n                            color: '#dadde0',\n                            weight: name == 'countries' ? 1 : 0.5,\n                            fillColor: '#fafaf8',\n                            fillOpacity: name == 'countries' ? 1 : 0\n                        }\n                    });\n            }\n            if (callback) callback();\n        })\n    }\n\n    matchCoordinates(callback, norefresh) {\n        if (!norefresh) this.nodes = this.commonService.getVisibleNodes();\n        if (this.commonService.session.style.widgets['map-field-country'] !== 'None') {\n            if (!this.commonService.temp.mapData.countries) {\n                this.getMapData('countries.json', () => this.matchCoordinates(callback, true));\n                return;\n            }\n            var val = this.commonService.session.style.widgets['map-field-country'];\n            this.nodes.forEach(n => {\n                var country = this.commonService.temp.mapData.countries.features.find(c => c.id == n[val] || c.properties.name == n[val]);\n                if (country) {\n                    n._lat = country.properties._lat,\n                        n._lon = country.properties._lon\n                }\n            });\n        }\n        if (this.commonService.session.style.widgets['map-field-state'] !== 'None') {\n            if (!this.commonService.temp.mapData.states) {\n                this.getMapData('states.json', () => this.matchCoordinates(callback, true));\n                return;\n            }\n            var sval = this.commonService.session.style.widgets['map-field-state'];\n            this.nodes.forEach(n => {\n                var state = this.commonService.temp.mapData.states.features.find(s => s.properties.usps == n[sval] || s.properties.name == n[sval]);\n                if (state) {\n                    n._lat = state.properties._lat;\n                    n._lon = state.properties._lon;\n                }\n            });\n        }\n        if (this.commonService.session.style.widgets['map-field-county'] !== 'None') {\n            if (!this.commonService.temp.mapData.counties) {\n                this.getMapData('counties.json', () => this.matchCoordinates(callback, true));\n                return;\n            }\n            var sval = this.commonService.session.style.widgets['map-field-state'];\n            var cval = this.commonService.session.style.widgets['map-field-county'];\n            this.nodes.forEach(n => {\n                var county;\n                county = this.commonService.temp.mapData.counties.features.find(c => {\n                    return (c.properties.fips == n[cval] ||\n                        parseFloat(c.properties.fips) == parseFloat(n[cval]));\n                });\n                if (county) {\n                    n._lat = county.properties._lat;\n                    n._lon = county.properties._lon;\n                    return;\n                }\n                var state = this.commonService.temp.mapData.states.features.find(s => s.properties.usps == n[sval].toUpperCase() || s.properties.name.toLowerCase().includes(n[sval].toLowerCase()));\n                county = this.commonService.temp.mapData.counties.features.find(c => {\n                    var small = n[cval].toLowerCase();\n                    return c.properties.state == state.properties.usps && (\n                        c.properties.name.includes(small) ||\n                        small.includes(c.properties.name)\n                    );\n                });\n                if (county) {\n                    n._lat = county.properties._lat;\n                    n._lon = county.properties._lon;\n                }\n            });\n        }\n        if (this.commonService.session.style.widgets['map-field-zipcode'] !== 'None') {\n            if (!this.commonService.temp.mapData.zipcodes) {\n                this.getMapData('zipcodes.csv', () => this.matchCoordinates(callback, true));\n                return;\n            }\n            var val = this.commonService.session.style.widgets['map-field-zipcode'];\n            this.nodes.forEach(n => {\n                var zo = this.commonService.temp.mapData.zipcodes.find(z => z.zipcode == n[val]);\n                if (zo) {\n                    n._lat = zo._lat;\n                    n._lon = zo._lon;\n                }\n            });\n        }\n        if (this.commonService.session.style.widgets['map-field-tract'] !== 'None') {\n            if (!this.commonService.temp.mapData.tracts) {\n                this.getMapData('tracts.csv', () => this.matchCoordinates(callback, true));\n                return;\n            }\n            var val = this.commonService.session.style.widgets['map-field-tract'];\n            this.nodes.forEach(n => {\n                var tract = this.commonService.temp.mapData.tracts.find(t => t.tract == n[val]);\n                if (tract) {\n                    n._lat = tract._lat;\n                    n._lon = tract._lon;\n                }\n            });\n        }\n\n        // debugger;\n\n        if (this.commonService.session.style.widgets['map-field-lat'] !== 'None' && this.commonService.session.style.widgets['map-field-lon'] !== 'None') {\n            var lat = this.commonService.session.style.widgets['map-field-lat'],\n                lon = this.commonService.session.style.widgets['map-field-lon'];\n\n\n            this.nodes.forEach(n => {\n\n\n                if (typeof n[lat] == 'string') {\n                    n._lat = (n[lat].includes('S') ? -1 : 1) * parseFloat(n[lat]);\n                } else {\n                    n._lat = n[lat];\n                }\n                if (typeof n[lon] == 'string') {\n                    n._lon = (n[lon].includes('W') ? -1 : 1) * parseFloat(n[lon]);\n                } else {\n                    n._lon = n[lon];\n                }\n            });\n        }\n        if (callback) callback();\n    }\n\n    getResidenceMarker(nodeColor: string, iconCode: string, location: LocationDetail, data: any): MarkerWithData {\n        const iconSettings = {\n            mapIconUrl: iconCode,\n            mapIconColor: nodeColor,\n        };\n\n        const divIcon = L.divIcon({\n            className: \"leaflet-data-marker\",\n            html: L.Util.template(iconSettings.mapIconUrl, iconSettings),\n            iconSize: [15, 15]\n        });\n\n        const locationDetail: LocationDetail = {\n            Name: location.Name,\n            FullAddress: location.FullAddress,\n            Date: location.Date ? new Date(location.Date) : undefined,\n            Latitude: location.Latitude,\n            Longitude: location.Longitude\n        }\n        data._jlat = location.Latitude;\n        data._jlon = location.Longitude;\n\n        let marker: MarkerWithData = L.marker([location.Latitude, location.Longitude], { icon: divIcon });\n        marker.data = data;\n        marker.locationDetail = locationDetail;\n\n        return marker;\n    }\n\n    getVenueMarker(nodeColor: string, iconCode: string, location: VenueLocationDetail, data: any): MarkerWithData | undefined {\n        const iconSettings = {\n            mapIconUrl: iconCode,\n            mapIconColor: nodeColor,\n        };\n\n        const divIcon = L.divIcon({\n            className: \"leaflet-data-marker\",\n            html: L.Util.template(iconSettings.mapIconUrl, iconSettings),\n            iconSize: [15, 15]\n        });\n\n        const locationDetail: LocationDetail = {\n            Name: location.Name,\n            FullAddress: location.FullAddress,\n            Date: location.DateOfContact ? new Date(location.DateOfContact) : undefined,\n            Latitude: location.Latitude,\n            Longitude: location.Longitude\n        }\n\n        if (locationDetail.Latitude != undefined && locationDetail.Longitude != undefined) {\n            let marker: MarkerWithData = L.marker([location.Latitude, location.Longitude], { icon: divIcon });\n            marker.data = data;\n            marker.locationDetail = locationDetail;\n\n            return marker;\n        }\n\n        return undefined\n    }\n\n    getExposureMarkers(nodeColor: string, iconCode: string, exposureProp: any, data: any): MarkerWithData[] {\n        const iconSettings = {\n            mapIconUrl: iconCode,\n            mapIconColor: nodeColor,\n        };\n\n        const divIcon = L.divIcon({\n            className: \"leaflet-data-marker\",\n            html: L.Util.template(iconSettings.mapIconUrl, iconSettings),\n            iconSize: [15, 15]\n        });\n\n        let markers: MarkerWithData[] = [];\n\n        let locationDetails: LocationDetail[] = [];\n\n        Object.keys(exposureProp).forEach(prop => {\n            const locationDetail: LocationDetail = {\n                Name: exposureProp[prop].Name,\n                FullAddress: exposureProp[prop].FullAddress,\n                Date: exposureProp[prop].ExposedDate ? new Date(exposureProp[prop].ExposedDate) : undefined,\n                Latitude: exposureProp[prop].Latitude,\n                Longitude: exposureProp[prop].Longitude\n            };\n\n            locationDetails.push(locationDetail);\n\n            if (locationDetail.Latitude != undefined && locationDetail.Longitude != undefined) {\n                let marker: MarkerWithData = L.marker([locationDetail.Latitude, locationDetail.Longitude], { icon: divIcon });\n                marker.data = data;\n                marker.locationDetail = locationDetail;\n\n                markers.push(marker);\n            }\n        })\n\n        return markers;\n    }\n\n    /*getGeospatialNodes(): MarkerWithData[] {\n        let returnMarkerWithData: MarkerWithData[] = [];\n\n        let n = this.nodes.length;\n\n        for (let i = 0; i < n; i++) {\n            const venueValue = this.nodes[i][this.SelectedVenueAddress];\n            const exposureValue = this.nodes[i][this.SelectedExposureAddress];\n\n            const d = this.nodes[i];\n            const nodeColor = this.colorIterator.next();\n            let venueMarkers: MarkerWithData[] = [];\n            let exposureMarkers: MarkerWithData[] = [];\n\n            if (venueValue) {\n                const venues: VenueLocationDetail[] = JSON.parse(venueValue);\n                if (venues && Array.isArray(venues))\n                    venueMarkers = venues.map(v => this.getVenueMarker(nodeColor, this.marker.triangle, v, d));\n                venueMarkers = venueMarkers.filter(x => x != undefined);\n            }\n\n            if (exposureValue) {\n                const exposures: any = JSON.parse(exposureValue);\n                if (exposures)\n                    exposureMarkers = this.getExposureMarkers(nodeColor, this.marker.square, exposures, d);\n            }\n\n            const residence = this.getResidenceNode(d);\n            if (residence && residence.Latitude != 0 && residence.Longitude != 0) {\n                returnMarkerWithData.push(this.getResidenceMarker(nodeColor, this.marker.circle, residence, d));\n            }\n\n            returnMarkerWithData = returnMarkerWithData.concat(venueMarkers.concat(exposureMarkers));\n        }\n\n        return returnMarkerWithData;\n    }\n\n    getResidenceNode(data: any): LocationDetail | undefined {\n        if (!data ||\n            isNaN(data.CasedemographicsLatitude) ||\n            isNaN(data.CasedemographicsLongitude) ||\n            data.CasedemographicsLatitude == '' ||\n            data.CasedemographicsLongitude == '') return undefined;\n\n        return {\n            Date: new Date(),\n            FullAddress: data.CasedemographicsFullAddress,\n            Latitude: data.CasedemographicsLatitude,\n            Longitude: data.CasedemographicsLongitude,\n            Name: 'Residence'\n        };\n    } */\n\n    /**\n     * Calls drawLeafletMapNodes() which removes all previous nodes from map, updates _j, _theta, _jlat, _jlon for each node\n     */\n    drawNodes(rerollNodes=true) {\n        this.drawLeafletMapNodes(rerollNodes);\n    }\n\n    /**\n     * Updates map by redrawing nodes\n     * @param rerollNodes if true rerolls node positioning\n     */\n    drawLeafletMapNodes(rerollNodes) {\n        if (rerollNodes) {\n            this.clearAllMarkers();\n            this.rerollNodes();\n        } else {\n            this.layers.removeNodes();\n        }\n\n        if (!this.commonService.session.style.widgets['map-node-show']) return;\n\n        if (this.SelectedGeospatialTypeVariable == 'On') {\n            //this.drawLeafletMapNodesGeospatial();\n            console.error('implement drawLeafletMapNodesGeospatial')\n        }\n        else {\n            this.drawLeafletMapNodesList();\n        }\n    }\n\n    /*drawLeafletMapNodesGeospatial() {\n        const opacity = 1 - this.commonService.session.style.widgets['map-node-transparency'];\n        const selectedColor = this.commonService.session.style.widgets['selected-color'];\n\n        this.colorIterator.reset();\n\n        const features: Layer[] = [];\n\n        let markers = this.getGeospatialNodes();\n        markers = markers.filter(x => x.locationDetail && (x.locationDetail.Name === 'Residence' || (x.locationDetail.Date >= this.dateFilterRangeDates[0] &&\n            x.locationDetail.Date <= this.dateFilterRangeDates[1])));\n\n        markers.forEach(m => {\n            m.on('mouseover', (e) => this.showNodeTooltip(e))\n                .on('mouseout', (e) => this.hideTooltip())\n                .on('click', (e) => this.clickHandler(e));\n\n            features.push(m);\n        })\n\n        if (this.commonService.session.style.widgets['map-collapsing-on']) {\n            this.layers.markerClusterGroup.addLayers(features);\n        } else {\n            this.layers.featureGroup = featureGroup(features);\n            this.lmap.addLayer(this.layers.featureGroup);\n        }\n    } */\n\n    /**\n     * Draws nodes on the map\n     */\n    drawLeafletMapNodesList() {\n        var fillcolor = this.commonService.session.style.widgets['node-color'],\n            colorVariable = this.commonService.session.style.widgets['node-color-variable'],\n            selectedColor = this.commonService.session.style.widgets['selected-color'],\n            opacity = 1 - this.commonService.session.style.widgets['map-node-transparency'];\n\n        var features: Layer[] = [];\n\n        var n = this.nodes.length;\n        for (var i = 0; i < n; i++) {\n            var d = this.nodes[i];\n            if (!d._jlat || !d._jlon || d.visible === false) continue;\n\n            let circleMarker: CircleWithData = L.circleMarker(L.latLng(d._jlat, d._jlon), {\n                color: d.selected ? selectedColor : '#ffffff',\n                opacity: opacity,\n                fillColor: colorVariable == 'None' ? fillcolor : this.commonService.temp.style.nodeColorMap(d[colorVariable]),\n                fillOpacity: opacity,\n                radius: 5\n            });\n\n            circleMarker.data = d;\n\n            circleMarker\n                .on('mouseover', (e) => this.showNodeTooltip(e))\n                .on('mouseout', (e) => this.hideTooltip())\n                .on('click', (e) => this.clickHandler(e));\n\n\n            features.push(circleMarker);\n        }\n\n        if (this.commonService.session.style.widgets['map-collapsing-on']) {\n            this.layers.markerClusterGroup.addLayers(features);\n        } else {\n            this.layers.featureGroup = featureGroup(features);\n            this.lmap.addLayer(this.layers.featureGroup);\n        }\n    }\n\n    /**\n     * Draws links on the map\n    */\n    drawLinks() {\n        this.layers.removeLinks();\n    \n        if (!this.commonService.session.style.widgets['map-link-show']) return;\n    \n        var lcv = this.commonService.session.style.widgets['link-color-variable'];\n        var opacity = 1 - this.commonService.session.style.widgets['map-link-transparency'];\n        var links = this.commonService.getVisibleLinks();\n    \n        var features: Layer[] = [];\n    \n        links.forEach((d) => {\n            if (!d.visible) return;\n            var source = this.nodes.find(node => node._id == d.source && node.visible);\n            var target = this.nodes.find(node => node._id == d.target && node.visible);\n    \n            if (source && target && source._jlat && source._jlon && target._jlat && target._jlon) {\n                // Handle multiple origins\n                if (d.origin && d.origin.length > 1) {\n                    let color1 = this.commonService.temp.style.linkColorMap(d.origin[0]);\n                    let color2 = this.commonService.temp.style.linkColorMap(d.origin[1]);\n    \n                    let dashPattern1 = '10, 10';\n                    let dashPattern2 = '0, 10, 10, 0';\n    \n                    let polyline1 = L.polyline([[source._jlat, source._jlon], [target._jlat, target._jlon]], {\n                        color: color1,\n                        dashArray: dashPattern1,\n                        opacity: opacity\n                    });\n    \n                    let polyline2 = L.polyline([[source._jlat, source._jlon], [target._jlat, target._jlon]], {\n                        color: color2,\n                        dashArray: dashPattern2,\n                        opacity: opacity\n                    });\n    \n                    features.push(polyline1);\n                    features.push(polyline2);\n                } else {\n                    // Single origin handling\n                    const connectorLine: PolyLineWithData = L.polyline([\n                        [source._jlat, source._jlon],\n                        [target._jlat, target._jlon]\n                    ], {\n                        color: lcv === \"None\" ?\n                            this.commonService.session.style.widgets['link-color'] :\n                            this.commonService.temp.style.linkColorMap(d[lcv]),\n                        opacity: opacity\n                    });\n    \n                    connectorLine.data = d;\n    \n                    features.push(connectorLine);\n                }\n            }\n        });\n    \n        this.layers.links = featureGroup(features);\n        this.lmap.addLayer(this.layers.links);\n\n        if (this.commonService.session.style.widgets['map-node-show']) {\n            if (this.commonService.session.style.widgets['map-collapsing-on']) {\n                // Not sure how to move collapsed nodes to front with bringToFront(), they use markerClusterGroup (from leaflet.markercluster plugin) instead of featureGroup (from base leaflet)\n                this.drawNodes(false)\n            } else {\n                this.layers.featureGroup.bringToFront();\n            }\n        }\n    }\n    \n\n    showNodeTooltip(e) {\n        var data = e.target.data;\n        var locationData = e.target.locationDetail;\n        var variable = this.commonService.session.style.widgets['map-node-tooltip-variable'];\n        if (variable !== 'None' && data[variable]) {\n\n            let htmlText = data[variable];\n            if (locationData) {\n                htmlText = `<p><strong>${variable}:</strong> ${data[variable]}</p>`\n                htmlText += `<p><strong>Location:</strong> ${locationData.Name}</p>`\n                htmlText += `<p><strong>Address:</strong> ${locationData.FullAddress}</p>`\n            }\n            d3.select(this.mapTooltip)\n                .html(htmlText)\n                .style('position', 'absolute')\n                .style('left', (e.containerPoint.x - 50) + 'px')\n                .style('top', (e.containerPoint.y - 50) + 'px')\n                .style('visibility', 'visible')\n                .style('z-index', 1001)\n                .transition().duration(100)\n                .style('opacity', 1)\n                ;\n        }\n    }\n\n    showLinkTooltip(e) {\n        var d = e.layer.data;\n        var v = this.commonService.session.style.widgets['map-link-tooltip-variable'];\n        if (v !== 'None' && d[v]) {\n            d3.select(this.mapTooltip)\n                .html(d[v])\n                .style('left', (e.originalEvent.pageX + 8) + 'px')\n                .style('top', (e.originalEvent.pageY + 18) + 'px')\n                .style('z-index', 1001)\n                .transition().duration(100)\n                .style('opacity', 1);\n        }\n    }\n\n    hideTooltip() {\n        var tooltip = d3.select(this.mapTooltip);\n        tooltip\n            .transition().duration(100)\n            .style('opacity', 0)\n            .on('end', () => tooltip.style('z-index', -1));\n    }\n\n    /**\n     * Clicking on a node updates that status of node selected properties. Other nodes will be unselected and then triggers a document node-selected event\n     */\n    clickHandler(e) {\n        var node = e.sourceTarget.data;\n        var d = this.visuals.gisMap.commonService.session.data.nodes.find(d => d._id == node._id);\n        if (!e.originalEvent.ctrlKey) {\n            this.visuals.gisMap.commonService.session.data.nodes\n                .filter(node => node._id !== d._id)\n                .forEach(node => node.selected = false);\n        }\n        d.selected = !d.selected;\n        $(document).trigger('node-selected')\n        //window.dispatchEvent(new Event('node-selected'));\n    }\n\n    /**\n     * @returns an array [X, Y] of the position of mouse relative to alignment view. Global position (i.e. d3.event.pageX) doesn't work for a dashboard\n     */  \n    getRelativeMousePosition(e) {\n        let rect = document.querySelector('mapcomponent').getBoundingClientRect();\n        let X = e.pageX - rect.left;\n        let Y = e.pageY - rect.top; \n        return [X, Y];\n    }\n\n    resetStack() {\n        //Tile Layers, in reverse order:\n        if (this.layers.satellite && this.commonService.session.style.widgets['map-satellite-show']) this.layers.satellite.bringToBack();\n        if (this.layers.basemap && this.commonService.session.style.widgets['map-basemap-show']) this.layers.basemap.bringToBack();\n\n        //Background Layers, in order:\n        if (this.layers.countries && this.commonService.session.style.widgets['map-countries-show']) this.layers.countries.bringToFront();\n        if (this.layers.states && this.commonService.session.style.widgets['map-states-show']) this.layers.states.bringToFront();\n        if (this.layers.counties && this.commonService.session.style.widgets['map-counties-show']) this.layers.counties.bringToFront();\n\n        //User Layers:\n        Object.keys(this.layers)\n            .filter(l => !this.commonService.includes(['countries', 'states', 'counties', 'satellite', 'basemap', 'links', 'nodes'], l))\n            .forEach(l => this.layers[l].bringToFront());\n\n\n        //Foreground Layers, in order:\n        if (this.layers.links && this.commonService.session.style.widgets['map-link-show']) this.layers.links.bringToFront();\n        if (this.layers.nodes() && this.commonService.session.style.widgets['map-node-show']) {\n            if (this.commonService.session.style.widgets['map-collapsing-on']) {\n                this.drawNodes(false); //This did not work with clusters//this.layers.nodes().bringToFront();\n            } else {\n                this.layers.nodes().bringToFront()\n            }\n        }\n    }\n\n    rerollCheck() {\n        return this.nodes.some(node => node._theta == undefined || node._j == undefined);\n    }\n\n    /**\n     * Reroll and jitter function for an individual node\n     */\n    rerollNodeAndJitter(node) {\n        node._theta = this.commonService.r01() * Math.PI * 2;\n        node._j = this.commonService.r01();\n\n        var v = this.commonService.session.style.widgets['map-node-jitter'] == -2 ? 0 : Math.pow(2, this.commonService.session.style.widgets['map-node-jitter']);\n        node._jlon = parseFloat(node._lon) + v * node._j * Math.cos(node._theta);\n        node._jlat = parseFloat(node._lat) + v * node._j * Math.sin(node._theta);\n    }\n\n    /**\n     * Updates _jlon and _jLat for each node using _theta & _j values from each node and widget['map-node-jitter']\n     */\n    jitter() {\n        //debugger;\n        var v = this.commonService.session.style.widgets['map-node-jitter'] == -2 ? 0 : Math.pow(2, this.commonService.session.style.widgets['map-node-jitter']);\n        var n = this.nodes.length;\n        for (var i = 0; i < n; i++) {\n            var node = this.nodes[i];\n            this.nodes[i]._jlon = parseFloat(node._lon) + v * node._j * Math.cos(node._theta);\n            this.nodes[i]._jlat = parseFloat(node._lat) + v * node._j * Math.sin(node._theta);\n        }\n    }\n\n    /**\n     * Updates _theta and _j for each node. Then calls jitter() which uses those values to upate _jlon and _jlat\n     */\n    rerollNodes() {\n        //debugger;\n\n        this.nodes.forEach((node) => {\n            node._theta = this.commonService.r01() * Math.PI * 2;\n            node._j = this.commonService.r01();\n        });\n        this.jitter();\n    }\n\n    /*makeGeoJSON() {\n        var features = [];\n        var jitter = this.commonService.session.style.widgets['map-node-jitter'] > 0;\n        this.nodes.forEach((d) => {\n            if (d._lat && d._lon) {\n                features.push({\n                    type: 'Feature',\n                    geometry: {\n                        type: 'Point',\n                        coordinates: jitter ? [d._lon + d._jlon, d._lat + d._jlat] : [d._lon, d._lat]\n                    },\n                    properties: d\n                });\n            }\n        });\n        this.commonService.getVisibleLinks().forEach((d) => {\n            if (!d.visible) return;\n            var source = this.nodes.find(node => node.id == d.source);\n            var target = this.nodes.find(node => node.id == d.target);\n            if (source && target) {\n                if (source._lat && source._lon && target._lat && target._lon) {\n                    features.push({\n                        type: 'Feature',\n                        geometry: {\n                            type: 'LineString',\n                            coordinates: jitter ? [\n                                [source._lon + source._jlon, source._lat + source._jlat],\n                                [target._lon + target._jlon, target._lat + target._jlat]\n                            ] : [\n                                [source._lon, source._lat],\n                                [target._lon, target._lat]\n                            ]\n                        },\n                        properties: d\n                    });\n                }\n            }\n        });\n        return {\n            type: 'FeatureCollection',\n            features: features\n        };\n    } */\n\n    openSettings() {\n        this.NodeMapSettingsExportDialogSettings.setVisibility(true);\n    }\n\n    openExport() {\n        this.ShowGEOMapExportPane = true;\n\n        this.visuals.microbeTrace.GlobalSettingsDialogSettings.setStateBeforeExport();\n        this.visuals.microbeTrace.GlobalSettingsLinkColorDialogSettings.setStateBeforeExport();\n        this.visuals.microbeTrace.GlobalSettingsNodeColorDialogSettings.setStateBeforeExport();\n        this.visuals.gisMap.NodeMapSettingsExportDialogSettings.setStateBeforeExport();\n    }\n\n    openCenter() {\n        this.centerMap();\n    }\n\n    //openPinAllNodes() {\n\n    //}\n\n    openRefreshScreen() {\n        this.centerMap();\n    }\n\n    openSelectDataSetScreen() {\n\n    }\n\n    updateNodeColors() {\n        this.drawNodes(false);\n        this.drawLinks();\n    }\n\n    updateVisualization() {\n        this.drawNodes(false);\n        this.drawLinks();\n    }\n\n    applyStyleFileSettings() {\n        this.loadSettings();\n        //this.widgets = (window as any).context.commonService.session.style.widgets;\n    }\n\n    updateLinkColor() {\n        this.drawLinks();\n    }\n\n    onRecallSession() {\n        // nothing to do here. loadSettings is called when the map is ready (onMapReady)\n    }\n\n    onLoadNewData() {\n        this.onDataChange(undefined);\n    }\n\n    onFilterDataChange() {\n        this.onDataChange(undefined);\n    }\n\n    loadSettings() {\n        //Components|Online|Basemap\n        this.SelectedBasemapTypeVariable = this.commonService.session.style.widgets['map-basemap-show'] ? 'Show' : 'Hide';\n        if (this.SelectedBasemapTypeVariable === 'Show') {\n            this.onBasemapChange(this.SelectedBasemapTypeVariable, true);\n        }\n\n        //Components|Online|Satellite\n        this.SelectedSatelliteTypeVariable = this.commonService.session.style.widgets['map-satellite-show'] ? 'Show' : 'Hide';\n        if (this.SelectedSatelliteTypeVariable === 'Show') {\n            this.onSatelliteChange(this.SelectedSatelliteTypeVariable, true);\n        }\n\n        //Components|Network|Nodes\n        this.SelectedNodesTypeVariable = this.commonService.session.style.widgets['map-node-show'] ? 'Show' : 'Hide';\n        this.onMapNodeShowHideChange(this.SelectedNodesTypeVariable);\n\n        //Components|Network|Links\n        this.SelectedLinksTypeVariable = this.commonService.session.style.widgets['map-link-show'] ? 'Show' : 'Hide';\n        this.onMapLinksShowHideChange(this.SelectedLinksTypeVariable);\n\n        //Components|Offline|Countries\n        this.SelectedCountriesTypeVariable = this.commonService.session.style.widgets['map-countries-show'] ? 'Show' : 'Hide';\n        this.onCountriesShowHidChange(this.SelectedCountriesTypeVariable);\n\n        //Components|Offline|States\n        this.SelectedStatesTypeVariable = this.commonService.session.style.widgets['map-states-show'] ? 'Show' : 'Hide';\n        this.onStatesShowHideChange(this.SelectedStatesTypeVariable);\n\n        //Components|Offline|Counties\n        this.SelectedCountiesTypeVariable = this.commonService.session.style.widgets['map-counties-show'] ? 'Show' : 'Hide';\n        this.onCountiesShowHideChange(this.SelectedCountiesTypeVariable);\n\n        //Data|Geospatial\n        this.SelectedGeospatialTypeVariable = this.commonService.session.style.widgets['map-geospatial-type-on'] ? 'On' : 'Off';\n        this.onGeospatialTypeChange(undefined);\n\n        //Data|Latitude\n        this.SelectedLatitude = this.commonService.session.style.widgets['map-field-lat'];\n\n        //Data|Longitude\n        this.SelectedLongitude = this.commonService.session.style.widgets['map-field-lon'];\n\n        //Data|Census Tract\n        this.SelectedCensusTract = this.commonService.session.style.widgets['map-field-tract'];\n\n        //Data|Zipcode\n        this.SelectedZipCode = this.commonService.session.style.widgets['map-field-zipcode'];\n\n        //Data|County\n        this.SelectedCounty = this.commonService.session.style.widgets['map-field-county'];\n\n        //Data|State\n        this.SelectedState = this.commonService.session.style.widgets['map-field-state'];\n\n        //Data|Country\n        this.SelectedCountry = this.commonService.session.style.widgets['map-field-country'];\n\n        //Data|Country\n        this.SelectedResidenceAddress = this.commonService.session.style.widgets['map-field-residence-address'];\n\n        //Data|Country\n        this.SelectedVenueAddress = this.commonService.session.style.widgets['map-field-venue-address'];\n\n        //Data|Country\n        this.SelectedExposureAddress = this.commonService.session.style.widgets['map-field-exposure-address'];\n\n        this.onDataChange(undefined);\n\n\n        //Nodes|Collapsing\n        this.SelectedNodeCollapsingTypeVariable = this.commonService.session.style.widgets['map-collapsing-on'] ? 'On' : 'Off';\n        this.onNodeCollapsingChange(undefined);\n\n        //Nodes|Transparency\n        this.SelectedNodeTransparencyVariable = this.commonService.session.style.widgets['map-node-transparency'];\n        this.onNodeTransparencyChange(this.SelectedNodeTransparencyVariable);\n\n        //Nodes|Jitter\n        this.SelectedNodeJitterVariable = this.commonService.session.style.widgets['map-node-jitter'];\n        this.onNodeJitterChange(this.SelectedNodeJitterVariable);\n\n        //Nodes|Tooltip\n        this.SelectedNodeTooltipVariable = this.commonService.session.style.widgets['map-node-tooltip-variable'];\n        this.onNodeToolTipChange(this.SelectedNodeTooltipVariable);\n\n\n        //Links|Transparency\n        this.SelectedLinkTransparencyVariable = this.commonService.session.style.widgets['map-link-transparency'];\n        this.onLinkTransparencyChange(this.SelectedLinkTransparencyVariable);\n\n        //Links|Tooltip\n        this.SelectedLinkTooltipVariable = this.commonService.session.style.widgets['map-link-tooltip-variable'];\n        this.onLinkToolTipChange(this.SelectedLinkTooltipVariable);\n    }\n}\n\n//MOVE CLASSES TO NEW FILE\nclass MapLayers {\n    basemap!: TileLayer;\n    satellite!: TileLayer;\n    featureGroup: FeatureGroup = featureGroup();\n    markerClusterGroup: MarkerClusterGroup = markerClusterGroup();\n    links: FeatureGroup = featureGroup();\n    countries: L.GeoJSON<any> = geoJSON();\n    states: L.GeoJSON<any> = geoJSON();\n    counties: L.GeoJSON<any> = geoJSON();\n\n    public nodes(): FeatureGroup | MarkerClusterGroup {\n        if (this.markerClusterGroup.getLayers().length) return this.markerClusterGroup;\n        return this.featureGroup;\n    }\n\n    public removeNodes() {\n        this.featureGroup.clearLayers();\n        this.markerClusterGroup.clearLayers();\n    }\n\n    public removeLinks() {\n        this.links.clearLayers();\n    }\n}\n\nclass MarkerWithData extends L.Marker<any>{\n    public data?: any;\n    public locationDetail?: LocationDetail\n    public nodeType?: 'Residence' | 'Exposure' | 'Venue';\n}\n\nclass CircleWithData extends L.CircleMarker<any>{\n    public data?: any;\n}\n\nclass PolyLineWithData extends L.Polyline {\n    public data?: any;\n}\n\ninterface VenueLocationDetail {\n    City: string,\n    Country: string,\n    County: string,\n    DateOfContact: string,\n    FullAddress: string,\n    Latitude: number,\n    Longitude: number,\n    Name: string,\n    State: string,\n    StreetAddress: string,\n    Zipcode: string\n}\n\ninterface LocationDetail {\n    FullAddress: string | undefined,\n    Name: string | undefined,\n    Latitude: number | undefined,\n    Longitude: number | undefined,\n    Date: Date | undefined\n}\n\nexport namespace MapComponent {\n    export const componentTypeName = 'Map';\n}","import { Injector, Component, Output, EventEmitter, OnInit,\n  ElementRef, ChangeDetectorRef, Inject } from '@angular/core';\nimport { EventManager } from '@angular/platform-browser';\nimport { CommonService } from '@app/contactTraceCommonServices/common.service';\nimport * as saveAs from 'file-saver';\nimport * as domToImage from 'html-to-image';\nimport { SelectItem } from 'primeng/api';\nimport { DialogSettings } from '@app/helperClasses/dialogSettings';\nimport * as _ from 'lodash';\nimport { MicrobeTraceNextVisuals } from '@app/microbe-trace-next-plugin-visuals';\nimport { CustomShapes } from '@app/helperClasses/customShapes';\nimport TidyTree from './tidytree';\nimport * as d3 from 'd3';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { ComponentContainer } from 'golden-layout';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\nimport { runInThisContext } from 'vm';\n\n\n/**\n * @title PhylogeneticComponent\n */\n@Component({\n  selector: 'PhylogeneticComponent',\n  templateUrl: './phylogenetic-plugin.component.html',\n  styleUrls: ['./phylogenetic-plugin.component.scss']\n})\nexport class PhylogeneticComponent extends BaseComponentDirective implements OnInit {\n\n  @Output() DisplayGlobalSettingsDialogEvent = new EventEmitter();\n  viewActive: boolean = true;\n  svgStyle: object = {\n    height: '0px',\n    width: '1000px'\n  };\n\n  private customShapes: CustomShapes = new CustomShapes();\n\n  ShowNetworkAttributes = false;\n  ShowStatistics = false;\n  ShowPhylogeneticExportPane = false;\n  ShowPhylogeneticSettingsPane = false;\n  IsDataAvailable = false;\n  svg: any = {};\n  settings: object = this.commonService.session.style.widgets;\n  radToDeg: number = (180 / Math.PI);\n  selected: boolean = false;\n  multidrag = false;\n  zoom: number = 1;\n  FieldList: SelectItem[] = [];\n  ToolTipFieldList: SelectItem[] = [];\n\n\n  // Tree Tab\n  TreeLayouts: object = [\n    { label: 'Horizontal', value: 'horizontal' },\n    { label: 'Vertical', value: 'vertical' },\n    { label: 'Circular', value: 'circular' },\n  ];\n  SelectedTreeLayoutVariable = 'horizontal';\n  TreeModes: object = [\n    { label: 'Smooth', value: 'smooth' },\n    { label: 'Square', value: 'square' },\n    { label: 'Straight', value: 'straight' },\n  ];\n  SelectedTreeModeVariable = 'square';\n  TreeTypes: object = [\n    { label: 'Weighted', value: 'weighted' },\n    { label: 'Unweighted (Tree)', value: 'tree' },\n    { label: 'Dendrogram', value: 'dendrogram' },\n  ];\n  SelectedTreeTypeVariable = 'weighted';  // 'weighted';\n  SelectedVerticalStretchVariable = 1;\n  SelectedHorizontalStretchVariable = 1;\n\n\n  // Leaves Tab\n  SelectedLeafLabelShowVariable = true;\n  SelectedLeafLabelVariable = 'None';\n  LeafLabelFieldList: object[] = [];\n  SelectedLeafLabelSizeVariable = 12;\n  SelectedLeafTooltipShowVariable = true;\n  SelectedLeafTooltipVariable = 'id';\n  LeafTooltipFieldList: object[] = [];\n  SelectedLeafNodeShowVariable = true;\n  SelectedLeafNodeSizeVariable: number | string = 5;\n  SelectedLeafNodeColorVariable = this.settings['node-color'];\n  SelectedSelectedLeafNodeColorVariable = this.settings['selected-color'];\n\n  // Branch Tab\n  SelectedBranchNodeShowVariable = false;\n  SelectedBranchNodeSizeVariable = 5;\n  SelectedBranchNodeColorVariable = this.settings['node-color'];\n  SelectedBranchSizeVariable = 3;\n  SelectedBranchLabelSizeVariable = 12;\n  SelectedLinkColorVariable = this.settings['link-color'];\n  SelectedBranchLabelShowVariable = false;\n  SelectedBranchDistanceShowVariable = false;\n  SelectedBranchDistanceSizeVariable = 12;\n  SelectedBranchTooltipShowVariable = false;\n\n  hideShowOptions: object = [\n    { label: 'Hide', value: false },\n    { label: 'Show', value: true }\n  ];\n\n  // Export Settings\n  private isExportClosed = false;\n  public isExporting = false;\n\n  SelectedTreeImageFilenameVariable = 'default_tree';\n  SelectedNewickStringFilenameVariable = 'default_tree.nwk';\n\n  NetworkExportFileTypeList: object = [\n    { label: 'png', value: 'png' },\n    { label: 'jpeg', value: 'jpeg' },\n    { label: 'svg', value: 'svg' }\n  ];\n\n  SelectedNetworkExportFileTypeListVariable = 'png';\n  SelectedNetworkExportScaleVariable: number = 1;\n  SelectedNetworkExportQualityVariable: number = 0.92;\n  CalculatedResolutionWidth: number = 1918;\n  CalculatedResolutionHeight: number = 909;\n  CalculatedResolution: string = ((this.CalculatedResolutionWidth * this.SelectedNetworkExportScaleVariable) + ' x ' + (\n    this.CalculatedResolutionHeight * this.SelectedNetworkExportScaleVariable) + 'px');\n\n\n  ShowAdvancedExport = true;\n\n  PhylogeneticTreeExportDialogSettings: DialogSettings = new DialogSettings('#phylotree-settings-pane', false);\n\n  ContextSelectedNodeAttributes: {attribute: string, value: string}[] = [];\n  tree: any = null;\n\n  private visuals: MicrobeTraceNextVisuals;\n\n\n  constructor(injector: Injector,\n              private eventManager: EventManager,\n              public commonService: CommonService,\n              @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer, \n              elRef: ElementRef,\n              private cdref: ChangeDetectorRef,\n              private gtmService: GoogleTagManagerService) {\n\n    super(elRef.nativeElement);\n\n    this.visuals = commonService.visuals;\n    this.commonService.visuals.phylogenetic = this;\n  }\n\n  openTree = () => {\n    /*\n    if (this.visuals.phylogenetic.commonService.session.data.newickString) {\n      this.tree = new TidyTree(this.visuals.phylogenetic.commonService.session.data.tree,\n                               this.getTreeOptions(),\n                               this.getTreeHandlers());\n      console.log(this.visuals.phylogenetic.commonService.session.data.tree);\n      console.log(this.tree);\n      this.hideTooltip();\n      this.styleTree();\n    } else {\n    */\n      //@ts-ignore\n      if (this.visuals.phylogenetic.commonService.session.data.hasOwnProperty(\"newickString\") && this.visuals.phylogenetic.commonService.session.data.newickString) {\n        //@ts-ignore\n        const newickString = this.visuals.phylogenetic.commonService.session.data.newickString;\n        const tree = this.buildTree(newickString);\n        this.tree = tree;\n        this.commonService.visuals.phylogenetic.tree = tree;\n        this.mergeNodeData();\n        this.hideTooltip();\n        this.styleTree();\n      } else {\n          const newickString = this.commonService.computeTree();\n          newickString.then((x) => {\n            const tree = this.buildTree(x);\n            this.tree = tree;\n            this.commonService.visuals.phylogenetic.tree = tree;\n            this.mergeNodeData();\n            this.hideTooltip();\n            this.styleTree();\n        });\n      }\n      // d3.select('svg#network').exit().remove();\n      // this.visuals.phylogenetic.svg = d3.select('svg#network').append('g');\n\n    this.LeafLabelFieldList.push({ label: 'None', value: 'None' });\n    console.log(\"getting node fields\")\n    this.commonService.session.data['nodeFields'].map((d, i) => {\n\n      this.visuals.phylogenetic.LeafLabelFieldList.push(\n        {\n          label: this.visuals.phylogenetic.commonService.capitalize(d.replace('_', '')),\n          value: d\n        });\n    });\n    console.log(this.visuals.phylogenetic.LeafLabelFieldList);\n\n   // }\n  }\n\n  mergeNodeData(): void {\n    let data = this.commonService.session.data.nodes;\n    console.log(this.tree.data);\n    let leafNodes = this.tree.data.getLeaves();\n  }\n\n  styleTree = () => {\n    this.svg = d3.select('#tidytree');\n    let nodes = this.visuals.phylogenetic.commonService.session.data;\n    nodes = this.svg.select('g.nodes').selectAll('g').data(nodes, d => d.id)\n      .join(\n        enter => {\n          const g = enter.append('g')\n            .attr('tabindex', '0')\n            .on('mouseenter focusin', (x) => this.showTooltip(x))\n            .on('mouseout focusout', (x) => this.hideTooltip())\n            .on('contextmenu', (x) => this.showContextMenu(x))\n            .on('click', (x) => this.clickHandler(x))\n            .on('keydown', n => {\n              if ((d3 as any).event.code === 'Space') this.clickHandler(n);\n              if ((d3 as any).event.shiftKey && (d3 as any).event.key === 'F10') this.showContextMenu(n);\n            });\n          g.append('path')\n            .style('stroke', 'black')\n            .style('stroke-width', '2px');\n          g.append('text')\n            .attr('dy', 5)\n            .attr('dx', 8);\n          return g;\n        }\n      );\n    this.tree.setBranchLabels(this.SelectedBranchLabelShowVariable);\n    this.tree.eachBranchLabel(this.styleBranchLabel);\n    this.tree.setBranchNodes(this.SelectedBranchNodeShowVariable);\n    this.tree.eachBranchNode(this.styleBranchNode);\n    this.tree.setBranchDistances(this.SelectedBranchDistanceShowVariable);\n    this.tree.eachBranchDistance(this.styleBranchDistance);\n    this.tree.setLeafNodes(this.SelectedLeafNodeSizeVariable);\n    this.tree.eachLeafNode(this.styleLeafNode);\n    this.tree.setLeafLabels(this.SelectedLeafLabelShowVariable);\n    this.tree.eachLeafLabel(this.styleLeafLabel);\n    const branchEls = document.querySelectorAll('g.tidytree-link > path');\n    this.svg.style('height', '88vh;');\n    branchEls.forEach(this.styleBranch);\n    this.svg.style('background-color', '#ffffff');\n  }\n\n  styleBranch = (el) => {\n    d3.select(el).style('stroke', this.SelectedLinkColorVariable);\n    d3.select(el).style('stroke-width', `${this.SelectedBranchSizeVariable}px`);\n  }\n\n  styleBranchLabel = (label, data) => {\n    d3.select(label).style('font-size', `${this.SelectedBranchLabelSizeVariable}px`);\n  }\n\n  styleBranchNode = (node, data) => {\n    d3.select(node).attr('r', this.SelectedBranchNodeSizeVariable);\n    d3.select(node).style('fill', this.SelectedBranchNodeColorVariable);\n  }\n\n  styleBranchDistance = (label, data) => {\n    d3.select(label).style('font-size', `${this.SelectedBranchDistanceSizeVariable}px`);\n  }\n\n\n  styleLeafLabel = (label, data) => {\n    d3.select(label).style('font-size', `${this.SelectedLeafLabelSizeVariable}px`);\n  }\n\n  getLeafSize(node_id, variable): number {\n    if (variable === \"None\"){\n      return 5;\n    }\n    let nodes = this.visuals.phylogenetic.commonService.session.data.nodes;\n    const node_value = nodes.filter(x => {\n      if (x._id === node_id){\n        return true;\n      }\n    });\n    if (variable === \"Cluster size\"){\n      return parseInt(node_value[0][variable]);\n    }\n    if (typeof node_value[0][variable] === \"number\"){\n      return node_value[0][variable];\n    }\n    return 5;\n  }\n\n  styleLeafNode = (node, data) => {\n    let nodes = this.visuals.phylogenetic.commonService.session.data.nodes;\n    let leafSize: number;\n    const variable = this.visuals.phylogenetic.commonService.session.style.widgets['node-color-variable'];\n    if (typeof this.SelectedLeafNodeSizeVariable === \"number\") {\n      leafSize = this.SelectedLeafNodeSizeVariable;\n    } else {\n      leafSize = this.getLeafSize(data.data.id, this.SelectedLeafNodeSizeVariable);\n      console.log(`Leaf size: ${leafSize}`);\n    }\n    d3.select(node).attr('r', leafSize);\n    if (variable === 'None') {\n      d3.select(node).style('fill', this.SelectedLeafNodeColorVariable);\n    } else {\n      d3.select(node).style('fill',  d => {\n        const node_values = nodes.filter(m => {\n          if (m._id === (d as any).data.id) {\n            return true;\n          } else {\n            return false;\n          }\n        });\n        const node_color = this.visuals.phylogenetic.commonService.temp.style.nodeColorMap(node_values[0][variable]);\n        return node_color;\n      });\n      // d3.select(node).style('opacity', d => this.visuals.phylogenetic.commonService.temp.style.nodeAlphaMap(d[variable]));\n\n        //  this.context.microbeTrace.generateNodeColorTable(\"#node-color-table-bottom\", false);\n    }\n\n\n  }\n\n  buildTree = (newick) => {\n    const tree = new TidyTree(\n      newick ? newick : this.tree.data.clone(),\n      this.getTreeOptions(),\n      this.getTreeHandlers(),\n    );\n    return tree;\n  }\n\n  getTreeOptions = () => {\n    const treeOpts = {\n      parent: '#phylocanvas',\n      layout: this.SelectedTreeLayoutVariable,\n      mode: this.SelectedTreeModeVariable,\n      type: this.SelectedTreeTypeVariable,\n      leafNodes: this.SelectedLeafNodeShowVariable,\n      branchNodes:  this.SelectedBranchNodeSizeVariable,\n      leafLabels: this.SelectedLeafLabelSizeVariable,\n      branchLabels: this.SelectedBranchLabelSizeVariable,\n      branchDistances: this.SelectedBranchDistanceSizeVariable,\n      ruler: true,\n      animation: parseFloat('0'),  // range 0-2000 in steps of 10\n      margin: [10, 10, 70, 30]\n    };\n    return treeOpts;\n  }\n\n  getTreeHandlers = () => {\n    const handlers = {\n      contextmenu: this.showContextMenu,\n      showtooltip: this.showTooltip,\n      hidetooltip: this.hideTooltip\n    };\n    return handlers;\n  }\n\n  ngOnInit() {\n    let that = this;\n\n    this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/phylogenetic\",\n            page_title: \"Phylogenetic Tree View\"\n        });\n\n    $( document ).on( \"node-selected\", function( ) {\n      that.updateNodeColors();\n    });\n\n    \n    this.goldenLayoutComponentResize()\n    this.openTree();\n\n    this.container.on('resize', () => { this.goldenLayoutComponentResize() })\n    this.container.on('hide', () => { \n      this.viewActive = false; \n      this.cdref.detectChanges();\n    })\n    this.container.on('show', () => { \n      this.viewActive = true; \n      this.cdref.detectChanges();\n    })\n  }\n\n  goldenLayoutComponentResize() {\n    $('#phylocanvas').height($('phylogeneticcomponent').height()-19);\n    $('#phylocanvas').width($('phylogeneticcomponent').width()-1)\n  }\n\n  InitView() {\n    this.visuals.phylogenetic.IsDataAvailable = (\n      this.visuals.phylogenetic.commonService.session.data.nodes.length === 0 ? false : true\n    );\n\n    if (this.visuals.phylogenetic.IsDataAvailable === true && this.visuals.phylogenetic.zoom == null) {\n      // d3.select('svg#network').exit().remove();\n      // this.visuals.phylogenetic.svg = d3.select('svg#network').append('g');\n\n      this.LeafLabelFieldList.push({ label: 'None', value: 'None' });\n      console.log(\"getting node fields\")\n      this.commonService.session.data['nodeFields'].map((d, i) => {\n\n        this.visuals.phylogenetic.LeafLabelFieldList.push(\n          {\n            label: this.visuals.phylogenetic.commonService.capitalize(d.replace('_', '')),\n            value: d\n          });\n      });\n      console.log(this.visuals.phylogenetic.LeafLabelFieldList);\n    }\n  }\n\n  openSettings() {\n    this.visuals.phylogenetic.PhylogeneticTreeExportDialogSettings.setVisibility(true);\n    // this.context.twoD.ShowStatistics = !this.context.twoD.Show2DSettingsPane;\n  }\n\n\n  openExport() {\n    this.ShowPhylogeneticExportPane = true;\n\n    this.visuals.microbeTrace.GlobalSettingsDialogSettings.setStateBeforeExport();\n    this.visuals.microbeTrace.GlobalSettingsLinkColorDialogSettings.setStateBeforeExport();\n    this.visuals.microbeTrace.GlobalSettingsNodeColorDialogSettings.setStateBeforeExport();\n    this.isExportClosed = false;\n\n  }\n\n  openCenter() {\n    const thisTree = this.commonService.visuals.phylogenetic.tree;\n    thisTree.recenter()\n      .redraw();\n  }\n\n  //openPinAllNodes() {\n\n\n  //}\n\n  openRefreshScreen() {\n\n  }\n\n  openSelectDataSetScreen() {\n\n  }\n\n  onTreeLayoutChange(event) {\n    this.SelectedTreeLayoutVariable = event;\n    this.tree.setLayout(event);\n    this.styleTree();\n  }\n\n  onTreeModeChange(event) {\n    this.SelectedTreeModeVariable = event;\n    this.tree.setMode(event);\n    this.styleTree();\n  }\n\n  onTreeTypeChange(event) {\n    this.SelectedTreeTypeVariable = event;\n    this.tree.setType(event);\n    this.styleTree();\n  }\n\n  onLeafLabelVariableChange(event) {\n    this.SelectedLeafLabelVariable = event;\n    let labelVar = event;\n    this.tree.eachLeafLabel(label => {\n      d3.select(label).text(data => {\n        let id = data.data.id;\n        let node = this.commonService.session.data.nodes.find(node => node._id == id);\n        return node[labelVar];\n      }).attr('dx', 8)\n    });\n  }\n\n  onLeafTooltipVariableChange(event) {\n    this.SelectedLeafTooltipVariable = event;\n    let labelVar = event;\n    this.tree.eachLeafNode((circle, data) => {\n        let node = this.commonService.session.data.nodes.find(d => d.id === data.data.id);\n        if (node === undefined) \n          node = this.commonService.session.data.nodes.find(d => d._id === data.data.id);\n        d3.select(circle)\n          .attr('title', node[labelVar]);\n      });\n  }\n\n  onHorizontalStretchChange(event) {\n    let cached = this.tree.animation;\n    this.tree.setAnimation(0);\n    this.tree.setHStretch(this.SelectedHorizontalStretchVariable);\n    this.tree.setAnimation(cached);\n  }\n\n  onVerticalStretchChange(event) {\n    let cached = this.tree.animation;\n    this.tree.setAnimation(0);\n    this.tree.setVStretch(this.SelectedVerticalStretchVariable);\n    this.tree.setAnimation(cached);\n  }\n\n  onBranchLabelShowChange(event) {\n    this.SelectedBranchLabelShowVariable = event;\n    this.tree.setBranchLabels(event);\n  }\n\n  onBranchLabelSizeChange(event) {\n    this.SelectedBranchLabelSizeVariable = event;\n    this.styleTree();\n  }\n\n  onBranchDistanceShowChange(event) {\n    this.SelectedBranchDistanceShowVariable = event;\n    this.tree.setBranchDistances(event);\n  }\n\n  onBranchDistanceSizeChange(event) {\n    this.SelectedBranchDistanceSizeVariable = event;\n    this.styleTree();\n  }\n\n  onBranchNodeShowChange(event) {\n    this.SelectedBranchNodeShowVariable = event;\n    this.tree.setBranchNodes(event);\n  }\n\n  onBranchNodeSizeChange(event) {\n    console.log(`We're in the change function, the event is ${event}`);\n    this.SelectedBranchNodeSizeVariable = event;\n    this.styleTree();\n  }\n\n  onBranchTooltipShowChange(event) {\n    this.SelectedBranchTooltipShowVariable = event;\n  }\n\n  onLeafLabelTooltipShowChange(event) {\n    this.SelectedLeafTooltipShowVariable = event;\n  }\n\n  onLeafLabelShowChange(event) {\n    this.SelectedLeafLabelShowVariable = event;\n    this.tree.setLeafLabels(event);\n  }\n\n  showGlobalSettings() {\n    this.DisplayGlobalSettingsDialogEvent.emit('Styling');\n  }\n\n  onLeafNodeSizeVariableChange(event) {\n    this.SelectedLeafNodeSizeVariable = event;\n    this.styleTree();\n  }\n\n  onLeafLabelSizeChange(event) {\n    this.SelectedLeafLabelSizeVariable = event;\n    this.styleTree();\n  }\n\n  onBranchSizeChange(event) {\n    this.SelectedBranchSizeVariable = event;\n    this.styleTree();\n  }\n\n  onCloseExport() {\n    this.isExportClosed = true;\n  }\n\n  updateNodeColors() {\n    let variable = this.visuals.phylogenetic.commonService.session.style.widgets['node-color-variable'];\n    const nodeColor = this.visuals.phylogenetic.commonService.session.style.widgets['node-color'];\n    this.SelectedLeafNodeColorVariable = nodeColor;\n    this.styleTree();\n    const selectedColor = this.visuals.phylogenetic.commonService.GlobalSettingsModel.SelectedColorVariable;\n  }\n\n  updateLinkColor() {\n    const linkColor = this.visuals.phylogenetic.commonService.session.style.widgets['link-color'];\n    this.SelectedLinkColorVariable = linkColor;\n    this.styleTree();\n  }\n\n  saveImage(event) {\n    const thisTree = this.commonService.visuals.phylogenetic.tree;\n    const fileName = this.SelectedTreeImageFilenameVariable;\n    const treeId = 'tidytree';\n    const exportImageType = this.SelectedNetworkExportFileTypeListVariable ;\n    const content = document.getElementById(treeId);\n    if (exportImageType === 'png') {\n      domToImage.toPng(content).then(\n        dataUrl => {\n          saveAs(dataUrl, fileName);\n      });\n    } else if (exportImageType === 'jpeg') {\n        domToImage.toJpeg(content, { quality: 0.85 }).then(\n          dataUrl => {\n            saveAs(dataUrl, fileName);\n          });\n    } else if (exportImageType === 'svg') {\n        const svgContent = this.visuals.phylogenetic.commonService.unparseSVG(content);\n        const blob = new Blob([svgContent], { type: 'image/svg+xml;charset=utf-8' });\n        saveAs(blob, fileName);\n    }\n\n  }\n\n  saveNewickString(event) {\n    const thisTree = this.commonService.visuals.phylogenetic.tree;\n    const newickBlob = new Blob([thisTree.data.toNewick(false)], {type: 'text/plain;charset=utf-8'});\n    saveAs(newickBlob, this.SelectedNewickStringFilenameVariable);\n  }\n\n\n  getContextLeftVal = (xPos) => {\n    if (xPos - 175 < 0) {\n      return xPos + 25;\n    } else {\n      return xPos - 175;\n    }\n  }\n\n  getContextTopVal = (yPos) => {\n    if (yPos > (this.svg.clientHeight - 125)) {\n      return yPos - 125;\n    } else {\n      return yPos + 25;\n    }\n  }\n\n  showContextMenu = (d) => {\n    // d3.event.preventDefault();\n    this.hideTooltip();\n    const tree = this.tree;\n    const leftVal = this.getContextLeftVal((d3 as any).event.pageX);\n    const topVal = this.getContextTopVal((d3 as any).event.pageY);\n\n    d3.select('#phylo-context-menu')\n    .style('z-index', 1000)\n    .style('display', 'block')\n    .style('opacity', 1)\n    .style('left', `${leftVal}px`)\n    .style('top', `${topVal}px`);\n    d3.select('#reroot').on('click', c => {\n      tree.setData(d[0].data.reroot());\n      this.styleTree();\n      this.hideContextMenu();\n    });\n    d3.select('#rotate').on('click', c => {\n      tree.setData(d[0].data.rotate().getRoot());\n      this.styleTree();\n      this.hideContextMenu();\n    });\n    d3.select('#flip').on('click', c => {\n      tree.setData(d[0].data.flip().getRoot());\n      this.styleTree();\n      this.hideContextMenu();\n    });\n    d3.select('#tidytree').on('click', c => {\n      this.hideContextMenu();\n    });\n  }\n\n  hideContextMenu = () => {\n    $('#phylo-context-menu').animate({ opacity: 0 }, 80, () => {\n      $(this).css('z-index', -1);\n    });\n  }\n\n  clickHandler = (n) => {\n    if ((d3 as any).event.ctrlKey) {\n      this.visuals.phylogenetic.commonService.session.data.nodes.find(node => node._id === n._id).selected = !n.selected;\n    } else {\n      this.visuals.phylogenetic.commonService.session.data.nodes.forEach(node => {\n        if (node._id === n._id) {\n          node.selected = !n.selected;\n        } else {\n          node.selected = false;\n        }\n      });\n    }\n  }\n\n  showTooltip = (d) => {\n    if (this.SelectedLeafTooltipShowVariable) {\n      let htmlValue: any = this.SelectedLeafTooltipVariable;\n\n      let [X, Y] = this.getRelativeMousePosition();\n\n      // $('#tooltip').css({ top: d3.event.pageY - 28, left: d3.event.pageX + 8, position: 'absolute' });\n\n      // const leftVal = X + 8;\n      // const topVal = Y - 28;\n      let node = this.commonService.session.data.nodes.find(n => n.id === d[0].data.id);\n      if (node === undefined){ \n        node = this.commonService.session.data.nodes.find(n => n._id === d[0].data.id);\n        if (htmlValue === \"id\")\n          htmlValue = \"_id\";\n      }\n      console.log(node);\n      // Pre D3\n      const leftVal = (d3 as any).event.pageX + 8;\n      const topVal = (d3 as any).event.pageY - 28;\n      d3.select('#phyloTooltip')\n        .html(node[htmlValue])\n        .style('position', 'absolute')\n        .style('display', 'block')\n        .style('left', `${leftVal}px`)\n        .style('top', `${topVal}px`)\n        .style('z-index', 1000)\n        .transition().duration(100)\n        .style('opacity', 1)\n        .style('color', '#333333')\n        .style('background', '#f5f5f5')\n        .style('border', '1px solid #cccccc')\n        .style('border-radius', '.25rem')\n        .style('padding', '.25rem')\n      ;\n    }\n  }\n\n  hideTooltip = () => {\n    const tooltip = d3.select('#phyloTooltip');\n    tooltip\n      .transition().duration(100)\n      .style('opacity', 0)\n      .on('end', () => tooltip.style('z-index', -1));\n  }\n\n    /**\n     * @returns an array [X, Y] of the position of mouse relative to twodcomponent. Global position (i.e. d3.event.pageX) doesn't work for a dashboard\n     */  \n    getRelativeMousePosition() {\n      // let rect = d3.select('phylogeneticcomponent').node().getBoundingClientRect();\n      // let X = d3.event.pageX - rect.left;\n      // let Y = d3.event.pageY - rect.top; \n      return [0, 0];\n    }\n\n}\n\nexport namespace PhylogeneticComponent {\n    export const componentTypeName = 'Phylogenetic Tree';\n}\n","import { Injector, Component, Output, OnChanges, SimpleChange, EventEmitter, OnInit, ViewChild, ChangeDetectorRef, OnDestroy, ElementRef, Inject } from '@angular/core';\nimport { AppComponentBase } from '@shared/common/app-component-base';\nimport { EventManager } from '@angular/platform-browser';\nimport { CommonService } from '../../contactTraceCommonServices/common.service';\nimport { Table } from 'primeng/table';\nimport { MicobeTraceNextPluginEvents } from '../../helperClasses/interfaces';\nimport { MicrobeTraceNextVisuals } from '../../microbe-trace-next-plugin-visuals';\nimport { SelectItem } from 'primeng/api';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { ComponentContainer } from 'golden-layout';\nimport * as saveAs from 'file-saver';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\n\n\n/**\n * @title Complex Example\n */\n@Component({\n    selector: 'TableComponent',\n    templateUrl: './table-plugin-component.html',\n    styleUrls: ['./table-plugin-component.less']\n})\n\nexport class TableComponent extends BaseComponentDirective implements OnInit, OnDestroy, MicobeTraceNextPluginEvents {\n\n    @Output() DisplayGlobalSettingsDialogEvent = new EventEmitter();\n\n    viewActive: boolean = true;\n    SelectedTableExportFilenameVariable: string = \"\";\n\n    TableExportFileTypeList: any = [\n        { label: 'xlsx', value: 'xlsx' },\n        { label: 'csv', value: 'csv' }\n    ];\n    exportColumnOptions: any = [\n        { label: 'All', value: true },\n        { label: 'Current', value: false }\n    ];\n    exportAllColumns: boolean = false;\n\n    dataSetView: SelectItem[];\n    dataSetViewSelected: string;\n    \n    SelectedTableExportFileTypeListVariable: string = \"csv\";\n\n    SelectedTextSizeVariable: any = 14;\n\n    ShowTableExportPane: boolean = false;\n    ShowTableSettingsPane: boolean = false;\n    IsDataAvailable: boolean = false;\n    table: any;\n    meta: any = ['selected', 'visible']\n    TableColumns: any[] = [];\n    SelectableTableColumns: any[] = [];\n    AvailableColumns: any[] = [];\n    TableDatas: TableData[] = [];\n    SelectedTableData: TableData;\n    TableDataSelection: any[] = [];\n    TableType: 'node' | 'link' | 'cluster' = 'node';\n    filterTypes: FilterType[] = [\n        {label:'Contains', value: 'contains'},\n        {label:'=', value: 'equals'},\n        {label:'!=', value: 'notEquals'},\n        {label:'Starts With', value: 'startsWith'},\n        {label:'Ends With', value: 'endsWith'},\n        {label:'In', value: 'in'},\n        {label:'<', value: 'lt'},\n        {label:'<=', value: 'lte'},\n        {label:'>', value: 'gt'},\n        {label:'>=', value: 'gte'},\n    ];\n\n    selectedSize = '';\n    sizes = [\n        { name: 'Small', class: 'p-datatable-sm' },\n        { name: 'Normal', class: '' },\n        { name: 'Large',  class: 'p-datatable-lg' }\n    ];\n\n    scrollHeight: string;\n    tableStyle;\n    selectedRows = 10;\n\n    private visuals: MicrobeTraceNextVisuals;\n\n    // @ViewChild('dt') dataTable: Table;\n\n    @ViewChild('dt') dataTable: Table;\n\n\n    constructor(injector: Injector,\n        @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer, \n        elRef: ElementRef,\n        private cdref: ChangeDetectorRef,\n        private eventManager: EventManager,\n        private commonService: CommonService,\n        private gtmService: GoogleTagManagerService) {\n\n        super(elRef.nativeElement);\n\n        this.visuals = commonService.visuals;\n        this.commonService.visuals.tableComp = this;\n\n    }\n\n    ngOnInit() {\n        // this.InitView();\n\n        this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/table\",\n            page_title: \"Table View\"\n        });\n        this.dataSetView = [];\n        this.dataSetView.push({ label: 'Nodes', value: 'Node' });\n        this.dataSetView.push({ label: 'Links', value: 'Link' });\n        this.dataSetView.push({ label: 'Clusters', value: 'Cluster' });\n\n        this.dataSetViewSelected = \"Node\";\n\n        this.IsDataAvailable = (this.commonService.session.data.nodes.length == 0 ? false : true);\n\n        if (this.IsDataAvailable == true) {\n            if (!this.SelectedTableData || this.SelectedTableData.tableColumns.length == 0) {\n                this.createTable(this.dataSetViewSelected);\n            }\n        }\n\n        let that = this;\n\n        $( document ).on( \"node-selected\", function( ) {\n\n            if (that.viewActive) {\n                that.visuals.tableComp.setSelectedNodes();\n            }\n\n        });\n\n\n        window.addEventListener(\"node-selected\", () => {\n            if (!this.visuals.microbeTrace.homepageTabs.find(x => x.isActive && x.label === 'Table')) {\n                this.visuals.tableComp.setSelectedNodes();\n            }\n        });\n\n        // offsets: 70 table-wrapper padding-top, 60 p-paginator, 10 table-wrapper padding-bottom\n        this.scrollHeight = ($('tableComponent').height() - 70 - 60 - 10) + 'px';\n        let width = ($('tableComponent').width() - 23) + 'px';\n        this.tableStyle = {\n            'max-width' : width,\n            'display': 'block'\n        }\n        \n        this.container.on('resize', () => { this.goldenLayoutComponentResize()})\n        this.container.on('hide', () => { \n            this.viewActive = false; \n            this.cdref.detectChanges();\n        })\n        this.container.on('show', () => { \n            this.viewActive = true; \n            this.setSelectedNodes();\n            this.cdref.detectChanges();\n        })\n    }\n\n    /**\n     * Exports table\n     * \n     * For exporting as excel file it calls this.saveAsExcelFile();\n     * \n     * For exporting as a csv it uses exportCSV() which is built into primeNG table object\n     */\n    exportVisualization() {\n        if (this.SelectedTableExportFileTypeListVariable == 'xlsx') {\n            this.saveAsExcelFile();\n        } else {\n            this.dataTable.exportFilename = this.SelectedTableExportFilenameVariable;\n            \n            if (this.exportAllColumns) {\n                let temp = this.SelectedTableData.tableColumns;\n                let temp2 = [];\n                this.SelectedTableData.availableColumns.forEach(column => temp2.push(column.value))\n                this.dataTable.columns = temp2;\n                this.dataTable.exportCSV()\n                this.dataTable.columns = temp;\n            } else {\n                this.dataTable.exportCSV()\n            }\n        }\n\n        this.ShowTableExportPane = !this.ShowTableExportPane;\n    }\n\n    /**\n     * Allows users to export the table as an excel file\n     * @param fileName optional if not given will use this.SelectedtableExportFilenameVariable\n     */\n    saveAsExcelFile( fileName?: string): void {\n        if (fileName == undefined) {\n            fileName = this.SelectedTableExportFilenameVariable\n        }\n        import(\"xlsx\").then(xlsx => {\n            // if a filtered is applied use filteredValue else use all values\n            let rowData = this.dataTable.filteredValue || this.dataTable.value;\n            if (this.exportAllColumns) {\n                // change name of data fields to header to be consistent with the other exports on this component\n                rowData = rowData.map((row) => {\n                    let output = {}\n                    this.SelectedTableData.availableColumns.forEach((key) => output[key.value.header] = row[key.value.field])\n                    return output;\n                })\n            } else {\n                // gets only the current/visible columns for export and also changes data field name to the header name\n                rowData = rowData.map((row) => {\n                    let output = {}\n                    this.SelectedTableData.tableColumns.forEach((key) => output[key.header] = row[key.field])\n                    return output;\n                })\n            }\n\n            let worksheet = xlsx.utils.json_to_sheet(rowData) ; \n            const workbook = { Sheets: { 'data': worksheet }, SheetNames: ['data'] }\n            const excelBuffer: any = xlsx.write(workbook, { bookType: 'xlsx', type: 'array' });\n            const EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n            const EXCEL_EXTENSION = '.xlsx';\n            const data: Blob = new Blob([excelBuffer], { type: EXCEL_TYPE });\n            saveAs(data, fileName + EXCEL_EXTENSION);\n        });\n    }\n\n    /**\n     * Called first when filter is applied it applys filter to this.dataTable to update this.dataTable.filterValue\n     * @param col \n     */\n    onTableFilter(col){\n        this.dataTable.filter(col.filterValue, col.field, col.filterType);\n    }\n\n    /**\n     * Called second when a filter is applied, it updates values sotred in commonService.session.data and this.selectedRows if needed\n     * @param event \n     */\n    onFilter(event) {\n        let filteredValues = [];\n        switch (this.visuals.tableComp.TableType) {\n            case 'node':\n                filteredValues = this.visuals.tableComp.commonService.session.data.nodes.filter(x => event.filteredValue.find(y => y.index === x.index));\n                break;\n            case 'link':\n                filteredValues = this.visuals.tableComp.commonService.session.data.links.filter(x => event.filteredValue.find(y => y.index === x.index));\n                break;\n            case 'cluster':\n                filteredValues = this.visuals.tableComp.commonService.session.data.clusters.filter(x => event.filteredValue.find(y => y.id === x.id));\n                break;\n        }\n\n        this.visuals.tableComp.SelectedTableData.filter = event.filters;\n\n        // these lines can used to update nodes/data used for other views; publishFilterDataChange() calls onFilterDataChange for each view \n        // onFilterDataChange will need to be updated for implimenting this; also a bug in labeling by index sometimes changes the numbering of nodes\n        /*this.visuals.tableComp.commonService.session.data[this.visuals.tableComp.TableType + 'Filter'] = event.filters;\n        this.visuals.tableComp.commonService.session.data[this.visuals.tableComp.TableType + 'FilteredValues'] = filteredValues;\n        this.visuals.microbeTrace.publishFilterDataChange(); */\n\n        // updates number of rows when filter is changed (without there is a visual bug when removing a filter)\n        if ($('.p-paginator-rpp-options span').text() == 'All') {\n            this.selectedRows = event.filteredValue.length;\n        }\n    }\n\n    // XXXXX changing font size in settings pane currently calls this function\n    onDataChange(event) {\n\n    }\n\n    onFilterDataChange() {\n        //Nothing to do here\n    }\n\n    /**\n     * Function is called when a user selects a row by clicking on it.\n     * It calls nodeSelect(event, true), which updates commonService.session.data.nodes/nodeFilteredValues\n     * to be selected for the row/node and also emits a 'node-selected' event\n     */\n    onRowSelect(event) {\n        this.nodeSelect(event, true);\n    }\n\n    /**\n     * Function is called when a user unselects a row.\n     * It calls nodeSelect(event, false), which updates commonService.session.data.nodes/nodeFilteredValues\n     * to be selected for the row/node and also emits a 'node-selected' event\n     */\n    onRowUnselect(event) {\n        this.nodeSelect(event, false);\n    }\n\n    /**\n     * Called when a node is selected/unselected by clicking on a row. This function updates\n     * commonService.session.data.nodes/nodeFilteredValues to be selected for the row/node and also emits a 'node-selected' event\n     */\n    nodeSelect(event: any, isSelect: boolean) {\n        if(event.data === undefined) return;\n\n        if (this.visuals.tableComp.TableType === 'node') {\n            this.visuals.tableComp.commonService.session.data.nodes\n                .filter(x => x.index === event.data.index)\n                .forEach(x => x.selected = isSelect);\n            this.visuals.tableComp.commonService.session.data.nodeFilteredValues\n                .filter(x => x.index === event.data.index)\n                .forEach(x => x.selected = isSelect);\n        }\n\n        $(document).trigger('node-selected')\n        //window.dispatchEvent(new Event('node-selected'));\n    }\n\n    /**\n     * Update variables (such as TableType, selectedTableData) needed to update the contents of the table\n     * @param type The type of data (node, link, cluster) to create table with\n     */\n    createTable(type: any = \"node\") {\n        type = type.toLowerCase();\n        this.visuals.tableComp.TableType = type;\n\n        // checks if data for tableData exists in TableDatas, if not, creates a new TableData object and adds it to TableDatas\n        let tableData: TableData | undefined = this.TableDatas.find(x => x.tableType === type);\n        const isNewTableData: boolean = tableData == undefined;\n        if (isNewTableData) {\n            tableData = {\n                tableType: type,\n                data: [],\n                dataSelection: [],\n                tableColumns: this.visuals.tableComp.commonService.session.data[type + 'TableColumns'],\n                availableColumns: [],\n                selectedTableColumns: [],\n                filter: this.visuals.tableComp.commonService.session.data[type + 'Filter']\n            };\n\n            this.TableDatas.push(tableData);\n        }\n\n        this.visuals.tableComp.TableColumns = [];\n\n        if (this.dataTable) {\n            this.dataTable.reset();\n            this.dataTable.filters = tableData.filter;\n        }\n\n        this.visuals.tableComp.commonService.session.data[type + 'Fields'].map((d, i) => {\n            if (this.visuals.tableComp.meta.includes(d)) return;\n\n            let filterValue: string = \"\";\n            if (tableData.filter) {\n                const foundFilterItem = tableData.filter[d];\n                if (foundFilterItem) {\n                    filterValue = foundFilterItem.value;\n                }\n            }\n\n            const column = {\n                field: d,\n                header: d== 'nn' ? 'Nearest Neighbor' : this.visuals.tableComp.capitalize(d.replace(\"_\", \"\")),\n                filterValue: filterValue,\n                filterType: 'contains'\n            };\n\n            const foundAvailableColumn = tableData.availableColumns.find(x => x.label === column.header);\n\n            if (foundAvailableColumn) {\n                foundAvailableColumn.filterValue = column.filterValue;\n            } else {\n                tableData.availableColumns.push({\n                    label: column.header,\n                    value: column,\n                    disabled: column.field === 'index'\n                })\n            }\n        });\n\n        if (!tableData.tableColumns.length) {\n            tableData.tableColumns = tableData.availableColumns.filter((curVal, index) => index <= 5).map(x => x.value);\n        }\n\n        tableData.tableColumns.forEach(x=>{\n            const c = tableData.availableColumns.find(y=>y.value.header === x.header).value.filterValue;\n            x.filterValue = c;\n        })\n\n\n        tableData.data = [];\n        let typeData = type + \"s\";\n        this.visuals.tableComp.commonService.session.data[typeData].map((d, i) => {\n            if (this.visuals.tableComp.meta.includes(d)) return;\n\n            let nrow: any = {};\n            tableData.availableColumns.map((e, n) => {\n                const field = e.value.field;\n\n                let stringVal: String = d[field];\n\n                if (stringVal === undefined || stringVal === null) {\n                    nrow[field] = \"\";\n                } else {\n                    nrow[field] = (stringVal.toString().indexOf(\",\") > -1 ? (stringVal.toString().split(\",\", 100).length > 1 ? stringVal.toString().split(\",\", 100).join('\\n') : d[field]) : d[field]);\n                }\n\n            });\n\n            tableData.data.push(nrow);\n        });\n\n        const foundTableData = this.TableDatas.find(x => x.tableType === type);\n\n        if (foundTableData) {\n            this.SelectedTableData = foundTableData;\n        }\n\n        //set selected nodes\n        this.visuals.tableComp.setSelectedNodes();\n    }\n\n    /**\n     * If this.TableType == 'node' update the node TableData.dataSelection to the nodes that are selected in commonService.session.data.nodes\n     */\n    setSelectedNodes() {\n        if (this.visuals.tableComp.TableType === 'node') {\n            const foundTableData = this.TableDatas.find(x => x.tableType === 'node');\n            if (foundTableData) {\n                const selectedNodes = this.visuals.tableComp.commonService.session.data.nodes.filter(x => x.selected);\n                foundTableData.dataSelection = this.SelectedTableData.data.filter(x => selectedNodes.find(y => y.index == x.index));\n            }\n        }\n    }\n\n    /**\n     * @param s string\n     * @returns s but with first letter capitatlized, if s is not string type returns empty string\n     */\n    capitalize(s): string {\n        if (typeof s !== 'string') return ''\n        return s.charAt(0).toUpperCase() + s.slice(1)\n    }\n\n    // XXXXX need to revisit for changing text size in table; currently unable to change size of text and changing the setting calls onDataChange()\n    resetTextsize() {\n        let s: any = $('#table-font-size').val();\n        $('#table').css({\n            'font-size': s + 'px',\n            'line-height': s / 10\n        });\n    }\n    \n    reorderColumns() {\n        let temp = this.SelectedTableData.tableColumns[2]\n        this.SelectedTableData.tableColumns[2] = this.SelectedTableData.tableColumns[3];\n        this.SelectedTableData.tableColumns[3] = temp;\n    }\n\n    /**\n     * Opens settings pane for table component\n     */\n    openSettings() {\n        this.visuals.tableComp.ShowTableSettingsPane = !this.visuals.tableComp.ShowTableSettingsPane;\n    }\n\n    /**\n     * Opens export pane for table component\n     */\n    openExport() {\n        this.visuals.tableComp.ShowTableExportPane = !this.visuals.tableComp.ShowTableExportPane;\n    }\n\n    openCenter() {\n\n    }\n\n    //openPinAllNodes() {\n\n\n    //}\n\n    openRefreshScreen() {\n\n    }\n\n    /**\n     * This function is called when the type of data to display in the table is changed (Nodes, Links, Cluster)\n     * @param e event\n     */\n    openSelectDataSetScreen(e: any) {\n        this.visuals.tableComp.createTable(e.value);\n        // after changing table type sometimes there is a visual bug that the following code fixes\n        if ($('.p-paginator-rpp-options span').text() == 'All') {\n            this.selectedRows = this.SelectedTableData.data.length;\n        }\n    }\n\n    onLoadNewData() {\n        this.createTable(this.visuals.microbeTrace.dataSetViewSelected);\n    }\n\n    updateNodeColors() {\n        //Not Relevant\n    }\n    updateVisualization() {\n        //Not Relevant\n    }\n\n    applyStyleFileSettings() {\n        //this.widgets = (window as any).context.commonService.session.style.widgets;\n        //this.loadSettings();\n    }\n\n    updateLinkColor() {\n        //Not Relevant\n    }\n\n    onRecallSession() {\n    }\n\n    goldenLayoutComponentResize() {\n        this.scrollHeight = ($('tableComponent').height() - 70 - 60 - 10) + 'px';\n        let width = ($('tableComponent').width() - 23) + 'px';\n        this.tableStyle = {\n            'width' : width,\n            'display': 'block'\n        }\n    }\n\n    /**\n     * Called before the comonent is destroyed; it save tableColumns for each node, link, and cluster in commonService.session.data\n     */\n    ngOnDestroy(): void {\n\n        let foundTableData = this.TableDatas.find(x => x.tableType === 'node');\n        if (foundTableData) {\n            this.visuals.tableComp.commonService.session.data.nodeTableColumns = foundTableData.tableColumns;\n        }\n\n        foundTableData = this.TableDatas.find(x => x.tableType === 'link');\n        if (foundTableData) {\n            this.visuals.tableComp.commonService.session.data.linkTableColumns = foundTableData.tableColumns;\n        }\n\n        foundTableData = this.TableDatas.find(x => x.tableType === 'cluster');\n        if (foundTableData) {\n            this.visuals.tableComp.commonService.session.data.clusterTableColumns = foundTableData.tableColumns;\n        }\n    }\n}\n\ninterface TableData {\n    tableType: 'node' | 'link' | 'cluster',\n    data: any[],\n    dataSelection: any[],\n    tableColumns: any[],\n    availableColumns: any[],\n    selectedTableColumns: any[],\n    filter: any\n}\n\ninterface FilterType{\n    label: string,\n    value: string\n}\n\nexport namespace TableComponent {\n    export const componentTypeName = 'Table';\n}","import { Component, ElementRef, EventEmitter, ChangeDetectorRef, Inject, OnInit, Output, ViewChild } from '@angular/core';\nimport { CommonService } from '../../contactTraceCommonServices/common.service';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { MicobeTraceNextPluginEvents } from '@app/helperClasses/interfaces';\nimport { ComponentContainer } from 'golden-layout';\nimport * as d3 from 'd3';\nimport moment from 'moment';\nimport { MicrobeTraceNextVisuals } from '@app/microbe-trace-next-plugin-visuals';\n\nimport * as saveAs from 'file-saver';\nimport { saveSvgAsPng } from 'save-svg-as-png';\nimport { SelectItem } from 'primeng/api';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\n\n\n@Component({\n  selector: 'app-timeline-component',\n  templateUrl: './timeline-component.component.html',\n  styleUrls: ['./timeline-component.component.scss']\n})\nexport class TimelineComponent extends BaseComponentDirective implements OnInit, MicobeTraceNextPluginEvents {\n\n  @Output() DisplayGlobalSettingsDialogEvent = new EventEmitter();\n\n  @ViewChild('epiCurve') epiCurveElement: ElementRef;\n  @ViewChild('epiCurveSVG') epiCurveSVGElement: ElementRef;\n  viewActive: boolean = true;\n\n  widgets: object;\n  private visuals: MicrobeTraceNextVisuals;\n\n  FieldList: SelectItem[] = [];\n  FieldListStack: SelectItem[] = [];\n  SelectedDateFieldVariable;\n  SelectedDateFieldVariable2;\n  SelectedDateFieldVariable3;\n  binSizes = ['Day', 'Week', 'Month', 'Quarter', 'Year']\n  tickInterval;\n\n  graphTypes = ['Single Date Field', 'Multi: Side by Side', 'Multi: Overlay']\n  selectedGraphType = 'Single Date Field';\n  legendPositionOptions = ['Hide', 'Left', 'Right', 'Bottom']\n\n  ShowEpiSettingsPane: boolean = false;\n  ShowEpiExportPane: boolean = false;\n  EpiExportFileName: string = \"\";\n  EpiExportFileType: string = \"png\";\n  SelectedNetworkExportScaleVariable: any = 1;\n  SelectedNetworkExportQualityVariable: any = 0.92;\n  CalculatedResolution: string;\n\n  private localColorMap = (x) => {}\n\n  private svg;\n  private margin = { top: 5, left: 45, right: 20, bottom: 50 };\n  private width; // Default width, adjust as necessary\n  private height; // Default height, adjust as necessary\n  private middle;\n  private x;\n  private y;\n  private histogram;\n  private brush;\n  private brushG;\n  private selection;\n  private timer;\n  private tick = 0;\n  private isPlaying = false;\n\n  private vnodes = []; // Replace with your actual data\n  private timeDomainStart;\n  private timeDomainEnd;\n\n  constructor(\n    private commonService: CommonService,\n    @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer,\n    elRef: ElementRef,\n    private cdref: ChangeDetectorRef,\n    private gtmService: GoogleTagManagerService) {\n\n      super(elRef.nativeElement);\n      this.visuals = commonService.visuals;\n      this.commonService.visuals.epiCurve = this;\n      this.widgets = this.commonService.session.style.widgets;\n\n      this.setDefaultsWidgets();\n\n  }\n  ngOnInit() {\n\n    this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/timeline\",\n            page_title: \"Timeline View\"\n        });\n    // populate this.twoD.FieldList with [None, ...nodeFields]\n    this.visuals.epiCurve.FieldList = [];\n    this.visuals.epiCurve.FieldListStack = [];\n    this.visuals.epiCurve.FieldList.push({ label: \"None\", value: \"None\" });\n    this.visuals.epiCurve.FieldListStack.push({ label: \"None\", value: 'None'}, { label: \"Node Color\", value: \"Node Color\"});\n    this.visuals.epiCurve.commonService.session.data['nodeFields'].map((d, i) => {\n        if (d != 'seq' && d != 'sequence') {\n            this.visuals.epiCurve.FieldList.push(\n                {\n                    label: this.visuals.epiCurve.commonService.capitalize(d.replace(\"_\", \"\")),\n                    value: d\n                });\n              this.visuals.epiCurve.FieldListStack.push(\n                {\n                    label: this.visuals.epiCurve.commonService.capitalize(d.replace(\"_\", \"\")),\n                    value: d\n                });\n        }\n\n    });\n\n    this.tickInterval = 1;\n    this.updateSettingsRows();    \n }\n\n  setDefaultsWidgets() {\n    // graphType\n    if (this.widgets['epiCurve-graphType'] == undefined) {\n      this.widgets['epiCurve-graphType'] = 'Single Date Field';\n    }\n    this.selectedGraphType = this.widgets['epiCurve-graphType'];\n\n    // date fields\n    if (this.widgets['epiCurve-date-fields'] == undefined) {\n      if (this.widgets['epi-timeline-date-field'] != undefined) {\n        this.widgets['epiCurve-date-fields'] = [this.widgets['epi-timeline-date-field'], 'None', 'None']\n      } else {\n        this.widgets['epiCurve-date-fields'] = ['None', 'None', 'None']\n      }\n    } else if (this.widgets['epiCurve-date-fields'].length < 3) {\n      while (this.widgets['epiCurve-date-fields']< 3) {\n        this.widgets['epiCurve-date-fields'].push('None')\n      }\n    }\n    this.SelectedDateFieldVariable = this.widgets['epiCurve-date-fields'][0];\n    this.SelectedDateFieldVariable2 = this.widgets['epiCurve-date-fields'][1];\n    this.SelectedDateFieldVariable3 = this.widgets['epiCurve-date-fields'][2];\n\n    // colors\n    if (this.widgets['epiCurve-colors'] == undefined) {\n      this.widgets['epiCurve-colors'] = ['#f5d742', '#f20fff', '#20ff1a'];\n    }\n\n    // stackColorBy field\n    if (this.widgets['epiCurve-stackColorBy'] == undefined) {\n      this.widgets['epiCurve-stackColorBy'] = 'None';\n    }\n\n    // binSize\n    if (this.widgets['epiCurve-binSize'] == undefined) {\n      this.widgets['epiCurve-binSize'] = 'Month'\n    }\n\n    //\n    if (this.widgets['epiCurve-cumulative'] == undefined) {\n      this.widgets['epiCurve-cumulative'] = false;\n    }\n\n    // legendPosition\n    if (this.widgets['epiCurve-legendPosition'] == undefined) {\n      this.widgets['epiCurve-legendPosition'] = 'Left';\n    }\n }\n\n ngAfterViewInit() {\n\n  // this.initializeD3Chart();\n  this.setupEventListeners();\n\n  if (this.widgets['epiCurve-legendPosition'] == 'Bottom') {\n    this.margin.bottom = 100;\n  } else {\n    this.margin.bottom = 50;\n  }\n  \n  this.refresh();\n }\n  \n/**\n * Clears previous histogram/epi curve and creates a new one; calls refreshMulti if needed\n */\npublic refresh(): void {\n  if (this.selectedGraphType=='Multi: Overlay' || this.selectedGraphType=='Multi: Side by Side') {\n    this.refreshMulti();\n    return;\n  } else if (this.SelectedDateFieldVariable == 'None') {\n    return;\n  }\n\n  $('#epiCurveSVG').empty()\n\n  this.updateSizes();\n  if (this.height < 0) {\n    return;\n  }\n\n  const field = this.SelectedDateFieldVariable;\n  let times = this.getTimes([field]);\n\n  // updates this.timeDomainStart and this.timeDomainInterval and returns the bin interval\n  let binInterval = this.calculateBinInterval(times);\n  if (binInterval == 0) {\n    return;\n  }\n\n  this.x = d3.scaleTime().domain([this.timeDomainStart, this.timeDomainEnd]).rangeRound([0, this.width]);\n  this.y = d3.scaleLinear().range([this.height, 0]);\n\n  //@ts-ignore\n  this.histogram = d3.histogram().value(d => d[field as string]).domain(this.x.domain()).thresholds(binInterval);\n\n  this.svg = d3.select(this.epiCurveSVGElement.nativeElement)\n    .attr(\"width\", this.width + this.margin.left + this.margin.right)\n    .attr(\"height\", this.height + this.margin.top + this.margin.bottom)\n    //.attr(\"transform\", `translate(0, ${this.margin.top})`);\n    \n\n  const epiCurve = this.svg.append(\"g\")\n    .classed(\"epiCurve-epi-curve\", true)\n    .attr(\"transform\", `translate(${this.margin.left}, 5)`);\n\n  let bins = this.histogram(this.vnodes);\n  \n  let colorVariable = this.commonService.session.style.widgets['node-color-variable'];\n  let nodeColorKeys;\n  if (colorVariable != 'None' && this.widgets['epiCurve-stackColorBy'] == 'Node Color') {\n    nodeColorKeys = this.commonService.session.style.nodeColorsTableKeys[colorVariable].map(value => value=='null' ? null: value);\n    this.localColorMap = this.commonService.temp.style.nodeColorMap;\n  } else if (this.widgets['epiCurve-stackColorBy'] != 'None') {\n    nodeColorKeys = this.updateLocalColorMap();\n  }\n\n  let maxCount = 0;\n  [maxCount, bins] = this.updateBins(bins, this.widgets['epiCurve-stackColorBy'] == 'Node Color' ? colorVariable : this.widgets['epiCurve-stackColorBy'], nodeColorKeys);\n  \n\n  this.y.domain([0, maxCount]).nice()//d3.max(bins, d => d.length)]);\n\n  if ((colorVariable != 'None' && this.widgets['epiCurve-stackColorBy'] == 'Node Color') || (this.widgets['epiCurve-stackColorBy'] != 'None' && this.widgets['epiCurve-stackColorBy'] != 'Node Color')) {\n    let nodeColors = [];\n\n    nodeColorKeys.forEach((value, ind) =>{\n      epiCurve.selectAll(`rect${ind}`)\n      .data(bins)\n      .enter()\n      .append(\"rect\")\n      .attr(\"transform\", d => `translate(${this.x(d.x0)}, ${this.y(d.height[ind])})`)\n      .attr(\"width\", d => this.x(d.x1) - this.x(d.x0))\n      .attr(\"height\", d => this.height - this.y(d.length2[ind]))\n      .attr(\"fill\", this.localColorMap(value) )\n\n      nodeColors.push(this.localColorMap(value));\n    })\n    this.generateLegend(epiCurve, nodeColors,nodeColorKeys)\n  } else {\n    let color = this.widgets['epiCurve-stackColorBy'] == 'None' ? this.widgets['epiCurve-colors'][0] : this.widgets[\"node-color\"];\n    epiCurve.selectAll(\"rect\")\n      .data(bins)\n      .enter()\n      .append(\"rect\")\n      .attr(\"transform\", d => `translate(${this.x(d.x0)}, ${this.y(d.length)})`)\n      .attr(\"width\", d => this.x(d.x1) - this.x(d.x0))\n      .attr(\"height\", d => this.height - this.y(d.length))\n      .attr(\"fill\", color);\n\n    this.generateLegend(epiCurve, [color] ,[this.SelectedDateFieldVariable])\n  }\n\n  this.updateAxes();\n} \n\n/**\n * Updated version of refresh that works for multiple date fields to generate the epi curve graph\n * Calls refresh() instead if needed\n */\nprivate refreshMulti(): void {\n  if (this.selectedGraphType=='Single Date Field') {\n    this.refresh();\n    return;\n  } else if (this.SelectedDateFieldVariable == 'None' && this.SelectedDateFieldVariable2 == 'None' && this.SelectedDateFieldVariable3 == 'None') {\n    return;\n  }\n\n  $('#epiCurveSVG').empty()\n\n  this.updateSizes();\n  if (this.height < 0) {\n    return;\n  }\n\n  let fields = [];\n  let colors = [];\n  [this.SelectedDateFieldVariable, this.SelectedDateFieldVariable2, this.SelectedDateFieldVariable3].forEach((dateField, ind) => {\n    if (dateField != 'None') {\n      fields.push(dateField);\n      colors.push(this.widgets[\"epiCurve-colors\"][ind])\n    }\n  })\n\n  if (fields.length == 0) {\n    return;\n  }\n  // current implementation of times is only used to calculate min and max time of all data given when setting up x axis and bins; there isn't a current need to link times by datapoint with times\n  let times = this.getTimes(fields);\n\n  // updates this.timeDomainStart and this.timeDomainInterval and returns the bin interval\n  let binInterval = this.calculateBinInterval(times);\n  if (binInterval == 0) {\n    return;\n  }\n\n  this.x = d3.scaleTime().domain([this.timeDomainStart, this.timeDomainEnd]).rangeRound([0, this.width]);\n  this.y = d3.scaleLinear().range([this.height, 0]);\n\n  //@ts-ignore\n  this.histogram = d3.histogram().domain(this.x.domain()).thresholds(binInterval);\n\n  this.svg = d3.select(this.epiCurveSVGElement.nativeElement)\n    .attr(\"width\", this.width + this.margin.left + this.margin.right)\n    .attr(\"height\", this.height + this.margin.top + this.margin.bottom)\n    .attr(\"transform\", `translate(0, ${this.margin.top})`);\n    \n\n  const epiCurve = this.svg.append(\"g\")\n    .classed(\"epiCurve-epi-curve\", true)\n    .attr(\"transform\", `translate(${this.margin.left}, 5)`);\n\n  let maxCount = 0;\n  let bins = [];\n  fields.forEach((field) => {\n    if (field != 'None') {\n      let currentCount = 0;\n      let currentbin = this.histogram(this.vnodes.map((d) => d[field]).filter(value => value != null));\n      [currentCount, currentbin] = this.updateBins(currentbin);\n      bins.push(currentbin)\n      if (currentCount > maxCount) maxCount = currentCount;\n    }\n  })\n\n  this.y.domain([0, maxCount]).nice();\n\n  if (this.selectedGraphType == 'Multi: Overlay') {\n    fields.forEach((_, ind) => {\n        epiCurve.selectAll(`rect${ind}`)\n        .data(bins[ind])\n        .enter()\n        .append(\"rect\")\n        .attr(\"transform\", d => `translate(${this.x(d.x0)}, ${this.y(d.length)})`)\n        .attr(\"width\", d => this.x(d.x1) - this.x(d.x0))\n        .attr(\"height\", d => this.height - this.y(d.length))\n        .attr(\"fill\", colors[ind])\n        .attr(\"opacity\", 0.6);\n    })\n\n  } else {\n    let numberOfBins = fields.length;\n    let width;\n    let xOffset = [];\n    if (numberOfBins == 1) {\n      width = (d) => this.x(d.x1)- this.x(d.x0);\n      xOffset = [\n        function(d, c) {return c.x(d.x0)}\n      ]\n    } else if (numberOfBins == 2) {\n      width = (d) => (this.x(d.x1)- this.x(d.x0))/2\n      xOffset = [\n        function(d, c) {return c.x(d.x0)},\n        function(d, c) {return c.x(d.x0)+(c.x(d.x1) - c.x(d.x0))/2}\n      ]\n    } else {\n      width = (d) => (this.x(d.x1)- this.x(d.x0))/3;\n      xOffset = [\n        function(d, c) { return c.x(d.x0)},\n        function(d, c) { return c.x(d.x0)+(c.x(d.x1) - c.x(d.x0))/3},\n        function(d, c) { return c.x(d.x0)+2*(c.x(d.x1) - c.x(d.x0))/3}\n      ]\n    }\n    \n    let that = this;\n\n    fields.forEach((_, ind) => {\n        epiCurve.selectAll(`rect${ind}`)\n        .data(bins[ind])\n        .enter()\n        .append(\"rect\")\n        .attr(\"transform\", d => `translate(${xOffset[ind](d, that)}, ${this.y(d.length)})`)\n        .attr(\"width\", width)\n        .attr(\"height\", d => this.height - this.y(d.length))\n        .attr(\"fill\", colors[ind]);\n    });\n  }\n\n  this.updateAxes();\n  this.generateLegend(epiCurve, colors, fields)\n} \n\n/**\n * Return an array of unique options for nodes[this.widgets['epiCurve-stackColorBy']] and then also used that information to update localColorMap function\n */\nupdateLocalColorMap() {\n  let nodeColorTableKeys = [];\n  this.commonService.session.data.nodes.forEach((node) => {\n    if (!node.visible) return;\n    if (!nodeColorTableKeys.some(value => value == node[this.widgets['epiCurve-stackColorBy']])) {\n      nodeColorTableKeys.push(node[this.widgets['epiCurve-stackColorBy']])\n    }\n  })\n  this.localColorMap = d3.scaleOrdinal(this.commonService.session.style.nodeColors).domain(nodeColorTableKeys);\n\n  return nodeColorTableKeys;\n}\n\nupdateSizes() {\n  const wrapper = $(this.epiCurveElement.nativeElement).parent();\n  $('#epiCurve').height(wrapper.height() - 50);\n  this.width = wrapper.width() - this.margin.left - this.margin.right;\n  // height represents the height of y axis\n  this.height = wrapper.height() - this.margin.top - this.margin.bottom - 50;\n  this.middle = this.height / 2;\n}\n\ngetTimes(fields) {\n  let times = [];\n  this.vnodes = JSON.parse(JSON.stringify(this.commonService.session.data.nodes));\n  this.vnodes.forEach(d => {\n    fields.forEach(field => {\n      const time = moment(d[field as string]); // Cast 'field' as string\n      if (time.isValid()) {\n        d[field as string] = time.toDate();\n        times.push(d[field as string]); // Cast 'field' as string\n      } else {\n        d[field as string] = null; // Cast 'field' as string\n      }\n    })\n  });\n\n  if (times.length < 2) {\n    times = [new Date(2000, 1, 1), new Date()];\n  }\n  return times;\n}\n\nupdateAxes() {\n  let [xAxis, xLabelOffset] = this.configureXAxisSettings();\n\n  this.svg.append(\"g\")\n    .attr(\"class\", \"axis axis--x\")\n    .attr(\"transform\", `translate(${this.margin.left}, ${this.height+5})`)\n    .call(xAxis)\n    .attr(\"text-anchor\", \"center\")\n    .selectAll(\"text\")\n    .attr(\"x\", xLabelOffset);\n\n  this.svg.append(\"g\")\n    .attr(\"class\", \"axis axis--y\")\n    .attr(\"transform\", `translate(${this.margin.left}, 5)`)\n    .call(d3.axisLeft(this.y))\n    .attr(\"text-anchor\", null)\n    .selectAll(\"text\")\n    .attr(\"x\", -20);\n\n  this.svg.append(\"text\")\n    .attr(\"class\", \"x label\")\n    .attr(\"text-anchor\", \"center\")\n    .attr(\"x\", this.width/2)\n    .attr(\"y\", this.height + 40)\n    .text(`Date (${this.widgets['epiCurve-binSize']=='Day'? 'Dai': this.widgets['epiCurve-binSize']}ly Bins)`);\n\n  this.svg.append(\"text\")\n    .attr(\"class\", \"y label\")\n    .attr(\"text-anchor\", \"center\")\n    .attr(\"y\", 15)\n    .attr(\"x\", -this.middle-this.margin.top-this.margin.bottom)\n    .attr(\"transform\", \"rotate(-90)\")\n    .text(\"Number of Cases\");\n\n  /*this.brush = d3.brushX()\n    .extent([[0, 0], [this.width, this.height]])\n    .on(\"start brush\", () => {\n      this.selection = d3.brushSelection(this.brushG.node());\n      if (!this.selection) return;\n      if (this.selection[0] > 0) {\n        this.selection[0] = 0;\n        this.brushG.call(this.brush.move, this.selection);\n      }\n    })\n    .on(\"end\", function () {\n      this.selection = d3.brushSelection(this.brushG.node());\n      if (!this.selection) return;\n      if (this.selection[0] > 0) {\n        this.selection[0] = 0;\n        this.brushG.call(this.brush.move, this.selection);\n        this.propagate();\n      }\n    });\n\n    this.brushG = this.svg\n    .append(\"g\")\n    .attr(\"class\", \"brush\")\n    .attr(\"transform\", \"translate(\" + this.margin.left + \",0)\")\n    .call(this.brush);\n    */\n\n}\n\ngenerateLegend(epiCurve, colors, fieldNames) {\n  let xOffset = 50; // default for left position\n  if (this.widgets['epiCurve-legendPosition'] == 'Hide') {\n    return;\n  } else if (this.widgets['epiCurve-legendPosition'] == 'Bottom') {\n    let prevLength = 0;\n    let rowCount = 0;\n    let y = this.height + 50;\n    if (this.selectedGraphType=='Single Date Field' && this.widgets['epiCurve-stackColorBy'] == 'Node Color' && this.commonService.session.style.widgets['node-color-variable'] != 'None') {\n      let field = this.commonService.capitalize(this.commonService.session.style.widgets['node-color-variable']);\n      epiCurve.append(\"text\").attr(\"x\", 70).attr(\"y\", y).text(field + ': ').style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n      prevLength += field.length + 3;\n    } else if (this.selectedGraphType=='Single Date Field' && this.widgets['epiCurve-stackColorBy'] != 'Node Color' && this.widgets['epiCurve-stackColorBy'] != 'None') {\n      epiCurve.append(\"text\").attr(\"x\", 70).attr(\"y\", y).text(this.widgets['epiCurve-stackColorBy'] + ': ').style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n      prevLength += this.widgets['epiCurve-stackColorBy'].length + 3;\n    }\n    fieldNames.forEach((name, i) => {\n      // this first section calculates the location for each item/name in the legend\n      let nLength = name==null ? 7: name.toString().length\n      let baseX = 70+40*(rowCount) + prevLength*7.5;\n      if (baseX+24+nLength*3 > this.width-70) {\n        rowCount = 0;\n        y += 30;\n        prevLength = 0;\n        baseX = 70;\n      }\n\n      epiCurve.append(\"circle\").attr(\"cx\", baseX).attr(\"cy\", y).attr(\"r\", 6).style(\"fill\", colors[i])\n      epiCurve.append(\"text\").attr(\"x\", baseX+10).attr(\"y\", y).text(this.commonService.capitalize(name==null? '(Empty)': name.toString())).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n\n      prevLength += nLength;\n      rowCount += 1;\n    })\n    return;\n  } else if (this.widgets['epiCurve-legendPosition'] == 'Right') {\n    xOffset = this.width - 120;\n  }\n  let count = 0;\n  if (this.selectedGraphType=='Single Date Field' && this.widgets['epiCurve-stackColorBy'] == 'Node Color' && this.commonService.session.style.widgets['node-color-variable'] != 'None') {\n    let field = this.commonService.capitalize(this.commonService.session.style.widgets['node-color-variable']);\n    epiCurve.append(\"text\").attr(\"x\", xOffset).attr(\"y\", 30).text(field + ': ').style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n    count += 1;\n  } else if (this.selectedGraphType=='Single Date Field' && this.widgets['epiCurve-stackColorBy'] != 'Node Color' && this.widgets['epiCurve-stackColorBy'] != 'None') {\n    epiCurve.append(\"text\").attr(\"x\", xOffset).attr(\"y\", 30).text(this.widgets['epiCurve-stackColorBy'] + ': ').style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n    count += 1;\n  }\n  fieldNames.forEach((name, i) => {\n    epiCurve.append(\"circle\").attr(\"cx\",xOffset).attr(\"cy\",30*(count+1)).attr(\"r\", 6).style(\"fill\", colors[i])\n    epiCurve.append(\"text\").attr(\"x\", xOffset+20).attr(\"y\", 30*(count+1)).text(this.commonService.capitalize(name==null? '(Empty)': name.toString())).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n    count += 1;\n  })\n}\n\nprivate setupEventListeners(): void {\n\n  $('#timeline-play').click(() => {\n    if (this.isPlaying) {\n      $('#timeline-play').html('<span class=\"oi oi-media-play\"></span>');\n      this.stopTimeline();\n    } else {\n      $('#timeline-play').html('<span class=\"oi oi-media-pause\"></span>');\n      this.startTimeline();\n    }\n  });\n\n  $(window).on('node-color-change', () => {\n    this.svg.selectAll(\".epiCurve-epi-curve rect\")\n      .attr(\"fill\", this.commonService.session.style.widgets[\"node-color-variable\"]);\n  });\n\n  $('#timeline-speed').on('change', () => {\n    this.setTimer();\n  });\n\n  this.container.on('resize', () => { this.goldenLayoutComponentResize() })\n  this.container.on('hide', () => { \n    this.viewActive = false; \n    this.cdref.detectChanges();\n  })\n  this.container.on('show', () => { \n    this.viewActive = true; \n    this.cdref.detectChanges();\n  })\n}\n\n/**\n * Updates this.timeDomainStart and this.timeDomainEnd based on dates and this.widgets['epiCurve-binSize'];\n * \n * @param times array of date objects\n * @returns return a d3 time range such as d3.timeMonth.range()\n */\ncalculateBinInterval(times) {\n  let minTime = Math.min(...times);\n  let maxTime = Math.max(...times);\n\n  if (this.widgets['epiCurve-binSize'] == 'Day') {\n    //@ts-ignore\n    this.timeDomainStart = d3.timeMonth(minTime);\n    //@ts-ignore\n    this.timeDomainEnd = d3.timeMonth.ceil(maxTime);\n    return d3.timeDay.range(this.timeDomainStart, this.timeDomainEnd);\n  } else if (this.widgets['epiCurve-binSize'] == 'Week') {\n    //@ts-ignore\n    this.timeDomainStart = d3.timeMonth(minTime);\n    //@ts-ignore\n    this.timeDomainEnd = d3.timeMonth.ceil(maxTime);\n    return d3.timeMonday.range(this.timeDomainStart, this.timeDomainEnd);\n  } else if (this.widgets['epiCurve-binSize'] == 'Month') {\n    //@ts-ignore\n    this.timeDomainStart = d3.timeMonth(minTime);\n    //@ts-ignore\n    this.timeDomainEnd = d3.timeMonth.ceil(maxTime);\n    return d3.timeMonth.range(this.timeDomainStart, this.timeDomainEnd);\n  } else if (this.widgets['epiCurve-binSize'] == 'Quarter') {\n    //@ts-ignore\n    this.timeDomainStart = d3.timeMonth(minTime, 3);\n    //@ts-ignore\n    this.timeDomainEnd = d3.timeMonth.ceil(maxTime, 3);\n    // for quarter we may need to update earliest month so that quarters are consistant (always start on Jan, April, July, or October)\n    if ([1, 2].includes(this.timeDomainStart.getMonth())){\n      this.timeDomainStart.setMonth(0);\n    } else if ([4,5].includes(this.timeDomainStart.getMonth())) {\n      this.timeDomainStart.setMonth(3);\n    } else if ([7,8].includes(this.timeDomainStart.getMonth())) {\n      this.timeDomainStart.setMonth(6);\n    } else if ([10,11].includes(this.timeDomainStart.getMonth())) {\n      this.timeDomainStart.setMonth(9);\n    }\n    return d3.timeMonth.range(this.timeDomainStart, this.timeDomainEnd, 3);\n  } else if (this.widgets['epiCurve-binSize'] == 'Year') {\n    //@ts-ignore\n    this.timeDomainStart = d3.timeYear(minTime);\n    //@ts-ignore\n    this.timeDomainEnd = d3.timeYear.ceil(maxTime);\n    return d3.timeYear.range(this.timeDomainStart, this.timeDomainEnd);\n  } else {\n    alert(\"Invalid bin size selected\");\n    return 0;\n  }\n\n}\n\n/**\n * @returns updated bins with new attributes. bin.length2 is array of height of each group (ie. 'M', 'F') needed for that bin interval, bin.height represents the offset of that group.\n * \n * Also returns maxCount which is used for setting y axis max value\n */\nupdateBins(bins, colorVariable='None', nodeColorKeys=undefined) {\n  let maxCount = 0;\n  // cumulative with multiple colors per column\n  if (this.widgets['epiCurve-stackColorBy'] != 'None' && this.widgets['epiCurve-cumulative'] && colorVariable != 'None') { //useNodeColors\n    //heights represents the size of each rect, offset represent the offset of each rect\n    let heights = new Array(nodeColorKeys.length).fill(0);\n    let offsets = new Array(nodeColorKeys.length).fill(0);\n    bins.forEach(bin => {\n      bin.length2 = [];\n      bin.height = [];\n      nodeColorKeys.forEach((value, ind) => {\n        let currentCount = bin.filter((obj)=> obj[colorVariable]==value).length\n        heights[ind] += currentCount;\n        bin.length2.push(heights[ind]);\n        offsets[ind] = bin.length2.reduce((paritalSum, a)=> paritalSum+a,0);\n        bin.height.push(offsets[ind]);\n        \n      })\n      maxCount += bin.length;\n    })\n    // noncumulative with multiple colors per column\n  } else if (this.widgets['epiCurve-stackColorBy'] != 'None' && colorVariable != 'None') {\n    bins.forEach(bin => {\n      bin.length2 = [];\n      bin.height = [];\n      nodeColorKeys.forEach(value => {\n        bin.length2.push(bin.filter((obj)=> obj[colorVariable]==value).length);\n        bin.height.push(bin.length2.reduce((paritalSum, a)=> paritalSum+a,0));\n      })\n      if (bin.length > maxCount) maxCount = bin.length\n    })\n  // else if (useNodeColor == False || (useNodeColor && colorVariable=='None')) and using cumulative\n  // cumulative with one color \n  } else if (this.widgets['epiCurve-cumulative']) {\n    bins.forEach(bin => {\n      maxCount += bin.length;\n      bin.length = maxCount;\n    });\n    // noncumulative with one color\n  } else {\n    bins.forEach(bin => {\n      if (bin.length > maxCount) maxCount = bin.length\n    })\n  }\n\n  return [maxCount, bins]\n}\n\n/**\n * \n * @return xAxis which is used to determine the interval and label for xAxis ticks and xLabelOffet which determine how much to shift each label\n */\nconfigureXAxisSettings() {\n  let xAxis;\n  let numberOfDays = d3.timeDay.count(this.timeDomainStart, this.timeDomainEnd);\n  let xLabelOffset = -10;\n  if (this.widgets['epiCurve-binSize'] == 'Year') {\n    xAxis = d3.axisBottom(this.x).ticks(d3.timeYear).tickFormat(d3.timeFormat(\"%Y\"));\n  } else if (numberOfDays<366) {\n    xAxis = d3.axisBottom(this.x).ticks(d3.timeMonth.every(this.tickInterval)).tickFormat(d3.timeFormat(\"%b %Y\"))\n    xLabelOffset = -25;\n  } else if (this.widgets['epiCurve-binSize'] == 'Quarter') {\n    xAxis = d3.axisBottom(this.x)\n      .ticks(d3.timeMonth.every(this.tickInterval < 3 ? this.tickInterval * 3 : 12))\n      .tickFormat((d: Date) => d <= d3.timeYear(d) ? d.getFullYear().toString() : null);\n  } else {\n    xAxis = d3.axisBottom(this.x)\n      .ticks(d3.timeMonth.every(this.tickInterval))\n      .tickFormat((d: Date) => d <= d3.timeYear(d) ? d.getFullYear().toString() : null);\n  }\n  return [xAxis, xLabelOffset]\n}\n\ngoldenLayoutComponentResize() {\n  this.refresh();\n  if (this.ShowEpiExportPane && this.EpiExportFileType!='svg') {\n    this.setCalculatedResolution();\n  }\n}\n\n// Handle the change event of the date field\nonDateFieldChange(index: number) {\n  if (index == 0) {\n    this.widgets[\"epiCurve-date-fields\"][index] = this.SelectedDateFieldVariable;\n  } else if (index == 1) {\n    this.widgets[\"epiCurve-date-fields\"][index] = this.SelectedDateFieldVariable2;\n  } else if (index == 2) {\n    this.widgets[\"epiCurve-date-fields\"][index] = this.SelectedDateFieldVariable3;\n  }\n\n  this.refresh();\n}\n\nonBinSizeChange() {\n  if (this.widgets['epiCurve-binSize'] == 'Year') {\n    $('#epi-tick-size').slideUp();\n  } else {\n    if (this.widgets['epiCurve-binSize'] == 'Quarter') {\n      this.tickInterval = 1;\n    }\n    $('#epi-tick-size').slideDown();\n  }\n  this.refresh();\n}\n\nupdateSettingsRows() {\n  this.ShowEpiSettingsPane = true;\n  setTimeout(() => {\n    if (this.selectedGraphType == 'Multi: Overlay' || this.selectedGraphType == 'Multi: Side by Side') {\n      $('#useNodeColorRow').slideUp();\n      $('.additionalDateField').slideDown();\n      //$('#epi-color-select').slideUp();\n    } else {\n      $('.additionalDateField').slideUp();\n      $('#useNodeColorRow').slideDown();\n      if (this.widgets['epiCurve-stackColorBy'] == 'None') {\n        $('#epi-color-select').slideDown();\n      }\n    }\n    //this.ShowEpiSettingsPane = false;\n  }, 0)\n}\n\nonGraphTypeChange(refresh=true) {\n  this.updateSettingsRows();\n\n  this.widgets['epiCurve-graphType'] = this.selectedGraphType;\n  if (refresh) this.refresh();\n}\n\nonUseNodeColorChange() {\n  if (this.widgets['epiCurve-stackColorBy'] == 'None') {\n    $('#epi-color-select').slideDown();\n  } else {\n    $('#epi-color-select').slideUp();\n  }\n  this.refresh();\n}\n\nonTickIntevalChange() {\n  this.refresh()\n}\n\nonNodeColorChanged() {\n  this.refresh();\n}\n\nonLegendPositionChange() {\n  if (this.widgets['epiCurve-legendPosition'] == 'Bottom') {\n    this.margin.bottom = 100;\n  } else {\n    this.margin.bottom = 50;\n  }\n  this.refresh();\n}\n\nopenSettings() {\n  this.visuals.epiCurve.ShowEpiSettingsPane = !this.visuals.epiCurve.ShowEpiSettingsPane;\n}\n\nsetCumulative(value: boolean): void {\n  this.widgets['epiCurve-cumulative'] = value;\n\n  this.refresh();\n}\n\n\n/**\n * Sets CalculatedResolution variable to string such as '1250 x 855px'. Only called when export is first opened\n */\nsetCalculatedResolution() {\n  let [width, height] = this.getImageDimensions();\n  this.CalculatedResolution = (Math.round(width * this.SelectedNetworkExportScaleVariable) + \" x \" + Math.round(height * this.SelectedNetworkExportScaleVariable) + \"px\");\n}\n\n  /**\n   * Updates CalculatedResolution variable to string such as '1250 x 855px' based on ImageDimensions and SelectedNetworkExportScaleVariable. \n   * This is called anytime SelectedNetworkExportScaleVariable is updated.\n   */\n  updateCalculatedResolution() {\n    let [width, height] = this.getImageDimensions();\n    this.CalculatedResolution = (Math.round(width * this.SelectedNetworkExportScaleVariable) + \" x \" + Math.round(height * this.SelectedNetworkExportScaleVariable) + \"px\");\n    this.cdref.detectChanges();\n}\n\n/**\n * @returns an array [width, height] of the svg image\n */\n  getImageDimensions() {\n    let parent = this.svg.node();\n    return [parent.clientWidth, parent.clientHeight] \n  }\n\nprivate startTimeline(): void {\n  this.isPlaying = true;\n  this.setTimer();\n}\n\nprivate stopTimeline(): void {\n  this.isPlaying = false;\n  if (this.timer) {\n    this.timer.stop();\n  }\n}\n\nprivate setTimer(): void {\n  if (this.timer) {\n    this.timer.stop();\n    d3.timerFlush();\n  }\n  this.timer = d3.interval(() => {\n    const selection = d3.brushSelection(this.brushG.node());\n    if (!selection) return this.timer.stop(); // Ignore empty selections\n    if (selection[1] >= this.width) {\n      this.startTimeline();\n      return;\n    }\n    this.brushG.call(this.brush.move, selection.map(s => s + 1));\n    if (++this.tick % 5 == 0) this.propagate();\n  }, 110 - parseInt($(\"#timeline-speed\").val() as string));\n  if (!this.isPlaying) this.timer.stop();\n}\n\nprivate propagate(): void {\n  this.commonService.session.state.timeStart = this.x.invert(this.selection[0]);\n  this.commonService.session.state.timeEnd = this.x.invert(this.selection[1]);\n  this.commonService.setNodeVisibility(true);\n  this.commonService.setLinkVisibility(true);\n  this.commonService.tagClusters().then(() => {\n    [\"node\", \"link\"].forEach((thing: string) => {\n      (window as any).trigger(thing + \"-visibility\");\n    });\n  });\n}\n\n// private initializeD3Chart(): void {\n//   this.clearSvg();\n//   this.setupDimensions();\n//   this.setupScales();\n//   this.createSvg();\n//   this.populateData();\n//   this.drawHistogram();\n//   this.setupBrush();\n// }\n\n// private clearSvg(): void {\n//   d3.select(this.timelineElement.nativeElement).selectAll(\"*\").remove();\n// }\n\n// private setupDimensions(): void {\n//   const wrapper = this.timelineElement.nativeElement;\n//   this.width = wrapper.clientWidth - this.margin.left - this.margin.right;\n//   this.height = wrapper.clientHeight - this.margin.top - this.margin.bottom;\n// }\n\n// private setupScales(): void {\n//   this.x = d3.scaleTime().range([0, this.width]);\n//   this.y = d3.scaleLinear().range([this.height, 0]);\n// }\n\n// private createSvg(): void {\n//   this.svg = d3.select(this.timelineElement.nativeElement)\n//     .append(\"svg\")\n//     .attr(\"width\", this.width + this.margin.left + this.margin.right)\n//     .attr(\"height\", this.height + this.margin.top + this.margin.bottom)\n//     .append(\"g\")\n//     .attr(\"transform\", `translate(${this.margin.left},${this.margin.top})`);\n// }\n\n// private populateData(): void {\n//   // Transform your data here\n//   this.vnodes.forEach(d => {\n//     const time = moment(d.date); // Replace 'date' with your actual date field\n//     if (time.isValid()) {\n//       d.date = time.toDate();\n//     } else {\n//       d.date = null;\n//     }\n//   });\n\n//   this.timeDomainStart = d3.min(this.vnodes, d => d.date);\n//   this.timeDomainEnd = d3.max(this.vnodes, d => d.date);\n//   this.x.domain([this.timeDomainStart, this.timeDomainEnd]);\n// }\n\n// private drawHistogram(): void {\n//   // Draw your histogram here\n//   this.histogram = d3.histogram()\n//     .value(d => d.date) // Replace 'date' with your actual date field\n//     .domain(this.x.domain())\n//     .thresholds(d3.thresholdScott);\n\n//   const bins = this.histogram(this.vnodes);\n\n//   if (this.cumulative) {\n//     let sum = 0;\n//     bins.forEach(bin => {\n//       sum += bin.length;\n//       bin.length = sum;\n//     });\n//   }\n\n//   this.y.domain([0, d3.max(bins, d => d.length)]);\n\n//   this.svg.selectAll(\"rect\")\n//     .data(bins)\n//     .enter()\n//     .append(\"rect\")\n//     .attr(\"x\", d => this.x(d.x0))\n//     .attr(\"y\", d => this.y(d.length))\n//     .attr(\"width\", d => this.x(d.x1) - this.x(d.x0))\n//     .attr(\"height\", d => this.height - this.y(d.length))\n//     .attr(\"fill\", \"steelblue\"); // Change fill as necessary\n// }\n\n// private setupBrush(): void {\n//   this.brush = d3.brushX()\n//     .extent([[0, 0], [this.width, this.height]])\n//     .on(\"end\", () => this.onBrushEnd());\n\n//   this.brushG = this.svg.append(\"g\")\n//     .attr(\"class\", \"brush\")\n//     .call(this.brush);\n// }\n\n// private onBrushEnd(): void {\n//   this.selection = d3.brushSelection(this.brushG.node());\n//   if (this.selection) {\n//     // Handle brush selection change\n//   }\n// }\n\n// playPauseTimeline(): void {\n//   if (this.isPlaying) {\n//     this.stopTimeline();\n//   } else {\n//     this.startTimeline();\n//   }\n// }\n\n// startTimeline(): void {\n//   this.isPlaying = true;\n//   this.setTimer();\n// }\n\n// stopTimeline(): void {\n//   this.isPlaying = false;\n//   if (this.timer) {\n//     this.timer.stop();\n//   }\n// }\n\n// setTimer(): void {\n//   if (this.timer) {\n//     this.timer.stop();\n//   }\n//   this.timer = d3.interval(() => {\n//     // Timer logic for updating the timeline\n//     // this.updateTimeline();\n//   }, 100); // Adjust interval as needed\n// }\n\nupdateNodeColors() {\n  this.refresh();\n}\nupdateVisualization() {\n  //Not Relevant\n}\n\napplyStyleFileSettings() {\n  this.widgets = (window as any).context.commonService.session.style.widgets;\n  this.setDefaultsWidgets();\n  \n  this.updateSettingsRows()\n  this.onLegendPositionChange()\n}\n\nupdateLinkColor() {\n  //Not Relevant\n}\n\nonRecallSession() {\n}\n\nopenExport() {\n  this.setCalculatedResolution();\n  this.ShowEpiExportPane = !this.ShowEpiExportPane;\n}\n\nexportVisualization() {\n  if (this.EpiExportFileType == 'svg') {\n      let content = this.commonService.unparseSVG(this.epiCurveSVGElement.nativeElement);\n      let blob = new Blob([content], { type: 'image/svg+xml;charset=utf-8' });\n      saveAs(blob, this.EpiExportFileName + '.' + this.EpiExportFileType);\n  } else {\n      saveSvgAsPng(this.epiCurveSVGElement.nativeElement, this.EpiExportFileName + '.' + this.EpiExportFileType, {\n          scale: this.SelectedNetworkExportScaleVariable,\n          backgroundColor: \"#ffffff\",\n          encoderType: 'image/' + this.EpiExportFileType,\n          //encoderOptions: this.SelectedNetworkExportQualityVariable\n      });\n  }\n  this.ShowEpiExportPane = false;\n}\n\nopenRefreshScreen() {\n\n}\n\nonLoadNewData() {\n  throw new Error('Method not implemented.');\n}\nonFilterDataChange() {\n  throw new Error('Method not implemented.');\n}\n\n\n}\n\n\n\nexport namespace TimelineComponent {\n  export const componentTypeName = 'Epi Curve';\n}","import { Injector, Component, Output, OnChanges, SimpleChange, EventEmitter, OnInit, ViewChild, ElementRef, ChangeDetectorRef, OnDestroy, Inject, ChangeDetectionStrategy } from '@angular/core';\nimport { AppComponentBase } from '@shared/common/app-component-base';\nimport { EventManager } from '@angular/platform-browser';\nimport { CommonService, ExportOptions } from '../../contactTraceCommonServices/common.service';\nimport * as d3 from 'd3';\nimport { Clipboard } from '@angular/cdk/clipboard';\nimport { SelectItem } from 'primeng/api';\nimport { DialogSettings } from '../../helperClasses/dialogSettings';\nimport { MicobeTraceNextPluginEvents } from '../../helperClasses/interfaces';\nimport * as _ from 'lodash';\nimport { CustomShapes } from '@app/helperClasses/customShapes';\nimport { BaseComponentDirective } from '@app/base-component.directive';\nimport { saveSvgAsPng } from 'save-svg-as-png';\nimport { ComponentContainer } from 'golden-layout';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\nimport { GraphData } from './data';\nimport cytoscape, { Core, Style } from 'cytoscape';\n\n@Component({\n    selector: 'TwoDComponent',\n    templateUrl: './twoD-plugin.component.html',\n    styleUrls: ['./twoD-plugin.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TwoDComponent extends BaseComponentDirective implements OnInit, MicobeTraceNextPluginEvents, OnDestroy {\n\n    @Output() DisplayGlobalSettingsDialogEvent = new EventEmitter();\n\n    // Reference to the Cytoscape container\n    @ViewChild('cy', { static: false }) cyContainer: ElementRef;\n\n    // Cytoscape core instance\n    cy: Core;\n    vizLoaded = true;\n    nodePositions: Map<string, { x: number; y: number }> = new Map();\n    data;\n    rerenderTimeout: any;\n    layoutParallelNodesPerColumn = 4;\n    debugMode = false;\n    overideTransparency = false;\n    containerHeight = 800; // or any other number you want\n    graphData: GraphData = {\n        nodes: [],\n        links: []\n    };\n    selectedNodeId = undefined;\n    selectedNodeShape: string = 'ellipse'; // Default shapeDF\n\n    linkMin: number = 3;\n    linkMax: number = 27;\n    linkScale: any;\n    visLinks: any;\n    linkMid: number = 1\n\n    nodeMin: number = 3;\n    nodeMax: number = 27;\n    nodeScale: d3.ScaleLinear<number, number> = d3.scaleLinear().domain([0, 1]).range([0, 1]);    \n    visNodes: any;\n    nodeMid: number = 1;\n\n    // TODO determine if this is needed anymore after transition to cytoscape\n    autoFit: boolean = true;\n\n    ShowNetworkAttributes: boolean = false;\n    ShowStatistics: boolean = true;\n    Show2DExportPane: boolean = false;\n    Show2DSettingsPane: boolean = false;\n    IsDataAvailable: boolean = false;\n\n    widgets: object;\n    halfWidth: any = null;\n    halfHeight: any = null;\n    transform: any = null;\n    force: any = null;\n    radToDeg: any = (180 / Math.PI);\n    selected: any = null;\n    zoom: any = null;\n    FieldList: SelectItem[] = [];\n    ToolTipFieldList: SelectItem[] = [];\n    LinkToolTipList: SelectItem[] = [];\n\n    ctrlPressed: boolean = false;\n    dragging: boolean = false;\n\n    isLoading: boolean = true;\n    viewActive: boolean = true;\n\n    //Polygon Tab\n    SelectedPolygonLabelVariable: string = \"None\";\n    SelectedPolygonColorVariable: string = \"None\";\n    SelectedPolygonLabelOrientationVariable: string = \"top\";\n    SelectedPolygonLabelSizeVariable: number = 0.0;\n    SelectedPolygonGatherValue: number = 0.0;\n    CenterPolygonVariable: string = \"None\";\n    SelectedPolygonLabelShowVariable: string = \"Hide\";\n    SelectedPolygonColorShowVariable: string = \"Hide\";\n    SelectedPolygonColorTableShowVariable: string = \"Hide\";\n\n\n    // Node Tab    \n    SelectedNodeLabelVariable: string = \"None\";\n    SelectedNodeTooltipVariable: any = \"None\";\n    SelectedNodeSymbolVariable: string = \"None\";\n    SelectedNodeShapeVariable: string = \"symbolCircle\";\n    SelectedNodeRadiusVariable: string = \"None\";\n    SelectedNodeRadiusSizeVariable: string = \"None\";\n    SelectedNodeRadiusSizeMaxVariable: string = \"None\";\n    SelectedNodeRadiusSizeMinVariable: string = \"None\";\n    TableTypes: any = [\n        { label: 'Show', value: 'Show' },\n        { label: 'Hide', value: 'Hide' }\n    ];\n    SelectedNetworkTableTypeVariable: string = \"Hide\";\n\n    // Link Tab\n    SelectedLinkTooltipVariable: any = \"None\";\n    SelectedLinkLabelVariable: string = \"None\";\n    SelectedLinkDecimalVariable: number = 3;\n    SelectedLinkTransparencyVariable: any = 0;\n    SelectedLinkWidthByVariable: string = \"None\";\n    SelectedLinkWidthMax: number = 27;\n    SelectedLinkWidthMin: number = 3;\n\n    ReciprocalTypes: any = [\n        { label: 'Reciprocal', value: 'Reciprocal' },\n        { label: 'Non-Reciprocal', value: 'Non-Reciprocal' }\n    ];\n    SelectedLinkReciprocalTypeVariable: string = \"Reciprocal\";\n\n    SelectedLinkWidthVariable: any = 0;\n    SelectedLinkLengthVariable: any = 0;\n    ArrowTypes: any = [\n        { label: 'Hide', value: 'Hide' },\n        { label: 'Show', value: 'Show' }\n    ];\n\n    hideShowOptions: any = [\n        { label: 'Hide', value: false },\n        { label: 'Show', value: true }\n    ];\n\n    bidirectionalOptions: any = [\n        { label: 'Hide', value: 'Hide' },\n        { label: 'Show', value: 'Show' }\n    ];\n    SelectedLinkArrowTypeVariable: string = \"Hide\";\n\n    SelectedLinkBidirectionalTypeVariable: string = \"Hide\";\n\n    // Network \n    NeighborTypes: any = [\n        { label: 'Normal', value: 'Normal' },\n        { label: 'Highlighted', value: 'Highlighted' }\n    ];\n    SelectedNetworkNeighborTypeVariable: string = \"Normal\";\n\n    GridLineTypes: any = [\n        { label: 'Hide', value: 'Hide' },\n        { label: 'Show', value: 'Show' }\n    ];\n    SelectedNetworkGridLineTypeVariable: string = \"Hide\";\n\n    SelecetedNetworkLinkStrengthVariable: any = 0.123;\n    SelectedNetworkExportFilenameVariable: string = \"\";\n\n    NetworkExportFileTypeList: any = [\n        { label: 'png', value: 'png' },\n        { label: 'jpeg', value: 'jpeg' },\n        { label: 'webp', value: 'webp' },\n        // { label: 'svg', value: 'svg' }\n    ];\n\n    SelectedNetworkExportFileTypeListVariable: string = \"png\";\n    SelectedNetworkExportScaleVariable: any = 1;\n    SelectedNetworkExportQualityVariable: any = 0.92;\n    CalculatedResolution: string;\n\n    SelectedNodeLabelSizeVariable: any = 16;\n\n    public nodeBorderWidth = 2.0;\n\n    ShowNodeSymbolWrapper: boolean = false;\n    ShowNodeSymbolTable: boolean = false;\n    ShowPolygonColorTable: boolean = false;\n    ShowAdvancedExport: boolean = true;\n\n    NodeSymbolTableWrapperDialogSettings: DialogSettings = new DialogSettings('#node-symbol-table-wrapper', false);\n    PolygonColorTableWrapperDialogSettings: DialogSettings = new DialogSettings('#polygon-color-table-wrapper', false);\n\n    Node2DNetworkExportDialogSettings: DialogSettings = new DialogSettings('#network-settings-pane', false);\n\n    ContextSelectedNodeAttributes: { attribute: string, value: string }[] = [];\n\n    // TODO see if needed after transition to cytoscape\n    // zoomScaleExtent: [number, number] = [0.005, 5]; // Minimum zoom of 0.1 and maximum zoom of 2\n\n    private customShapes: CustomShapes = new CustomShapes();\n    private symbolTableWrapper: HTMLElement | null = null;\n    private linkColorTableWrapper: HTMLElement | null = null;\n    private nodeColorTableWrapper: HTMLElement | null = null;\n\n    private isExportClosed: boolean = false;\n    /* XXXXXnot sure if this boolean is necessary; Related to exportWork, and bottom-table s (ie. node-symbol-table-bottom)\n     currently exportWork2 is used which don't make use of isExporting and bottom-table s XXXXX */\n    public isExporting: boolean = false;\n\n    isMac: boolean = navigator.userAgent.toUpperCase().indexOf('MAC') >= 0;\n    thresholdSubscription: any;\n    threshold: number;\n    networkUpdatedSubscription: any;\n    constructor(injector: Injector,\n        private eventManager: EventManager,\n        public commonService: CommonService,\n        @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer,\n        elRef: ElementRef,\n        private cdref: ChangeDetectorRef,\n        private clipboard: Clipboard,\n        private gtmService: GoogleTagManagerService) {\n\n        super(elRef.nativeElement);\n\n        // this.setExpanded(this.mainSite);\n\n        this.widgets = this.commonService.session.style.widgets;\n\n\n        this.container.on('resize', () => { this.fit()})\n        this.container.on('hide', () => { \n            this.viewActive = false; \n            this.cdref.detectChanges();\n        })\n        this.container.on('show', () => { \n            this.viewActive = true; \n            this.cdref.detectChanges();\n            setTimeout(() => {\n                this.fit()\n            }, 50)\n        })\n\n            // Initialize the selectedNodeShape from the settings\n        this.selectedNodeShape = this.widgets['node-symbol'] || 'circle';\n\n    }\n\n    ngOnInit() {\n        \n        // Console log this out to see what the window objetc has like temp\n        // const windowKeys = Reflect.ownKeys(window);\n\n        this.commonService.updateNetwork();\n\n         // Subscribe to threshold changes from the service\n         this.thresholdSubscription = this.commonService.linkThreshold$.subscribe(\n            (newThreshold: number) => {\n                // Only update local state if changed\n                if (this.threshold !== newThreshold) {\n                    console.log('partial threshold changed', newThreshold);\n                    this._partialUpdate();\n                    // ... do whatever you need, e.g. re-render ...\n                }\n            }\n        );\n\n        this.networkUpdatedSubscription = this.commonService.networkUpdated$.subscribe(\n            (newPruned: boolean) => {\n                console.log('network pruned', newPruned);\n                this._rerender();\n            }\n        );\n\n        this.InitView();\n\n    }\n\n    ngAfterViewInit(): void {\n\n        this.commonService.twoD_saveNodePos.subscribe(() => {\n            this.saveNodePos();\n            console.log(this.commonService.getVisibleNodes()[0])\n        })\n    }\n\n  mapDataToCytoscapeElements(data: any, timelineTick=false): cytoscape.ElementsDefinition {\n\n        // Create a set to track unique parent nodes\n    const parentNodes = new Set();\n\n    const edges = data.links.map((link: any) => ({\n        data: {\n            id: `${link.source}-${link.target}`,\n            source: link.source,\n            target: link.target,\n            lineSelectedColor: this.widgets['selected-color'],\n            label: this.getLinkLabel(link).text, // Existing link label\n            lineColor: this.getLinkColor(link).color, // Default to black if not specified\n            lineOpacity: this.getLinkColor(link).opacity, // Default to fully opaque if not specified\n            width: this.getLinkWidth(link),\n            // Include any additional edge-specific data properties\n            ...link\n        }\n    }));\n\n    const nodes = data.nodes.map((node: any) => {\n         // If the node has a parentId, add it to the parentNodes set\n        if (node.group && this.widgets['polygons-show']) {\n            parentNodes.add(node.group);\n        }\n\n        if (timelineTick) {\n            // otherwise data: label gets overridden to be undefined\n            node.label = this.getNodeLabel(node);\n            return {\n                data: {\n                    id: node.id,\n                    parent: (node.group && this.widgets['polygons-show']) || undefined, // Assign parent if exists\n                    nodeSize: this.getNodeSize(node), // Existing node size\n                    nodeColor: this.getNodeColor(node), // <-- Added for dynamic node color\n                    borderWidth: this.getNodeBorderWidth(node), // <-- Added for dynamic border width\n                    selectedBorderColor: this.widgets['selected-color'],\n                    fontSize: this.getNodeFontSize(node), // <-- Added for dynamic label size\n                    shape: this.getNodeShape(node),\n                    // Include any additional node-specific data properties\n                    ...node\n                },\n                position: { \n                    x:node._fx,\n                    y:node._fy\n                }\n            }\n        } else {\n\n            return {\n                data: {\n                    id: node.id,\n                    label: (this.widgets['node-label-variable'] === 'None') ? '' : node.label, // Existing label\n                    parent: (node.group && this.widgets['polygons-show']) || undefined, // Assign parent if exists\n                    nodeSize: this.getNodeSize(node), // Existing node size\n                    nodeColor: this.getNodeColor(node), // <-- Added for dynamic node color\n                    borderWidth: this.getNodeBorderWidth(node), // <-- Added for dynamic border width\n                    selectedBorderColor: this.widgets['selected-color'],\n                    fontSize: this.getNodeFontSize(node), // <-- Added for dynamic label size\n                    shape: this.getNodeShape(node),\n                    // Include any additional node-specific data properties\n                    ...node\n                },\n                position: { \n                    x: this.nodePositions.get(node.id)?.x || node._fx || Math.random() * 500,\n                    y: this.nodePositions.get(node.id)?.y || node._fy || Math.random() * 500\n                }\n            };\n        }\n    });\n\n    return {\n        edges: edges,\n        nodes: nodes\n        };\n    }\n\n    getCytoscapeStyles(): cytoscape.StylesheetCSS[] {\n        return [\n            {\n                selector: 'node',\n                css: {\n                    'background-color': 'data(nodeColor)', // Use dynamic node color\n                    'label': 'data(label)',\n                    // 'width': 'mapData(nodeSize, 0, 100, 10, 50)', // Existing dynamic sizing\n                    // 'height': 'mapData(nodeSize, 0, 100, 10, 50)',\n                    'border-width': 'data(borderWidth)', // Use dynamic border width\n                    // 'border-color': '#000',\n                    'text-valign': 'center',\n                    'color': 'black',\n                    // @ts-ignore\n                    'shape': 'data(shape)',\n                    'z-index': 10, // Not a standard Cytoscape property, but kept for clarity\n                    // 'font-size': 'data(fontSize)' // Ensure this line is included\n                }\n            },\n              // Apply styles only to nodes with nodeSize defined\n            {\n                selector: 'node[nodeSize]',\n                css: {\n                    'width': 'mapData(nodeSize, 0, 100, 10, 50)',\n                    'height': 'mapData(nodeSize, 0, 100, 10, 50)'\n                }\n            },\n                {\n                    selector: '.hidden',\n                    css: {\n                        display: 'none'\n                    }\n                },\n            // Apply styles only to nodes with nodeColor defined\n            {\n                selector: 'node[nodeColor]',\n                css: {\n                    'background-color': 'data(nodeColor)'\n                }\n            },\n            // Apply styles only to nodes with fontSize defined\n            {\n                selector: 'node[fontSize]',\n                css: {\n                    'font-size': 'data(fontSize)'\n                }\n            },\n            {\n                selector: 'node[shape]',\n                css: {\n                    // @ts-ignore\n                    'shape': 'data(shape)'\n                }\n            },\n            {\n                selector: 'node.parent',\n                css: {\n                    'z-index': 20, // Not a standard Cytoscape property, but kept for clarity\n                }\n            },\n            {\n                selector: 'edge',\n                css: {\n                    'width': 'data(width)', // Existing dynamic edge width\n                    'line-color': 'data(lineColor)', // Maps 'lineColor' data attribute to 'line-color' style\n                    'line-opacity': function(ele) {\n                            return ele.data('lineOpacity'); // Retrieves 'lineOpacity' data attribute as a number\n                    },\n                    'label' : 'data(label)',                   \n                    // 'target-arrow-color': '#ccc',\n                    // 'target-arrow-shape': 'triangle',\n                    'curve-style': 'bezier'\n                    // 'opacity': 'data(opacity)' // Existing opacity\n                }\n            },\n            {\n                selector: 'node:selected',\n                css: {\n                    'background-color': 'data(nodeColor)',\n                    'border-color': 'data(selectedBorderColor)',\n                    'border-width': 3\n                }\n            },\n            {\n                selector: 'edge:selected',\n                css: {\n                    // 'line-color': '#f00',\n                    // 'target-arrow-color': '#f00',\n                    'width': 3\n                }\n            },\n            {\n                selector: 'edge.highlighted',\n                css: {\n                    'line-color': 'data(lineSelectedColor)', // Highlight color\n                    'width': '3px',\n                    'opacity': 1,\n                }\n            }\n        ];\n    }\n\n    attachCytoscapeEvents() {\n        this.cy.on('tap', 'node', (evt) => {\n            const node = evt.target;\n            console.log('Selected node:', node.data());\n    \n            // Update selectedNodeId and trigger change detection or re-render if necessary\n            this.selectedNodeId = node.id();\n\n            // Update with selected color set in global settings\n            node.data('selectedBorderColor', this.widgets['selected-color']);\n\n            this.cy.style().update();\n    \n        });\n    \n        this.cy.on('mouseover', 'node', (evt) => {\n            const node = evt.target;\n            this.showNodeTooltip(node.data(), evt.originalEvent);\n\n            // Set cursor to grab\n            $('html,body').css('cursor', 'grab');\n\n            if (this.widgets['node-highlight']) {\n                // Highlight connected edges\n                node.connectedEdges().addClass('highlighted');\n            }\n\n        });\n    \n        this.cy.on('mouseout', 'node', (evt) => {\n\n            const node = evt.target;\n\n            this.hideTooltip();\n\n            $('html,body').css('cursor', 'default');\n\n            if (this.widgets['node-highlight']) {\n                // Remove highlight from connected edges\n                node.connectedEdges().removeClass('highlighted');\n            }\n\n        });\n    \n        // Edge events\n        this.cy.on('mouseover', 'edge', (evt) => {\n            const edge = evt.target;\n            this.showLinkTooltip(edge.data(), evt.originalEvent);\n        });\n    \n        this.cy.on('mouseout', 'edge', () => {\n            this.hideTooltip();\n        });\n    \n        // Selection and Dragging\n        this.cy.on('select', 'node', (evt) => {\n            const node = evt.target;\n            // Handle selection logic\n        });\n    \n        this.cy.on('dragfree', 'node', (evt) => {\n            const node = evt.target;\n            if (this.widgets['node-timeline-variable'] != 'None' && this.widgets['node-timeline-variable'] != undefined) {\n                this.updateNodePos(node);\n            }\n            // Handle node drag logic\n        });\n    }\n\n    saveNodePos() {\n        if (this.cy) {\n            this.cy.nodes().forEach(node => {\n                let globalNode = this.commonService.session.data.nodeFilteredValues.find(x => x._id == node.data('id'))\n                globalNode['_fx'] = node.position().x;\n                globalNode['_fy'] = node.position().y;\n            })\n        }\n    }\n\n    /**\n     * Updates the saved postion of a node when it is dragged by the user\n     * @param node\n     */\n    updateNodePos(node) {\n      let globalNode = this.commonService.session.data.nodeFilteredValues.find(x => x._id == node.data('id'))\n      globalNode['_fx'] = node.position().x;\n      globalNode['_fy'] = node.position().y;\n\n    }\n\n    /** Initializes the view.\n     * \n     * Defines the structure of the svg of twoD network and adds functionalities such as click, zoom, forces, etc...\n     * \n     * Populates various lists for Fieldlist (options for node-label-variable, node-symbol-variable, node-radius-variable, polygon-foci), \n     * ToolTipFieldList (options for link-width-variable, link-label-variable), and LinkToolTipList (link-toolitp-variable)\n     * \n     */\n    InitView() {\n\n        this.gtmService.pushTag({\n            event: \"page_view\",\n            page_location: \"/2d_network\",\n            page_title: \"2D Network View\"\n        });\n        this.IsDataAvailable = (this.commonService.session.data.nodes.length === 0 ? false : true);\n        if (!this.widgets['default-distance-metric']) {\n            this.widgets['default-distance-metric'] =\n                this.commonService.GlobalSettingsModel.SelectedDistanceMetricVariable;\n            this.widgets['link-threshold'] =\n                this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable;\n        }\n\n        // Subscribe to style file applied event\n        this.commonService.styleFileApplied.subscribe(() => {\n            this.applyStyleFileSettings();\n        });\n\n\n        // Use this method to prepare your variables before they're used in the template\n        this.commonService.session.style.widgets['node-tooltip-variable'] = this.ensureArray(this.commonService.session.style.widgets['node-tooltip-variable']);\n        this.commonService.session.style.widgets['link-tooltip-variable'] = this.ensureArray(this.commonService.session.style.widgets['link-tooltip-variable']);\n        let that = this;\n\n        if (this.IsDataAvailable === true && this.zoom === null) {\n\n            // populate this.twoD.FieldList with [None, ...nodeFields]\n            this.FieldList = [];\n            this.FieldList.push({ label: \"None\", value: \"None\" });\n            this.commonService.session.data['nodeFields'].map((d, i) => {\n                if (d != 'seq' && d != 'sequence') {\n                    this.FieldList.push(\n                        {\n                            label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n                            value: d\n                        });\n                }\n\n            });\n\n            // populate this.ToolTipFieldList and this.LinkToolTipList\n            this.ToolTipFieldList = [];\n            this.LinkToolTipList = [];\n            this.ToolTipFieldList.push({ label: \"None\", value: \"None\" });\n            this.commonService.session.data['linkFields'].map((d, i) => {\n                if (d == 'source') {\n                    let data = [\n                        {\n                            label: 'Source ID',\n                            value: 'source_id'\n                        },\n                        {\n                            label: 'Source Index',\n                            value: 'source_index'\n                        }\n                    ]\n                    this.ToolTipFieldList = this.ToolTipFieldList.concat(data);\n                    this.LinkToolTipList = this.LinkToolTipList.concat(data)\n                } else if (d == 'target') {\n                    let data = [\n                        {\n                            label: 'Target ID',\n                            value: 'target_id'\n                        },\n                        {\n                            label: 'Target Index',\n                            value: 'target_index'\n                        }\n                    ]\n                    this.ToolTipFieldList = this.ToolTipFieldList.concat(data);\n                    this.LinkToolTipList = this.LinkToolTipList.concat(data)\n                } else {\n                    this.LinkToolTipList.push(\n                        {\n                            label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n                            value: d\n                        });\n                    this.ToolTipFieldList.push(\n                        {\n                            label: this.commonService.capitalize(d.replace(\"_\", \"\")),\n                            value: d\n                        });\n                }\n            });\n\n\n            this.halfWidth = $('#network').parent().width() / 2;\n            this.halfHeight = $('#network').parent().parent().parent().height() / 2;\n\n            let networkData = {\n                nodes: this.commonService.getVisibleNodes(),\n                links: this.commonService.getVisibleLinks()\n            }\n\n            this.data = this.commonService.convertToGraphDataArray(networkData);\n\n            if (this.debugMode) {\n                console.log('data: ', this.data);\n            }\n\n            $(document).on(\"node-visibility\", function () {\n                that._rerender(true);\n            });\n\n            // $(document).on(\"link-visibility\", async function () {\n\n            // });\n\n            // $(document).on(\"cluster-visibility\", function () {\n\n            // });\n\n            // TODO move this to a subscribed event than use document jquery\n            $(document).on(\"node-selected\", function () {\n\n                let mtSelectedNode = that.commonService.getSelectedNode(that.commonService.getVisibleNodes());\n                if (mtSelectedNode && mtSelectedNode.id) {\n                    that.selectedNodeId = mtSelectedNode.id;\n                } else if (mtSelectedNode && !mtSelectedNode.id) {\n                    that.selectedNodeId = mtSelectedNode._id;\n                }\n\n                    // Deselect all nodes first\n                    that.cy.elements().unselect();\n\n                    // Select the newly selected node\n                    if (that.selectedNodeId) {\n                        const node = that.cy.getElementById(that.selectedNodeId);\n                        if (node) {\n                            node.select();\n                        }\n                    }\n\n                    // that.debouncedRerender();\n                    if (that.debugMode) {\n                        console.log('node-selected in 2d: ', that.selectedNodeId);\n                        console.log('node-selected in data: ', that.data.nodes.find(node => node.id == that.selectedNodeId));\n                    }\n            });\n\n\n            if (this.commonService.session.files.length > 1) $('#link-color-variable').val('origin').change();\n            if (this.widgets['background-color']) $('#cy').css('background-color', this.widgets['background-color']);\n            this.commonService.onStatisticsChanged();\n            this.loadSettings();\n\n            if (this.widgets['node-symbol-variable'] !== 'None') {\n                $('#node-symbol-variable').change(); //.trigger('change');\n            }\n\n        }\n\n\n    }\n\n    // Method to ensure the value is an array\n    ensureArray(value: any): any[] {\n        if (Array.isArray(value)) {\n            return value; // It's already an array, return as is\n        } else if (value !== null && value !== undefined) {\n            return [value]; // Not an array, but has a value, wrap it in an array\n        } else {\n            return []; // No value, return an empty array\n        }\n    }\n\n    /**\n     * @returns an array [X, Y] of the position of mouse relative to twodcomponent. Global position (i.e. d3.event.pageX) doesn't work for a dashboard\n     */\n    getRelativeMousePosition(event) {\n        // Get position based on container\n        let rect =  document.getElementById('cy').getBoundingClientRect();\n        const X = event['clientX'] - rect.left;\n        const Y = event['clientY'] - rect.top;\n        return [X, Y];\n    }\n\n\n    /**\n     * Updates calculated resolution based on scale\n     * @param event Event from scale input\n     */\n    updateCalculatedResolution(event: any): void {\n        const scale = event;\n        const baseResolution = 1000; // Example base resolution, adjust as needed\n        const resolutionValue = baseResolution * scale;\n        this.CalculatedResolution = `${resolutionValue}x${resolutionValue}`;\n    }\n\n    /**\n     * Opens Global Setting Dialog\n     */\n    showGlobalSettings() {\n        //console.log(\"threshold: \",  this.commonService.GlobalSettingsModel.SelectedLinkThresholdVariable);\n        this.DisplayGlobalSettingsDialogEvent.emit(\"Styling\");\n    }\n\n\n    /**\n     * Debounced version of the _rerender function.\n     * Delays the execution until after 1000ms have elapsed since the last call.\n     */\n    debouncedRerender() {\n        const debounceDelay = 1000; // 1 second\n    \n        if (this.rerenderTimeout) {\n            clearTimeout(this.rerenderTimeout);\n        }\n    \n        this.rerenderTimeout = setTimeout(() => {\n            this._rerender(); // Call the actual rerender method\n            this.rerenderTimeout = null; // Clear the timeout reference\n        }, debounceDelay);\n    }\n\n    /**\n     * Hides export pane, sets isExporting variable to true and calls exportWork2 to export the twoD network image\n     */\n    exportVisualization(event) {\n\n        // Prepare export options\n        const exportOptions: ExportOptions = {\n            filename: this.SelectedNetworkExportFilenameVariable,\n            filetype: this.SelectedNetworkExportFileTypeListVariable,\n            scale: this.SelectedNetworkExportScaleVariable,\n            quality: this.SelectedNetworkExportQualityVariable,\n        };\n    \n        // Set export options in the service\n        this.commonService.setExportOptions(exportOptions);\n    \n        // Request export\n        this.commonService.requestExport();\n    \n        // Optionally, close the export modal after initiating the export\n        this.Show2DExportPane = false;\n    }\n\n    /**\n     * Sets this.isExportClosed to true\n     */\n    onCloseExport() {\n        this.isExportClosed = true;\n    }\n\n    /**\n     * Handles file type change\n     * @param event New file type value\n     */\n    onNetworkExportFiletypeChange(event: any): void {\n        this.SelectedNetworkExportFileTypeListVariable = event;\n\n        if (event == \"svg\") {\n                this.ShowAdvancedExport = false;\n            }\n            else {\n                this.ShowAdvancedExport = true;\n        }\n    }\n\n    /**\n     * Toggles advanced export options visibility\n     */\n    toggleAdvancedExport(): void {\n        this.ShowAdvancedExport = !this.ShowAdvancedExport;\n    }\n\n    /**\n     * Handles filename change\n     * @param event New filename value\n     */\n    onDataChange(event: any): void {\n        this.SelectedNetworkExportFilenameVariable = event;\n    }\n\n    /**\n     * When the svg is clicked, this function is called and it removes color transparency slider that appears when updating color transparency in node/link color tables\n     */\n    networkWhitespaceClicked(): void {\n\n        // The color transparency slider should dissapear if clicked out\n        $(\"#color-transparency-wrapper\").css({\n            display: \"none\"\n        });\n\n        this.commonService.session.network.nodes.forEach(node => {\n            node.selected = false;\n        });\n    }\n\n  \n    /**\n     * Generates Polygon Color Selection Table, updates polygonColorMap and polygonAlphaMap functions, and then calls render to show/update network\n     * \n     * XXXXX this function needs revisiting. Doesn't always populate table. I had to hide color polygons, then show it, and then show polygon color table setting\n     * to get table to appear. Also not sorting correctly with names XXXXX\n     */\n    updatePolygonColors() {\n\n        console.log('updatePolygonColors: ', this.widgets['polygons-foci']);\n\n        let polygonSort = $(\"<a style='cursor: pointer;'>&#8645;</a>\").on(\"click\", e => {\n            this.widgets[\"polygon-color-table-counts-sort\"] = \"\";\n            if (this.widgets[\"polygon-color-table-name-sort\"] === \"ASC\")\n                this.widgets[\"polygon-color-table-name-sort\"] = \"DESC\"\n            else\n                this.widgets[\"polygon-color-table-name-sort\"] = \"ASC\"\n            this.updatePolygonColors();\n        });\n        let polygonColorHeaderTitle = (this.commonService.session.style['overwrite'] && this.commonService.session.style['overwrite']['polygonColorHeaderVariable'] && this.commonService.session.style['overwrite']['polygonColorHeaderVariable'] == this.widgets['polygons-foci'] ? this.commonService.session.style['overwrite']['polygonColorHeaderTitle'] : \"Polygon \" + this.commonService.titleize(this.widgets['polygons-foci']));\n        let polygonHeader = $(\"<th class='p-1' contenteditable>\" + polygonColorHeaderTitle + \"</th>\").append(polygonSort);\n        let countSort = $(\"<a style='cursor: pointer;'>&#8645;</a>\").on(\"click\", e => {\n\n            this.widgets[\"polygon-color-table-name-sort\"] = \"\";\n            if (this.widgets[\"polygon-color-table-counts-sort\"] === \"ASC\")\n                this.widgets[\"polygon-color-table-counts-sort\"] = \"DESC\"\n            else\n                this.widgets[\"polygon-color-table-counts-sort\"] = \"ASC\"\n            this.updatePolygonColors();\n        });\n        let countHeader = $((this.widgets[\"polygon-color-table-counts\"] ? \"<th>Count</th>\" : \"\")).append(countSort);\n        console.log('polygonColorTable0: ', $(\"#polygon-color-table\"));\n        let polygonColorTable = $(\"#polygon-color-table\")\n            .empty()\n            .append($(\"<tr></tr>\"))\n            .append(polygonHeader)\n            .append(countHeader)\n            .append((this.widgets[\"polygon-color-table-frequencies\"] ? \"<th>Frequency</th>\" : \"\"))\n            .append(\"<th>Color</th>\");\n        \n        if (!this.commonService.session.style['polygonValueNames']) this.commonService.session.style['polygonValueNames'] = {};\n        let aggregates = this.commonService.createPolygonColorMap();\n        let values = Object.keys(aggregates);\n\n        console.log('values', values);\n        console.log('aggregates', aggregates);\n\n        if (this.widgets[\"polygon-color-table-counts-sort\"] == \"ASC\")\n            values.sort(function (a, b) { return aggregates[a] - aggregates[b] });\n        else if (this.widgets[\"polygon-color-table-counts-sort\"] == \"DESC\")\n            values.sort(function (a, b) { return aggregates[b] - aggregates[a] });\n        if (this.widgets[\"polygon-color-table-name-sort\"] == \"ASC\")\n            values.sort(function (a, b) { return a as any - (b as any) });\n        else if (this.widgets[\"polygon-color-table-name-sort\"] == \"DESC\")\n            values.sort(function (a, b) { return b as any - (a as any) });\n\n        let total = 0;\n        values.forEach(d => total += aggregates[d]);\n\n        let that = this;\n\n        values.forEach((value, i) => {\n            console.log('value: ', value);\n            that.commonService.session.style['polygonColors'].splice(i, 1, that.commonService.temp.style.polygonColorMap(value));\n            that.commonService.session.style['polygonAlphas'].splice(i, 1, that.commonService.temp.style.polygonAlphaMap(value));\n            let colorinput = $('<input type=\"color\" value=\"' + that.commonService.temp.style.polygonColorMap(value) + '\">')\n                .on(\"change\", function () {\n                    that.commonService.session.style['polygonColors'].splice(i, 1, $(this).val() as string);\n                    that.commonService.temp.style.polygonColorMap = d3\n                        .scaleOrdinal(that.commonService.session.style['polygonColors'])\n                        .domain(values);\n                    that.updateGroupNodeColors();\n                });\n            let alphainput = $(\"<a></a>\").on(\"click\", e => {\n                $(\"#color-transparency-wrapper\").css({\n                    top: e.clientY + 129,\n                    left: e.clientX,\n                    display: \"block\"\n                });\n                $(\"#color-transparency\")\n                    .val(that.commonService.session.style['polygonAlphas'][i])\n                    .on(\"change\", function () {\n                        that.commonService.session.style['polygonAlphas'].splice(i, 1, parseFloat($(this).val() as string));\n                        that.commonService.temp.style.polygonAlphaMap = d3\n                            .scaleOrdinal(that.commonService.session.style['polygonAlphas'])\n                            .domain(values);\n                        $(\"#color-transparency-wrapper\").fadeOut();\n                        that.updateGroupNodeColors();\n                    });\n            });\n            let cell = $(\"<td></td>\")\n                .append(colorinput)\n                .append(alphainput);\n\n            let row = $(\n                \"<tr>\" +\n                \"<td data-value='\" + value + \"'>\" +\n                (that.commonService.session.style['polygonValueNames'][value] ? that.commonService.session.style['polygonValueNames'][value] : that.commonService.titleize(\"\" + value)) +\n                \"</td>\" +\n                (that.widgets[\"polygon-color-table-counts\"] ? \"<td>\" + aggregates[value] + \"</td>\" : \"\") +\n                (that.widgets[\"polygon-color-table-frequencies\"] ? \"<td>\" + (aggregates[value] / total).toLocaleString() + \"</td>\" : \"\") +\n                \"</tr>\"\n            ).append(cell);\n\n            console.log('polygonColorTable1: ', polygonColorTable);\n            console.log('polygonColorRow: ', row);\n\n            polygonColorTable.append(row);\n\n            console.log($('#polygon-color-table').length); // Should be 1\n            console.log($('#polygon-color-table').html()); // Check current HTML content\n\n        });\n\n        console.log('polygonColorTable2: ', polygonColorTable);\n\n\n        console.log($('#polygon-color-table').length); // Should be 1\n            console.log($('#polygon-color-table').html()); // Check current HTML content\n\n\n        // PRE D3\n        // this.commonService.temp.style.polygonColorMap = d3\n        //   .scaleOrdinal(this.commonService.session.style['polygonColors'])\n        //   .domain(values);\n        //   this.commonService.temp.style.polygonAlphaMap = d3\n        //   .scaleOrdinal(this.commonService.session.style['polygonAlphas'])\n        //   .domain(values);\n\n        polygonColorTable\n            .find(\"td\")\n            .on(\"dblclick\", function () {\n                // $(this).attr(\"contenteditable\", true).focus();\n            })\n            .on(\"focusout\", function () {\n                let $this = $(this);\n                // $this.attr(\"contenteditable\", false);\n                that.commonService.session.style['polygonValueNames'][$this.data(\"value\")] = $this.text();\n            });\n\n        polygonColorTable\n            .find(\".p-1\")\n            .on(\"focusout\", function () {\n                that.commonService.session.style['overwrite']['polygonColorHeaderVariable'] = that.widgets[\"polygons-foci\"];\n                that.commonService.session.style['overwrite']['polygonColorHeaderTitle'] = $($(this).contents()[0]).text();\n            });\n\n        let isAscending = true;  // add this line before the click event handler\n\n\n        // The sorting functionality is added here\n        $('#polygon-color-table').on('click', 'th', function () {\n            let table = $(this).parents('table').eq(0);\n            let rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).index()));\n            isAscending = !isAscending;  // replace 'this.asc' with 'isAscending'\n            if (!isAscending) { rows = rows.reverse(); }\n            for (let i = 0; i < rows.length; i++) { table.append(rows[i]); }\n        });\n\n        function comparer(index) {\n            return function (a, b) {\n                let valA = getCellValue(a, index), valB = getCellValue(b, index);\n                console.log(`Comparing: ${valA} and ${valB}`);  // New line\n                return !isNaN(Number(valA)) && !isNaN(Number(valB)) ? Number(valA) - Number(valB) : valA.toString().localeCompare(valB);\n            }\n        }\n\n        function getCellValue(row, index) {\n            return $(row).children('td').eq(index).text();\n        }\n\n    }\n\n    /**\n     * This function is called when polygon-show widget is updated from the template.\n     * That widget controls whether polygons are shown or not\n     * \n     */\n    polygonsToggle(flag: boolean) {\n\n        this.widgets['polygons-show'] = flag;\n\n        this.updateNodeGrouping(flag);\n\n        if (flag) {\n            if (this.widgets['polygons-color-show'] == true) {\n                $('#polygons-color-show').click();\n            } else {\n                $('#polygons-color-hide').click();\n            }\n            if (this.widgets['polygons-label-show'] == true) {\n                $('#polygons-label-show').click();\n            } else {\n                $('#polygons-label-hide').click();\n            }\n            \n\n            // Ensure the label orientation is updated when polygons are turned on\n            this.onPolygonLabelOrientationChange(this.widgets['polygon-label-orientation']);\n        } else {\n            $(\".polygons-settings-row\").slideUp();\n            $('.polygons-label-row').slideUp();\n            $(\"#polygon-color-table-row\").slideUp();\n            $(\"#polygon-color-value-row\").slideUp();\n            $(\"#polygon-color-table\").empty();\n\n            this.PolygonColorTableWrapperDialogSettings.setVisibility(false);\n        }\n\n    }\n\n    /**\n     * Updates node grouping based on the polygons-show flag.\n     * @param flag boolean indicating whether to show polygons/groups\n     */\n    private updateNodeGrouping(flag: boolean): void {\n        if (!this.cy) {\n            return;\n        }\n\n        const cy = this.cy; // Reference to Cytoscape instance\n\n        cy.batch(() => {\n            if (flag) {\n                this.addParentNodesAndGroupChildren(cy);\n            } else {\n                this.removeParentNodesAndUngroupChildren(cy);\n            }\n        });\n\n        // Trigger layout after grouping\n        // this.applyLayout();\n    }\n\n    /**\n     * Adds parent nodes for each group and assigns child nodes to these parents.\n     * @param cy Cytoscape instance\n     */\n    private addParentNodesAndGroupChildren(cy: cytoscape.Core): void {\n        const groupMap: Map<string, cytoscape.NodeSingular[]> = new Map();\n        cy.nodes().forEach(node => {\n            const group = node.data('group');\n            if (group) {\n                if (!groupMap.has(group)) {\n                    groupMap.set(group, []);\n                }\n                groupMap.get(group)?.push(node);\n            }\n        });\n\n        const polygonGroups = Array.from(groupMap.entries()).map(([key, values]) => ({\n            key,\n            values: values.map(node => node.data('id'))\n        }));\n\n        this.commonService.temp.style.polygonGroups = polygonGroups;\n\n        groupMap.forEach((nodesInGroup, group) => {\n            const parentId = `${group}`;\n            if (cy.getElementById(parentId).length === 0) {\n                cy.add({\n                    group: 'nodes',\n                    data: { \n                        id: parentId, \n                        label: group, \n                        isParent: true, \n                        nodeColor: this.commonService.temp.style.polygonColorMap(group) || '#000' \n                    },\n                    classes: 'parent' // Assigning the 'parent' class\n                });\n            }\n        });\n\n        cy.nodes().forEach(node => {\n            const group = node.data('group');\n            if (group) {\n                const parentId = `${group}`;\n                node.move({ parent: parentId });\n            }\n        });\n\n          // **Step 6:** Create and Assign the `groups` Object for polygonGroups\n          const groups = Array.from(groupMap.entries()).map(([key, values]) => ({\n            key,\n            values: values.map(node => node.data('id'))\n        }));\n\n        // Assign the groups to polygonGroups in commonService.temp\n        this.commonService.temp.polygonGroups = groups;\n    }\n    /**\n     * Removes all parent (group) nodes and unassigns child nodes from any parents.\n     * @param cy Cytoscape instance\n     */\n    private removeParentNodesAndUngroupChildren(cy: cytoscape.Core): void {\n        // Identify all parent nodes by class\n        const parentNodes = cy.nodes('.parent');\n\n        // Unassign child nodes from parents\n        parentNodes.forEach(parent => {\n            cy.nodes(`[parent = \"${parent.id()}\"]`).forEach(child => {\n                child.move({ parent: null });\n            });\n        });\n\n        // Remove parent nodes\n        cy.remove(parentNodes);\n    }\n\n    private updateGroupNodeColors(): void {\n        const cy = this.cy;\n        if (!cy) {\n            console.error('Cytoscape instance is not initialized.');\n            return;\n        }\n\n        console.log('Updating Group Node Colors...');\n\n        cy.nodes('.parent').forEach(parentNode => {\n            const groupName = parentNode.data('label'); // Assuming 'label' holds the group name\n\n            // Determine the new color based on the groupColorMap\n            const newColor = this.commonService.temp.style.polygonColorMap(groupName) || '#000'; // Default to black\n\n            // Update the nodeColor data attribute\n            parentNode.data('nodeColor', newColor);\n\n            // Optionally, update the node's color style if not data-driven\n            // parentNode.style('background-color', newColor);\n        });\n\n        // Refresh Cytoscape styles to apply changes\n        cy.style().update();\n\n        console.log('Group node colors updated.');\n    }\n    /**\n     * This function is called when polygon-color-show widget is updated from the template.\n     * This widget controls whether polygon should be colored the same or different.\n     * \n     * XXXXX I think this function wasn't updated with the move to Angular; most of the code \n     * seems redundant/unnecessary. Evaluate whether function can be reduce/eliminated. XXXXX\n     */\n    polygonColorsToggle(e) {\n\n        console.log('polygonColorsToggle: ', e);\n\n        if (e) {\n            this.widgets['polygons-color-show'] = true;\n            $(\"#polygon-color-value-row\").slideUp();\n            $(\"#polygon-color-table-row\").slideDown();\n            this.PolygonColorTableWrapperDialogSettings.setVisibility(true);\n\n            setTimeout(() => {\n                this.updatePolygonColors();\n                this.updateGroupNodeColors();\n            }, 200);\n\n        }\n        else {\n            this.widgets['polygons-color-show'] = false;\n            $(\"#polygon-color-value-row\").slideDown();\n            $(\"#polygon-color-table-row\").slideUp();\n            $(\"#polygon-color-table\").empty();\n            this.PolygonColorTableWrapperDialogSettings.setVisibility(false);\n            setTimeout(() => {\n                this.updateNodeGrouping(false);\n            }, 200);\n        }\n    }\n\n    /**\n     * This function is called when polygon-color widget is updated from the template. \n     * It is only available when polygon-color-show is false/hide\n     * This widget control polygon color when they are all colored the same.\n     * \n     * XXXXX I think this function wasn't updated with the move to Angular. \n     * Evaluate whether function can be reduce/eliminated. XXXXX\n     */\n    onPolygonColorChanged(e) {\n        this.widgets[\"polygon-color\"] = e;\n        this.updateGroupNodeColors();\n    }\n\n    /**\n     * This function is called when polygon-color-table-visible widget is updated from the template. \n     * It is only available when polygon-color-show is true/show\n     * This widget controls whether the polygon color table is visible.\n     * \n     * XXXXX I think this function wasn't updated with the move to Angular. \n     * Evaluate whether function can be reduce/eliminated. XXXXX\n     */\n    polygonColorsTableToggle(e) {\n\n        console.log('polygonColorsTableToggle: ', e);\n\n        if (e) {\n            this.onPolygonColorTableChange(e)\n        }\n        else {\n            this.onPolygonColorTableChange(e)\n        }\n\n        \n    }\n\n    private polygonNodeSelected = null;\n\n\n    /**\n     * Gets a list of all visible links objects; Similar to getLlinks(), and commonService.getVisibleLinks()\n     * \n     * Each link object has a single origin, so any links that have more than one origin are stored as separed link objects\n     * \n     * Each link's source and target are node object\n     * @returns a array of link objects; each link's source and target are node object\n     */\n    getVLinks() {\n        let vlinks = this.commonService.getVisibleLinks(true);\n        let output = [];\n        let n = vlinks.length;\n        let nodes = this.commonService.session.network.nodes;\n        for (let i = 0; i < n; i++) {\n            if (vlinks[i].origin) {\n                if (typeof vlinks[i].origin === 'object') {\n                    if (vlinks[i].origin.length > 0) {\n                        // 0 = current, j = index, l = array\n                        vlinks[i].origin.forEach((o, j, l) => {\n                            const holder = Object.assign({}, vlinks[i], {\n                                origin: o,\n                                oNum: j,\n                                origins: l.length,\n                                source: nodes.find(d => d._id === vlinks[i].source || d.id === vlinks[i].source),\n                                target: nodes.find(d => d._id === vlinks[i].target || d.id === vlinks[i].target)\n                            });\n                            output.push(holder);\n                        });\n                    } else {\n                        const holder = Object.assign({}, vlinks[i], {\n                            oNum: 0,\n                            origins: 1,\n                            source: nodes.find(d => d._id === vlinks[i].source || d.id === vlinks[i].source),\n                            target: nodes.find(d => d._id === vlinks[i].target || d.id === vlinks[i].target)\n                        });\n                        output.push(holder);\n                    }\n                } else {\n                    const holder = Object.assign({}, vlinks[i], {\n                        oNum: 0,\n                        origins: 1,\n                        source: nodes.find(d => d._id === vlinks[i].source || d.id === vlinks[i].source),\n                        target: nodes.find(d => d._id === vlinks[i].target || d.id === vlinks[i].target)\n                    });\n                    //console.log(holder);\n                    output.push(holder);\n                }\n            } else {\n                const holder = Object.assign({}, vlinks[i], {\n                    origin: 'Unknown',\n                    oNum: 0,\n                    origins: 1,\n                    source: nodes.find(d => d._id === vlinks[i].source || d.id === vlinks[i].source),\n                    target: nodes.find(d => d._id === vlinks[i].target || d.id === vlinks[i].target)\n                });\n                output.push(holder);\n            }\n        }\n\n        output = output.filter(x => x.source != undefined && x.target != undefined);\n        return output;\n    };\n\n    /**\n     * Gets a list of all visible links objects; Similar to getVlinks(), and commonService.getVisibleLinks()\n     * \n     * A link that has multiple origins is stored as a single object\n     * \n     * Each link's source and target are node object\n     * @returns a array of link objects; each link's source and target are node object\n     */\n    getLLinks() {\n        let vlinks = this.commonService.getVisibleLinks(true);\n        let n = vlinks.length;\n        for (let i = 0; i < n; i++) {\n            vlinks[i].source = this.commonService.session.network.nodes.find(d => d._id == vlinks[i].source);\n            vlinks[i].target = this.commonService.session.network.nodes.find(d => d._id == vlinks[i].target);\n        }\n        return vlinks;\n    };\n\n    /**\n     * Used to calculate the angle between two nodes. It is used when setting link label\n     * @param source source node\n     * @param target target node\n     */\n    calcAngle(source, target) {\n        return Math.atan((source.y - target.y) / (source.x - target.x)) * this.radToDeg;\n    };\n\n\n    copyID() {\n        let id = $('#copyID').attr('data-clipboard-text')\n        this.clipboard.copy(id);\n        this.hideContextMenu();\n    }\n\n    /**\n     * Used from Context Menu and copy node's sequence to the user's clipboard\n     */\n    copySeq() {\n        let seq = $('#copySeq').attr('data-clipboard-text')\n        this.clipboard.copy(seq);\n        this.hideContextMenu()\n    }\n\n    /**\n     * Upon right clicking a node, d, the context menu will appear, which allows the user to option to pin node, copy id, copy sequence, or view attributes\n     * @param d the node right clicked\n     */\n    showContextMenu(d) {\n        // d3.event.preventDefault();\n        // this.hideTooltip();\n        // $('#copyID').attr('data-clipboard-text', d._id);\n        // if (d.seq === null || d.seq === undefined || d.seq === \"\") {\n        //     $('#copySeq').prop('disabled', true);\n        // } else {\n        //     $('#copySeq').prop('disabled', false).attr('data-clipboard-text', d.seq);\n        // }\n\n        // d3.select('#viewAttributes').on('click', () => {\n\n        //     this.ContextSelectedNodeAttributes = [];\n\n        //     this.hideContextMenu();\n\n        //     this.ShowNetworkAttributes = true;\n        //     this.cdref.detectChanges();\n\n        //     let nd = this.commonService.session.data.nodes.find(nd => nd._id == d._id);\n        //     for (let attribute in nd) {\n        //         if (attribute[0] == '_' && attribute !== '_id' || attribute == 'data') continue; // DC: where is data being added as an attribute to each node should data be removed here\n        //         this.ContextSelectedNodeAttributes.push({attribute: this.commonService.titleize(attribute), value: d[attribute]});\n        //     }\n\n        //     this.ContextSelectedNodeAttributes = this.ContextSelectedNodeAttributes\n        //         .filter(x=>x.attribute !== \"Seq\" && x.value !== undefined && x.value !== null && x.value !== \"\" )\n        //         .concat(this.ContextSelectedNodeAttributes.filter(x=>x.attribute !== \"Seq\" && (x.value === undefined || x.value === null || x.value === \"\" )))\n        //         .concat(this.ContextSelectedNodeAttributes.filter(x=>x.attribute === \"Seq\"));\n\n        // }).node().focus();\n        // if (d.fixed) {\n        //     $('#pinNode').text('Unpin Node').on('click', () => {\n\n        //         d.fx = null;\n        //         d.fy = null;\n        //         d.fixed = false;\n        //         this.force.alpha(0.3).alphaTarget(0).restart();\n        //         this.hideContextMenu();\n        //     });\n\n        // } else {\n        //     $('#pinNode').text('Pin Node').on('click', () => {\n\n        //         d.fx = d.x;\n        //         d.fy = d.y;\n        //         d.fixed = true;\n        //         this.hideContextMenu();\n        //     });\n        // }\n\n        // let [X, Y] = this.getRelativeMousePosition();\n        // $('#context-menu').css({\n        //     'z-index': 1000,\n        //     'display': 'block',\n        //     'left': (X-200) + 'px',\n        //     'top': (Y+30) + 'px',\n        // }).animate({ 'opacity': 1 }, 80);\n    };\n\n    /**\n     * Hides the Context Menu\n     */\n    hideContextMenu() {\n        $('#context-menu').animate({ 'opacity': 0 }, 80, function () {\n            $(this).css('z-index', -1);\n        });\n    };\n\n    /**\n     * This function capitalizes the first letter of each word in a string.\n     * @param str input string\n     * @returns input string with first letter capitalized\n     */\n    titleize(str: string) {\n        return str.replace(/\\b\\w/g, l => l.toUpperCase());\n    }\n\n    /**\n     * Generate a tabular HTML string from the data array\n     * @param data [ [Col1, ...], ...] - An Array of arrays where arrays within outer array represent different rows and\n     *  values within inner array represent the cells within that row\n     * @returns an HTML string with a table representation of the data\n     */\n    tabulate(data: any[]) {\n\n        let tableHtml = `\n            <style>\n            div:has(> table#tooltip-table) {\n              padding: 0px;\n            }\n\n            #tooltip-table {\n                border-spacing: 0;\n                width: 100%;\n                border: 1px solid #ddd;\n                z-index: 1000;\n            }\n            \n            #tooltip-table td, #tooltip-table th {\n                text-align: left;\n                padding: 10px;\n                border: 1px solid #ddd;\n            }\n            \n            #tooltip-table tr:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n            \n            #tooltip-table tr:nth-child(odd) {\n                background-color: #fff;\n            }\n            </style>\n            <table id=\"tooltip-table\"><tbody>`;\n\n        for (let row of data) {\n            tableHtml += '<tr>';\n            for (let cell of row) {\n                tableHtml += '<td>' + cell + '</td>';\n            }\n            tableHtml += '</tr>';\n        }\n        tableHtml += '</tbody></table>';\n\n        return tableHtml;\n    }\n\n    /**\n     * Gets data from current node needed for tooltip and displays it in the tooltip also hightlights neighbors if that option is selected\n     * @param d a node\n     */\n    showNodeTooltip(d, event) {\n\n        // Only show tooltip for nodes, not parent/group nodes\n        if(d.isParent) {\n            return;\n        }\n\n        if (this.widgets['node-highlight']) {\n          this.selectedNodeId = d.id;\n        }\n\n        let tt_var_len = this.widgets['node-tooltip-variable'].length\n        let tooltipHtml: string;\n\n        if (tt_var_len == 0) {\n          return null;\n        } else if (tt_var_len == 1) {\n         tooltipHtml =  `${d[this.widgets['node-tooltip-variable'][0]]}`\n        } else {\n          tooltipHtml =  this.tabulate(this.widgets['node-tooltip-variable'].map(variable => [this.titleize(variable), d[variable]]))\n        }\n\n        let [X, Y] = this.getRelativeMousePosition(event);\n        d3.select('#tooltip')\n            .html(tooltipHtml)\n            .style('position', 'absolute')\n            .style('left', (X+ 10) + 'px')\n            .style('top', (Y - 10) + 'px')\n            .style('z-index', 1000)\n            .transition().duration(100)\n            .style('opacity', 1);\n    }\n\n    /**\n     * Gets data from current link needed for tooltip and displays it in the tooltip\n     * @param d link\n     */\n    showLinkTooltip(d, event) {\n        let v: any = this.SelectedLinkTooltipVariable;\n\n        if (v == 'None') return;\n\n\n        // Tooltip variables can be a single string or an array\n        let tooltipVariables = this.SelectedLinkTooltipVariable;\n        if (!Array.isArray(tooltipVariables)) {\n            tooltipVariables = [tooltipVariables];\n            this.SelectedLinkTooltipVariable = tooltipVariables;  // Update SelectedLinkTooltipVariable to be an array\n        }\n\n        // If no tooltip variable is selected, we shouldn't show a tooltip\n        if (tooltipVariables.length > 0 && tooltipVariables[0] == 'None')\n            return;\n\n        /**\n         * @param data link\n         * @param varName name of variable\n         * @returns the value of the link for the variable\n         */\n        let getData = (data, varName) => {\n            if (varName == 'source_id') {\n                return data['source']._id\n            } else if (varName == 'source_index') {\n                return data['source'].index\n            } else if (varName == 'target_id') {\n                return data['target']._id\n            } else if (varName == 'target_index') {\n                return data['target'].index\n            } else {\n                return data[varName];\n            }\n        }\n\n        // Generate the HTML for the tooltip\n        let tooltipHtml = '';\n        if (tooltipVariables.length > 1) {\n            tooltipHtml = this.tabulate(tooltipVariables.map(variable => [this.titleize(variable), getData(d, variable)]));\n        } else {\n            tooltipHtml = getData(d, tooltipVariables[0])\n        }\n\n        let [X, Y] = this.getRelativeMousePosition(event);\n        d3.select('#tooltip')\n            .html(tooltipHtml)\n            .style('position', 'absolute')\n            .style('left', (X + 10) + 'px')\n            .style('top', (Y - 10) + 'px')\n            .style('z-index', 1000)\n            .transition().duration(100)\n            .style('opacity', 1);\n    };\n\n    /**\n     * Hides the Tooltip\n     */\n    hideTooltip() {\n        if (this.widgets['node-highlight']) {\n            this.selectedNodeId = undefined;\n        }\n        let tooltip = d3.select('#tooltip');\n        tooltip\n            .transition().duration(100)\n            .style('opacity', 0)\n            .on('end', () => tooltip.style('z-index', -1));\n    };\n\n\n    /**\n     * @returns {boolean} if a is a number\n     */\n    isNumber(a): boolean {\n        return typeof a == \"number\";\n    };\n\n    /**\n     * This function updates the nodes based on node-symbol, node-symbol-variable, node-radius, node-radius-variable, node-radius-min, node-radius-max.\n     * It does not add new nodes to the DOM.\n     */\n    redrawNodes() {\n\n\n        //Things to track in the function:\n        //* Shapes:\n        // let type = d3[this.widgets['node-symbol']];\n        let symbolVariable = this.widgets['node-symbol-variable'];\n\n        // // Custom Shape Selected\n        // if (type === undefined) {\n        //     type = this.customShapes.shapes[this.widgets['node-symbol']];\n        // }\n\n        // //* Sizes:\n        // let defaultSize = this.widgets['node-radius'];\n        // let size = defaultSize, med = defaultSize, oldrng, min, max;\n        // let sizeVariable = this.widgets['node-radius-variable'];\n        // let scale;\n        // let nodes;\n        // if (sizeVariable !== 'None') {\n        //     if (this.widgets[\"timeline-date-field\"] == 'None') nodes = this.commonService.session.network.nodes;\n        //     else nodes = this.commonService.session.network.timelineNodes;\n        //     let n = this.commonService.session.network.nodes.length;\n        //     min = Number.MAX_VALUE;\n        //     max = Number.MIN_VALUE;\n        //     for (let i = 0; i < n; i++) {\n        //         let size = this.commonService.session.network.nodes[i][sizeVariable];\n        //         if (typeof size == 'undefined') continue;\n        //         if (size < min) min = size;\n        //         if (size > max) max = size;\n        //     }\n        //     oldrng = max - min;\n        //     med = oldrng / 2;\n\n        //     let maxWidth = this.widgets['node-radius-max'];\n        //     let minWidth = this.widgets['node-radius-min'];\n        //     // scale = d3.scaleLinear()\n        //     // .domain([min, max])\n        //     // .range([minWidth, maxWidth]);\n        //     }\n\n        // nodes = this.svg.select('g.nodes').selectAll('g').data(this.commonService.session.network.nodes);\n\n        // // TODO: Hides table row by default if no symbol variable - clean up\n        // if(symbolVariable === 'None') {\n        //     $('#node-symbol-table-row').slideUp();\n        // }\n\n        // // console.log('nodes: ', nodes);\n\n        // let that = this;\n\n        // nodes.selectAll('path').each(function (d) {\n\n        //     if (symbolVariable !== 'None') {\n\n        //         // type = d3[that.commonService.temp.style.nodeSymbolMap(d[symbolVariable])];\n\n        //         // if (type === undefined) {\n        //         //     type = that.customShapes.shapes[that.commonService.temp.style.nodeSymbolMap(d[symbolVariable])];\n        //         // }\n\n        //     } \n        //     if (sizeVariable !== 'None') {\n        //       size = d[sizeVariable];\n        //       if (!that.isNumber(size)) size = med;\n        //       size = scale(size);\n        //     }\n\n        //     // d3.select(this).attr('d', d3.symbol().size(size).type(type));    \n\n        //   });\n    };\n\n    /**\n     * redraws/updates node borders based on node-border-width\n     */\n    private redrawNodeBorder() {\n        // let nodes = this.svg.select('g.nodes').selectAll('g').data(this.commonService.session.network.nodes);\n        // nodes\n        //   .selectAll('path')\n        //   .style('stroke', 'black')\n        //   .style('stroke-width', this.widgets['node-border-width']);\n    }\n\n    /**\n     * uses values from node-label-variable, node-label-size, and node-label-orietation to add/remove labels from the the nodes\n     */\n    redrawLabels() {\n\n        // let nodes = this.svg.select('g.nodes').selectAll('g').data(this.commonService.session.network.nodes).select('text'),\n        //     labelVar = this.widgets['node-label-variable'];\n        // if (labelVar == 'None') {\n        //     nodes.text('');\n        // } else {\n        //     let size = this.widgets['node-label-size'],\n        //         orientation = this.widgets['node-label-orientation'];\n        //     nodes\n        //         .text(n => n[labelVar])\n        //         .style('font-size', size + 'px');\n        //     switch (orientation) {\n        //         case 'Left':\n        //             nodes\n        //                 .attr('text-anchor', 'end')\n        //                 .attr('dx', -8)\n        //                 .attr('dy', (size - 4) / 2);\n        //             break;\n        //         case 'Top':\n        //             nodes\n        //                 .attr('text-anchor', 'middle')\n        //                 .attr('dx', 0)\n        //                 .attr('dy', 4 - size);\n        //             break;\n        //         case 'Bottom':\n        //             nodes\n        //                 .attr('text-anchor', 'middle')\n        //                 .attr('dx', 0)\n        //                 .attr('dy', size + 4);\n        //             break;\n        //         case 'Middle':\n        //             nodes\n        //                 .attr('text-anchor', 'middle')\n        //                 .attr('dx', 0)\n        //                 .attr('dy', (size - 4) / 2);\n        //             break;\n        //         default: //'right'\n        //             nodes\n        //                 .attr('text-anchor', 'start')\n        //                 .attr('dx', 8)\n        //                 .attr('dy', (size - 4) / 2);\n        //     }\n        // }\n    };\n\n    /**\n     * This is called when the variable used to grouped by/created polygons is changed\n     * \n     * XXXXX May be worth revisiting when other polygon functions are updated. Some lines are probably not necessary XXXXX \n     */\n    centerPolygons(e) {\n\n        this.widgets['polygons-foci'] = e;\n        if (this.widgets['polygons-color-show'] == true) {\n            console.log('centerPolygons: show ');\n            $(\"#polygon-color-table\").empty();\n            this.updateGroupAssignments(e);\n            this.updatePolygonColors();\n            this.updateGroupNodeColors();\n        // Just update group assignments since not showing different colors\n        } else {\n            this.updateGroupAssignments(e);\n        }\n\n        if (e == 'None') {\n            $('#color-polygons').slideDown();\n            $('#polygon-color-value-row').slideDown();\n        } else {\n            $('#color-polygons').css('display', 'flex');\n            $('#polygon-color-value-row').slideUp();\n        }\n    }\n\n    updateGroupAssignments(foci: string): void {\n        const cy = this.cy; // Reference to Cytoscape instance\n        if (!cy) {\n            console.error('Cytoscape instance is not initialized.');\n            return;\n        }\n    \n        cy.batch(() => {\n            // Identify existing parent nodes and remove them if necessary\n            const existingParents = cy.nodes('.parent');\n            console.log('Removing existing parent nodes:', existingParents.map(p => p.id()));\n            existingParents.forEach(parent => {\n                // **Step 1:** Ungroup child nodes by setting their parent to null\n                parent.children().forEach(child => {\n                    child.move({ parent: null });\n                    console.log(`Ungrouped child node: ${child.id()} from parent: ${parent.id()}`);\n                });\n    \n                // **Step 2:** Remove the parent node without affecting child nodes\n                cy.remove(parent);\n                console.log(`Removed parent node: ${parent.id()}`);\n            });\n    \n            // Determine new groups based on foci\n            const groupMap: Map<string, cytoscape.NodeSingular[]> = new Map();\n    \n            console.log('nodeee: ', foci);\n            cy.nodes().forEach(node => {\n                // if(node.data('id') === '30578_KF773488_D99cl05') {\n                //     console.log('nodeee1: ', node.data());\n                //     console.log('nodeee2: ', node.data(foci));\n                // }\n                \n                const rawGroup = node.data(foci); // Assuming foci corresponds to a data attribute\n                const group = Array.isArray(rawGroup) ? rawGroup[0] : rawGroup; // Use first element if array\n                \n                if (group !== undefined && group !== null && group !== 'None') {\n                    if (!groupMap.has(group)) {\n                        groupMap.set(group, []);\n                    }\n                    groupMap.get(group)?.push(node);\n                }\n            });\n        \n            // Create new parent nodes and assign child nodes\n            groupMap.forEach((nodesInGroup, groupName) => {\n                const parentId = `${groupName}`;\n    \n                // Add a new parent node\n                const parentNode = cy.add({\n                    group: 'nodes',\n                    data: {\n                        id: parentId,\n                        label: groupName,\n                        isParent: true,\n                        nodeColor: this.commonService.temp.style.polygonColorMap(groupName) || '#000' // Default to black if not found\n                    },\n                    classes: 'parent' // Assigning the 'parent' class\n                });\n        \n                // Assign child nodes to the new parent\n                nodesInGroup.forEach(childNode => {\n                    childNode.move({ parent: parentId });\n                    console.log(`Moved child node ${childNode.id()} to parent ${parentId}`);\n                });\n            });\n    \n            // Handle nodes without a group (optional)\n            cy.nodes().forEach(node => {\n                if (!node.parent().length && node.data(foci) !== 'None') {\n                    node.move({ parent: null });\n                    console.log(`Ungrouped node ${node.id()}`);\n                }\n            });\n    \n            // Refresh Cytoscape styles to apply changes\n            cy.style().update();\n\n             // **Step 6:** Create and Assign the `groups` Object for polygonGroups\n            const groups = Array.from(groupMap.entries()).map(([key, values]) => ({\n                key,\n                values: values.map(node => node.data('id'))\n            }));\n\n            // Assign the groups to polygonGroups in commonService.temp\n            // TODO: Decide on one\n            this.commonService.temp.polygonGroups = groups;\n            this.commonService.temp.style.polygonGroups = groups;\n        });\n    \n    }\n\n    /**\n     * Calls setPolygonLabelSize to update polygon-label-size widget and then redraws polygon labels\n     */\n    onPolygonLabelSizeChange(e) {\n        this.widgets['polygons-label-size'] = parseFloat(e);\n        // Update the font size of parent/group node labels in Cytoscape\n        if (this.cy) {\n            this.cy.style()\n                .selector('node.parent')\n                .style({\n                    'font-size': `${this.widgets['polygons-label-size']}px`\n                })\n                .update();\n        }\n    }\n\n    /**\n     * Updates polygon-label-orientation widget and then redraws polygon labels\n     */\n    onPolygonLabelOrientationChange(e) {\n        this.widgets['polygon-label-orientation'] = e;\n        // Adjust the orientation of the parent/group node labels in Cytoscape\n        if (this.cy) {\n          \n            // Define specific types for text alignment to satisfy TypeScript\n            type TextAlignment = 'left' | 'center' | 'right';\n            type VerticalAlignment = 'top' | 'bottom' | 'center';\n\n            let textValign: VerticalAlignment;\n            let textHalign: TextAlignment = 'center'; // Default horizontal alignment\n\n            // Determine vertical alignment based on the selected orientation\n            switch (e.toLowerCase()) {\n                case 'top':\n                    textValign = 'top';\n                    break;\n                case 'bottom':\n                    textValign = 'bottom';\n                    break;\n                case 'middle':\n                default:\n                    textValign = 'center';\n                    break;\n            }\n\n            this.cy.style()\n                .selector('node.parent')\n                .style({\n                    'text-valign': textValign,\n                    'text-halign': textHalign\n                })\n                .update();\n        }\n    }\n\n    /**\n     * Updates polygons-label-show widget and the renders the network again\n     */\n    onPolygonLabelShowChange(e) {\n        if (e) {\n            this.widgets['polygons-label-show'] = true;\n            $('.polygons-label-row').slideDown();\n        }\n        else {\n            this.widgets['polygons-label-show'] = false;\n            $('.polygons-label-row').slideUp();\n        }\n\n         // Update the parent/group nodes' labels in Cytoscape\n    if (this.cy) {\n        if (e) {\n            // Show labels: Set the label to the group name\n            this.cy.style()\n                .selector('node.parent')\n                .style({\n                    'label': 'data(label)', // Assumes parent nodes have a 'label' data field\n                    'text-valign': 'center',\n                    'text-halign': 'center',\n                    'font-size': '12px', // Adjust as needed\n                    'text-background-color': '#ffffff',\n                    'text-background-opacity': 1,\n                    'text-background-padding': '2px'\n                })\n                .update();\n        } else {\n            // Hide labels: Remove the label by setting it to an empty string\n            this.cy.style()\n                .selector('node.parent')\n                .style({\n                    'label': '',\n                    'text-background-opacity': 0\n                })\n                .update();\n            }\n        }\n        \n    }\n\n\n    /**\n     * XXXXX reevaluate if need to be combined with polygonColorsTableToggle; when called from polygonColorsTableToggle e is 'Show'/'Hide' when called\n     * from template e is true/false XXXXX\n     */\n    onPolygonColorTableChange(e) {\n        console.log('onPolygonColorTableChange: ', e);\n\n        this.widgets[\"polygon-color-table-visible\"] = e;\n\n        if (e) {\n            this.SelectedNetworkTableTypeVariable = 'Show';\n\n            this.PolygonColorTableWrapperDialogSettings.setVisibility(true);\n            setTimeout(() => {\n                this.updatePolygonColors();\n                this.updateGroupNodeColors()\n            }, 0);\n         } else {\n            this.SelectedNetworkTableTypeVariable = 'Hide';\n            this.PolygonColorTableWrapperDialogSettings.setVisibility(false);\n\n        }\n    }\n\n\n    /*/\n        Node Events\n    /*/\n\n    /**\n     * updates the value of the appropriate widget, add/removes rows from dialog menu, and calls redrawLabels to update labels on svg/view\n     * @param e the name of variable to change labels to\n     */\n    onNodeLabelVaribleChange(e) {\n\n        this.widgets['node-label-variable'] = e;\n        if (e == 'None') {\n            $('.node-label-row').slideUp();\n        } else {\n            $('.node-label-row').css('display', 'flex');\n        }\n\n        this.updateNodeLabels();\n        \n    }\n\n    // Method to handle shape change from the dropdown\n    onNodeShapeChange(newShape: string) {\n        this.selectedNodeShape = newShape;\n        this.updateNodeShapes();\n    }\n\n    getNodeSize(node: any) {\n\n        let defaultSize = this.widgets['node-radius'];\n        let size = defaultSize, med = defaultSize, oldrng, min, max;\n        let sizeVariable = this.widgets['node-radius-variable'];\n\n        if (this.widgets['node-radius-variable'] == 'None') {\n            return this.widgets['node-radius'];\n        } else {\n\n            let v = node[sizeVariable];\n\n            if (!this.isNumber(v)) v = this.nodeMid;\n\n            // Check the type of v before calling linkScale\n\n            // Ensure v is a number before using linkScale\n            if (typeof v === 'number') {\n                let scaleValue = this.nodeScale(v);\n                if (this.debugMode) {\n                    console.log('link scale', scaleValue);\n                }\n                return scaleValue;\n            } else {\n                if (this.debugMode) {\n                    console.error('v is not a number:', v);\n                }\n                return this.nodeScale; // Default to scalar if v is not a number\n            }\n        }\n\n    }\n\n    getNodeColor(node: any): string {\n        // If this node is a parent (polygon group), keep using polygonColorMap\n        if (node.isParent) {\n          return this.commonService.temp.style.polygonColorMap(node.label);\n        }\n      \n        // Otherwise, use nodeColorMap or a single color from the widget\n        const variable = this.widgets['node-color-variable'];\n        if (variable === 'None') {\n          return this.widgets['node-color'];\n        }\n        return this.commonService.temp.style.nodeColorMap(node[variable]);\n      }\n\n    getLinkWidth(link: any) {\n        let scalar = this.widgets['link-width'];\n        let variable = this.widgets['link-width-variable'];\n\n        if (variable == 'None') return scalar;\n\n        else {\n            let mid = (this.linkMax - this.linkMin) / 2 + this.linkMin;\n            let v = link[variable];\n\n\n            if (!this.isNumber(v)) v = mid;\n\n            // Ensure v is a number before using linkScale\n            if (typeof v === 'number') {\n                let scaleValue = this.linkScale(v);\n                return scaleValue;\n            } else {\n                return scalar; // Default to scalar if v is not a number\n            }\n        }\n    }\n\n\n    getLinkColor(link: any) {\n        let variable = this.widgets['link-color-variable'];\n        let color = this.widgets['link-color'];\n\n        if ((link.source.id === \"KF773429\" && link.target.id === \"KF773430\") || (link.source.id === \"KF773430\" && link.target.id === \"KF773429\")) {\n            console.log('link variable: ', link[variable]);\n        }\n\n        let finalColor;\n        let alphaValue;\n\n        if ((variable == 'Origin' || variable == 'origin') && link.origin.length > 1) {\n            finalColor = this.commonService.temp.style.linkColorMap(\"Duo-Link\");\n            alphaValue = this.commonService.temp.style.linkAlphaMap(\"Duo-Link\")\n            // this.commonService.temp.style.linkColorMap(\"Multi-Link\"), alphaValue;\n        } else {\n\n            finalColor = (variable == 'None') ? color : this.commonService.temp.style.linkColorMap(link[variable]);\n            alphaValue = this.commonService.temp.style.linkAlphaMap(link[variable])\n        }\n\n        if (this.overideTransparency) {\n            alphaValue = this.widgets['link-opacity'];\n        }\n\n        return {\n            color: finalColor,\n            opacity: alphaValue\n        };\n\n    }\n\n    /**\n     * Gets the label for a node based on node label variable\n     * @param node the node retrieve to get the value of the variable\n     */\n    getNodeLabel(node: any) {\n\n        // If no label variable then should be none\n        return (this.widgets['node-label-variable'] == 'None') ? '' : (String(node[this.widgets['node-label-variable']]) || '');\n\n    }\n\n    /**\n     * Gets the label for a link based on link label variable\n     * @param link the link we retrieve to get the value of the variable\n     */\n    getLinkLabel(link: any) {\n\n        // console.log('link variable: ',this.widgets['link-label-variable'] );\n        let labelVariable = this.widgets['link-label-variable'];\n        // If no label variable then should be none\n        if (labelVariable == 'None') {\n            return { text: '' };\n        } else {\n            // console.log('link variable2: ',this.commonService.session.data.links[index]);\n\n            if (labelVariable == 'source_id') {\n                return link['source']['id']\n            } else if (labelVariable == 'source_index') {\n                return link['source']['index']\n            } else if (labelVariable == 'target_id') {\n                return link['target']['id']\n            } else if (labelVariable == 'target_index') {\n                return link['target']['index']\n            } else if (labelVariable != 'distance') {\n                return { text: link[labelVariable] };\n            }\n            if (this.debugMode) {\n                console.log('cluster link: ', link);\n            }\n            const labelValue = link[labelVariable];\n            console.log('labelValue: ', labelValue);\n            if (typeof labelValue === 'number' || !isNaN(parseFloat(labelValue))) {\n                // console.log('is number');\n                if (this.widgets['default-distance-metric'] == 'snps') {\n                    return { text: Math.round(parseFloat(labelValue)) };\n                } else {\n                    return (labelValue != 0) ? { text: parseFloat(labelValue).toFixed(this.widgets['link-label-decimal-length']) } : { text: '' };\n                }\n            } else {\n\n                return { text: labelValue };\n            }\n\n        }\n    }\n\n\n    /**\n     * Calls setNodeLabelSize to update label-size and redraw labels\n     */\n    onNodeLabelSizeChange(e) {\n        this.setNodeLabelSize(e.target.value);\n    }\n\n    /**\n     * Updates node-label-size and then redraws labels\n     */\n    setNodeLabelSize(size) {\n        this.widgets['node-label-size'] = parseFloat(size);\n        this.updateNodeLabelSizes(); // Update label sizes without rerendering the entire network\n        // document.documentElement.style.setProperty('--vis-graph-node-label-font-size', `${this.SelectedNodeLabelSizeVariable}pt`);\n    }\n\n\n    /**\n     * Updates node-label-orientation and then redraws labels\n     * @param e orientation such as Right, Left, Top, Bottom, Middle\n     */\n    onNodeLabelOrientationChange(e) {\n        this.widgets['node-label-orientation'] = e;\n        this.redrawLabels();\n    }\n\n    /**\n     * updates node-tooltip-variable\n     */\n    onNodeTooltipVariableChange(e) {\n\n        let selectedValue = e;\n\n        if (!Array.isArray(selectedValue)) {\n            selectedValue = [selectedValue];\n        }\n\n        this.widgets['node-tooltip-variable'] = selectedValue;\n\n    }\n\n    onNodeSymbolVariableChange(e, setVisibility = true) {\n\n        this.widgets['node-symbol-variable'] = this.SelectedNodeSymbolVariable;\n\n\n        if (setVisibility) {\n            this.NodeSymbolTableWrapperDialogSettings.setVisibility(true);\n            this.SelectedNetworkTableTypeVariable = \"Show\";\n\n            if (this.SelectedNodeSymbolVariable !== 'None') {\n\n                $('#node-symbol-row').slideUp();\n\n                //If hidden by default, unhide to perform slide up and down\n                if (!this.ShowNodeSymbolTable) {\n                    this.ShowNodeSymbolTable = true;\n                } else {\n                    $('#node-symbol-table-row').slideDown();\n                }\n\n                if (!this.ShowNodeSymbolWrapper) {\n                    this.ShowNodeSymbolWrapper = true;\n                }\n                // No shape by variable selected\n                // show shape, hide table \n            } else {\n\n                $('#node-symbol-row').slideDown();\n                $('#node-symbol-table-row').slideUp();\n                if (this.ShowNodeSymbolWrapper) {\n                    this.ShowNodeSymbolWrapper = false;\n                }\n                this.onNodeSymbolTableChange('Hide');\n\n            }\n\n        }\n        // if(e !== 'None' && setVisibility){\n        //     this.NodeSymbolTableWrapperDialogSettings.setVisibility(true);\n        //     this.SelectedNetworkTableTypeVariable = \"Show\";\n\n        //     if (this.SelectedNodeSymbolVariable !== 'None') {\n\n        //         $('#node-symbol-row').slideUp();\n\n        //         //If hidden by default, unhide to perform slide up and down\n        //         if(!this.ShowNodeSymbolTable){\n        //             this.ShowNodeSymbolTable = true;\n        //         } else {\n        //             $('#node-symbol-table-row').slideDown();\n        //         }\n\n        //     // No shape by variable selected\n        //     // show shape, hide table \n        //     } else {\n\n        //         $('#node-symbol-row').slideDown();\n        //         $('#node-symbol-table-row').slideUp();\n        //         this.onNodeSymbolTableChange('Hide');\n\n        //     }\n\n        // }\n\n\n        // this.cdref.detectChanges();\n\n        this.generateNodeSymbolSelectionTable(\"#node-symbol-table\", e);\n        this.updateNodeShapes();\n\n        \n    }\n\n    svgDefs = `\n    <path id=\"blob\" d=\"M 19.415 1.0564 C 20.585 2.47 20.225 5.89 21.665 8.2612 C 23.06 10.678 26.345 12.046 28.325 14.554 C 30.305 17.1076 31.025 20.8012 28.865 21.9412 C 26.75 23.1268 21.755 21.7588 18.605 23.3092 C 15.455 24.8596 14.105 29.3284 12.485 29.8756 C 10.865 30.3772 8.93 27.0028 6.41 25.042 C 3.89 23.1268 0.83 22.6708 0.38 20.9836 C -0.07 19.2964 2.135 16.378 2.54 13.642 C 2.945 10.9516 1.55 8.4892 2.135 7.03 C 2.72 5.5708 5.285 5.1148 7.355 4.294 C 9.47 3.4276 11.135 2.1964 13.34 1.2388 C 15.545 0.3268 18.245 -0.3116 19.415 1.0564 Z\"/>\n    <path id=\"cloud\" d=\"M 14 -1 A 9 9 90 0 0 5 8 A 9 9 90 0 0 5.1055 9.3125 A 6 6 90 0 0 1 15 A 6 6 90 0 0 7 21 L 22 21 A 7 7 90 0 0 29 14 A 7 7 90 0 0 22.9414 7.0703 A 9 9 90 0 0 14 -1 z\"/>\n    <polygon id=\"diamond\" points=\"0,15 15,0 30,15 15,30\"/>\n    <polygon id=\"house\" points=\"4,18 4,30 13,30 13,24 17,24 17,30 26,30 26,18 30,18 15,0 0,18\"/>\n    `;\n\n    public generateNodeSymbolSelectionTable(tableId: string, variable: string, isEditable: boolean = true) {\n        this.commonService.onTableCleared(tableId);\n\n        this.commonService.session.style.nodeSymbols =  [\n            'ellipse',\n            'triangle',\n            'rectangle',\n            'barrel',\n            'rhomboid',\n            'diamond',\n            'pentagon',\n            'hexagon',\n            'heptagon',\n            'octagon',\n            'star',\n            'tag',\n            'vee'\n        ];\n\n        let symbolMapping: { key: string, value: string }[] = [\n            { key: 'ellipse', value: '&#11044; (Circle)' },\n            { key: \"triangle\", value: '&#9660; (Triangle)' },\n            { key: \"diamond\", value: '&#10731; (Diamond)' },\n            { key: \"barrel\", value: '&#10731; (Barrel)' },\n            { key: \"rectangle\", value: '&#9632; (Square)' },\n            { key: \"rhomboid\", value: '&#9670; (Rhombus)' },\n            { key: \"pentagon\", value: '&#11039; (Pentagon)' },\n            { key: \"hexagon\", value: '&#11042; (Hexagon)' },\n            { key: \"heptagon\", value: '&#11043; (Heptagon)' },\n            { key: \"octagon\", value: '&#11042; (Octagon)' },\n            { key: \"star\", value: '&#9733; (Star)' },\n            { key: \"tag\", value: '&#9733; (Tag)' },\n            { key: \"vee\", value: '&#9733; (Vee)' },\n        ];\n\n        setTimeout(() => {\n\n            let table = $(tableId)\n            const disabled: string = isEditable ? '' : 'disabled';\n\n            this.widgets['node-symbol-variable'] = variable;\n\n            if (variable === 'None' && !isEditable) return;\n\n            let values = [];\n            let aggregates = {};\n            let nodes = this.commonService.session.data.nodes;\n            let n = nodes.length;\n            let vnodes = 0;\n            for (let i = 0; i < n; i++) {\n                let d = nodes[i];\n                if (!d.visible) continue;\n                vnodes++;\n                let dv = d[variable];\n                if (values.indexOf(dv) == -1) values.push(dv);\n                if (dv in aggregates) {\n                    aggregates[dv]++;\n                } else {\n                    aggregates[dv] = 1;\n                }\n            }\n\n            if (values.length > this.commonService.session.style.nodeSymbols.length) {\n                let symbols = [];\n                let m = Math.ceil(values.length / this.commonService.session.style.nodeSymbols.length);\n                while (m-- > 0) {\n                    symbols = symbols.concat(this.commonService.session.style.nodeSymbols);\n                }\n                this.commonService.session.style.nodeSymbols = symbols;\n                console.log('node symbols: ', symbols);\n\n            }\n\n            table.empty().append(\n                \"<tr>\" +\n                `<th class=\"${isEditable ? 'table-header-row' : ''}\" ${isEditable ? 'contenteditable' : ''}><div class=\"header-content sortable\">Node ${this.commonService.titleize(variable)}<a class='sort-button' style='cursor: pointer'></a></div></th>` +\n                (this.widgets['node-symbol-table-counts']\n                    ? `<th class=\"table-header-row\"><div class=\"header-content sortable\">Count<a class='sort-button' style='cursor: pointer'></a></div></th>`\n                    : '') +\n                (this.widgets['node-symbol-table-frequencies']\n                    ? `<th class=\"table-header-row\"><div class=\"header-content sortable\">Frequency<a class='sort-button' style='cursor: pointer'></a></div></th>`\n                    : '') +\n                '<th>Shape</th>' +\n                '</tr>'\n            );\n\n            values.sort((a, b) => {\n                return aggregates[b] - aggregates[a];\n            });\n\n\n            this.commonService.temp.style.nodeSymbolMap = d3.scaleOrdinal(this.commonService.session.style.nodeSymbols).domain(values);\n\n            values.forEach((v, i) => {\n                // PRE D3\n\n                // Manually create options instead of using the existing select\n                let optionsHtml = `\n                    <option value=\"ellipse\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'ellipse' ? 'selected' : ''}>&nbsp;&#11044; (Circle)</option>\n                    <option value=\"rectangle\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'rectangle' ? 'selected' : ''}>&nbsp;&#9632; (Square)</option>\n                    <option value=\"barrel\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'barrel' ? 'selected' : ''}>&nbsp;&#11042; (Barrel)</option>\n                    <option value=\"rhomboid\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'rhomboid' ? 'selected' : ''}>&nbsp;&#9650; (Rhombus)</option>\n                    <option value=\"diamond\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'diamond' ? 'selected' : ''}>&nbsp;&#10731; (Diamond)</option>\n                    <option value=\"pentagon\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'pentagon' ? 'selected' : ''}>&nbsp;&#11039; (Pentagon)</option>\n                    <option value=\"hexagon\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'hexagon' ? 'selected' : ''}>&nbsp;&#11042; (Hexagon)</option>\n                    <option value=\"heptagon\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'heptagon' ? 'selected' : ''}>&nbsp;&#11043; (Heptagon)</option>\n                    <option value=\"octagon\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'octagon' ? 'selected' : ''}>&nbsp;&#11042; (Octagon)</option>\n                    <option value=\"star\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'star' ? 'selected' : ''}>&nbsp;&#9733; (Star)</option>\n                    <option value=\"tag\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'tag' ? 'selected' : ''}>&nbsp;&#9733; (Tag)</option>\n                    <option value=\"vee\" ${this.commonService.temp.style.nodeSymbolMap(v) === 'vee' ? 'selected' : ''}>&nbsp;&#9733; (Vee)</option>\n                `;\n\n                // console.log('symbol each value: ', v, this.commonService.temp.style.nodeSymbolMap(v));\n                let selector = $(`<select ${disabled}></select>`).append(optionsHtml).val(this.commonService.temp.style.nodeSymbolMap(v)).on('change', (e) => {\n                    this.commonService.session.style.nodeSymbols.splice(i, 1, (e.target as any).value);\n                    this.commonService.temp.style.nodeSymbolMap = d3.scaleOrdinal(this.commonService.session.style.nodeSymbols).domain(values);\n                    this.updateNodeShapes();\n                });\n                let symbolText = symbolMapping.find(x => x.key === this.commonService.temp.style.nodeSymbolMap(v));\n\n                let cell = $('<td></td>').append(isEditable ? selector : symbolText ? symbolText.value : '');\n                let row = $(\n                    '<tr>' +\n                    `<td ${isEditable ? 'contenteditable' : ''}> ${this.commonService.titleize('' + v)} </td> ` +\n                    (this.widgets['node-symbol-table-counts'] ? ('<td>' + aggregates[v] + '</td>') : '') +\n                    (this.widgets['node-symbol-table-frequencies'] ? ('<td>' + (aggregates[v] / vnodes).toLocaleString() + '</td>') : '') +\n                    '</tr>'\n                ).append(cell);\n                table.append(row);\n            });\n\n\n            let isAscending = true;  // add this line before the click event handler\n\n            // The sorting functionality is added here\n            $(tableId).on('click', 'th', function () {\n                let table = $(this).parents('table').eq(0);\n                let rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).index()));\n                isAscending = !isAscending;  // replace 'this.asc' with 'isAscending'\n                if (!isAscending) { rows = rows.reverse(); }\n                for (let i = 0; i < rows.length; i++) { table.append(rows[i]); }\n            });\n\n            function comparer(index) {\n                return function (a, b) {\n                    let valA = getCellValue(a, index), valB = getCellValue(b, index);\n                    if (this.debugMode) {\n                        console.log(`Comparing: ${valA} and ${valB}`);  // New line\n                    }\n                    return !isNaN(Number(valA)) && !isNaN(Number(valB)) ? Number(valA) - Number(valB) : valA.toString().localeCompare(valB);\n                }\n            }\n\n            function getCellValue(row, index) {\n                return $(row).children('td').eq(index).text();\n            }\n\n        }, 100);\n\n    }\n\n    public onNodeRadiusVariableChange(e) {\n\n        this.widgets['node-radius-variable'] = e;\n\n        if (e == 'None') {\n            $('#node-max-radius-row').slideUp();\n            $('#node-min-radius-row').slideUp();\n            $('#node-radius-row').slideDown();\n        } else {\n            $('#node-max-radius-row').css('display', 'flex');\n            $('#node-min-radius-row').css('display', 'flex');\n            $('#node-radius-row').slideUp();\n        }\n\n        this.updateNodeSizes();\n        \n\n    }\n\n    /**\n     * Updates node-radius-max widget and redraws nodes\n     */\n    public onNodeRadiusMaxChange(e) {\n        console.log('onNodeRadiusMaxChange: ', e);\n        this.widgets['node-radius-max'] = e;\n        this.updateMinMaxNode();\n        this.updateNodeSizes();\n        \n    }\n\n    /**\n     * Updates node-radius-min widget and redraws nodes\n     */\n    public onNodeRadiusMinChange(e) {\n        this.widgets['node-radius-min'] = e;\n        this.updateMinMaxNode();\n        this.updateNodeSizes();\n        \n    }\n\n    /**\n     * Updates node-border-width widget and redraws nodes\n     */\n    public onNodeBorderWidthChange(e) {\n        this.widgets['node-border-width'] = e;\n        this.updateMinMaxNode()\n        this.updateNodeBorders(); // Update border widths without rerendering the entire network\n    }\n\n    /**\n     * Updates node-radius widget and redraws nodes\n     */\n    public onNodeRadiusChange(e) {\n\n        this.widgets['node-radius'] = e;\n        this.updateNodeSizes(); // Update node sizes without rerendering the entire network\n\n    }\n\n    /**\n     * Rerenders whole data set by resetting data object\n     */\n    private _rerender(timelineTick=false) {\n\n        \n\n        if (this.data === undefined) {\n            return;\n        }\n\n    let networkData;\n    if (timelineTick) {\n        let nodes = this.commonService.getVisibleNodes();\n        if (nodes.length == this.data.nodes.length) { \n            return;\n         }\n        let links = this.commonService.getVisibleLinks();\n        let visLinks = [];\n        links.forEach((d) => {\n            if (!d.visible) return;\n            var source = nodes.find(node => node._id == d.source && node.visible);\n            var target = nodes.find(node => node._id == d.target && node.visible);\n    \n            if (source && target) {\n                visLinks.push(d);\n            }\n        })\n        networkData = { \n            nodes : nodes, \n            links : visLinks\n        }\n    } else {\n        networkData = {\n            nodes: this.commonService.getVisibleNodes(),\n            links: this.commonService.getVisibleLinks()\n        };\n    }\n\n        console.log('link threhold network links: ', networkData.links.length);\n\n        // Determine autoFit based on node-timeline-variable\n        if (networkData.nodes.length !== 0) {\n            this.autoFit = this.commonService.session.style.widgets['node-timeline-variable'] === 'None';\n        } else {\n            this.autoFit = true;\n        }\n\n\n        if (this.debugMode) {\n            console.log('link vis rerender: ', this.commonService.getVisibleLinks());\n        }\n\n\n        // Update Cytoscape visualization if it exists\n        if (this.cy && !timelineTick) {\n        \n            this._partialUpdate();\n\n    } else if (this.cy && timelineTick) {\n        this.data = this.commonService.convertToGraphDataArray(networkData);\n\n        // Add new nodes and edges\n        this.cy.elements().remove();\n        const newElements = this.mapDataToCytoscapeElements(this.data, true);\n        this.cy.add(newElements);\n\n        // Apply the Cose layout to arrange the nodes\n        const layout = this.cy.layout({\n            name: 'preset',\n            fit: true, // Fit the graph within the viewport\n            padding: 30, // Padding around the graph\n            \n        });\n\n        layout.run();\n\n\n    } else{\n        this.data = this.commonService.convertToGraphDataArray(networkData);\n\n        this.cy = cytoscape({\n            container: this.cyContainer.nativeElement, // container to render in\n        \n            elements: this.mapDataToCytoscapeElements(this.data), // convert your data\n        \n            style: this.getCytoscapeStyles(), // define your styles\n        \n            layout: {\n              name: 'cose', // Use the cose layout\n              animate: false, // Set to true for animation\n              fit: true, // Fit the graph to the viewport\n              padding: 100, // Padding around the graph\n              nodeRepulsion: (node) => 400000, // Higher values increase node repulsion\n              idealEdgeLength: (edge) => 100, // Ideal length of edges\n              edgeElasticity: (edge) => 100, // Elasticity of edges\n              gravity: 80, // Gravity factor\n              numIter: 1000, // Number of iterations\n              // tile: true, // Allow tiling\n              // tilingPaddingVertical: 10, // Vertical padding for tiling\n              // tilingPaddingHorizontal: 10 // Horizontal padding for tiling\n            },\n        \n            // Enable zooming and panning\n            zoomingEnabled: true,\n            userZoomingEnabled: true,\n            panningEnabled: true,\n            userPanningEnabled: true,\n          });\n\n          this.attachCytoscapeEvents();\n        }\n\n    }\n\n    public getNodeShape(node: any) {\n\n        //* Shapes:\n        let symbolVariable = this.widgets['node-symbol-variable'];\n\n        if (symbolVariable == \"None\") {\n            // console.log('node symbol: ', this.selectedNodeShape);\n            return this.selectedNodeShape;\n            // return this.widgets['node-symbol-variable'];\n        } else {\n\n            let type = this.commonService.temp.style.nodeSymbolMap(node[symbolVariable]);\n\n            console.log('type: ', type);\n\n            return type;\n            // switch (type) {\n            //     case 'ellipse':\n            //         return 'circle';\n            //     case 'rectangle':\n            //         return 'square';\n            //     case 'symbolHexagon':\n            //         return 'hexagon';\n            //     case 'symbolTriangle':\n            //         return 'triangle';\n            //     case 'symbolDiamond':\n            //         return `<use href=\"#diamond\" stroke-width=\"3\" />`;\n            // }\n\n            // { key: 'ellipse', value: '&#11044; (Circle)' },\n            // { key: \"symbolTriangle\", value: '&#9650; (Up Triangle)' },\n            // { key: \"triangle\", value: '&#9660; (Triangle)' },\n            // { key: \"symbolTriangleLeft\", value: '&#9664; (Left Triangle)' },\n            // { key: \"symbolTriangleRight\", value: '&#9654; (Right Triangle)' },\n            // { key: \"diamond\", value: '&#10731; (Vertical Diamond)' },\n            // { key: \"barrel\", value: '&#10731; (barrel)' },\n            // { key: \"rectangle\", value: '&#9632; (Square)' },\n            // { key: \"rhomboid\", value: '&#9670; (Rhombus)' },\n            // { key: \"pentagon\", value: '&#11039; (Pentagon)' },\n            // { key: \"hexagon\", value: '&#11042; (Hexagon)' },\n            // { key: \"heptagon\", value: '&#11043; (Heptagon)' },\n            // { key: \"octagon\", value: '&#11042; (Octagon)' },\n            // { key: \"star\", value: '&#9733; (Star)' },\n            // { key: \"tag\", value: '&#9733; (Tag)' },\n            // { key: \"vee\", value: '&#9733; (Vee)' },\n\n            // if (type === undefined) {\n            //     type = that.customShapes.shapes[that.commonService.temp.style.nodeSymbolMap(d[symbolVariable])];\n            // }\n        }\n\n        // // Custom Shape Selected\n        // if (type === undefined) {\n        //     type = this.customShapes.shapes[this.widgets['node-symbol']];\n        // }\n\n        // //* Sizes:\n        // let defaultSize = this.widgets['node-radius'];\n        // let size = defaultSize, med = defaultSize, oldrng, min, max;\n        // let sizeVariable = this.widgets['node-radius-variable'];\n        // let scale;\n        // let nodes;\n        // if (sizeVariable !== 'None') {\n        //     if (this.widgets[\"timeline-date-field\"] == 'None') nodes = this.commonService.session.network.nodes;\n        //     else nodes = this.commonService.session.network.timelineNodes;\n        //     let n = this.commonService.session.network.nodes.length;\n        //     min = Number.MAX_VALUE;\n        //     max = Number.MIN_VALUE;\n        //     for (let i = 0; i < n; i++) {\n        //         let size = this.commonService.session.network.nodes[i][sizeVariable];\n        //         if (typeof size == 'undefined') continue;\n        //         if (size < min) min = size;\n        //         if (size > max) max = size;\n        //     }\n        //     oldrng = max - min;\n        //     med = oldrng / 2;\n\n        //     let maxWidth = this.widgets['node-radius-max'];\n        //     let minWidth = this.widgets['node-radius-min'];\n        //     // scale = d3.scaleLinear()\n        //     // .domain([min, max])\n        //     // .range([minWidth, maxWidth]);\n        //     }\n\n        // nodes = this.svg.select('g.nodes').selectAll('g').data(this.commonService.session.network.nodes);\n\n        // // TODO: Hides table row by default if no symbol variable - clean up\n        // if(symbolVariable === 'None') {\n        //     $('#node-symbol-table-row').slideUp();\n        // }\n\n        // // console.log('nodes: ', nodes);\n\n        // let that = this;\n\n        // nodes.selectAll('path').each(function (d) {\n\n        //     if (symbolVariable !== 'None') {\n\n        //         // type = d3[that.commonService.temp.style.nodeSymbolMap(d[symbolVariable])];\n\n        //         // if (type === undefined) {\n        //         //     type = that.customShapes.shapes[that.commonService.temp.style.nodeSymbolMap(d[symbolVariable])];\n        //         // }\n\n        //     } \n        //     if (sizeVariable !== 'None') {\n        //       size = d[sizeVariable];\n        //       if (!that.isNumber(size)) size = med;\n        //       size = scale(size);\n        //     }\n\n        //     // d3.select(this).attr('d', d3.symbol().size(size).type(type));    \n\n        //   });\n\n    }\n\n    /**\n     * Updates node-symbol widget and redraws nodes\n     */\n    onNodeSymbolChange(e) {\n        this.widgets['node-symbol'] = e;\n        \n    }\n\n    /**\n     * Sets whether node symbol table is visible or not\n     * @param e 'Show' or 'Hide'\n     */\n    onNodeSymbolTableChange(e) {\n        this.SelectedNetworkTableTypeVariable = e;\n        this.widgets[\"node-symbol-table-visible\"] = this.SelectedNetworkTableTypeVariable;\n        if (this.SelectedNetworkTableTypeVariable == \"Show\") {\n            this.NodeSymbolTableWrapperDialogSettings.setVisibility(true);\n        }\n        else {\n            this.NodeSymbolTableWrapperDialogSettings.setVisibility(false);\n        }\n    }\n\n    /**\n     * Updates link-tooltip-variable and SelectedLinkTooltipVariable to update what tooltip displays for links\n     */\n    onLinkTooltipVariableChange(e) {\n        if (!Array.isArray(e)) {\n            e = [e];\n        }\n        e = e.filter(item => item !== 'None')\n\n        this.widgets['link-tooltip-variable'] = e;\n        this.SelectedLinkTooltipVariable = this.widgets['link-tooltip-variable'];\n    }\n\n    /**\n     * Updates link-label-variable widget and link labels\n     */\n    onLinkLabelVariableChange(e) {\n        let label: any = e;\n        this.widgets['link-label-variable'] = label;\n        if (!this.cy) return;\n        this.cy.edges().forEach(edge => {\n            const newLabel = this.getLinkLabel(edge.data()).text;\n            edge.data('label', newLabel);\n        });\n    }\n\n    /**\n     * Updates link-label-decimal-length widget and updates label with updated number of decimal points\n     */\n    onLinkDecimalVariableChange(e) {\n        this.widgets['link-label-decimal-length'] = e;\n        if (!this.cy) return;\n        this.cy.edges().forEach(edge => {\n            const newLabel = this.getLinkLabel(edge.data()).text;\n            edge.data('label', newLabel);\n        });\n        \n    }\n\n    /**\n     * Updates link-opacity widget and the opacity for all links\n     */\n    onLinkOpacityChange(e) {\n        this.widgets['link-opacity'] = e;\n        this.overideTransparency = true;\n        this.updateLinkColor();\n        this.overideTransparency = false;\n        \n    }\n\n    updateLinkWidthRows(e) {\n        if (e == 'None') {\n            setTimeout(() => {\n                $('#link-reciprocalthickness-row').slideUp();\n                $('#link-max-width-row').slideUp();\n                $('#link-min-width-row').slideUp();\n                $('#link-width-row').slideDown();\n            }, 5)\n        } else {\n            setTimeout(() => {\n                $('#link-reciprocalthickness-row').css('display', 'flex');\n                $('#link-max-width-row').css('display', 'flex');\n                $('#link-min-width-row').css('display', 'flex');\n                $('#link-width-row').slideUp();\n            }, 5)\n        }\n    }\n\n    /**\n     * Updates link-width-variable widget and updates link width; Also cause min, max and reciprocal link width row to appear/disappear\n     */\n    onLinkWidthVariableChange(e) {\n        this.updateLinkWidthRows(e);\n        this.widgets['link-width-variable'] = e;\n        this.updateMinMaxLink();\n        this.scaleLinkWidth();\n        \n    }\n\n    updateMinMaxNode() {\n\n        this.visNodes = this.commonService.getVisibleNodes();\n        let n = this.visNodes.length;\n        let maxWidth = this.widgets['node-radius-max'];\n        let minWidth = this.widgets['node-radius-min'];\n        let sizeVariable = this.widgets['node-radius-variable'];\n\n\n        this.nodeMin = Number.MAX_VALUE;\n        this.nodeMax = Number.MIN_VALUE;\n        for (let i = 0; i < n; i++) {\n            let size = this.visNodes[i][sizeVariable];\n            if (typeof size == 'undefined') continue;\n            if (size < this.nodeMin) this.nodeMin = size;\n            if (size > this.nodeMax) this.nodeMax = size;\n        }\n\n        this.nodeMid = (this.nodeMax - this.nodeMin) / 2;\n\n        this.nodeScale = d3.scaleLinear()\n            .domain([this.nodeMin, this.nodeMax])\n            .range([minWidth, maxWidth]);\n    }\n\n    updateMinMaxLink() {\n        let maxWidth = this.widgets['link-width-max'];\n        if (maxWidth == 'None') {\n            this.widgets['link-width-max'] = 15;\n            maxWidth = 15;\n        }\n        let minWidth = this.widgets['link-width-min'];\n        if (minWidth == 'None') {\n            this.widgets['link-width-min'] = 0;\n            minWidth = 0;\n        }\n        let variable = this.widgets['link-width-variable'];\n\n        this.visLinks = this.getVLinks();\n        let n = this.visLinks.length;\n        this.linkMax = -Infinity;\n        this.linkMin = Infinity;\n        for (let i = 0; i < n; i++) {\n            let l = this.visLinks[i][variable];\n            if (!this.isNumber(l)) return;\n            if (l > this.linkMax) this.linkMax = l;\n            if (l < this.linkMin) this.linkMin = l;\n        }\n        this.linkScale = d3.scaleLinear()\n            .domain([this.linkMin, this.linkMax])\n            .range([minWidth, maxWidth]);\n\n    }\n\n    /**\n     * Updates link-width-reciprocal widget and updates link width\n     * This widget controls whether to set width smallest -> largest or largest -> smallest\n     */\n    onLinkWidthReciprocalNonReciprocalChange(e) {\n        if (e == \"Reciprocal\") {\n            this.widgets['link-width-reciprocal'] = true;\n            // this.scaleLinkWidth();\n        }\n        else {\n            this.widgets['link-width-reciprocal'] = false;\n            // this.scaleLinkWidth();\n        }\n    }\n\n    /**\n     * Updates link-width widget and link width\n     */\n    onLinkWidthChange(e) {\n        this.widgets['link-width'] = e;\n        this.scaleLinkWidth();\n\n        // let scalar = this.widgets['link-width'];\n        // let variable = this.widgets['link-width-variable'];\n        // let vlinks = this.getVLinks();\n        // if (variable == 'None') return  scalar;\n        // let n = vlinks.length;\n        // let maxWidth = this.widgets['link-width-max'];\n        // let minWidth = this.widgets['link-width-min'];\n\n        // let max = -Infinity;\n        // let min = Infinity;\n        // for (let i = 0; i < n; i++) {\n        //     let l = vlinks[i][variable];\n        //     if (!this.isNumber(l)) return;\n        //     if (l > max) max = l;\n        //     if (l < min) min = l;\n        // }\n        // let mid = (max - min) / 2 + min;\n        // let scale = d3.scaleLinear()\n        //     .domain(this.widgets['link-width-reciprocal'] ? [max, min] : [min, max])\n        //     .range([minWidth, maxWidth]);\n        \n        // this.scaleLinkWidth();\n\n        \n    }\n\n    /**\n     * Updates link-width-max widget and link width\n     */\n    onLinkWidthMaxChange(e) {\n        this.widgets['link-width-max'] = e;\n        this.updateMinMaxLink();\n        this.scaleLinkWidth();\n\n        \n    }\n\n    /**\n     * Updates link-width-min widget and link width\n     */\n    onLinkWidthMinChange(e) {\n        this.widgets['link-width-min'] = e;\n        this.updateMinMaxLink();\n        this.scaleLinkWidth();\n        \n    }\n\n    /**\n     * Updates link-length widget and link force distance\n     */\n    onLinkLengthChange(e) {\n        // this.force.force('link').distance(e);\n        // this.force.alpha(0.3).alphaTarget(0).restart();\n        this.widgets['link-length'] = e;\n    }\n\n    /**\n     * Updates link-directed widget. When directed, links have an arrow added; when undirected, links have no arrow\n     */\n    onLinkDirectedUndirectedChange(e) {\n        if (e === \"Show\") {\n            $('#link-bidirectional-row').slideDown().css('display', 'flex');\n            this.widgets['link-directed'] = true;\n        } else {\n            this.widgets['link-directed'] = false;\n            $(\"#link-bidirectional-row\").slideUp();\n        }\n    \n        // Update Cytoscape edge styles\n        if (this.cy) {\n            const isDirected = this.widgets['link-directed'];\n            this.cy.style()\n                .selector('edge')\n                .style({\n                    'target-arrow-shape': this.widgets['link-directed'] ? 'triangle' : 'none',\n                    'source-arrow-shape': 'none', // Ensure source arrow is hidden when undirected\n                    'curve-style': isDirected ? 'unbundled-bezier' : 'straight',\n                    // Add more style properties here if needed\n                })\n                .update();\n        }\n    }\n\n\n    onLinkBidirectionalChange(e) {\n        // Determine the arrow shapes based on the selected option\n        const sourceArrowShape = e === \"Show\" ? 'triangle' : 'none';\n        const targetArrowShape = 'triangle'; // Assuming target arrows are always shown\n    \n        // Update the widget state\n        this.widgets['link-bidirectional'] = (e === \"Show\");\n    \n        // Update Cytoscape edge styles\n        if (this.cy) {\n            const isDirected = this.widgets['link-directed'];\n\n            this.cy.style()\n                .selector('edge')\n                .style({\n                    'source-arrow-shape': sourceArrowShape,\n                    'target-arrow-shape': targetArrowShape,\n                    'curve-style': isDirected ? 'unbundled-bezier' : 'straight',\n                    // Add more style properties here if needed\n                })\n                .update();\n        }\n    }\n\n    /**\n     * Updates node-highlight widget. When true and a node is mouseoved current node, all it of links, and neighbor nodes will be highlighted\n     */\n    onDontHighlightNeighborsHighlightNeighborsChange(e) {\n        if (e == \"Normal\") {\n            this.widgets['node-highlight'] = false;\n        }\n        else {\n            this.widgets['node-highlight'] = true;\n        }\n    }\n\n    /**\n     * Calculates the minimum and maximum values for the selected link-width variable.\n     */\n    calculateLinkWidthScale() {\n        const variable = this.widgets['link-width-variable'];\n        if (variable === 'None') {\n            // No scaling needed\n            return null;\n        }\n\n        const vlinks = this.getVLinks().filter(link => this.isNumber(link[variable]));\n        if (vlinks.length === 0) {\n            console.warn('No valid link-width data available for scaling.');\n            return null;\n        }\n\n        const values = vlinks.map(link => link[variable]);\n        const min = Math.min(...values);\n        const max = Math.max(...values);\n\n        return { min, max };\n    }\n\n    /**\n     * Creates a linear scale based on the widget settings and data range.\n     * @param value The value to scale.\n     * @param dataMin Minimum value of the data.\n     * @param dataMax Maximum value of the data.\n     * @param minWidth Minimum width for links.\n     * @param maxWidth Maximum width for links.\n     * @param reciprocal Whether to invert the scale.\n     * @returns The scaled width.\n     */\n    linearScale(value: number, dataMin: number, dataMax: number, minWidth: number, maxWidth: number, reciprocal: boolean): number {\n        if (dataMax === dataMin) {\n            // Avoid division by zero; return average width\n            return (minWidth + maxWidth) / 2;\n        }\n        let scaledValue = (value - dataMin) / (dataMax - dataMin);\n        if (reciprocal) {\n            scaledValue = 1 - scaledValue;\n        }\n        return scaledValue * (maxWidth - minWidth) + minWidth;\n    }\n\n    /**\n     * Take input from 2D Networks settings dialog box from template and update the widget and show/hides gridlines\n     * @param e string either 'Show' or 'Hide'\n     */\n    onNetworkGridlinesShowHideChange(e: string): void {\n        if (e === \"Show\") {\n            this.widgets['network-gridlines-show'] = true;\n        } else {\n            this.widgets['network-gridlines-show'] = false;\n        }\n    }\n\n    /**\n     * Changes value of charge force (d3.many-body-force). Sets charge to -e meaning each node will repell every other node\n     * @param {number} e value from 0-400\n     */\n    onNodeChargeChange(e: number) {\n\n        // this.force.force('charge').strength(-e);\n        // this.force.alpha(0.3).alphaTarget(0).restart();\n        this.widgets['node-charge'] = e;\n    }\n\n    /**\n     * Changes value of gravity force (d3-force-attract) which pulls nodes to the center. Sets strength e\n     * @param {number} e value from 0.025-1\n     */\n    onNetworkGravityChange(e: number) {\n\n        // this.force.force('gravity').strength(e);\n        // this.force.alpha(0.3).alphaTarget(0).restart();\n        this.widgets['network-gravity'] = e;\n    }\n\n    /**\n     * Changes value of velocityDecay (d3 velocityDecay). Sets too low causing network to oscillate\n     * @param {number} e value from 0-1 (default 0.4)\n     */\n    onNetworkFrictionChange(e) {\n\n        // this.force.velocityDecay(e);\n        // this.force.alpha(0.3).alphaTarget(0).restart();\n        this.widgets['network-friction'] = e;\n    }\n\n    /**\n     * Changes value of network-link-strength (d3.forceLink) which pulls the pair of nodes together\n     * @param {number} e value from 0-1 (default 0.4)\n     */\n    onNetworkLinkStrengthVariableChange(e) {\n\n        //console.log('st change: ', e);\n        let v = parseFloat(e);\n        // this.force.force('link').strength(v);\n        // this.force.alpha(0.3).alphaTarget(0).restart();\n        this.widgets['network-link-strength'] = e;\n    }\n\n    /**\n     * If exportFileType = 'svg' don't show advanced setting; otherwise do show them\n     * @param e string of filetype\n     */\n    // onNetworkExportFiletypeChange(e) {\n    //     if (e == \"svg\") {\n    //         this.ShowAdvancedExport = false;\n    //     }\n    //     else\n    //         this.ShowAdvancedExport = true;\n    // }\n\n    /**\n     * Updates the color of nodes and transparency based on node-color-variable, the value from nodeColorMap and nodeAlphaMap, and whether the node is selected\n     */\n    updateNodeColors() {\n\n\n        let variable = this.widgets['node-color-variable'];\n        let color = this.widgets['node-color']\n\n        let stroke = this.widgets['selected-node-stroke-color'];\n        let stroke_width = parseInt(this.widgets['selected-node-stroke-width']);\n\n        if (variable == 'None') {\n\n            this.data.nodes.forEach(x => {\n\n                x.color = color;\n\n            })\n\n        } else {\n\n            this.data.nodes.forEach((x, index) => {\n\n                x.color = this.commonService.temp.style.nodeColorMap(this.commonService.session.data.nodes[index][variable]);\n\n            })\n        }\n\n        this.cy.nodes().forEach(node => {\n            const newColor = this.getNodeColor(node.data());\n            node.data('nodeColor', newColor);\n            node.data('borderColor', newColor);\n        });\n        this.cy.style().update(); // Refresh Cytoscape styles to apply changes\n\n\n    };\n\n\n    /**\n     * Updates the color of links and transparency based on link-color-variable and value from linkColorMap and linkAlphaMap\n     */\n    // updateLinkColor() {\n\n        // let variable = this.widgets['link-color-variable'];\n        // // console.log('updating variable: ',variable );\n        // let links = this.svg.select('g.links').selectAll('line');\n        // if (variable == 'None') {\n        //     let color = this.widgets['link-color'],\n        //         opacity = 1 - this.widgets['link-opacity'];\n        //     links\n        //         .attr('stroke', color)\n        //         .attr('opacity', opacity);\n\n        //     // this.context.microbeTrace.clearTable(\"#link-color-table-bottom\");\n        // } else {\n        //     // this.context.microbeTrace.generateNodeLinkTable(\"#link-color-table-bottom\", false);\n        //     if (variable == 'source' || variable == 'target') {\n        //         links\n        //         .data(this.getVLinks())\n        //         .attr('stroke', l => this.commonService.temp.style.linkColorMap(l[variable]['_id']))\n        //         .attr('opacity', l => this.commonService.temp.style.linkAlphaMap(l[variable]['_id']))\n        //         .attr('stroke-dasharray', l => {\n        //             //This quirky little algorithm creates the dasharray code necessary to make dash-y links.\n        //             let length = 15;\n        //             let out = new Array(l.origins * 2);\n        //             let ofs = new Array(l.origins).fill(1);\n        //             let ons = new Array(l.origins).fill(0);\n        //             ons[l.oNum] = 1;\n        //             ofs[l.oNum] = 0;\n        //             for (let i = 0; i < l.origins; i++) {\n        //                 out[2 * i] = ons[i] * length;\n        //                 out[2 * i + 1] = ofs[i] * length;\n        //             }\n        //             return out.join(', ');\n        //         });\n        //     } else {\n        //         links\n        //             .data(this.getVLinks())\n        //             .attr('stroke', l => this.commonService.temp.style.linkColorMap(l[variable]))\n        //             .attr('opacity', l => this.commonService.temp.style.linkAlphaMap(l[variable]))\n        //             .attr('stroke-dasharray', l => {\n        //                 //This quirky little algorithm creates the dasharray code necessary to make dash-y links.\n        //                 let length = 15;\n        //                 let out = new Array(l.origins * 2);\n        //                 let ofs = new Array(l.origins).fill(1);\n        //                 let ons = new Array(l.origins).fill(0);\n        //                 ons[l.oNum] = 1;\n        //                 ofs[l.oNum] = 0;\n        //                 for (let i = 0; i < l.origins; i++) {\n        //                     out[2 * i] = ons[i] * length;\n        //                     out[2 * i + 1] = ofs[i] * length;\n        //                 }\n        //                 return out.join(', ');\n        //             });\n        //     }\n        // }\n\n    //     this.debouncedRerender();\n    // };\n\n    /**\n     * Updates the width of the links using link-width, link-width-variable, link-width-max, link-width-min, and link-width-reciprocal\n     */\n    /**\n * Scales link widths based on the selected variable and updates Cytoscape styles.\n */\nscaleLinkWidth() {\n    const variable = this.widgets['link-width-variable'];\n    if (!this.cy) return;\n    if (variable === 'None') {\n        // Apply a default width to all links\n        this.cy.style().selector('edge').style({\n            'width': this.widgets['link-width']\n        }).update();\n        return;\n    }\n\n    const scaleValues = this.calculateLinkWidthScale();\n    if (!scaleValues) {\n        // If scaling isn't applicable, set a default width\n        this.cy.style().selector('edge').style({\n            'width': this.widgets['link-width']\n        }).update();\n        return;\n    }\n\n    const { min, max } = scaleValues;\n\n    //     let vlinks = this.getVLinks();\n    //     if (variable == 'None') return  scalar;\n    //     let n = vlinks.length;\n    const maxWidth = this.widgets['link-width-max'];\n    const minWidth = this.widgets['link-width-min'];\n    const reciprocal = this.widgets['link-width-reciprocal'];\n\n    // Iterate over each edge and set the scaled width\n    this.cy.edges().forEach(edge => {\n        const dataValue = edge.data(variable) as unknown as number;\n        if (this.isNumber(dataValue)) {\n            const scaledWidth = this.linearScale(dataValue, min, max, minWidth, maxWidth, reciprocal);\n            edge.data('scaledWidth', scaledWidth);\n        } else {\n            // Handle non-numeric values if necessary\n            edge.data('scaledWidth', minWidth);\n        }\n    });\n\n    // Update Cytoscape stylesheet to use the scaledWidth data\n    this.cy.style().selector('edge').style({\n        'width': 'data(scaledWidth)'\n    }).update();\n}\n    /**\n     * centers the view\n     * @param thing undefined\n     * @param bounds undefined\n     * @returns \n     */\n    fit() {\n        if (this.cy) this.cy.fit(this.cy.nodes(), 30);\n    };\n\n    /**\n     * XXXXX Function is never called; Review if necessary XXXXX\n     * @param nodeData \n     * @returns \n     */\n    isFiltered(nodeData: any): boolean {\n        if (nodeData) {\n            return this.commonService.session.data.nodeFilteredValues.find(x => x.index === nodeData.index) !== undefined;\n        }\n        return true\n    }\n\n    /**\n     * On click of settings button, show/hide settings dialog\n     */\n    openSettings() {\n        (this.Node2DNetworkExportDialogSettings.isVisible) ? this.Node2DNetworkExportDialogSettings.setVisibility(false) : this.Node2DNetworkExportDialogSettings.setVisibility(true);\n        this.ShowStatistics = !this.Show2DSettingsPane;\n        this.updateLinkWidthRows(this.SelectedLinkWidthByVariable);\n    }\n\n    /**\n     * Updates ShowStatistics variables to opposite of current value\n     * \n     * XXXXX Not currently executed; reevaluate if this function is needed XXXXX\n     */\n    enableSettings() {\n        this.ShowStatistics = !this.ShowStatistics;\n        this.cdref.detectChanges();\n    }\n\n    /**\n     * On click of export button, show export dialog\n     */\n    openExport() {\n        this.isExportClosed = false;\n        this.Show2DExportPane = true;\n    }\n\n    /**\n     * On click of center button, show centers the view\n     */\n    openCenter() {\n        if (this.cy) {\n            this.cy.fit(this.cy.nodes(), 30);\n        } else {\n            console.error('Cytoscape instance is not initialized.');\n        }\n    }\n\n    /**\n     * XXXXX empty function; may be added later XXXXX\n     */\n    onRecallSession() {\n        //this.loadSettings();\n    }\n\n    openRefreshScreen() {\n        this.loadSettings();\n        setTimeout(this.fit, 2000);\n    }\n\n    /**\n     * renders the network\n     */\n    updateVisualization() {\n        console.log('updateVisualization');\n        this._rerender();\n        \n        if (this.SelectedNodeLabelVariable != 'None') { this.updateNodeLabels(); }\n    }\n\n    /**\n * Synchronizes current Cytoscape instance with new data (adds/removes/updates\n * nodes and links) instead of completely rerendering.\n */\nprivate _partialUpdate() {\n    if (!this.cy) {\n      console.error('Cytoscape instance not initialized; cannot update partially.');\n      return;\n    }\n\n    // Cache positions BEFORE making changes to the graph\n    if (!this.nodePositions) {\n        this.nodePositions = new Map<string, { x: number; y: number }>();\n    }\n    this.cy.nodes().forEach(node => {\n        const currentPosition = node.position();\n        if (!this.nodePositions.has(node.id())) {\n            this.nodePositions.set(node.id(), currentPosition); // Cache position\n        }\n    });\n\n    // Use batch mode to disable auto-panning during updates\n    this.cy.batch(() => {\n        // Retrieve fresh node/link data\n        const networkData = {\n            nodes: this.commonService.getVisibleNodes(),\n            links: this.commonService.getVisibleLinks()\n        };\n\n        this.data = this.commonService.convertToGraphDataArray(networkData);\n        const newElements = this.mapDataToCytoscapeElements(this.data);\n\n        // Collect new IDs for membership checks\n        const newNodeIds = new Set(newElements.nodes.map(n => n.data.id));\n        // @ts-ignore\n        const newLinkIds = new Set(newElements.edges.map(l => `${l.source}-${l.target}`));\n\n        console.log('newNodeIds:', newNodeIds);\n\n        // Update node visibility and restore positions\n        this.cy.nodes().forEach(node => {\n            if (!newNodeIds.has(node.id()) && !node.hasClass('parent')) {\n                // Hide node but keep its cached position\n                node.addClass('hidden');\n            } else {\n                // Ensure node is visible\n                node.removeClass('hidden');\n\n                // Restore position from cache\n                const position = this.nodePositions.get(node.id());\n                if (position) {\n                    node.position(position);\n                }\n            }\n        });\n\n        // Remove old edges\n        this.cy.edges().forEach(edge => {\n            if (!newLinkIds.has(edge.id())) {\n                this.cy.remove(edge);\n            }\n        });\n\n        // Add/Update new edges\n        newElements.edges.forEach(e => {\n            const cyEdge = this.cy.getElementById(e.data.id);\n            if (!cyEdge || !cyEdge.length) {\n                this.cy.add(e); // Add edge\n            } else {\n                cyEdge.data({ ...cyEdge.data(), ...e.data }); // Update edge data\n            }\n        });\n    });\n\n        // Restore positions for all visible nodes explicitly\n        this.cy.nodes(':visible').forEach(node => {\n            const position = this.nodePositions.get(node.id());\n            if (position) {\n                node.position(position);\n            }\n        });\n\n        this.fit();\n\n}\n\n    applyStyleFileSettings() {\n        this.widgets = this.commonService.session.style.widgets;\n        this.loadSettings();\n    }\n\n    ngOnDestroy(): void {\n        $(document).off(\"link-visibility\");\n        $(document).off(\"cluster-visibility\");\n        $(document).off(\"node-selected\");\n    }\n\n    /**\n     * renders the network\n     */\n    onLoadNewData() {\n        if (this.debugMode) {\n            console.log('render new data');\n        }\n\n        console.log('onLoadNewData');\n        // this.debouncedRerender();\n    }\n\n    /**\n     * renders the network; sets this.showStatistics to false\n     */\n    onFilterDataChange() {\n        if (this.debugMode) {\n            console.log('render filter change');\n        }\n\n        console.log('onFilterDataChange');\n        // render doesn't do anything unless this.isLoading == true; so need to ensure that before call render\n        this.debouncedRerender();\n    }\n\n    /**\n     * Sets twoD component variable based on the value in the appropriate widget and then calls appropriate function to update the view\n     * \n     * XXXXX this function should probably be reevaluated/refacted as well because sections of code are being evaluated multiple times \n     * (ie. onPolygonLabelVariableChange, onPolygonLabelVariableChange, onPolygonLabelOrientationChange all call redrawPolygonLabels) XXXXX\n     */\n    loadSettings() {\n\n        //Polygons|Label Size\n        this.SelectedPolygonLabelSizeVariable = this.widgets['polygons-label-size'];\n        this.onPolygonLabelSizeChange(this.SelectedPolygonLabelSizeVariable);\n\n        //Node|Orientation\n        this.SelectedPolygonLabelOrientationVariable = this.widgets['polygon-label-orientation'];\n        this.onPolygonLabelOrientationChange(this.SelectedPolygonLabelOrientationVariable);\n\n        this.polygonsToggle(this.widgets['polygons-show']);\n        if (this.widgets['polygons-show']) {\n            this.updatePolygonColors();\n            this.polygonColorsToggle(this.widgets['polygon-color-table-visible'])\n            this.updateGroupNodeColors();\n        }\n\n        //Nodes|Label\n        this.SelectedNodeLabelVariable = this.widgets['node-label-variable'];\n        this.onNodeLabelVaribleChange(this.SelectedNodeLabelVariable);\n\n        //Node|Label Size\n        this.SelectedNodeLabelSizeVariable = this.widgets['node-label-size'];\n        this.setNodeLabelSize(this.SelectedNodeLabelSizeVariable);\n\n        if (!Array.isArray(this.widgets['node-tooltip-variable'])) {\n            this.widgets['node-tooltip-variable'] = [this.widgets['node-tooltip-variable']];\n        }\n        this.SelectedNodeTooltipVariable = this.widgets['node-tooltip-variable'];\n        this.onNodeTooltipVariableChange(this.SelectedNodeTooltipVariable);\n\n        //Nodes|Shape By Table\n        if (this.widgets['node-symbol-variable'] != undefined && this.widgets['node-symbol-variable'] != 'None') {\n            this.widgets[\"node-symbol-table-visible\"] = 'Show';\n        }\n        this.SelectedNetworkTableTypeVariable = this.widgets[\"node-symbol-table-visible\"];\n        this.onNodeSymbolTableChange(this.SelectedNetworkTableTypeVariable);\n\n        //Nodes|Shape By\n        this.SelectedNodeSymbolVariable = this.widgets['node-symbol-variable'];\n        this.onNodeSymbolVariableChange(this.widgets['node-symbol-variable'], this.SelectedNetworkTableTypeVariable === \"Show\");\n\n\n        //Nodes|Shape\n        this.SelectedNodeShapeVariable = this.widgets['node-symbol'];\n        this.onNodeSymbolChange(this.SelectedNodeShapeVariable);\n\n        //Nodes|Size By\n        this.SelectedNodeRadiusVariable = this.widgets['node-radius-variable'];\n        this.onNodeRadiusVariableChange(this.SelectedNodeRadiusVariable);\n\n        //Nodes|Size\n        this.SelectedNodeRadiusSizeVariable = this.widgets['node-radius'].toString();\n        this.onNodeRadiusChange(this.SelectedNodeRadiusSizeVariable);\n\n        this.nodeBorderWidth = this.widgets['node-border-width']\n\n        //Links|Tooltip\n        this.SelectedLinkTooltipVariable = this.widgets['link-tooltip-variable'];\n        this.onLinkTooltipVariableChange(this.SelectedLinkTooltipVariable);\n\n        //Links|Label\n        this.SelectedLinkLabelVariable = this.widgets['link-label-variable'];\n        this.onLinkLabelVariableChange(this.SelectedLinkLabelVariable);\n\n        //Links|Decimal Length\n        this.SelectedLinkDecimalVariable = this.widgets['link-label-decimal-length'];\n        this.onLinkDecimalVariableChange(this.SelectedLinkDecimalVariable);\n\n        //Links|Transparency\n        this.SelectedLinkTransparencyVariable = this.widgets['link-opacity'];\n        this.onLinkOpacityChange(this.SelectedLinkTransparencyVariable);\n\n        //Links|Width By\n        this.SelectedLinkWidthByVariable = this.widgets['link-width-variable'];\n        this.onLinkWidthVariableChange(this.SelectedLinkWidthByVariable);\n\n        //Links|Reciprical\n        this.SelectedLinkReciprocalTypeVariable = this.widgets['link-width-reciprocal'] ? \"Reciprocal\" : \"Non-Reciprocal\"\n        this.onLinkWidthReciprocalNonReciprocalChange(this.SelectedLinkReciprocalTypeVariable);\n\n        //Links|Width\n        this.SelectedLinkWidthVariable = this.widgets['link-width'];\n        this.onLinkWidthChange(this.SelectedLinkWidthVariable);\n\n        //Links|Width Max\n        this.SelectedLinkWidthMax = this.widgets['link-width-max'];\n        this.onLinkWidthMaxChange(this.SelectedLinkWidthMax);\n\n        //Links|Width Min\n        this.SelectedLinkWidthMin = this.widgets['link-width-min'];\n        this.onLinkWidthMinChange(this.SelectedLinkWidthMin);\n\n        //Links|Length\n        this.SelectedLinkLengthVariable = this.widgets['link-length'];\n        this.onLinkLengthChange(this.SelectedLinkLengthVariable);\n\n        //Links|Arrows\n        this.SelectedLinkArrowTypeVariable = this.widgets['link-directed'] ? \"Show\" : \"Hide\";\n        this.onLinkDirectedUndirectedChange(this.SelectedLinkArrowTypeVariable);\n\n\n        //Network|Neighbors\n        this.SelectedNetworkNeighborTypeVariable = this.widgets['node-highlight'] ? \"Highlighted\" : \"Normal\";\n        this.onDontHighlightNeighborsHighlightNeighborsChange(this.SelectedNetworkNeighborTypeVariable);\n\n        //Network|Gridlines\n        this.SelectedNetworkGridLineTypeVariable = this.widgets['network-gridlines-show'] ? \"Show\" : \"Hide\";\n        this.onNetworkGridlinesShowHideChange(this.SelectedNetworkGridLineTypeVariable);\n\n        //Network|Link Strength\n        this.SelecetedNetworkLinkStrengthVariable = this.widgets['network-link-strength'];\n        this.onNetworkFrictionChange(this.SelecetedNetworkLinkStrengthVariable);\n\n        // Ensure proper orientation is set\n        if (this.widgets['polygon-label-orientation'] !== 'top' || this.widgets['polygon-label-orientation'] !== 'bottom' || this.widgets['polygon-label-orientation'] !== 'middle') {\n            this.widgets['polygon-label-orientation'] = 'top';\n        }\n\n        //Network|Polygon Orientation\n        this.SelectedPolygonLabelOrientationVariable = this.widgets['polygon-label-orientation'];\n        this.onPolygonLabelOrientationChange(this.SelectedPolygonLabelOrientationVariable);\n    }\n\n    /**\n     * Updates the sizes of all nodes based on the current widget settings.\n     */\n    updateLinkColor() {\n        if (!this.cy) return;\n        this.cy.edges().forEach(link => {\n            const colorObject = this.getLinkColor(link.data());\n            link.data('lineColor', colorObject.color);\n            link.data('lineOpacity', colorObject.opacity);\n        });\n        // this.cy.style().update(); // Refresh Cytoscape styles to apply changes\n    }\n\n    /**\n     * Updates the sizes of all nodes based on the current widget settings.\n     */\n    updateNodeSizes() {\n        if (!this.cy) return;\n        this.cy.nodes().forEach(node => {\n            const newSize = this.getNodeSize(node.data());\n            node.data('nodeSize', newSize);\n        });\n        this.cy.style().update(); // Refresh Cytoscape styles to apply changes\n    }\n\n     /**\n     * Updates the border widths of all nodes based on the current widget settings.\n     */\n     updateNodeBorders() {\n        if (!this.cy) return;\n        this.cy.nodes().forEach(node => {\n            const newBorderWidth = this.getNodeBorderWidth(node.data());\n            node.data('borderWidth', newBorderWidth);\n        });\n        this.cy.style().update(); // Refresh Cytoscape styles to apply changes\n    }\n\n    /**\n     * Updates the labels of all nodes based on the current widget settings.\n     */\n    updateNodeLabels() {\n        if (!this.cy) return;\n        this.cy.nodes().forEach(node => {\n            const newLabel = this.getNodeLabel(node.data());\n            node.data('label', newLabel);\n        });\n        this.cy.style().update(); // Refresh Cytoscape styles to apply changes\n    }\n\n\n    /**\n     * Updates the labels of all nodes based on the current widget settings.\n     */\n    updateLinkWidths() {\n        this.cy.edges().forEach(edge => {\n            const newWidth = this.getLinkWidth(edge.data());\n            edge.data('width', newWidth);\n        });\n        // this.cy.style().update(); // Refresh Cytoscape styles to apply changes\n    }\n\n\n    /**\n     * Updates the font sizes of all node labels based on the current widget settings.\n     */\n    updateNodeLabelSizes() {\n        if (!this.cy) return;\n        this.cy.nodes().forEach(node => {\n            const newFontSize = this.getNodeFontSize(node.data());\n            node.data('fontSize', newFontSize);\n        });\n        this.cy.style().update(); // Refresh Cytoscape styles to apply changes\n    }\n\n    updateNodeShapes() {\n        if (!this.cy) return;\n        this.cy.nodes().forEach(node => {\n            const newShape = this.getNodeShape(node.data());\n            console.log('newShape: ', newShape);\n            node.data('shape', newShape);\n        });\n        this.cy.style().update(); // Refresh Cytoscape styles to apply changes\n    }\n\n\n\n    /**\n     * Handles changes to the node label widget.\n     * @param e New label value from the widget.\n     */\n    onNodeLabelChange(e: string) {\n        this.widgets['node-label'] = e;\n        this.updateNodeLabels(); // Update labels without rerendering the entire network\n    }\n\n    /**\n     * Handles changes to the node color widget.\n     * @param e New color value from the widget.\n     */\n    onNodeColorChange(e: string) {\n        console.log('node color changeddd');\n        this.widgets['node-color'] = e;\n        this.updateNodeColors(); // Update node colors without rerendering the entire network\n    }\n\n    /**\n     * Retrieves the border width for a node based on current widget settings.\n     * @param node The node data object.\n     * @returns The border width.\n     */\n    getNodeBorderWidth(node: any): number {\n        return this.widgets['node-border-width'] || 2; // Default to 2 if not set\n    }\n\n\n    /**\n     * Retrieves the font size for a node label based on current widget settings.\n     * @param node The node data object.\n     * @returns The font size in pixels.\n     */\n    getNodeFontSize(node: any): number {\n        return this.widgets['node-label-size'] || 12; // Default to 12px if not set\n    }\n\n}\n\nexport namespace TwoDComponent {\n    export const componentTypeName = '2D Network';\n}\n\n\n","import { Component, OnInit, ViewChild, ElementRef, Inject, AfterViewInit } from '@angular/core';\nimport { Table } from 'primeng/table';\nimport { ComponentContainer } from 'golden-layout';\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\n\nimport { CommonService } from '../../contactTraceCommonServices/common.service';\nimport { MicobeTraceNextPluginEvents } from '../../helperClasses/interfaces';\nimport { BaseComponentDirective } from '@app/base-component.directive';\n\n\n@Component({\n  selector: 'app-waterfall-component',\n  templateUrl: './waterfall.component.html',\n  styleUrls: ['./waterfall.component.scss']\n})\nexport class WaterfallComponent extends BaseComponentDirective implements OnInit, AfterViewInit, MicobeTraceNextPluginEvents {\n\n  @ViewChild('clusterTable') clusterTable: Table;\n  @ViewChild('nodeTable') nodeTable: Table;\n  @ViewChild('linkTable') linkTable: Table;\n\n  clusterTableData: any;\n  nodeTableData: any;\n  linkTableData: any;\n\n  clusterTableWidth: any;\n  nodeTableWidth: number;\n  linkTableWidth: any;\n\n  scrollHeight= '800px';\n  IsDataAvailable =  true;\n\n  metaDataToSkip = ['index', 'id', 'visible', 'degree', 'seq', 'cluster', 'directed', 'source', 'target']\n\n  selectedNodeRow: any;\n  selectedLinkRow: any;\n\n  expandedClusterRowData: any = [];\n  expandedNodeRowData: any = [];\n  expandedLinkRowData: any = [];\n\n  constructor(\n    @Inject(BaseComponentDirective.GoldenLayoutContainerInjectionToken) private container: ComponentContainer, \n    elRef: ElementRef,\n    private commonService: CommonService,\n    private gtmService: GoogleTagManagerService\n    ) {\n\n    super(elRef.nativeElement);\n    this.commonService.visuals.waterfall = this;\n  }\n\n  ngOnInit() {\n    this.gtmService.pushTag({\n      event: \"page_view\",\n      page_location: \"/waterfall\",\n      page_title: \"Waterfall View\"\n    });\n\n    this.clusterTableData = [];\n    this.nodeTableData = [];\n    this.linkTableData = [];\n\n    this.commonService.session.data.clusters.forEach((cl) => {\n      this.clusterTableData.push({'id': cl.id, 'nodeCount': cl.nodes})\n    })\n\n    // TODO: XXX revisit; doesn't always do as expected when view is resized; also make sure height is correct (currently set to 800px static)\n    this.container.on('resize', () => { \n      this.updateTableWidths()\n    })\n\n  }\n\n  ngAfterViewInit() {\n    this.updateTableWidths();\n  }\n\n  updateTableWidths() {\n    this.clusterTableWidth = (this.clusterTable as any)._totalTableWidth().reduce((total, current ) => total += current, 0) - 28;\n    this.nodeTableWidth = (this.nodeTable as any)._totalTableWidth().reduce((total, current ) => total += current, 0) - 28;\n    this.linkTableWidth = (this.linkTable as any)._totalTableWidth().reduce((total, current ) => total += current, 0) - 28;\n  }\n\n  onClusterRowSelect(e) {\n    let clusterID = e.data.id;\n    this.nodeTableData = [];\n    // why are these different and why is session.data.nodes and nodeFilteredValues wrong for degree? session.network.nodes might be correct for a different distance and isn't updated?\n    // TODO: XXX need to update how degree is calculated so it's correct centrally instead of calculating here\n    this.commonService.session.data.nodeFilteredValues.forEach(node => {\n    //this.commonService.session.network.nodes.forEach(node => {\n      if (node.cluster == clusterID) {\n        let degreeCount =  this.commonService.session.data.links.filter(link => { return link.visible && (link.source == node._id|| link.target == node._id)}).length;\n        if (node.index == 0) { console.log('here: ', node, degreeCount)}\n        this.nodeTableData.push({'id': node._id, 'degree': degreeCount})\n      }\n    })\n\n    let cluster = this.commonService.session.data.clusters.find(cl => cl.id == clusterID)\n    this.expandedClusterRowData = [];\n    Object.keys(cluster).filter(k => !(this.metaDataToSkip.includes(k) || k.charAt(0) == '_' || typeof cluster[k] == 'object')).forEach(k => {\n      let prop = this.commonService.titleize(k)\n      this.expandedClusterRowData.push({'key': prop, 'value': cluster[k]});\n    })\n\n    this.selectedNodeRow = null;\n    this.selectedLinkRow = null;\n    this.linkTableData = [];\n    this.expandedNodeRowData = [];\n    this.expandedLinkRowData = [];\n  }\n\n  onClusterRowUnselect() {\n    this.selectedNodeRow = null;\n    this.selectedLinkRow = null;\n    this.nodeTableData = [];\n    this.linkTableData = [];\n\n    this.expandedClusterRowData = [];\n    this.expandedNodeRowData = [];\n    this.expandedLinkRowData = [];\n  }\n\n  onNodeRowSelect(e) {\n    let node = e.data.id;\n    this.linkTableData = []\n    this.commonService.session.data.links.forEach(link => {\n      if (link.visible) {\n        if (node)\n        if (link.source == node) {\n          this.linkTableData.push({'id': link.target, 'distance': link.distance, 'index': link.index})\n        } else if (link.target == node) {\n          this.linkTableData.push({'id': link.source, 'distance': link.distance, 'index': link.index})\n        }\n      }\n    })\n\n    let nodeData = this.commonService.getVisibleNodes().find(n => n._id == node); \n    this.expandedNodeRowData = []\n    Object.keys(nodeData).filter(k => !(this.metaDataToSkip.includes(k) || k.charAt(0) == '_' || typeof nodeData[k] == 'object')).forEach(k => {\n      let prop = this.commonService.titleize(k)\n      this.expandedNodeRowData.push({'key': prop, 'value':nodeData[k]});\n    })\n\n    this.selectedLinkRow = null;\n    this.expandedLinkRowData = [];\n  }\n\n  onNodeRowUnselect() {\n    this.linkTableData = [];\n    this.selectedLinkRow = null;\n    this.expandedNodeRowData = [];\n    this.expandedLinkRowData = [];\n  }\n\n  onLinkRowSelect(e) {\n    let linkIndex = e.data.index;\n    let linkData = this.commonService.session.data.links.find(l => l.index == linkIndex)\n    this.expandedLinkRowData = [];\n    Object.keys(linkData).filter(k => !(this.metaDataToSkip.includes(k) || k.charAt(0) == '_' || typeof linkData[k] == 'object')).forEach(k => {\n      let prop = this.commonService.titleize(k)\n      this.expandedLinkRowData.push({'key': prop, 'value': linkData[k]});\n    })\n\n  }\n\n  onLinkRowUnselect() {\n    this.expandedLinkRowData = [];\n  }\n\n  updateNodeColors() {}\n  updateVisualization() {}\n  applyStyleFileSettings() {}\n  updateLinkColor() {}\n  openRefreshScreen() {}\n  openExport() {}\n  onFilterDataChange() {}\n  onRecallSession() {}\n  onLoadNewData() {}\n}\n\nexport namespace WaterfallComponent {\n  export const componentTypeName = 'Waterfall';\n}","import { OnInit, NgModule } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { InlineWorker } from '../helperClasses/inlineWorker';\nimport Papa from 'papaparse';\nimport * as bioseq from 'bioseq';\n\n@NgModule({})\nexport class WorkerModule implements OnInit {\n\n  public compute_parse_csv_matrixWorker: Worker;\n\n  constructor() {\n\n    this.compute_parse_csv_matrixWorker = new Worker('assets/parse-csv-matrix.js');\n\n  }\n\n  ngOnInit() {\n\n\n  }\n\n  public compute_consensusWorker = new InlineWorker(() => {\n\n    const compute_consensus = (e): any => {\n\n\n      var start = Date.now();\n      var subset = (e.data != undefined ? e.data : e);\n      var n = subset.length;\n      var output = [];\n      for (var i = 0; i < n; i++) {\n        var seq = subset[i].seq.toUpperCase();\n        for (var j = 0; j < seq.length; j++) {\n          if (!output[j]) output.push({ A: 0, C: 0, G: 0, T: 0, '-': 0 });\n          output[j][seq[j]]++;\n        }\n      }\n      var consensus: any = \"\";\n      var m = output.length;\n      var entry, maxKey, maxVal;\n      for (var k = 0; k < m; k++) {\n        entry = output[k];\n        maxKey = 'A';\n        maxVal = entry[maxKey];\n        Object.keys(entry).forEach(char => {\n          if (maxVal <= entry[char]) {\n            maxVal = entry[char];\n            maxKey = char;\n          }\n        });\n        consensus += maxKey;\n      }\n      console.log('Consensus Compute time: ', (Date.now() - start).toLocaleString(), 'ms');\n      start = Date.now();\n      var encoder = new TextEncoder();\n      consensus = encoder.encode(consensus).buffer;\n\n      let response = {}; \n      response = { consensus: consensus, start: start, data: consensus };\n\n      postMessage(response, null, null);\n\n    }\n\n    onmessage = (evt) => {           \n      compute_consensus(evt.data);\n    }\n\n\n  });\n\n  public compute_ambiguity_countsWorker = new InlineWorker(() => {\n\n    const compute_ambiguity_counts = (e): any => {\n\n      const start = Date.now();\n      const subset = (e.data != undefined ? e.data : e);\n      const n = subset.length;\n      let output = new Float32Array(n);\n      for (let i = 0; i < n; i++) {\n        const sequence = subset[i][\"_seqInt\"];\n        const sequenceLength = sequence.length;\n        let count = 0;\n        for (let j = 0; j < sequenceLength; j++) {\n          count += ((sequence[j] > 3) ? 1 : 0);\n        }\n        output[i] = count / sequenceLength;\n      }\n      console.log(\"Ambiguity Count time: \", (Date.now() - start).toLocaleString(), \"ms\");\n\n      let response = {};\n      response = { counts: output.buffer, start: Date.now(), data: output.buffer };\n\n      postMessage(response, null, null);\n    }\n\n    onmessage = (evt) => {\n      compute_ambiguity_counts(evt.data);\n    }\n\n  });\n\n  public compute_linksWorker = new InlineWorker(() => {\n\n    const compute_links = (e): any => {\n\n      let snps = (s1, s2) => {\n\n        let n = Math.min(s1.length, s2.length);\n        let sum = 0;\n        for (let i = 0; i < n; i++) {\n          let c1 = s1[i];\n          let c2 = s2[i];\n          sum += ((c1 != c2) && (c1 != 17) && (c2 != 17) ? 1 : 0);\n        }\n        return sum;\n      };\n\n      let start = Date.now(),\n        t = 0,\n        output;\n\n      const subset = e.nodes,\n        n = subset.length,\n        threshold = parseFloat(e.threshold),\n        strategy = e.strategy.toUpperCase(),\n        metric = e.metric;\n\n      if (metric == 'snps') {\n\n        output = new Uint16Array((n * n - n) / 2);\n        for (let i = 0; i < n; i++) {\n          let source = subset[i];\n          for (let j = 0; j < i; j++) {\n\n            output[t++] = snps(source['_seqInt'], subset[j]['_seqInt'])\n          }\n        }\n\n      } else {\n\n\n        output = new Float32Array((n * n - n) / 2);\n\n        if (strategy != \"HIVTRACE-G\") {\n          for (let i = 0; i < n; i++) {\n            let source = subset[i]['_seqInt'];\n            for (let j = 0; j < i; j++) {\n              // @ts-ignore\n              output[t++] = tn93.onInts(source, subset[j]['_seqInt'], strategy);\n            }\n          }\n        } else {\n          for (let i = 0; i < n; i++) {\n            let source = subset[i];\n            let sourceInThreshold = source['_ambiguity'] < threshold;\n            let sourceSeq = source['_seqInt'];\n            for (let j = 0; j < i; j++) {\n              let target = subset[j];\n              // @ts-ignore\n              output[t++] = tn93.onInts(sourceSeq, target['_seqInt'],\n                ((sourceInThreshold && target['_ambiguity'] < threshold) ?\n                  \"RESOLVE\" : \"AVERAGE\"\n                )\n              );\n            }\n          }\n        }\n\n      }\n\n      console.log('Links Compute time: ', (Date.now() - start).toLocaleString(), 'ms');\n      start = Date.now();\n\n      let response = {};\n      response = { links: output.buffer, start, data: output.buffer };\n\n      postMessage(response, null, null);\n    }\n\n    onmessage = (evt) => {\n      compute_links(evt.data);\n    }\n\n\n  });\n\n  public compute_treeWorker = new InlineWorker((patristic, tn93) => {\n\n    const compute_tree = (e): any => {\n      // self.importScript(\"../../node_modules/patristic/dist/patristic.js\");\n\n      let start = Date.now();\n\n      const matrix = e.matrix;\n\n      console.log('parsingggg');\n      let output;\n      // related to zenhub#810, one issue related to this dataset not loading was the parseMatrix leading to a call stack exceeded error \n      try {\n        // @ts-ignore\n        const RNJ = parseMatrix(matrix, e.labels);\n        console.log('Tree Compute time: ', (Date.now() - start).toLocaleString(), 'ms');\n        start = Date.now();\n        const encoder = new TextEncoder();\n        output = encoder.encode(JSON.stringify(RNJ.toObject())).buffer;\n      } catch {\n        console.log('unable to compute tree');\n        const encoder = new TextEncoder();\n        output = encoder.encode(JSON.stringify({})).buffer;\n      }\n\n\n      let response = {};\n      response = { tree: output, start: start, data: output };\n\n      postMessage(response, null, null);\n    }\n\n    onmessage = (evt) => {\n      compute_tree(evt.data);\n    }\n\n  });\n\n  public compute_directionalityWorker = new InlineWorker(() => {\n\n    const compute_directionality = (e): any => {\n\n      const start = Date.now();\n      const links = e.links;\n      const n = links.length;\n      // @ts-ignore\n      const tree = parseJSON(e.tree);\n      let flips = new Uint8Array(n);\n      for (let i = 0; i < n; i++) {\n        const link = links[i];\n        const source = tree.getDescendant(link.source);\n        const target = tree.getDescendant(link.target);\n        // @ts-ignore\n        if (source instanceof Branch && target instanceof Branch) {\n          if (target.sources(source)) {\n            flips[i] = 1;\n          }\n        }\n      }\n      console.log('Directionality Inference time: ', (Date.now() - start).toLocaleString(), 'ms');\n\n      let response = {};\n      response = { output: flips.buffer, start: Date.now(), data: flips.buffer };\n\n      postMessage(response, null, null);\n    }\n\n    onmessage = (evt) => {\n      compute_directionality(evt.data);\n    }\n\n  });\n\n\npublic compute_mstWorker = new InlineWorker(() => {\n\n  const compute_mst = (e): any => {\n\n    const start = Date.now();\n    const links = e.links;\n    const dm = e.matrix;\n    const labels = Object.keys(dm);\n    const epsilon = Math.pow(10, e.epsilon);\n    const metric = e.metric;\n    const n = labels.length\n    const m = links.length;\n    let output = new Uint8Array(m);\n    let matrix = [];\n    let map : string[] = [];\n    for (let i = 0; i < n; i++) {\n      let minDist = Number.MAX_VALUE;\n      let targets = [];\n      const nodeid = labels[i];\n      const row = dm[nodeid];\n      for (let j = 0; j < n; j++) {\n        let cell = row[labels[j]];\n        if(!cell) {\n          targets.push(0);\n          continue;\n        };\n        let value = cell[metric];\n        targets.push(value);\n      }\n      matrix.push(targets);\n      map.push(nodeid);\n    }\n\n    const minKey = (key, mstSet, V) => {\n      let min = Number.MAX_VALUE;\n      let min_index = -1;\n      for (let v = 0; v < V; v++)\n        if (!mstSet[v] && key[v] < min) {\n          min = key[v];\n          min_index = v;\n        }\n      return min_index;\n    }\n\n    const primMST = (graph) => {\n      const V = graph.length;\n      let parent = [];\n      let key = [];\n      let mstSet = [];\n      for (let i = 0; i < V; i++) {\n        key[i] = Number.MAX_VALUE;\n        mstSet[i] = false;\n      }\n      key[0] = 0.0; \n      parent[0] = -1;\n      for (let count = 0; count < V-1; count++) {\n        let u = minKey(key, mstSet, V);\n        if (u < 0) continue;\n        mstSet[u] = true;\n\n        if (graph[u].reduce((a, b) => a + b, 0) === 0 && u != 0) continue;\n\n        for (let v = 0; v < V; v++) {\n          if (graph[u][v] >= 0 && !mstSet[v] && graph[u][v] <  key[v]) {\n            parent[v]  = u;\n            key[v] = graph[u][v];\n          }\n        }\n      }\n      return parent;\n    }\n\n    const nearest_neighbour_graph = (graph, mst_parents, epsilon) => {\n      const V = graph.length;\n      let mst = [];\n      for (let i=0; i<V; ++i) {\n        mst.push([]);\n      }\n      for (let i=1; i<V; ++i) {\n        mst[i].push(mst_parents[i]);\n        mst[mst_parents[i]].push(i);\n      }\n      let nng = [];\n      let longest_edge = [];\n      for (let i=0; i<V; ++i) {\n        nng.push([]);\n        longest_edge.push([]);\n        for (let j=0; j<V; ++j) {\n          longest_edge[i][j] = 0;\n        }\n      }\n      for (let i=0; i<V; ++i) {\n        bfs_update_matrix(mst, graph, i, longest_edge);\n      }\n      for (let i=0; i<V; ++i) {\n        for (let j=0; j<V; ++j) {\n          if ((graph[i][j] > 0 ) && (graph[i][j] <= (longest_edge[i][j] * (1.0 + epsilon)))) {\n            nng[i].push(j);\n            nng[j].push(i);\n          } \n        }\n      }\n      return nng;\n    }\n\n    const bfs_update_matrix = (mst, weights, root, longest_edge) => {\n      let visited = [];\n      let queue = [];\n      queue.push(root);\n      while (queue.length) {\n        let v = queue.shift();\n        visited[v] = true;\n        mst[v].forEach((u, index) => {\n          if(visited[u]) return;\n          queue.push(u);\n          const value = Math.max(weights[v][u], Math.max(longest_edge[root][u], longest_edge[root][v]));\n          longest_edge[root][u] = value;\n          longest_edge[u][root] = value;\n        })\n      }\n    }\n\n    const mst = primMST(matrix);\n    const nng = nearest_neighbour_graph(matrix, mst, epsilon);\n\n\n    for (let i = 0; i < n; i++) {\n      const source = map[i];\n      nng[i].push(mst[i]);\n      Array.from(new Set(nng[i])).forEach((u, index) => {\n        const target = map[parseInt(u as string)];\n        for(let k = 0; k < m; k++){\n          let l = links[k];\n          if((l.source == source && l.target == target) || (l.source == target && l.target == source)) {\n            output[k] = 1;\n          }\n        }\n      })\n    }\n\n    console.log('MST Compute time: ', (Date.now() - start).toLocaleString(), 'ms');\n\n    let response = {};\n    response = { links: output.buffer, start: Date.now(), data: output.buffer };\n\n    postMessage(response, null, null);\n  }\n\n  onmessage = (evt) => {\n    compute_mst(evt.data);\n  }\n\n});\n\npublic compute_nnWorker = new InlineWorker(() => {\n\n  const compute_nn = (e): any => {\n\n    const includes = (container: any, value: any) => {\n\n      var returnValue = false;\n      var pos = container.indexOf(value);\n      if (pos >= 0) {\n        returnValue = true;\n      }\n\n      return returnValue;\n    };\n\n\n\n    const start = Date.now();\n    const links = e.links,\n      dm = e.matrix,\n      labels = Object.keys(dm),\n      epsilon = Math.pow(10, e.epsilon),\n      metric = e.metric;\n    const n = labels.length, m = links.length;\n    let output = new Uint8Array(m);\n    for (let i = 0; i < n; i++) {\n      let minDist = Number.MAX_VALUE;\n      let targets = [];\n      const nodeid = labels[i];\n      const row = dm[nodeid];\n      for (let j = 0; j < i; j++) {\n        let cell = row[labels[j]];\n        if (!cell) continue;\n        let value = cell[metric];\n        if (typeof value != 'number' || isNaN(value)) continue;\n        if (value < minDist) minDist = value;\n      }\n      for (let h = 0; h < i; h++) {\n        let node = labels[h];\n        let cell = row[node];\n        if (!cell) continue;\n        let value = cell[metric];\n        if (typeof value != 'number' || isNaN(value)) continue;\n        if (Math.abs(value - minDist) < epsilon) {\n          targets.push(node);\n        }\n      }\n      for (let k = 0; k < m; k++) {\n        let l = links[k];\n\n        if ((l.source == nodeid && includes(targets, l.target)) ||\n          (l.target == nodeid && includes(targets, l.source))) {\n          output[k] = 1;\n        }\n      }\n    }\n\n    console.log('NN Compute time: ', (Date.now() - start).toLocaleString(), 'ms');\n\n    let response = {};\n    response = { links: output.buffer, start: Date.now(), data: output.buffer };\n\n    postMessage(response, null, null);\n  }\n\n  onmessage = (evt) => {\n    compute_nn(evt.data);\n  }\n\n});\n\npublic compute_triangulationWorker = new InlineWorker(() => {\n\n  const compute_triangulation = (e): any => {\n\n    let start = Date.now();\n    let m = e.matrix;\n    let n = m.length;\n    for (let i = 0; i < n; i++) {\n      for (let j = 0; j < i; j++) {\n        let missingCell = m[i][j];\n        if (typeof missingCell == 'number') continue;\n        let minRange = Infinity, min = Infinity;\n        for (let k = 0; k < i; k++) {\n          let companionA = m[i][k];\n          if (typeof companionA != 'number') continue;\n          for (let l = j + 1; l < n; l++) {\n            let companionB = m[l][j];\n            if (typeof companionB != 'number') continue;\n            let diff = Math.abs(companionA - companionB);\n            if (minRange > diff) {\n              minRange = diff;\n              min = Math.min(companionA, companionB);\n            }\n          }\n        }\n        if (minRange < Infinity) {\n          let newVal = min + minRange / 2;\n          m[i][j] = newVal;\n          m[j][i] = newVal;\n        }\n      }\n    }\n    console.log('Triangulation Compute time: ', (Date.now() - start).toLocaleString(), 'ms');\n    start = Date.now();\n    let encoder = new TextEncoder();\n    let output = encoder.encode(JSON.stringify(m)).buffer;\n\n    let response = {}\n    response = { matrix: output, start: start, data: output };\n\n    postMessage(response, null, null);\n  }\n\n  onmessage = (evt) => {\n    compute_triangulation(evt.data);\n  }\n\n});\n\npublic compute_parse_fastaWorker = new InlineWorker(() => {\n\n  const compute_parse_fasta = (e): any => {\n\n    var start = Date.now();\n    var text = e.data;\n    if (!text || text.length == 0) return [];\n    var seqs: any = [], currentSeq: any = {};\n    var lines = text.split(/[\\r\\n]+/g);\n    var n = lines.length;\n    var isblank = /^\\s*$/;\n    for (var i = 0; i < n; i++) {\n      var line = lines[i];\n      if (isblank.test(line) || line[0] == ';') continue;\n      if (line[0] == '>') {\n        if (i > 0) seqs.push(currentSeq);\n        currentSeq = {\n          id: line.slice(1),\n          seq: ''\n        };\n      } else {\n        currentSeq.seq += line.toUpperCase();\n      }\n    }\n    seqs.push(currentSeq);\n    console.log('FASTA Parse time: ', (Date.now() - start).toLocaleString(), 'ms');\n    start = Date.now();\n    var encoder = new TextEncoder();\n    var output = encoder.encode(JSON.stringify(seqs)).buffer;\n\n\n    let response = {};\n    response = { nodes: output, start: start, data: output };\n\n    postMessage(response, null, null);\n  }\n\n  onmessage = (evt) => {\n    compute_parse_fasta(evt);\n  }\n\n});\n\n// public compute_parse_csv_matrixWorker = new Worker('parse-csv-matrix.worker.js');\n\npublic compute_align_swWorker = new InlineWorker(() => {\n\n  const compute_align_sw = (e): any => {\n\n    let start = Date.now();\n    let subset = e.nodes;\n    let reference = e.reference;\n    let n = subset.length;\n    for (let i = 0; i < n; i++) {\n      let node = subset[i];\n      let rst = bioseq.align(\n        reference,\n        node.seq,\n        false,\n        e.match,\n        e.gap\n      );\n      let fmt = bioseq.cigar2gaps(\n        reference,\n        node.seq,\n        rst.position,\n        rst.CIGAR,\n        true\n      );\n      node._score = rst.score;\n      node._padding = rst.position;\n      node._cigar = rst.CIGAR;\n      node._seq = fmt[1];\n    }\n    console.log(\"Alignment time: \", (Date.now() - start).toLocaleString(), \"ms\");\n    start = Date.now();\n    let encoder = new TextEncoder();\n    let output = encoder.encode(JSON.stringify(subset)).buffer;\n\n    let response = {};\n    response = { data: output, start: start };\n\n    postMessage(response, null, null);\n\n  }\n\n  onmessage = (evt) => {\n    compute_align_sw(evt.data);\n  }\n\n});\n\n\n\n}\n\n\n\n\n\n\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MenuAsideDirective } from './directives/menu-aside.directive';\nimport { MenuAsideOffcanvasDirective } from './directives/menu-aside-offcanvas.directive';\nimport { MenuHorizontalOffcanvasDirective } from './directives/menu-horizontal-offcanvas.directive';\nimport { MenuHorizontalDirective } from './directives/menu-horizontal.directive';\n\nimport { MenuAsideToggleDirective } from './directives/menu-aside-toggle.directive';\n\n@NgModule({\n    imports: [CommonModule],\n    declarations: [\n        // directives\n        MenuAsideDirective,\n        MenuAsideOffcanvasDirective,\n        MenuHorizontalOffcanvasDirective,\n        MenuHorizontalDirective,\n        MenuAsideToggleDirective\n    ],\n    exports: [\n        // directives\n        MenuAsideDirective,\n        MenuAsideOffcanvasDirective,\n        MenuHorizontalOffcanvasDirective,\n        MenuHorizontalDirective,\n        MenuAsideToggleDirective\n    ],\n    providers: []\n})\nexport class CoreModule { }\n","import { Directive, AfterViewInit, ElementRef } from '@angular/core';\nimport { filter } from 'rxjs/operators';\nimport { NavigationEnd, Router } from '@angular/router';\n\n@Directive({\n    selector: '[mMenuAsideOffcanvas]'\n})\nexport class MenuAsideOffcanvasDirective implements AfterViewInit {\n    menuOffcanvas: any;\n\n    constructor(\n        private el: ElementRef,\n        private router: Router\n    ) {\n\n    }\n\n    ngAfterViewInit(): void {\n        const offcanvasClass = mUtil.hasClass(this.el.nativeElement, 'm-aside-left--offcanvas-default') ? 'm-aside-left--offcanvas-default' : 'm-aside-left';\n\n        this.menuOffcanvas = new mOffcanvas(this.el.nativeElement, {\n            baseClass: offcanvasClass,\n            overlay: true,\n            closeBy: 'm_aside_left_close_btn',\n            toggleBy: [{\n                target: 'm_aside_left_offcanvas_toggle',\n                state: 'm-brand__toggler--active'\n            },\n            {\n                target: 'm_aside_left_offcanvas_mobile_toggle',\n                state: 'm-brand__toggler--active'\n            }]\n        });\n\n        this.router.events\n            .pipe(filter(event => event instanceof NavigationEnd))\n            .subscribe(event => {\n                if (mUtil.isMobileDevice()) {\n                    this.menuOffcanvas.hide();\n                }\n            });\n    }\n}\n","import { Directive, ElementRef, AfterViewInit } from '@angular/core';\n\n@Directive({\n    selector: '[mMenuAsideToggle]'\n})\nexport class MenuAsideToggleDirective implements AfterViewInit {\n    toggle: any;\n    constructor(private el: ElementRef) { }\n\n    ngAfterViewInit(): void {\n        this.toggle = new mToggle(this.el.nativeElement, {\n            target: 'body',\n            targetState: 'm-brand--minimize m-aside-left--minimize',\n            togglerState: 'm-brand__toggler--active'\n        });\n    }\n}\n","import { Directive, ElementRef } from '@angular/core';\nimport { LayoutConfigService } from '../services/layout-config.service';\nimport * as objectPath from 'object-path';\nimport { LayoutRefService } from '../services/layout/layout-ref.service';\nimport { mergeMap } from 'rxjs/operators';\n\n@Directive({\n    selector: '[mMenuAside]'\n})\nexport class MenuAsideDirective {\n    menu: any;\n    layout: any;\n\n    constructor(\n        private el: ElementRef,\n        private layoutConfigService: LayoutConfigService,\n        private layoutRefService: LayoutRefService\n    ) {\n        this.layoutConfigService.onLayoutConfigUpdated$\n            .pipe(\n                mergeMap(() => {\n                    return this.layoutRefService.layoutRefs$;\n                })\n            )\n            .subscribe(layout => {\n                this.layout = layout;\n                this.initMenu();\n            });\n    }\n\n    initMenu(): any {\n        if (!this.layout.hasOwnProperty('header')) {\n            return;\n        }\n\n        let scroll;\n        if (mUtil.attr(this.el.nativeElement, 'm-menu-scrollable') === '1') {\n            const headerHeight = parseInt(window.getComputedStyle(objectPath.get(this.layout, 'header'))['height'], null);\n            scroll = {\n                height() {\n                    return mUtil.getViewPort().height - headerHeight;\n                }\n            };\n        }\n\n        const options = {\n            // vertical scroll\n            scroll: scroll,\n            // submenu setup\n            submenu: {\n                desktop: {\n                    // by default the menu mode set to accordion in desktop mode\n                    default: 'accordion',\n                    // whenever body has this class switch the menu mode to dropdown\n                    state: {\n                        body: 'm-aside-left--minimize',\n                        mode: 'dropdown'\n                    }\n                },\n                tablet: 'accordion', // menu set to accordion in tablet mode\n                mobile: 'accordion' // menu set to accordion in mobile mode\n            },\n            // accordion setup\n            accordion: {\n                autoScroll: false,\n                expandAll: false\n            }\n        };\n\n        // init the mMenu plugin\n        if (this.menu instanceof mMenu) {\n            this.menu.update(options);\n        } else {\n            this.menu = new mMenu(this.el.nativeElement, options);\n        }\n    }\n}\n","import { Directive, AfterViewInit, ElementRef } from '@angular/core';\nimport { filter } from 'rxjs/operators';\nimport { NavigationEnd, Router } from '@angular/router';\n\n@Directive({\n    selector: '[mMenuHorizontalOffcanvas]'\n})\nexport class MenuHorizontalOffcanvasDirective implements AfterViewInit {\n    menuOffcanvas: any;\n\n    constructor(private el: ElementRef,\n        private router: Router) { }\n\n    ngAfterViewInit(): void {\n        // init the mOffcanvas plugin\n        this.menuOffcanvas = new mOffcanvas(this.el.nativeElement, {\n            overlay: true,\n            baseClass: 'm-aside-header-menu-mobile',\n            closeBy: 'm_aside_header_menu_mobile_close_btn',\n            toggleBy: {\n                target: 'm_aside_header_menu_mobile_toggle',\n                state: 'm-brand__toggler--active'\n            }\n        });\n\n        this.router.events\n            .pipe(filter(event => event instanceof NavigationEnd))\n            .subscribe(event => {\n                if (mUtil.isMobileDevice()) {\n                    this.menuOffcanvas.hide();\n                }\n            });\n    }\n}\n","import { Directive, AfterViewInit, ElementRef } from '@angular/core';\n\n@Directive({\n    selector: '[mMenuHorizontal]'\n})\nexport class MenuHorizontalDirective implements AfterViewInit {\n    menu: any;\n\n    constructor(private el: ElementRef) {\n\n    }\n\n    ngAfterViewInit(): void {\n        // init the mMenu plugin\n        this.menu = new mMenu(this.el.nativeElement, {\n            submenu: {\n                desktop: 'dropdown',\n                tablet: 'accordion',\n                mobile: 'accordion'\n            },\n            accordion: {\n                slideSpeed: 200, // accordion toggle slide speed in milliseconds\n                autoScroll: true, // enable auto scrolling(focus) to the clicked menu item\n                expandAll: false // allow having multiple expanded accordions in the menu\n            }\n        });\n    }\n}\n","import { BehaviorSubject } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { tap, filter, mergeMap } from 'rxjs/operators';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { UtilsService } from './utils.service';\n\n@Injectable()\nexport class LayoutConfigService {\n\n    public onLayoutConfigUpdated$: BehaviorSubject<any>;\n\n    constructor(\n        private router: Router,\n        private utils: UtilsService\n    ) {\n        // register on config changed event and set default config\n        this.onLayoutConfigUpdated$ = new BehaviorSubject(null);\n\n        this.router.events\n            .pipe(\n                filter(event => event instanceof NavigationEnd)\n            )\n            .subscribe(() => {\n                this.onLayoutConfigUpdated$.next(null);\n            });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable()\nexport class LayoutRefService {\n    layoutRefs$: BehaviorSubject<any> = new BehaviorSubject<any>({});\n    layoutRefs: any = {};\n\n    addElement(name, element) {\n        const obj = {};\n        obj[name] = element;\n        this.layoutRefs$.next(Object.assign(this.layoutRefs, obj));\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpParams, HttpHeaders } from '@angular/common/http';\n\n@Injectable()\nexport class UtilsService {\n    constructor() { }\n\n    /**\n\t * Build url parameters key and value pairs from array or object\n\t * @param obj\n\t */\n    urlParam(obj: any): string {\n        return Object.keys(obj)\n            .map(k => k + '=' + encodeURIComponent(obj[k]))\n            .join('&');\n    }\n\n    /**\n\t * Simple object check.\n\t * @param item\n\t * @returns {boolean}\n\t */\n    isObject(item) {\n        return item && typeof item === 'object' && !Array.isArray(item);\n    }\n\n    /**\n\t * Deep merge two objects.\n\t * @param target\n\t * @param ...sources\n\t * @see https://stackoverflow.com/a/34749873/1316921\n\t */\n    mergeDeep(target, ...sources) {\n        if (!sources.length) {\n            return target;\n        }\n        const source = sources.shift();\n\n        if (this.isObject(target) && this.isObject(source)) {\n            for (const key in source) {\n                if (this.isObject(source[key])) {\n                    if (!target[key]) {\n                        Object.assign(target, { [key]: {} });\n                    }\n                    this.mergeDeep(target[key], source[key]);\n                } else {\n                    Object.assign(target, { [key]: source[key] });\n                }\n            }\n        }\n\n        return this.mergeDeep(target, ...sources);\n    }\n\n    getPath(obj, val, path?) {\n        path = path || '';\n        let fullpath = '';\n        for (const b in obj) {\n            if (obj[b] === val) {\n                return path + '/' + b;\n            } else if (typeof obj[b] === 'object') {\n                fullpath =\n                    this.getPath(obj[b], val, path + '/' + b) || fullpath;\n            }\n        }\n        return fullpath;\n    }\n\n    getFindHTTPParams(queryParams): HttpParams {\n        const params = new HttpParams()\n            .set('lastNamefilter', queryParams.filter)\n            .set('sortOrder', queryParams.sortOrder)\n            .set('sortField', queryParams.sortField)\n            .set('pageNumber', queryParams.pageNumber.toString())\n            .set('pageSize', queryParams.pageSize.toString());\n\n        return params;\n    }\n\n    getHTTPHeader() {\n        return {\n            headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n        };\n    }\n}\n\n\nexport function isInteger(value: any): value is number {\n    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\n\n\nexport function isString(value: any): value is string {\n    return typeof value === 'string';\n}\n","export const environment = {\n  production: true\n};\n","import 'hammerjs';\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","export class AppConsts {\n\n    static readonly tenancyNamePlaceHolderInUrl = '{TENANCY_NAME}';\n\n    static remoteServiceBaseUrl: string;\n    static remoteServiceBaseUrlFormat: string;\n    static appBaseUrl: string;\n    static appBaseHref: string; // returns angular's base-href parameter value if used during the publish\n    static appBaseUrlFormat: string;\n    static recaptchaSiteKey: string;\n    static subscriptionExpireNootifyDayCount: number;\n\n    static localeMappings: any = [];\n\n    static readonly userManagement = {\n        defaultAdminUserName: 'admin'\n    };\n\n    static readonly localization = {\n        defaultLocalizationSourceName: 'BPAASDashboard'\n    };\n\n    static readonly authorization = {\n        encrptedAuthTokenName: 'enc_auth_token'\n    };\n\n    static readonly grid = {\n        defaultPageSize: 10\n    };\n}\n","// import { PermissionCheckerService } from '@abp/auth/permission-checker.service';\n// import { FeatureCheckerService } from '@abp/features/feature-checker.service';\n// import { LocalizationService } from '@abp/localization/localization.service';\n// import { MessageService } from '@abp/message/message.service';\n// import { AbpMultiTenancyService } from '@abp/multi-tenancy/abp-multi-tenancy.service';\n// import { NotifyService } from '@abp/notify/notify.service';\n// import { SettingService } from '@abp/settings/setting.service';\nimport { Injector } from '@angular/core';\nimport { AppConsts } from '@shared/app.constants';\nimport { AppUrlService } from '@shared/common/nav/app-url.service';\nimport { AppSessionService } from '@shared/common/session/app-session.service';\nimport { AppUiCustomizationService } from '@shared/common/ui/app-ui-customization.service';\nimport { PrimengTableHelper } from '@shared/helpers/PrimengTableHelper';\n// import { UiCustomizationSettingsDto } from '@shared/service-proxies/service-proxies';\n\nexport abstract class AppComponentBase {\n\n    localizationSourceName = AppConsts.localization.defaultLocalizationSourceName;\n\n    // localization: LocalizationService;\n    // permission: PermissionCheckerService;\n    // feature: FeatureCheckerService;\n    // notify: NotifyService;\n    // setting: SettingService;\n    // message: MessageService;\n    // multiTenancy: AbpMultiTenancyService;\n    localization: any;\n    permission: any;\n    feature: any;\n    notify: any;\n    setting: any;\n    message: any;\n    multiTenancy: any;\n    appSession: AppSessionService;\n    primengTableHelper: PrimengTableHelper;\n    ui: AppUiCustomizationService;\n    appUrlService: AppUrlService;\n\n    constructor(injector: Injector\n        ) {\n        // this.localization = injector.get(LocalizationService);\n        // this.permission = injector.get(PermissionCheckerService);\n        // this.feature = injector.get(FeatureCheckerService);\n        // this.notify = injector.get(NotifyService);\n        // this.setting = injector.get(SettingService);\n        // this.message = injector.get(MessageService);\n        // this.multiTenancy = injector.get(AbpMultiTenancyService);\n        this.appSession = injector.get(AppSessionService);\n        this.ui = injector.get(AppUiCustomizationService);\n        this.appUrlService = injector.get(AppUrlService);\n        this.primengTableHelper = new PrimengTableHelper();\n    }\n\n    flattenDeep(array) {\n        return array.reduce((acc, val) =>\n            Array.isArray(val) ?\n            acc.concat(this.flattenDeep(val)) :\n            acc.concat(val),\n            []);\n    }\n\n    l(key: string, ...args: any[]): string {\n        args.unshift(key);\n        args.unshift(this.localizationSourceName);\n        return this.ls.apply(this, args);\n    }\n\n    ls(sourcename: string, key: string, ...args: any[]): string {\n        let localizedText = this.localization.localize(key, sourcename);\n\n        if (!localizedText) {\n            localizedText = key;\n        }\n\n        if (!args || !args.length) {\n            return localizedText;\n        }\n\n        args.unshift(localizedText);\n        return localizedText;\n        // return abp.utils.formatString.apply(this, this.flattenDeep(args));\n    }\n\n    isGranted(permissionName: string): boolean {\n        return this.permission.isGranted(permissionName);\n    }\n\n    isGrantedAny(...permissions: string[]): boolean {\n        if (!permissions) {\n            return false;\n        }\n\n        for (const permission of permissions) {\n            if (this.isGranted(permission)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    s(key: string): string {\n        return key;\n        // return abp.setting.get(key);\n    }\n\n    appRootUrl(): string {\n        return this.appUrlService.appRootUrl;\n    }\n\n    // get currentTheme(): UiCustomizationSettingsDto {\n    //     // return this.appSession.theme;\n    // }\n}\n","import { Injectable } from '@angular/core';\nimport { AppConsts } from '@shared/app.constants';\nimport { AppSessionService } from '@shared/common/session/app-session.service';\n\n@Injectable()\nexport class AppUrlService {\n\n    static tenancyNamePlaceHolder = '{TENANCY_NAME}';\n\n    constructor(\n        private readonly _appSessionService: AppSessionService\n    ) {\n\n    }\n\n    get appRootUrl(): string {\n        // if (this._appSessionService.tenant) {\n        //     return this.getAppRootUrlOfTenant(this._appSessionService.tenant.tenancyName);\n        // } else {\n        //     return this.getAppRootUrlOfTenant(null);\n        // }\n        return \"\";\n    }\n\n    /**\n     * Returning url ends with '/'.\n     */\n    getAppRootUrlOfTenant(tenancyName?: string): string {\n        if(!tenancyName) return undefined;\n        \n        let baseUrl = this.ensureEndsWith(AppConsts.appBaseUrlFormat, '/');\n\n        //Add base href if it is not configured in appconfig.json\n        if (baseUrl.indexOf(AppConsts.appBaseHref) < 0) {\n            baseUrl = baseUrl + this.removeFromStart(AppConsts.appBaseHref, '/');\n        }\n\n        if (baseUrl.indexOf(AppUrlService.tenancyNamePlaceHolder) < 0) {\n            return baseUrl;\n        }\n\n        if (baseUrl.indexOf(AppUrlService.tenancyNamePlaceHolder + '.') >= 0) {\n            baseUrl = baseUrl.replace(AppUrlService.tenancyNamePlaceHolder + '.', AppUrlService.tenancyNamePlaceHolder);\n            if (tenancyName) {\n                tenancyName = tenancyName + '.';\n            }\n        }\n\n        if (!tenancyName) {\n            return baseUrl.replace(AppUrlService.tenancyNamePlaceHolder, '');\n        }\n\n        return baseUrl.replace(AppUrlService.tenancyNamePlaceHolder, tenancyName);\n    }\n\n    private ensureEndsWith(str: string, c: string) {\n        if (str && str.charAt(str.length - 1) !== c) {\n            str = str + c;\n        }\n\n        return str;\n    }\n\n    private removeFromEnd(str: string, c: string) {\n        if (str && str.charAt(str.length - 1) === c) {\n            str = str.substr(0, str.length - 1);\n        }\n\n        return str;\n    }\n\n    private removeFromStart(str: string, c: string) {\n        if (str && str.charAt(0) === c) {\n            str = str.substr(1, str.length - 1);\n        }\n\n        return str;\n    }\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\nimport { AppConsts } from '@shared/app.constants';\n// import { LocalizationService } from '@abp/localization/localization.service';\n\n@Pipe({\n    name: 'localize'\n})\nexport class LocalizePipe implements PipeTransform {\n\n    localizationSourceName = AppConsts.localization.defaultLocalizationSourceName;\n\n    // localization: LocalizationService;\n\n    constructor(injector: Injector) {\n        // this.localization = injector.get(LocalizationService);\n    }\n\n    l(key: string, ...args: any[]): string {\n        args.unshift(key);\n        args.unshift(this.localizationSourceName);\n        return this.ls.apply(this, args);\n    }\n\n    ls(sourcename: string, key: string, ...args: any[]): string {\n        return key;\n\n        // let localizedText = this.localization.localize(key, sourcename);\n\n        // if (!localizedText) {\n        //     localizedText = key;\n        // }\n\n        // if (!args || !args.length) {\n        //     return localizedText;\n        // }\n\n        // args.unshift(localizedText);\n        // return this.localizedText;\n        // return abp.utils.formatString.apply(this, this.flattenDeep(args));\n    }\n\n    transform(key: string, ...args: any[]): string {\n        return this.l(key, args);\n    }\n\n    flattenDeep(array) {\n        return array.reduce((acc, val) =>\n            Array.isArray(val) ?\n                acc.concat(this.flattenDeep(val)) :\n                acc.concat(val),\n            []);\n    }\n}\n","// import { AbpMultiTenancyService } from '@abp/multi-tenancy/abp-multi-tenancy.service';\nimport { Injectable } from '@angular/core';\n// import { ApplicationInfoDto, GetCurrentLoginInformationsOutput, SessionServiceProxy, TenantLoginInfoDto, UserLoginInfoDto, UiCustomizationSettingsDto } from '@shared/service-proxies/service-proxies';\n\n@Injectable()\nexport class AppSessionService {\n\n    // private _user: UserLoginInfoDto;\n    // private _tenant: TenantLoginInfoDto;\n    // private _application: ApplicationInfoDto;\n    // private _theme: UiCustomizationSettingsDto;\n\n    // constructor(\n    //     private _sessionService: SessionServiceProxy,\n    //     private _abpMultiTenancyService: AbpMultiTenancyService) {\n    // }\n\n    // get application(): ApplicationInfoDto {\n    //     return this._application;\n    // }\n\n    // set application(val: ApplicationInfoDto) {\n    //     this._application = val;\n    // }\n\n    // get user(): UserLoginInfoDto {\n    //     return this._user;\n    // }\n\n    // get userId(): number {\n    //     return this.user ? this.user.id : null;\n    // }\n\n    // get tenant(): TenantLoginInfoDto {\n    //     return this._tenant;\n    // }\n\n    // get tenancyName(): string {\n    //     return this._tenant ? this.tenant.tenancyName : '';\n    // }\n\n    // get tenantId(): number {\n    //     return this.tenant ? this.tenant.id : null;\n    // }\n\n    // getShownLoginName(): string {\n    //     const userName = this._user.userName;\n    //     if (!this._abpMultiTenancyService.isEnabled) {\n    //         return userName;\n    //     }\n\n    //     return (this._tenant ? this._tenant.tenancyName : '.') + '\\\\' + userName;\n    // }\n\n    // get theme(): UiCustomizationSettingsDto {\n    //     return this._theme;\n    // }\n\n    // set theme(val: UiCustomizationSettingsDto) {\n    //     this._theme = val;\n    // }\n\n    // init(): Promise<UiCustomizationSettingsDto> {\n    //     return new Promise<UiCustomizationSettingsDto>((resolve, reject) => {\n    //         this._sessionService.getCurrentLoginInformations().toPromise().then((result: GetCurrentLoginInformationsOutput) => {\n    //             this._application = result.application;\n    //             this._user = result.user;\n    //             this._tenant = result.tenant;\n    //             this._theme = result.theme;\n\n    //             resolve(result.theme);\n    //         }, (err) => {\n    //             reject(err);\n    //         });\n    //     });\n    // }\n\n    // changeTenantIfNeeded(tenantId?: number): boolean {\n    //     if (this.isCurrentTenant(tenantId)) {\n    //         return false;\n    //     }\n\n    //     abp.multiTenancy.setTenantIdCookie(tenantId);\n    //     location.reload();\n    //     return true;\n    // }\n\n    // private isCurrentTenant(tenantId?: number) {\n    //     let isTenant = tenantId > 0;\n\n    //     if (!isTenant && !this.tenant) { // this is host\n    //         return true;\n    //     }\n\n    //     if (!tenantId && this.tenant) {\n    //         return false;\n    //     } else if (tenantId && (!this.tenant || this.tenant.id !== tenantId)) {\n    //         return false;\n    //     }\n\n    //     return true;\n    // }\n}\n","import { Injectable } from '@angular/core';\n// import { UiCustomizationSettingsDto } from '@shared/service-proxies/service-proxies';\n\n@Injectable()\nexport class AppUiCustomizationService {\n\n    // private _theme: UiCustomizationSettingsDto;\n    private _theme: any;\n\n\n    // init(theme: UiCustomizationSettingsDto): void {\n    //     this._theme = theme;\n    // }\n\n    init(): void {\n    }\n\n    getContainerClass() {\n        if (this._theme.baseSettings.layout.layoutType === 'fluid') {\n            return 'm-container--fluid';\n        }\n\n        return 'm-container--responsive m-container--xxl';\n    }\n\n    private isLeftMenuUsed(): boolean {\n        return this._theme.baseSettings.menu.position === 'left';\n    }\n\n    getAppModuleBodyClass(): string {\n        let topMenuUsed = this._theme.baseSettings.menu.position === 'top';\n\n        return 'm-page--' + this._theme.baseSettings.layout.layoutType + ' m--skin-' + this._theme.baseSettings.layout.contentSkin + ' ' +\n            (this._theme.baseSettings.layout.contentSkin !== '' ? ('m-content--skin-' + this._theme.baseSettings.layout.contentSkin) : '') + ' ' +\n            'm-header--' + (this._theme.baseSettings.header.desktopFixedHeader ? 'fixed' : 'static') + ' ' +\n            (this._theme.baseSettings.header.mobileFixedHeader ? 'm-header--fixed-mobile' : '') + ' ' +\n            ((this._theme.baseSettings.menu.fixedAside && !topMenuUsed ? 'm-aside-left--fixed' : '')) + ' ' +\n            (this._theme.baseSettings.menu.defaultMinimizedAside ? 'm-aside-left--minimize m-brand--minimize' : '') + ' ' +\n            (this._theme.baseSettings.menu.defaultHiddenAside || this._theme.baseSettings.menu.position === 'top' ? 'm-aside-left--hide' : '') + ' ' +\n            (this.isLeftMenuUsed() ? 'm-aside-left--enabled' : '') + ' ' +\n            'm-aside-left--skin-' + this._theme.baseSettings.menu.asideSkin + ' ' +\n            'm-aside-left--offcanvas' + ' ' +\n            (this._theme.baseSettings.footer.fixedFooter && this._theme.baseSettings.layout.layoutType !== 'boxed' ? 'm-footer--fixed' : '') + ' ' +\n            (this._theme.baseSettings.layout.fixedBody ? 'm-body--fixed' : '') + ' ' +\n            (this._theme.baseSettings.layout.mobileFixedBody ? 'm-body--mobile-fixed' : '');\n    }\n\n    getAccountModuleBodyClass() {\n        return 'm--skin- m-header--fixed m-header--fixed-mobile ' + (this.isLeftMenuUsed() ? ' m-aside-left--enabled' : '') + ' m-aside-left--skin-dark m-aside-left--offcanvas m-footer--push m-aside--offcanvas-default';\n    }\n\n    getSelectEditionBodyClass() {\n        return 'm--skin-';\n    }\n\n    getSideBarMenuClass(): string {\n        let menuCssClass = 'm-aside-menu m-aside-menu--skin-' + this._theme.baseSettings.menu.asideSkin;\n\n        menuCssClass += ' m-aside-menu--submenu-skin-';\n        menuCssClass += this._theme.baseSettings.menu.asideSkin;\n\n        if (!this._theme.baseSettings.menu.fixedAside && this._theme.baseSettings.menu.submenuToggle === 'Dropdown') {\n            menuCssClass += ' m-aside-menu--dropdown';\n        }\n\n        return menuCssClass;\n    }\n\n    getMenuListClass(): string {\n        return 'm-menu__nav--dropdown-submenu-arrow';\n    }\n\n    getTopBarMenuContainerClass(): string {\n        let menuCssClass = 'm-header__bottom m-header-menu--skin-' + this._theme.baseSettings.menu.asideSkin + ' m-container m-container--full-height m-container--responsive';\n        if (this._theme.baseSettings.layout.layoutType === 'boxed') {\n            return menuCssClass + ' m-container--xxl';\n        }\n\n        return menuCssClass;\n    }\n\n    getIsMenuScrollable(): boolean {\n        return this._theme.allowMenuScroll && this._theme.baseSettings.menu.fixedAside;\n    }\n\n    getSideBarMenuItemClass(item, isMenuActive) {\n        let menuCssClass = 'm-menu__item';\n\n        if (item.items.length) {\n            menuCssClass += ' m-menu__item--submenu';\n        }\n\n        if (isMenuActive) {\n            menuCssClass += ' m-menu__item--open m-menu__item--expanded m-menu__item--active';\n        }\n\n        return menuCssClass;\n    }\n}\n","import { \n  Directive,\n  Output,\n  EventEmitter,\n  HostBinding,\n  HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[appDnd]'\n})\nexport class DndDirective {\n\n  @HostBinding('class.fileover') fileOver: boolean;\n  @Output() fileDropped = new EventEmitter<any>();\n\n  // Dragover listener\n  @HostListener('dragover', ['$event']) onDragOver(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.fileOver = true;\n  }\n\n  // Dragleave listener\n  @HostListener('dragleave', ['$event']) public onDragLeave(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.fileOver = false;\n  }\n\n  // Drop listener\n  @HostListener('drop', ['$event']) public ondrop(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.fileOver = false;\n    let files = evt.dataTransfer.files;\n    if (files.length > 0) {\n      this.fileDropped.emit(files);\n    }\n  }\n\n}\n","import { LazyLoadEvent } from 'primeng/api';\nimport { Paginator } from 'primeng/paginator';\nimport { Table } from 'primeng/table';\n\nexport class PrimengTableHelper {\n    predefinedRecordsCountPerPage = [5, 10, 25, 50, 100, 250, 500];\n\n    defaultRecordsCountPerPage = 10;\n\n    isResponsive = true;\n\n    resizableColumns: false;\n\n    totalRecordsCount = 0;\n\n    records: any[];\n\n    isLoading = false;\n\n    showLoadingIndicator(): void {\n        setTimeout(() => {\n            this.isLoading = true;\n        }, 0);\n    }\n\n    hideLoadingIndicator(): void {\n        setTimeout(() => {\n            this.isLoading = false;\n        }, 0);\n    }\n\n    getSorting(table: Table): string {\n        let sorting;\n        if (table.sortField) {\n            sorting = table.sortField;\n            if (table.sortOrder === 1) {\n                sorting += ' ASC';\n            } else if (table.sortOrder === -1) {\n                sorting += ' DESC';\n            }\n        }\n\n        return sorting;\n    }\n\n    getMaxResultCount(paginator: Paginator, event: LazyLoadEvent): number {\n        if (paginator.rows) {\n            return paginator.rows;\n        }\n\n        if (!event) {\n            return 0;\n        }\n\n        return event.rows;\n    }\n\n    getSkipCount(paginator: Paginator, event: LazyLoadEvent): number {\n        if (paginator.first) {\n            return paginator.first;\n        }\n\n        if (!event) {\n            return 0;\n        }\n\n        return event.first;\n    }\n\n    shouldResetPaging(event: LazyLoadEvent): boolean {\n        if (!event /*|| event.sortField*/) { // if you want to reset after sorting, comment out parameter\n            return true;\n        }\n\n        return false;\n    }\n}\n","import { Injectable, EventEmitter } from '@angular/core';    \nimport { Subscription } from 'rxjs/internal/Subscription';    \n    \n@Injectable({    \n  providedIn: 'root'    \n})    \nexport class EventEmitterService {    \n    \n  invokeFirstComponentFunction = new EventEmitter();    \n  subsVar: Subscription = new Subscription;    \n    \n  constructor() { }    \n    \n  onFirstComponentButtonClick() {    \n    this.invokeFirstComponentFunction.emit();    \n  }    \n}  ","import { Injectable } from '@angular/core';\nimport * as localForage from 'localforage';\n\n@Injectable()\nexport class LocalStorageService {\n\n    getItem(key: string, callback: any): void {\n        if (!localForage) {\n            return;\n        }\n\n        localForage.getItem(key, callback);\n    }\n\n\n    setItem(key: string, value: string | null | undefined): void {\n        if (!localForage) {\n            return;\n        }\n\n        if (value === null) {\n            value = undefined;\n        }\n\n        localForage.setItem(key, value);\n    }\n\n    removeItem(key: string, value: ((err: any) => void) | null | undefined): void {\n        if (!localForage) {\n            return;\n        }\n\n        if (value === null) {\n            value = undefined;\n        }\n\n        localForage.removeItem(key, value);\n    }\n\n    keys() {\n\n        if (!localForage) {\n            return;\n        }\n\n        return localForage.keys();\n    }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n//import { ButtonBusyDirective } from './button-busy.directive';\n// import { FriendProfilePictureComponent } from './friend-profile-picture.component';\nimport { LocalStorageService } from './local-storage.service';\nimport { LocalizePipe } from '@shared/common/pipes/localize.pipe';\nimport { EventEmitterService } from './event-emitter.service';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    providers: [\n        EventEmitterService,\n        LocalStorageService,\n    ],\n    declarations: [\n\n        // FriendProfilePictureComponent,\n\n        //ValidationMessagesComponent,\n        LocalizePipe\n    ],\n    exports: [\n        // EqualValidator,\n        // FriendProfilePictureComponent,\n\n        //ValidationMessagesComponent,\n        LocalizePipe\n    ]\n})\nexport class UtilsModule { }\n","import * as patristic from 'patristic';\nimport * as d3 from 'd3';\n// import \"patristic\";\n// import \"d3\";\n\n/**\n * This class function creates a TidyTree object.\n * @param {String} newick A valid newick string\n * @param {Object} options A Javascript object containing options to set up the tree\n */\nexport default function TidyTree(data, options, events) {\n  let defaults = {\n    layout: \"vertical\",\n    type: \"tree\",\n    mode: \"smooth\",\n    colorOptions: { nodeColorMode: \"none\" },\n    leafNodes: true,\n    leafLabels: false,\n    equidistantLeaves: false,\n    branchNodes: false,\n    branchLabels: false,\n    branchDistances: false,\n    hStretch: 1,\n    vStretch: 1,\n    rotation: 0,\n    ruler: true,\n    animation: 500,\n    margin: [50, 50, 50, 50] //CSS order: top, right, bottom, left\n  };\n  if (!options) options = {};\n  Object.assign(this, defaults, options, {\n    events: {\n      draw: [],\n      showtooltip: [],\n      hidetooltip: [],\n      contextmenu: [],\n      search: [],\n      select: []\n    }\n  });\n\n  if(events) Object.keys(events).forEach(e => this.events[e].push(events[e]));\n\n  if (this.parent) this.draw(this.parent);\n\n  if (data instanceof patristic.Branch) {\n    this.setData(data);\n  } else {\n    this.setTree(data);\n  }\n\n  if (this.parent) this.recenter();\n}\n\n/**\n * Update the TidyTree's underlying data structure\n * There are two contexts in which you should call this:\n * \t1. You wish to replace the tree with a completely different tree, given by a different newick string\n * \t2. Your underlying tree data has changed (e.g. the tree has been re-rooted)\n * @param  {Object} data A patristic.Branch object\n * @return {Object}        the TidyTree object\n */\nTidyTree.prototype.setData = function (data) {\n  if (!data) throw Error(\"Invalid Data\");\n  this.data = data;\n  this.range = [Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER];\n  this.hierarchy = d3\n    .hierarchy(this.data, d => d.children)\n    .eachBefore(d => {\n      d.value =\n        (d.parent ? d.parent.value : 0) + (d.data.length ? Math.abs(d.data.length) : 0);\n      if (d.value < this.range[0]) this.range[0] = d.value;\n      if (d.value > this.range[1]) this.range[1] = d.value;\n    })\n    .each(d => (d.value /= this.range[1]));\n  if (this.parent) return this.redraw();\n  return this;\n};\n\n/**\n * Update the TidyTree's underlying data structure\n * There are two contexts in which you should call this:\n * \t1. You wish to replace the tree with a completely different tree, given by a different newick string\n * \t2. Your underlying tree data has changed (e.g. the tree has been re-rooted)\n * @param  {String} newick A valid newick string\n * @return {Object}        the TidyTree object\n */\nTidyTree.prototype.setTree = function (newick) {\n  if (!newick) throw Error(\"Invalid Newick String\");\n  return this.setData(patristic.parseNewick(newick));\n};\n\n/**\n * The available layouts for rendering trees.\n * @type {Array}\n */\nTidyTree.validLayouts = [\"horizontal\", \"vertical\", \"circular\"];\n\n/**\n * The available types for rendering branches.\n * @type {Array}\n */\nTidyTree.validTypes = [\"tree\", \"weighted\", \"dendrogram\"];\n\n/**\n * The available modes for rendering branches.\n * @type {Array}\n */\nTidyTree.validModes = [\"smooth\", \"square\", \"straight\"];\n\n/**\n * The available color modes for rendering nodes.\n * @type {Array}\n */\nTidyTree.validNodeColorModes = [\"none\", \"list\"]; // later, highlight on hover, or maybe color by annotation on a node/ search\n\n/**\n * The available color modes for rendering branches.\n * @type {Array}\n */\nTidyTree.validBranchColorModes = [\"none\", \"monophyletic\"]; // later, toRoot? \n\n/**\n * Draws a Phylogenetic on the element referred to by selector\n * @param  {String} selector A CSS selector\n * @return {TidyTree}           the TidyTree object\n */\nTidyTree.prototype.draw = function (selector) {\n  if (!selector && !this.parent) {\n    throw Error(\"No valid target for drawing given! Where should the tree go?\");\n  }\n  let parent = (this.parent = d3.select(selector ? selector : this.parent));\n\n  this.width =\n    parseFloat(parent.style(\"width\")) - this.margin[1] - this.margin[3];\n  this.height =\n    parseFloat(parent.style(\"height\")) - this.margin[0] - this.margin[2] - 25;\n\n  let tree = d3.tree();\n\n  let svg = parent\n    .html(null)\n    .append(\"svg\")\n    .attr(\"width\", \"100%\")\n    .attr(\"height\", \"100%\");\n\n  let g = svg.append(\"g\");\n\n  svg\n    .append(\"g\")\n    .attr(\"class\", \"tidytree-ruler\")\n    .append(\"rect\")\n    .attr(\"y\", -5)\n    .attr(\"fill\", \"white\");\n\n  this.zoom = d3.zoom().on(\"zoom\", () => {\n    let transform = (this.transform = d3.event.transform);\n    g.attr(\n      \"transform\",\n      `translate(${transform.x},${transform.y}) scale(${transform.k}) rotate(${\n        this.rotation\n      },${this.layout === \"circular\" ? 0 : this.width / 2},${\n        this.layout === \"circular\" ? 0 : this.height / 2\n      })`\n    );\n    updateRuler.call(this, transform);\n  });\n  svg.call(this.zoom);\n\n  g.append(\"g\").attr(\"class\", \"tidytree-links\");\n  g.append(\"g\").attr(\"class\", \"tidytree-nodes\");\n\n  if (this.events.draw.length) this.events.draw.forEach(c => c());\n\n  return this;\n};\n\nconst getX = d => d.x,\n  getY = d => d.y,\n  getLength = d => d.weight;\n\nlet linkTransformers = {\n  tree: {\n    smooth: {\n      horizontal: d3\n        .linkHorizontal()\n        .x(getY)\n        .y(getX),\n      vertical: d3\n        .linkVertical()\n        .x(getX)\n        .y(getY),\n      circular: d3\n        .linkRadial()\n        .angle(getX)\n        .radius(getY)\n    },\n    straight: {\n      horizontal: d =>\n        `M${d.source.y} ${d.source.x} L ${d.target.y} ${d.target.x}`,\n      vertical: d =>\n        `M${d.source.x} ${d.source.y} L ${d.target.x} ${d.target.y}`,\n      circular: d => {\n        const startAngle = d.source.x - Math.PI / 2,\n          startRadius = d.source.y,\n          endAngle = d.target.x - Math.PI / 2,\n          endRadius = d.target.y;\n        const x0 = Math.cos(startAngle),\n          y0 = Math.sin(startAngle),\n          x1 = Math.cos(endAngle),\n          y1 = Math.sin(endAngle);\n        return (\n          \"M\" +\n          startRadius * x0 +\n          \",\" +\n          startRadius * y0 +\n          \"L\" +\n          endRadius * x1 +\n          \",\" +\n          endRadius * y1\n        );\n      }\n    },\n    square: {\n      horizontal: d =>\n        `M${d.source.y} ${d.source.x} V ${d.target.x} H ${d.target.y}`,\n      vertical: d =>\n        `M${d.source.x} ${d.source.y} H ${d.target.x} V ${d.target.y}`,\n      circular: d => {\n        const startAngle = d.source.x - Math.PI / 2,\n          startRadius = d.source.y,\n          endAngle = d.target.x - Math.PI / 2,\n          endRadius = d.target.y;\n        const x0 = Math.cos(startAngle),\n          y0 = Math.sin(startAngle),\n          x1 = Math.cos(endAngle),\n          y1 = Math.sin(endAngle);\n        return (\n          \"M\" +\n          startRadius * x0 +\n          \",\" +\n          startRadius * y0 +\n          (endAngle === startAngle\n            ? \"\"\n            : \"A\" +\n              startRadius +\n              \",\" +\n              startRadius +\n              \" 0 0 \" +\n              (endAngle > startAngle ? 1 : 0) +\n              \" \" +\n              startRadius * x1 +\n              \",\" +\n              startRadius * y1) +\n          \"L\" +\n          endRadius * x1 +\n          \",\" +\n          endRadius * y1\n        );\n      }\n    }\n  },\n  weighted: {\n    smooth: {\n      horizontal: d3\n        .linkHorizontal()\n        .x(getLength)\n        .y(getX),\n      vertical: d3\n        .linkVertical()\n        .x(getX)\n        .y(getLength),\n      circular: d3\n        .linkRadial()\n        .angle(getX)\n        .radius(getLength)\n    },\n    straight: {\n      horizontal: d =>\n        `M${d.source.weight} ${d.source.x} L ${d.target.weight} ${d.target.x}`,\n      vertical: d =>\n        `M${d.source.x} ${d.source.weight} L ${d.target.x} ${d.target.weight}`,\n      circular: d => {\n        const startAngle = d.source.x - Math.PI / 2,\n          startRadius = d.source.weight,\n          endAngle = d.target.x - Math.PI / 2,\n          endRadius = d.target.weight;\n        const x0 = Math.cos(startAngle),\n          y0 = Math.sin(startAngle),\n          x1 = Math.cos(endAngle),\n          y1 = Math.sin(endAngle);\n        return (\n          \"M\" +\n          startRadius * x0 +\n          \",\" +\n          startRadius * y0 +\n          \"L\" +\n          endRadius * x1 +\n          \",\" +\n          endRadius * y1\n        );\n      }\n    },\n    square: {\n      horizontal: d =>\n        `M${d.source.weight} ${d.source.x} V ${d.target.x} H ${\n          d.target.weight\n        }`,\n      vertical: d =>\n        `M${d.source.x} ${d.source.weight} H ${d.target.x} V ${\n          d.target.weight\n        }`,\n      circular: d => {\n        const startAngle = d.source.x - Math.PI / 2,\n          startRadius = d.source.weight,\n          endAngle = d.target.x - Math.PI / 2,\n          endRadius = d.target.weight;\n        const x0 = Math.cos(startAngle),\n          y0 = Math.sin(startAngle),\n          x1 = Math.cos(endAngle),\n          y1 = Math.sin(endAngle);\n        return (\n          \"M\" +\n          startRadius * x0 +\n          \",\" +\n          startRadius * y0 +\n          (endAngle === startAngle\n            ? \"\"\n            : \"A\" +\n              startRadius +\n              \",\" +\n              startRadius +\n              \" 0 0 \" +\n              (endAngle > startAngle ? 1 : 0) +\n              \" \" +\n              startRadius * x1 +\n              \",\" +\n              startRadius * y1) +\n          \"L\" +\n          endRadius * x1 +\n          \",\" +\n          endRadius * y1\n        );\n      }\n    }\n  }\n};\n\nlinkTransformers.dendrogram = linkTransformers.tree;\n\n/**\n * Calculate the coordinates of a point transformed onto a circle.\n *\n * @param {number} x - The x-coordinate of the center of the point.\n * @param {number} y - The y-coordinate of the center of the point.\n * @return {Array<number>} The new x and y coordinates of the point on the circle.\n */\nfunction circularPoint(x, y) {\n  return [(y = +y) * Math.cos((x -= Math.PI / 2)), y * Math.sin(x)];\n}\n\nlet nodeTransformers = {\n  tree: {\n    horizontal: d => `translate(${d.y}, ${d.x})`,\n    vertical: d => `translate(${d.x}, ${d.y})`,\n    circular: d => `translate(${circularPoint(d.x, d.y)})`\n  },\n  weighted: {\n    horizontal: d => `translate(${d.weight}, ${d.x})`,\n    vertical: d => `translate(${d.x}, ${d.weight})`,\n    circular: d => `translate(${circularPoint(d.x, d.weight)})`\n  }\n};\n\nnodeTransformers.dendrogram = nodeTransformers.tree;\n\n/**\n * Finds the color of a given node based on the color options provided.\n *\n * @param {Object} node - The node for which to find the color.\n * @param {Object} colorOptions - The color options object containing the color mode, node list, default color, and highlight color.\n * @return {string} The color of the node.\n */\nfunction findNodeColor(node, colorOptions) {\n  if (colorOptions.nodeColorMode === \"none\") {\n    // steelblue\n    return colorOptions.defaultNodeColor ?? \"#4682B4\";\n  }\n \n  let nodeList = colorOptions.nodeList;\n\n  if (nodeList && nodeList.includes(node.data._guid)) {\n    // yellowish\n    return colorOptions.highlightColor ?? \"#feb640\";\n  } else {\n    // charcoal\n    return colorOptions.defaultNodeColor ?? \"#243127\";\n  }\n}\n\n/**\n * Find the color of a given link based on the provided color options.\n *\n * @param {string} link - The link for which to find the color.\n * @param {object} colorOptions - The options for different link colors.\n * @return {string} The color of the link.\n */\nfunction findBranchColor(link, colorOptions) {\n  if (colorOptions.branchColorMode === \"none\") {\n    // light gray\n    return colorOptions.defaultBranchColor ?? \"#cccccc\";\n  }\n  \n  let source = link.source;\n  let childLeafNodes = getAllLeaves(source);\n  \n  let allChildLeafNodesInNodeList = childLeafNodes.every(child =>\n    colorOptions.nodeList?.includes(child.data._guid)\n  );\n \n  if (allChildLeafNodesInNodeList) {\n    // yellowish\n    return colorOptions.highlightColor ?? \"#feb640\";\n  }\n\n  return colorOptions.defaultBranchColor ?? \"#cccccc\";\n}\n\n/**\n * Returns an array of all the child leaf nodes of the given node in a tree.\n *\n * @param {Object} node - A node of the tree.\n * @param {boolean} includeSelf - Whether to include the given node itself as a leaf node. Defaults to false.\n * @return {Array} An array of leaf nodes.\n */\nfunction getAllLeaves(node, includeSelf) {\n  includeSelf = includeSelf ?? false;\n  let leaves = [];\n\n  if (includeSelf && node.height === 0) {\n    leaves.push(node);\n  } else {\n    node.children.forEach(child => {\n      leaves.push(...getAllLeaves(child, true));\n    });\n  }\n\n  return leaves;\n}\n\nconst radToDeg = 180 / Math.PI;\n\nlet labelTransformers = {\n  tree: {\n    straight: {\n      horizontal: l =>\n        `translate(${(l.source.y + l.target.y) / 2}, ${(l.source.x +\n          l.target.x) /\n          2}) rotate(${Math.atan(\n          (l.target.x - l.source.x) / (l.target.y - l.source.y)\n        ) * radToDeg})`,\n      vertical: l =>\n        `translate(${(l.source.x + l.target.x) / 2}, ${(l.source.y +\n          l.target.y) /\n          2}) rotate(${Math.atan(\n          (l.source.y - l.target.y) / (l.source.x - l.target.x)\n        ) * radToDeg})`,\n      circular: l => {\n        let s = circularPoint(l.source.x, l.source.y),\n          t = circularPoint(l.target.x, l.target.y);\n        return `translate(${(s[0] + t[0]) / 2}, ${(s[1] + t[1]) /\n          2}) rotate(${Math.atan((s[1] - t[1]) / (s[0] - t[0])) * radToDeg})`;\n      }\n    },\n    square: {\n      horizontal: l =>\n        `translate(${(l.source.y + l.target.y) / 2}, ${l.target.x})`,\n      vertical: l =>\n        `translate(${l.target.x}, ${(l.source.y + l.target.y) / 2}) rotate(90)`,\n      circular: l => {\n        let u = circularPoint(l.target.x, (l.source.y + l.target.y) / 2);\n        return `translate(${u[0]}, ${u[1]}) rotate(${((l.target.x * radToDeg) %\n          180) -\n          90})`;\n      }\n    }\n  },\n  weighted: {\n    straight: {\n      horizontal: l =>\n        `translate(${(l.source.weight + l.target.weight) / 2}, ${(l.source.x +\n          l.target.x) /\n          2}) rotate(${Math.atan(\n          (l.target.x - l.source.x) / (l.target.weight - l.source.weight)\n        ) * radToDeg})`,\n      vertical: l =>\n        `translate(${(l.source.x + l.target.x) / 2}, ${(l.source.weight +\n          l.target.weight) /\n          2}) rotate(${Math.atan(\n          (l.source.weight - l.target.weight) / (l.source.x - l.target.x)\n        ) * radToDeg})`,\n      circular: l => {\n        let s = circularPoint(l.source.x, l.source.weight),\n          t = circularPoint(l.target.x, l.target.weight);\n        return `translate(${(s[0] + t[0]) / 2}, ${(s[1] + t[1]) /\n          2}) rotate(${Math.atan((s[1] - t[1]) / (s[0] - t[0])) * radToDeg})`;\n      }\n    },\n    square: {\n      horizontal: l => `\n        translate(${(l.source.weight + l.target.weight) / 2}, ${l.target.x})\n      `,\n      vertical: l => `\n        translate(${l.target.x}, ${(l.source.weight + l.target.weight) / 2})\n        rotate(90)\n      `,\n      circular: l => {\n        let u = circularPoint(\n          l.target.x,\n          (l.source.weight + l.target.weight) / 2\n        );\n        return `\n          translate(${u[0]}, ${u[1]})\n          rotate(${((l.target.x * radToDeg) % 180) - 90})\n        `;\n      }\n    }\n  }\n};\nlabelTransformers.tree.smooth = labelTransformers.tree.straight;\nlabelTransformers.weighted.smooth = labelTransformers.weighted.straight;\nlabelTransformers.dendrogram = labelTransformers.tree;\n\nfunction labeler(d) {\n  if (!d.target.data.length) return \"0.000\";\n  return d.target.data.length.toFixed(3);\n}\n\n/**\n * Redraws the links and relocates the nodes accordingly\n * @return {TidyTree} The TidyTree Object\n */\nTidyTree.prototype.redraw = function () {\n  let parent = this.parent;\n\n  this.width  = (parseFloat(parent.style(\"width\" )) - this.margin[1] - this.margin[3]     ) * this.hStretch;\n  this.height = (parseFloat(parent.style(\"height\")) - this.margin[0] - this.margin[2] - 25) * this.vStretch;\n\n  this.scalar =\n    this.layout === \"horizontal\" ? this.width :\n    this.layout === \"vertical\" ? this.height :\n    Math.min(this.width, this.height) / 2;\n\n  this.hierarchy.each(d => (d.weight = this.scalar * d.value));\n\n  let g = parent.select(\"svg g\");\n\n  let source = (this.type === \"tree\" ? d3.tree() : d3.cluster()).size(\n    this.layout === \"circular\"   ? [2 * Math.PI, Math.min(this.height, this.width) / 2] :\n    this.layout === \"horizontal\" ? [this.height, this.width] :\n    [this.width, this.height]\n  );\n\n  if (this.equidistantLeaves) {\n    if (this.layout === \"circular\") {\n      source.separation((a,b) => 1 / a.depth);\n    } else {\n      source.separation((a,b) => 1);\n    }\n  } else {\n    if (this.layout === \"circular\")\n      source.separation((a, b) => (a.parent == b.parent ? 1 : 2) / a.depth);\n  }\n  \n  //Note: You must render links prior to nodes in order to get correct placement!\n  let links = g\n    .select(\"g.tidytree-links\")\n    .selectAll(\"g.tidytree-link\")\n    .data(source(this.hierarchy).links(), l => l.source.data._guid + ':' + l.target.data._guid);\n\n  links.join(\n    enter => {\n      let newLinks = enter.append(\"g\").attr(\"class\", \"tidytree-link\");\n\n      let linkTransformer = linkTransformers[this.type][this.mode][this.layout];\n      newLinks\n        .append(\"path\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", d => findBranchColor(d, this.colorOptions))\n        .attr(\"d\", linkTransformer)\n        .transition()\n        .duration(this.animation)\n        .attr(\"opacity\", 1);\n\n      let labelTransformer = labelTransformers[this.type][this.mode][this.layout];\n      newLinks\n        .append(\"text\")\n        .attr(\"y\", 2)\n        .attr(\"text-anchor\", \"middle\")\n        .style(\"font-size\", \"12px\")\n        .text(labeler)\n        .attr(\"transform\", labelTransformer)\n        .transition()\n        .duration(this.animation)\n        .style(\"opacity\", this.branchDistances ? 1 : 0);\n    },\n    update => {\n      let linkTransformer = linkTransformers[this.type][this.mode][this.layout];\n      let paths = update.select(\"path\");\n      if (!this.animation > 0) {\n        paths\n        .attr(\"d\", linkTransformer)\n        .attr(\"stroke\", d => findBranchColor(d, this.colorOptions));\n      } else {\n        paths\n          .transition()\n          .duration(this.animation / 2)\n          .attr(\"stroke\", d => findBranchColor(d, this.colorOptions))\n          .attr(\"opacity\", 0)\n          .end()\n          .then(() => {\n            paths\n              .attr(\"d\", linkTransformer)\n              .transition()\n              .duration(this.animation / 2)\n              .attr(\"opacity\", 1);\n          });\n      }\n\n      let labelTransformer =\n        labelTransformers[this.type][this.mode][this.layout];\n      let labels = update.select(\"text\");\n      if (this.animation) {\n        labels\n          .transition()\n          .duration(this.animation / 2)\n          .style(\"opacity\", 0)\n          .end()\n          .then(() => {\n            labels.text(labeler).attr(\"transform\", labelTransformer);\n            if (this.branchDistances) {\n            labels\n              .transition()\n              .duration(this.animation / 2)\n              .style(\"opacity\", this.branchDistances ? 1 : 0);\n            }\n          });\n      } else {\n        labels.text(labeler).attr(\"transform\", labelTransformer);\n      }\n    },\n    exit =>\n      exit\n        .transition()\n        .duration(this.animation)\n        .attr(\"opacity\", 0)\n        .remove()\n  );\n\n  let nodes = g\n    .select(\"g.tidytree-nodes\")\n    .selectAll(\"g.tidytree-node\")\n    .data(this.hierarchy.descendants(), d => d.data._guid);\n  nodes.join(\n    enter => {\n      let nt = nodeTransformers[this.type][this.layout];\n      let newNodes = enter\n        .append(\"g\")\n        .attr(\"class\", \"tidytree-node\")\n        .classed(\"tidytree-node-internal\", d => d.children)\n        .classed(\"tidytree-node-leaf\", d => !d.children)\n        .attr(\"transform\", nt);\n\n      newNodes\n        .append(\"circle\")\n        .attr(\"title\", d => d.data.id)\n        .style(\"opacity\", d =>\n          (d.children && this.branchNodes) ||\n          (!d.children && this.leafNodes) ? 1 : 0\n        )\n        .style(\"fill\", d => findNodeColor(d, this.colorOptions))\n        .on(\"mouseenter focusin\", d => this.trigger(\"showtooltip\", d))\n        .on(\"mouseout focusout\", d => this.trigger(\"hidetooltip\", d))\n        .on(\"contextmenu\", d => this.trigger(\"contextmenu\", d))\n        .on(\"click\", d => this.trigger(\"select\", d))\n        .attr(\"r\", 2.5);\n\n      let nodeLabels = newNodes\n        .append(\"text\")\n        .text(d => d.data.id)\n        .style(\"font-size\", \"12px\")\n        .attr(\"y\", 2)\n        .style(\"opacity\", d =>\n          ( d.children && this.branchLabels) ||\n          (!d.children && this.leafLabels) ? 1 : 0\n        );\n\n      if (this.layout === \"vertical\") {\n        nodeLabels\n          .attr(\"text-anchor\", \"start\")\n          .attr(\"x\", 5)\n          .transition()\n          .duration(this.animation)\n          .attr(\"transform\", \"rotate(90)\");\n      } else if (this.layout === \"horizontal\") {\n        nodeLabels\n          .attr(\"text-anchor\", \"start\")\n          .attr(\"x\", 5)\n          .transition()\n          .duration(this.animation)\n          .attr(\"transform\", \"rotate(0)\");\n      } else {\n        nodeLabels\n          .transition()\n          .duration(this.animation)\n          .attr(\"transform\", l => `rotate(${(((l.x / Math.PI) * 180) % 180) - 90})`)\n          .attr(\"text-anchor\", l => l.x % (2 * Math.PI) > Math.PI ? \"end\" : \"start\")\n          .attr(\"x\", l => (l.x % (2 * Math.PI) > Math.PI ? -5 : 5));\n      }\n\n      newNodes\n        .transition()\n        .duration(this.animation)\n        .attr(\"opacity\", 1);\n    },\n    update => {\n      let nodeTransformer = nodeTransformers[this.type][this.layout];\n      update\n        .transition()\n        .duration(this.animation)\n        .attr(\"transform\", nodeTransformer);\n\n      let nodeGlyphs = update.select(\"circle\");\n      nodeGlyphs.style(\"fill\", d => findNodeColor(d, this.colorOptions));      \n\n      let nodeLabels = update.select(\"text\");\n      if (this.layout === \"vertical\") {\n        nodeLabels\n          .attr(\"text-anchor\", \"start\")\n          .attr(\"x\", 5)\n          .transition()\n          .duration(this.animation)\n          .attr(\"transform\", \"rotate(90)\");\n      } else if (this.layout === \"horizontal\") {\n        nodeLabels\n          .attr(\"text-anchor\", \"start\")\n          .attr(\"x\", 5)\n          .transition()\n          .duration(this.animation)\n          .attr(\"transform\", \"rotate(0)\");\n      } else {\n        nodeLabels\n          .transition()\n          .duration(this.animation)\n          .attr(\"transform\", l => `rotate(${(((l.x / Math.PI) * 180) % 180) - 90})`)\n          .attr(\"text-anchor\", l => l.x % (2 * Math.PI) > Math.PI ? \"end\" : \"start\")\n          .attr(\"x\", l => (l.x % (2 * Math.PI) > Math.PI ? -5 : 5));\n      }\n    },\n    exit =>\n      exit\n        .transition()\n        .duration(this.animation)\n        .attr(\"opacity\", 0)\n        .remove()\n  );\n\n  updateRuler.call(this);\n\n  return this;\n};\n\nfunction updateRuler(transform) {\n  if (!transform) transform = { k: 1 };\n  let height = parseFloat(this.parent.style(\"height\")) - this.margin[2] - 15;\n  let ruler = this.parent.select(\"g.tidytree-ruler\");\n  let bg = ruler.select(\"rect\");\n  if (this.ruler) {\n    if (this.layout == \"horizontal\") {\n      ruler.attr(\"transform\", `translate(${this.margin[3]}, ${height})`);\n      bg\n        .attr(\"width\", `calc(100% - ${this.margin[1] + this.margin[3] - 15}px)`)\n        .attr(\"height\", \"25px\")\n        .attr(\"x\", -5);\n    } else {\n      ruler.attr(\"transform\", `translate(${this.margin[3] - 10}, ${this.margin[0]})`);\n      bg\n        .attr(\"height\", `calc(100% - ${this.margin[0] + this.margin[2] - 15}px)`)\n        .attr(\"width\", \"25px\")\n        .attr(\"x\", -25);\n    }\n    let axis = this.layout == \"horizontal\" ? d3.axisBottom() : d3.axisLeft();\n    if (this.type === \"tree\" && this.layout !== \"circular\") {\n      ruler\n        .attr(\"opacity\", 1)\n        .call(\n          axis.scale(\n            d3.scaleLinear(\n              [0, this.hierarchy.height / transform.k],\n              [0, this.scalar]\n            )\n          )\n        );\n    } else if (this.type === \"weighted\" && this.layout !== \"circular\") {\n      ruler\n        .attr(\"opacity\", 1)\n        .call(\n          axis.scale(\n            d3.scaleLinear(\n              [this.range[0], this.range[1] / transform.k],\n              [0, this.scalar]\n            )\n          )\n        );\n    } else {\n      ruler\n        .transition()\n        .duration(this.animation)\n        .attr(\"opacity\", 0);\n    }\n  } else {\n    ruler\n      .transition()\n      .duration(this.animation)\n      .attr(\"opacity\", 0);\n  }\n}\n\n/**\n * Recenters the tree in the center of the view\n * @return {TidyTree} The TidyTree object\n */\nTidyTree.prototype.recenter = function () {\n  let svg = this.parent.select(\"svg\"),\n    x = this.margin[0],\n    y = this.margin[3];\n  if (this.layout === \"circular\") {\n    x += parseFloat(svg.style(\"width\")) / 2;\n    y += parseFloat(svg.style(\"height\")) / 2;\n  }\n  svg\n    .transition()\n    .duration(this.animation)\n    .call(this.zoom.transform, d3.zoomIdentity.translate(x, y));\n  return this;\n};\n\n/**\n * Set the TidyTree's layout\n * @param {String} newLayout The new layout\n * @return {TidyTree} The TidyTree Object\n */\nTidyTree.prototype.setLayout = function (newLayout) {\n  if (!TidyTree.validLayouts.includes(newLayout)) {\n    throw Error(`\n      Cannot set TidyTree to layout: ${newLayout}\\n\n      Valid layouts are: ${TidyTree.validLayouts.join(', ')}\n    `);\n  }\n  this.layout = newLayout;\n  if (this.parent) return this.redraw();\n  return this;\n};\n\n/**\n * Set the TidyTree's colorOptions\n * @param {Object} newColorOptions The new colorOptions\n * @return {TidyTree} The TidyTree Object\n */\nTidyTree.prototype.setColorOptions = function (newColorOptions) {\n  if (!TidyTree.validNodeColorModes.includes(newColorOptions.nodeColorMode)) {\n    throw Error(`\n      Cannot set TidyTree colorOptions: ${newColorOptions.nodeColorMode}\\n\n      Valid nodeColorModes are: ${TidyTree.validNodeColorModes.join(', ')}\n    `);\n  }\n  if (!TidyTree.validBranchColorModes.includes(newColorOptions.branchColorMode)) {\n    throw Error(`\n      Cannot set TidyTree colorOptions: ${newColorOptions.branchColorMode}\\n\n      Valid branchColorModes are: ${TidyTree.validBranchColorModes.join(', ')}\n    `);\n  }\n\n  if (newColorOptions.nodeColorMode === 'list') {\n    if (!Array.isArray(newColorOptions.nodeList)) {\n      throw Error('nodeList must be an array for nodeColorMode \"list\"');\n    }\n  } else {\n    // nodeColorMode === 'none'\n    if (newColorOptions.branchColorMode !== 'none') {\n      throw Error('branchColorMode must be \"none\" for nodeColorMode \"none\"');\n    }\n  }\n\n  this.colorOptions = newColorOptions;\n  if (this.parent) return this.redraw();\n  return this;\n}\n\n/**\n * Set the TidyTree's mode\n * @param {String} newMode The new mode\n * @return {TidyTree} The TidyTree object\n */\nTidyTree.prototype.setMode = function (newMode) {\n  if (!TidyTree.validModes.includes(newMode)) {\n    throw Error(`\n      Cannot set TidyTree to mode: ${newMode},\\n\n      Valid modes are: ${TidyTree.validModes.join(', ')}\n    `);\n  }\n  this.mode = newMode;\n  if (this.parent) return this.redraw();\n  return this;\n};\n\n/**\n * Set the TidyTree's type\n * @param {Boolean} newType The new type\n * @return {TidyTree} the TidyTree object\n */\nTidyTree.prototype.setType = function (newType) {\n  if (!TidyTree.validTypes.includes(newType)) {\n    throw Error(`\n      Cannot set TidyTree to type: ${newType},\\n\n      Valid types are: ${TidyTree.validTypes.join(', ')}\n    `);\n  }\n  this.type = newType;\n  if (this.parent) return this.redraw();\n  return this;\n};\n\n/**\n * Set the TidyTree's rotation\n * @param {Number} degrees The new number of degrees by which to rotate the tree\n * @return {TidyTree} the TidyTree object\n */\nTidyTree.prototype.setRotation = function (degrees) {\n  this.rotation = degrees;\n  if (this.parent)\n    this.parent\n      .select(\"svg g\")\n      .attr(\"transform\", `\n        translate(${this.transform.x},${this.transform.y})\n        scale(${this.transform.k})\n        rotate(${this.rotation},\n          ${this.layout === \"circular\" ? 0 : this.width / 2},\n          ${this.layout === \"circular\" ? 0 : this.height / 2}\n        )\n      `);\n  return this;\n};\n\n/**\n * Set the TidyTree's Horizontal Stretch\n * @param {Number} proportion The new proportion by which to stretch the tree\n * @return {TidyTree} the TidyTree object\n */\nTidyTree.prototype.setHStretch = function (proportion) {\n  this.hStretch = parseFloat(proportion);\n  if (this.parent) {\n    let animCache = this.animation;\n    this.setAnimation(0);\n    this.redraw();\n    this.setAnimation(animCache);\n  }\n  return this;\n};\n\n/**\n * Set the TidyTree's Vertical Stretch\n * @param {Number} proportion The new proportion by which to stretch the tree\n * @return {TidyTree} the TidyTree object\n */\nTidyTree.prototype.setVStretch = function (proportion) {\n  this.vStretch = parseFloat(proportion);\n  if (this.parent) {\n    let animCache = this.animation;\n    this.setAnimation(0);\n    this.redraw();\n    this.setAnimation(animCache);\n  }\n  return this;\n};\n\n/**\n * Set the TidyTree's animation time. Note that this does not trigger a\n * redraw.\n * @param {number} time The desired duration of an animation, in ms. Set to 0\n * to turn animations off completely.\n * @return {TidyTree} The TidyTree object\n */\nTidyTree.prototype.setAnimation = function (time) {\n  this.animation = time;\n  return this;\n};\n\n/**\n * Shows or hides the Branch Nodes\n * @param  {Boolean} show Should Branch nodes be shown?\n * @return {TidyTree} the TidyTree object\n */\nTidyTree.prototype.setBranchNodes = function (show) {\n  this.branchNodes = show ? true : false;\n  if (this.parent) {\n    //i.e. has already been drawn\n    this.parent\n      .select(\"svg\")\n      .selectAll(\"g.tidytree-node-internal circle\")\n      .transition()\n      .duration(this.animation)\n      .style(\"opacity\", show ? 1 : 0);\n  }\n  return this;\n};\n\n/**\n * Restyles Leaf Nodes\n * @param  {Function} styler A function that restyles each node. `styler`\n * receives a reference to the DOM node to be styled, and an associated data\n * object.\n * @return {TidyTree} the TidyTree Object\n */\nTidyTree.prototype.eachBranchNode = function (styler) {\n  if (!this.parent)\n    throw Error(\n      \"Tree has not been rendered yet! Can't style Nodes that don't exist!\"\n    );\n  this.parent\n    .select(\"svg\")\n    .selectAll(\"g.tidytree-node-internal circle\")\n    .each(function (d) { styler(this, d); });\n  return this;\n};\n\n/**\n * Set the TidyTree's branchLabels\n * @param  {Boolean} show Should the TidyTree show branchLabels?\n * @return {TidyTree}     the TidyTree Object\n */\nTidyTree.prototype.setBranchLabels = function (show) {\n  this.branchLabels = show ? true : false;\n  if (this.parent) {\n    //i.e. has already been drawn\n    this.parent\n      .select(\"svg\")\n      .selectAll(\"g.tidytree-node-internal text\")\n      .transition()\n      .duration(this.animation)\n      .style(\"opacity\", show ? 1 : 0);\n  }\n  return this;\n};\n\n/**\n * Restyles Branch Label\n * @param  {Function} styler A function that restyles each node. `styler`\n * receives a reference to the DOM node to be styled, and an associated data\n * object.\n * @return {TidyTree} the TidyTree Object\n */\nTidyTree.prototype.eachBranchLabel = function (styler) {\n  if (!this.parent){\n    throw Error(\"Tree has not been rendered yet! Can't style Nodes that don't exist!\");\n  }\n  this.parent\n    .select(\"svg\")\n    .selectAll(\"g.tidytree-node-internal text\")\n    .each(function (d, i, l) { styler(this, d); });\n  return this;\n};\n\n/**\n * Shows or hides the TidyTree's branch labels\n * @param {Boolean} show Should the TidyTree show branch distances?\n * @return {TidyTree} The TidyTree Object\n */\nTidyTree.prototype.setBranchDistances = function (show) {\n  this.branchDistances = show ? true : false;\n  if (this.parent) {\n    //i.e. has already been drawn\n    let links = this.parent\n      .select(\"svg g.tidytree-links\")\n      .selectAll(\"g.tidytree-link\")\n      .selectAll(\"text\");\n    links.attr(\"transform\", labelTransformers[this.type][this.mode][this.layout]);\n    links\n      .transition()\n      .duration(this.animation)\n      .style(\"opacity\", show ? 1 : 0);\n  }\n  return this;\n};\n\n/**\n * Restyles Branch Distances\n * @param  {Function} styler A function that restyles each node. `styler`\n * receives a reference to the DOM node to be styled, and an associated data\n * object.\n * @return {TidyTree} the TidyTree Object\n */\nTidyTree.prototype.eachBranchDistance = function (styler) {\n  if (!this.parent)\n    throw Error(\"Tree has not been rendered yet! Can't style Nodes that don't exist!\");\n  this.parent\n    .select(\"svg g.tidytree-links\")\n    .selectAll(\"g.tidytree-link\")\n    .selectAll(\"text\")\n    .each(function (d, i, l) { styler(this, d); });\n  return this;\n};\n\n/**\n * Shows or Hides the Leaf Nodes\n * @param  {Boolean} show Should leaf nodes be visible?\n * @return {TidyTree} The TidyTree Object\n */\nTidyTree.prototype.setLeafNodes = function (show) {\n  this.leafNodes = show ? true : false;\n  if (this.parent) {\n    //i.e. has already been drawn\n    this.parent\n      .select(\"svg\")\n      .selectAll(\"g.tidytree-node-leaf circle\")\n      .transition()\n      .duration(this.animation)\n      .style(\"opacity\", show ? 1 : 0);\n  }\n  return this;\n};\n\n/**\n * Restyles Leaf Nodes\n * @param  {Function} styler A function that restyles each node. `styler`\n * receives a reference to the DOM node to be styled, and an associated data\n * object.\n * @return {TidyTree} the TidyTree Object\n */\nTidyTree.prototype.eachLeafNode = function (styler) {\n  if (!this.parent){\n    throw Error(\"Tree has not been rendered yet! Can't style Nodes that don't exist!\");\n  }\n  this.parent\n    .select(\"svg\")\n    .selectAll(\"g.tidytree-node-leaf circle\")\n    .each(function (d) {\n      styler(this, d);\n    });\n  return this;\n};\n\n/**\n * Set the TidyTree's leaves to be equidistant\n */\nTidyTree.prototype.setEquidistantLeaves = function (isEquidistant) {\n  this.equidistantLeaves = isEquidistant ? true : false;\n\n  if (this.parent) return this.redraw();\n  return this;\n}\n\n/**\n * Shows or Hides the TidyTree's Leaf Labels\n * @param  {Boolean} show Should the TidyTree show leafLabels?\n * @return {TidyTree}     the TidyTree Object\n */\nTidyTree.prototype.setLeafLabels = function (show) {\n  this.leafLabels = show ? true : false;\n  if (this.parent) {\n    //i.e. has already been drawn\n    this.parent\n      .select(\"svg\")\n      .selectAll(\"g.tidytree-node-leaf text\")\n      .transition()\n      .duration(this.animation)\n      .style(\"opacity\", show ? 1 : 0);\n  }\n  return this;\n};\n\n/**\n * Restyles Leaf Labels\n * @param  {Function} styler A function that restyles each node. `styler`\n * receives a reference to the DOM node to be styled, and an associated data\n * object.\n * @return {TidyTree} the TidyTree Object\n */\nTidyTree.prototype.eachLeafLabel = function (styler) {\n  if (!this.parent){\n    throw Error(\"Tree has not been rendered yet! Can't style Nodes that don't exist!\");\n  }\n  this.parent\n    .select(\"svg\")\n    .selectAll(\"g.tidytree-node-leaf text\")\n    .each(function (d) { styler(this, d); });\n  return this;\n};\n\n/**\n * Shows or hides the TidyTree's branch labels\n * @param {Boolean} show Should the TidyTree show branchLabels?\n * @return {TidyTree} The TidyTree Object\n */\nTidyTree.prototype.setRuler = function (show) {\n  this.ruler = show ? true : false;\n  if (this.parent) {\n    //i.e. has already been drawn\n    if (show) {\n      this.parent\n        .select(\"g.tidytree-ruler\")\n        .transition()\n        .duration(this.animation)\n        .attr(\"opacity\", 1);\n    } else {\n      this.parent\n        .select(\"g.tidytree-ruler\")\n        .transition()\n        .duration(this.animation)\n        .attr(\"opacity\", 0);\n    }\n  }\n  return this;\n};\n\n/**\n * Retrieves the GUIDs of the nodes in the TidyTree instance.\n *\n * @param {boolean} leavesOnly - Whether to retrieve GUIDs only for leaf nodes.\n * @param {function} predicate - A function that returns true if the node should be included\n * @return {Array} An array of GUIDs of the nodes.\n */\nTidyTree.prototype.getNodeGUIDs = function (leavesOnly, predicate) {\n  let nodeList = this.parent\n    .select(\"svg\")\n    .selectAll(\"g.tidytree-node-leaf circle\")\n    ._groups[0];\n\n  if (!leavesOnly) {\n    nodeList = this.parent\n      .select(\"svg\")\n      .selectAll(\"g.tidytree-node-leaf circle, g.tidytree-node-internal circle\")\n      ._groups[0];\n  }\n\n  let nodeGUIDs = [];\n  for (const node of nodeList.values()) {\n    if (!predicate || predicate(node)) {\n      nodeGUIDs.push(node.__data__.data._guid);\n    }\n  }\n\n  return nodeGUIDs;\n}\n\n/**\n * Searches the tree, returns Search Results\n * @param  {Function} test A function which takes a Branch and returns a Truthy\n * or Falsy value.\n * @return {Array} The array of results\n */\nTidyTree.prototype.search = function (test) {\n  if (!test) return;\n  let results = this.parent\n    .select(\"svg g.tidytree-nodes\")\n    .selectAll(\"g.tidytree-node\")\n    .filter(test);\n  if (this.events.search.length) this.events.search.forEach(c => c(results));\n  return results;\n};\n\n/**\n * Attaches a new event listener\n * Please note that this is not yet functioning.\n * @param  {String}   events   A space-delimited list of event names\n * @param  {Function} callback The function to run when one of the `events` occurs.\n * @return {TidyTree} The TidyTree on which this method was called.\n */\nTidyTree.prototype.on = function (events, callback) {\n  events.split(\" \").forEach(event => this.events[event].push(callback));\n  return this;\n};\n\n/**\n * Removes all event listeners from the given events\n * @param  {String}   events   A space-delimited list of event names\n * @return {TidyTree} The TidyTree on which this method was called.\n */\nTidyTree.prototype.off = function (events) {\n  events.split(\" \").forEach(event => (this.events[event] = []));\n  return this;\n};\n\n/**\n * Forces the tree to respond as though an `event` has occurred\n * @param  {String} events space-delimited list of names of events to trigger.\n * @param  {Spread} args Any arguments which should be passed to the event\n * handler(s).\n * @return The output of the callback run on `event`\n */\nTidyTree.prototype.trigger = function (events, ...args) {\n  return events.split(\" \").map(event => {\n    if (this.events[event].length)\n      return this.events[event].map(handler => handler(args));\n    return [];\n  });\n};\n\n/**\n * Destroys the TidyTree\n * @return {undefined}\n */\nTidyTree.prototype.destroy = function () {\n  if (this.parent) {\n    //i.e. has already been drawn\n    this.parent.html(null);\n  }\n  delete this; //Go to work, GC!\n};\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n    :host {\n      height: 100%;\n      width: 100%;\n      padding: 0;\n      display: block;\n      position: relative;\n    }\n    `, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/golden-layout-host.component.ts\"],\"names\":[],\"mappings\":\";IACI;MACE,YAAY;MACZ,WAAW;MACX,UAAU;MACV,cAAc;MACd,kBAAkB;IACpB\",\"sourcesContent\":[\"\\n    :host {\\n      height: 100%;\\n      width: 100%;\\n      padding: 0;\\n      display: block;\\n      position: relative;\\n    }\\n    \"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.mapStyle{\n    height:100%;\n    width:100%;\n    /* height:calc(100vh - 350px); */\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n    /* position: sticky !important; */\n}\n\n:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n}\n\n.map-container {\n  height: 100%;\n  width: 100%;\n  position: relative;\n}\n\n\n#mapTooltip {\n    color:#333333;\n    background:#f5f5f5;\n    border:1px solid #cccccc;\n    border-radius:.25rem;\n    padding:.25rem;\n  }\n\n  .bottom-table{\n    font-size: calc((.5vmax));   \n}\n\n.OSM-credit {\n  position: absolute;\n  bottom: 7px;\n  left: 50px;\n  z-index: 2;\n}\n\n.OSM-credit a {\n  color: #4e8bb7 !important;\n  text-decoration: underline !important;\n  cursor: pointer !important;\n}\n\n /* Button appearance on hover */\n .btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n  background: white;\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/MapComponent/map-plugin.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,WAAW;IACX,UAAU;IACV,gCAAgC;IAChC,kBAAkB;IAClB,MAAM;IACN,SAAS;IACT,OAAO;IACP,QAAQ;IACR,UAAU;IACV,iCAAiC;AACrC;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,qBAAqB;AACvB;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;AACpB;;;AAGA;IACI,aAAa;IACb,kBAAkB;IAClB,wBAAwB;IACxB,oBAAoB;IACpB,cAAc;EAChB;;EAEA;IACE,yBAAyB;AAC7B;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV,UAAU;AACZ;;AAEA;EACE,yBAAyB;EACzB,qCAAqC;EACrC,0BAA0B;AAC5B;;CAEC,+BAA+B;CAC/B;EACC,qBAAqB,EAAE,4BAA4B;EACnD,oCAAoC,EAAE,qCAAqC;AAC7E;;AAEA;EACE,kBAAkB;EAClB,0CAA0C;EAC1C,iBAAiB;AACnB;;AAEA;EACE,2BAA2B;AAC7B;;;AAGA;EACE,2BAA2B;AAC7B\",\"sourcesContent\":[\".mapStyle{\\n    height:100%;\\n    width:100%;\\n    /* height:calc(100vh - 350px); */\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    z-index: 1;\\n    /* position: sticky !important; */\\n}\\n\\n:host {\\n  position: absolute;\\n  overflow: hidden;\\n  z-index: 1 !important;\\n}\\n\\n.map-container {\\n  height: 100%;\\n  width: 100%;\\n  position: relative;\\n}\\n\\n\\n#mapTooltip {\\n    color:#333333;\\n    background:#f5f5f5;\\n    border:1px solid #cccccc;\\n    border-radius:.25rem;\\n    padding:.25rem;\\n  }\\n\\n  .bottom-table{\\n    font-size: calc((.5vmax));   \\n}\\n\\n.OSM-credit {\\n  position: absolute;\\n  bottom: 7px;\\n  left: 50px;\\n  z-index: 2;\\n}\\n\\n.OSM-credit a {\\n  color: #4e8bb7 !important;\\n  text-decoration: underline !important;\\n  cursor: pointer !important;\\n}\\n\\n /* Button appearance on hover */\\n .btn-icon:hover {\\n  transform: scale(1.1); /* Slight enlarge on hover */\\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n\\n.btn-icon {\\n  margin-right: 10px;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n  background: white;\\n}\\n\\n.flaticon-settings:before {\\n  font-weight: 800 !important;\\n}\\n\\n\\n.flaticon-download:before {\\n  font-weight: 800 !important;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#main-tabset {\n  height: 100%;\n}\n\n#phylocanvas {\n  height: 100%;\n}\n\nbody .ui-tabview {\n  height: 100% !important;\n}\n\nbody .ui-tabview .ui-tabview-panels {\n  height: 100% !important;\n}\n\nbody .ui-tabview .ui-tabview-panels .ui-tabview-panel {\n  height: 100% !important;\n}\n\n:root {\n  --vis-graph-node-label-background: black;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/app.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,YAAA;AACJ;;AACA;EACI,YAAA;AAEJ;;AAAA;EACI,uBAAA;AAGJ;;AADA;EACI,uBAAA;AAIJ;;AAFA;EACI,uBAAA;AAKJ;;AAFA;EACI,wCAAA;AAKJ\",\"sourcesContent\":[\"#main-tabset {\\n    height: 100%;\\n}\\n#phylocanvas {\\n    height: 100%;\\n}\\nbody .ui-tabview {\\n    height: 100% !important;\\n}\\nbody .ui-tabview .ui-tabview-panels {\\n    height: 100% !important;\\n}\\nbody .ui-tabview .ui-tabview-panels .ui-tabview-panel {\\n    height: 100% !important;\\n}\\n\\n:root {\\n    --vis-graph-node-label-background: black;\\n  }\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n  padding: 1px;\n}\n\n:host ::ng-deep .p-accordion-tab:not(.p-accordion-tab-active) .p-toggleable-content {\n  height: 0;\n  overflow: hidden;\n}\n:host ::ng-deep .p-accordion-tab.p-accordion-tab-active .p-toggleable-content {\n  height: auto !important;\n  overflow: auto !important;\n}\n\n.aggregate-wrapper {\n  padding: 50px 20px 5px 20px;\n}\n\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-pin:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}\n\n#tablesContainer p-table {\n  border: 2px solid #555555;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/AggregateComponent/aggregate.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;EACA,gBAAA;EACA,qBAAA;EACA,YAAA;AACJ;;AAII;EACE,SAAA;EACA,gBAAA;AADN;AAMI;EACE,uBAAA;EACA,yBAAA;AAJN;;AAQA;EACE,2BAAA;AALF;;AAQA,+BAAA;AACA;EACE,qBAAA,EAAA,4BAAA;EACA,oCAAA,EAAA,qCAAA;AALF;;AAQA;EACE,kBAAA;EACA,0CAAA;AALF;;AAQA;EACE,2BAAA;AALF;;AAQA;EACE,2BAAA;AALF;;AAQA;EACE,2BAAA;AALF;;AAQA;EACE,yBAAA;AALF\",\"sourcesContent\":[\":host {\\n    position: absolute;\\n    overflow: hidden;\\n    z-index: 1 !important;\\n    padding: 1px; \\n}\\n\\n:host ::ng-deep {\\n  .p-accordion-tab:not(.p-accordion-tab-active) {\\n    .p-toggleable-content {\\n      height: 0;\\n      overflow: hidden;\\n    }\\n  }\\n\\n  .p-accordion-tab.p-accordion-tab-active {\\n    .p-toggleable-content {\\n      height: auto !important;\\n      overflow: auto !important;\\n    }\\n  }\\n}\\n.aggregate-wrapper {\\n  padding: 50px 20px 5px 20px;\\n}\\n\\n/* Button appearance on hover */\\n.btn-icon:hover {\\n  transform: scale(1.1); /* Slight enlarge on hover */\\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n    \\n.btn-icon {\\n  margin-right: 10px;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n}\\n\\n.flaticon-settings:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-pin:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-download:before {\\n  font-weight: 800 !important;\\n}\\n\\n#tablesContainer p-table {\\n  border: 2px solid #555555;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n  padding: 1px;\n}\n\n:host ::ng-deep .p-accordion-tab:not(.p-accordion-tab-active) .p-toggleable-content {\n  height: 0;\n  overflow: hidden;\n}\n:host ::ng-deep .p-accordion-tab.p-accordion-tab-active .p-toggleable-content {\n  height: auto !important;\n  overflow: auto !important;\n}\n\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-pin:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}\n\n.msa-viewer-container {\n  position: relative;\n  top: 50px;\n  left: 5px;\n  padding-right: 5px;\n}\n\n#msa-viewer {\n  overflow-y: hidden;\n  overflow-x: hidden;\n  display: flex;\n  gap: 5px;\n}\n\n.title {\n  font-size: 24px;\n  text-align: right;\n  padding-right: 20px;\n}\n\n.canvasLabels {\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n}\n\n#searchHighlight {\n  width: 1500px;\n  position: absolute;\n  height: 10px;\n  top: 0px;\n  left: 0px;\n  border: red 2px dotted;\n}\n\n#searchHighlightHolder {\n  width: 250px;\n}\n\n.searchHighlight2 {\n  background-color: #E3F2FD;\n}\n\n.triangle {\n  width: 10px;\n  position: relative;\n  left: 42px;\n  border-left: 8px transparent solid;\n  border-right: 8px transparent solid;\n  border-bottom: 16px lightgray solid;\n}\n\n#tooltipHolder {\n  display: none;\n}\n\n#tooltipAlign {\n  background-color: lightgray;\n  padding: 5px;\n  display: block;\n}\n\n.canvasHolder {\n  overflow-x: auto;\n  overflow-y: scroll;\n}\n\n#alignmentTop {\n  overflow-x: auto;\n  height: 160px;\n}\n\n.alignRow {\n  display: flex;\n}\n\n.alignName {\n  width: 200px;\n  margin-right: 5px;\n  flex: none;\n}\n\n#miniMapHolder {\n  padding: 5px 10px;\n  border: 3px black solid;\n  background-color: white;\n  margin-bottom: 10px;\n}\n\n#miniMap {\n  position: relative;\n}\n\n#miniMapTitle {\n  margin-bottom: 10px;\n}\n\n#miniMapHighlight {\n  display: none;\n  background-color: rgba(128, 128, 128, 0.4);\n  position: absolute;\n}\n\n.customColorSchemeSelection div {\n  justify-content: space-around;\n}\n\n.customColorSchemeSelection label {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.customColorSchemeSelection input {\n  width: 46.63px;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/AlignmentViewComponent/alignment-view-plugin-component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;EACA,gBAAA;EACA,qBAAA;EACA,YAAA;AACJ;;AAKI;EACE,SAAA;EACA,gBAAA;AAFN;AAOI;EACE,uBAAA;EACA,yBAAA;AALN;;AAUI,+BAAA;AACJ;EACE,qBAAA,EAAA,4BAAA;EACA,oCAAA,EAAA,qCAAA;AAPF;;AAUA;EACE,kBAAA;EACA,0CAAA;AAPF;;AAUA;EACE,2BAAA;AAPF;;AAUA;EACE,2BAAA;AAPF;;AAUA;EACE,2BAAA;AAPF;;AAUA;EACE,kBAAA;EACA,SAAA;EACA,SAAA;EACA,kBAAA;AAPF;;AAUA;EACE,kBAAA;EACA,kBAAA;EACA,aAAA;EACA,QAAA;AAPF;;AAUA;EACE,eAAA;EACA,iBAAA;EACA,mBAAA;AAPF;;AAUA;EACE,gBAAA;EACA,kBAAA;EACA,kBAAA;AAPF;;AAUA;EACE,aAAA;EACA,kBAAA;EACA,YAAA;EACA,QAAA;EACA,SAAA;EACA,sBAAA;AAPF;;AAUA;EACE,YAAA;AAPF;;AAUA;EACE,yBAAA;AAPF;;AAUA;EACE,WAAA;EACA,kBAAA;EACA,UAAA;EACA,kCAAA;EACA,mCAAA;EACA,mCAAA;AAPF;;AAUA;EACE,aAAA;AAPF;;AAUA;EACE,2BAAA;EACA,YAAA;EACA,cAAA;AAPF;;AAUA;EACE,gBAAA;EACA,kBAAA;AAPF;;AAUA;EACE,gBAAA;EACA,aAAA;AAPF;;AAUA;EACE,aAAA;AAPF;;AAUA;EACE,YAAA;EACA,iBAAA;EACA,UAAA;AAPF;;AAUA;EACE,iBAAA;EACA,uBAAA;EACA,uBAAA;EACA,mBAAA;AAPF;;AAUA;EACE,kBAAA;AAPF;;AAUA;EACE,mBAAA;AAPF;;AAUA;EACE,aAAA;EACA,0CAAA;EACA,kBAAA;AAPF;;AAUA;EACE,6BAAA;AAPF;;AAUA;EACE,aAAA;EACA,mBAAA;EACA,SAAA;AAPF;;AAUA;EACE,cAAA;AAPF\",\"sourcesContent\":[\":host {\\n    position: absolute;\\n    overflow: hidden;\\n    z-index: 1 !important;\\n    padding: 1px; \\n    //background-color: rgb(168, 125, 211, .2);\\n}\\n\\n:host ::ng-deep {\\n  .p-accordion-tab:not(.p-accordion-tab-active) {\\n    .p-toggleable-content {\\n      height: 0;\\n      overflow: hidden;\\n    }\\n  }\\n\\n  .p-accordion-tab.p-accordion-tab-active {\\n    .p-toggleable-content {\\n      height: auto !important;\\n      overflow: auto !important;\\n    }\\n  }\\n}\\n\\n    /* Button appearance on hover */\\n.btn-icon:hover {\\n  transform: scale(1.1); /* Slight enlarge on hover */\\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n\\n.btn-icon {\\n  margin-right: 10px;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n}\\n\\n.flaticon-settings:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-pin:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-download:before {\\n  font-weight: 800 !important;\\n}\\n\\n.msa-viewer-container {\\n  position: relative;\\n  top: 50px;\\n  left: 5px;\\n  padding-right: 5px;\\n}\\n\\n#msa-viewer {\\n  overflow-y: hidden;\\n  overflow-x: hidden;\\n  display: flex;\\n  gap: 5px;\\n}\\n\\n.title {\\n  font-size: 24px;\\n  text-align: right;\\n  padding-right: 20px;\\n}\\n\\n.canvasLabels {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  position: relative;\\n}\\n\\n#searchHighlight {\\n  width: 1500px;\\n  position: absolute;\\n  height: 10px;\\n  top: 0px;\\n  left: 0px;\\n  border: red 2px dotted;\\n}\\n\\n#searchHighlightHolder{\\n  width: 250px;\\n}\\n\\n.searchHighlight2 {\\n  background-color: #E3F2FD;\\n}\\n\\n.triangle {\\n  width: 10px;\\n  position: relative;\\n  left: 42px;\\n  border-left: 8px transparent solid;\\n  border-right: 8px transparent solid;\\n  border-bottom: 16px lightgray solid;\\n}\\n\\n#tooltipHolder {\\n  display: none;\\n}\\n\\n#tooltipAlign {\\n  background-color: lightgray; \\n  padding: 5px;\\n  display: block;\\n}\\n\\n.canvasHolder {\\n  overflow-x: auto;\\n  overflow-y: scroll;\\n}\\n\\n#alignmentTop {\\n  overflow-x: auto;\\n  height: 160px;\\n}\\n\\n.alignRow {\\n  display: flex;\\n}\\n\\n.alignName {\\n  width: 200px;\\n  margin-right: 5px;\\n  flex: none;\\n}\\n\\n#miniMapHolder {\\n  padding: 5px 10px;\\n  border: 3px black solid;\\n  background-color: white;\\n  margin-bottom: 10px;\\n}\\n\\n#miniMap {\\n  position: relative;\\n}\\n\\n#miniMapTitle{\\n  margin-bottom: 10px;\\n}\\n\\n#miniMapHighlight {\\n  display: none;\\n  background-color: rgb(gray, .4);\\n  position: absolute;\\n}\\n\\n.customColorSchemeSelection div {\\n  justify-content: space-around;\\n}\\n\\n.customColorSchemeSelection label {\\n  display: flex; \\n  align-items: center;\\n  gap:10px;\\n}\\n\\n.customColorSchemeSelection input {\\n  width: 46.63px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n  padding: 1px;\n}\n\n:host ::ng-deep .p-accordion-tab:not(.p-accordion-tab-active) .p-toggleable-content {\n  height: 0;\n  overflow: hidden;\n}\n:host ::ng-deep .p-accordion-tab.p-accordion-tab-active .p-toggleable-content {\n  height: auto !important;\n  overflow: auto !important;\n}\n\n.bubble-wrapper {\n  padding: 50px 20px 5px 20px;\n}\n\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-pin:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/BubbleComponent/bubble.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;EACA,gBAAA;EACA,qBAAA;EACA,YAAA;AACJ;;AAII;EACE,SAAA;EACA,gBAAA;AADN;AAMI;EACE,uBAAA;EACA,yBAAA;AAJN;;AAQA;EACE,2BAAA;AALF;;AAQA,+BAAA;AACA;EACE,qBAAA,EAAA,4BAAA;EACA,oCAAA,EAAA,qCAAA;AALF;;AAQA;EACE,kBAAA;EACA,0CAAA;AALF;;AAQA;EACE,2BAAA;AALF;;AAQA;EACE,2BAAA;AALF;;AAQA;EACE,2BAAA;AALF\",\"sourcesContent\":[\":host {\\n    position: absolute;\\n    overflow: hidden;\\n    z-index: 1 !important;\\n    padding: 1px; \\n}\\n\\n:host ::ng-deep {\\n  .p-accordion-tab:not(.p-accordion-tab-active) {\\n    .p-toggleable-content {\\n      height: 0;\\n      overflow: hidden;\\n    }\\n  }\\n\\n  .p-accordion-tab.p-accordion-tab-active {\\n    .p-toggleable-content {\\n      height: auto !important;\\n      overflow: auto !important;\\n    }\\n  }\\n}\\n.bubble-wrapper {\\n  padding: 50px 20px 5px 20px;\\n}\\n\\n/* Button appearance on hover */\\n.btn-icon:hover {\\n  transform: scale(1.1); /* Slight enlarge on hover */\\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n    \\n.btn-icon {\\n  margin-right: 10px;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n}\\n\\n.flaticon-settings:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-pin:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-download:before {\\n  font-weight: 800 !important;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n  padding: 1px;\n}\n\n:host ::ng-deep .p-accordion-tab:not(.p-accordion-tab-active) .p-toggleable-content {\n  height: 0;\n  overflow: hidden;\n}\n:host ::ng-deep .p-accordion-tab.p-accordion-tab-active .p-toggleable-content {\n  height: auto !important;\n  overflow: auto !important;\n}\n\n.crosstab-wrapper {\n  padding: 70px 20px 10px 20px;\n}\n\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-pin:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}\n\np-table {\n  border: 2px solid #555555;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/CrosstabComponent/crosstab-plugin.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;EACA,gBAAA;EACA,qBAAA;EACA,YAAA;AACJ;;AAII;EACE,SAAA;EACA,gBAAA;AADN;AAMI;EACE,uBAAA;EACA,yBAAA;AAJN;;AAQA;EACE,4BAAA;AALF;;AAQA,+BAAA;AACA;EACE,qBAAA,EAAA,4BAAA;EACA,oCAAA,EAAA,qCAAA;AALF;;AAQA;EACE,kBAAA;EACA,0CAAA;AALF;;AAQA;EACE,2BAAA;AALF;;AAQA;EACE,2BAAA;AALF;;AAQA;EACE,2BAAA;AALF;;AAQA;EACE,yBAAA;AALF\",\"sourcesContent\":[\":host {\\n    position: absolute;\\n    overflow: hidden;\\n    z-index: 1 !important;\\n    padding: 1px; \\n}\\n\\n:host ::ng-deep {\\n  .p-accordion-tab:not(.p-accordion-tab-active) {\\n    .p-toggleable-content {\\n      height: 0;\\n      overflow: hidden;\\n    }\\n  }\\n\\n  .p-accordion-tab.p-accordion-tab-active {\\n    .p-toggleable-content {\\n      height: auto !important;\\n      overflow: auto !important;\\n    }\\n  }\\n}\\n.crosstab-wrapper {\\n  padding: 70px 20px 10px 20px;\\n}\\n\\n/* Button appearance on hover */\\n.btn-icon:hover {\\n  transform: scale(1.1); /* Slight enlarge on hover */\\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n    \\n.btn-icon {\\n  margin-right: 10px;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n}\\n\\n.flaticon-settings:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-pin:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-download:before {\\n  font-weight: 800 !important;\\n}\\n\\np-table {\\n  border: 2px solid #555555;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.gantt-entry {\n  opacity: 0.8;\n}\n.gantt-entry:hover {\n  opacity: 1;\n}\n\n#component .tooltip {\n  visibility: hidden;\n}\n\n#component:hover .tooltip {\n  visibility: visible;\n  position: absolute;\n}\n\n#component:hover:after .tooltip {\n  position: relative;\n  left: 0;\n  top: 100%;\n  white-space: nowrap;\n}\n\n.tooltip text {\n  fill: #eeeeee;\n  font-size: 12px;\n  font-family: sans-serif;\n}\n\n.tooltip rect {\n  fill: #222222;\n  stroke: #111111;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/GanttComponent/gantt-chart/gantt-chart.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,YAAA;AACJ;AAAI;EACI,UAAA;AAER;;AACA;EACI,kBAAA;AAEJ;;AACC;EACE,mBAAA;EACA,kBAAA;AAEH;;AACC;EACC,kBAAA;EACA,OAAA;EACA,SAAA;EACA,mBAAA;AAEF;;AAEA;EACI,aAAA;EACA,eAAA;EACA,uBAAA;AACJ;;AAEG;EACC,aAAA;EACA,eAAA;AACJ\",\"sourcesContent\":[\".gantt-entry {\\r\\n    opacity: 0.8;\\r\\n    &:hover {\\r\\n        opacity: 1;\\r\\n    }\\r\\n}\\r\\n#component .tooltip {\\r\\n    visibility: hidden\\r\\n }\\r\\n \\r\\n #component:hover .tooltip {\\r\\n   visibility: visible;\\r\\n   position: absolute;\\r\\n  }\\r\\n \\r\\n #component:hover:after .tooltip{\\r\\n  position: relative;\\r\\n  left: 0;\\r\\n  top: 100%;\\r\\n  white-space: nowrap;\\r\\n }\\r\\n \\r\\n \\r\\n.tooltip text {\\r\\n    fill: #eeeeee;\\r\\n    font-size: 12px;\\r\\n    font-family: sans-serif; \\r\\n   }\\r\\n   \\r\\n   .tooltip rect {\\r\\n    fill: #222222;\\r\\n    stroke: #111111;\\r\\n   }\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n}\n\n#gantt {\n  background-color: #fff;\n}\n\n:host ::ng-deep .p-accordion-tab.p-accordion-tab-active .p-toggleable-content {\n  height: auto !important;\n  overflow: auto !important;\n}\n\np-dropdown {\n  overflow: visible !important;\n}\n\n.btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-pin:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/GanttComponent/gantt-plugin.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;EACA,gBAAA;EACA,qBAAA;AACJ;;AAEA;EACE,sBAAA;AACF;;AAII;EACE,uBAAA;EACA,yBAAA;AADN;;AAMA;EACI,4BAAA;AAHJ;;AAMA;EACE,qBAAA,EAAA,4BAAA;EACA,oCAAA,EAAA,qCAAA;AAHF;;AAMA;EACE,kBAAA;EACA,0CAAA;AAHF;;AAMA;EACE,2BAAA;AAHF;;AAMA;EACE,2BAAA;AAHF;;AAMA;EACE,2BAAA;AAHF\",\"sourcesContent\":[\":host {\\n    position: absolute;\\n    overflow: hidden;\\n    z-index: 1 !important;\\n  }\\n\\n#gantt {\\n  background-color: #fff;\\n}\\n\\n:host ::ng-deep {\\n  .p-accordion-tab.p-accordion-tab-active {\\n    .p-toggleable-content {\\n      height: auto !important;\\n      overflow: auto !important;\\n    }\\n  }\\n}\\n\\np-dropdown {\\n    overflow: visible !important;\\n}\\n\\n.btn-icon:hover {\\n  transform: scale(1.1); /* Slight enlarge on hover */\\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n    \\n.btn-icon {\\n  margin-right: 10px;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n}\\n\\n.flaticon-settings:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-pin:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-download:before {\\n  font-weight: 800 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.dialogSize {\n  width: 30vw;\n  height: 150px;\n  min-width: 150px;\n}\n\n:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n  padding: 1px;\n  /*top: 37px !important;\n  left: 1px !important; \n  width: 99% !important; */\n}\n\n.p-component p-dropdown {\n  overflow: visible !important;\n}\n\n.network {\n  margin-top: 0 !important;\n  cursor: grab;\n}\n\n.ui-dropdown {\n  width: 100% !important;\n}\n\n.display-none {\n  display: none;\n}\n\n.bottom-table {\n  font-size: 0.5vmax;\n}\n\n#node-max-radius-row, #node-min-radius-row {\n  display: none;\n}\n\n.clusters path {\n  cursor: grab;\n}\n\n:host ::ng-deep .p-accordion-tab:not(.p-accordion-tab-active) .p-toggleable-content {\n  height: 0;\n  overflow: hidden;\n}\n:host ::ng-deep .p-accordion-tab.p-accordion-tab-active .p-toggleable-content {\n  height: auto !important;\n  overflow: auto !important;\n}\n\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-pin:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}\n\n#network-export-filetype {\n  overflow: visible !important;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/HeatmapComponent/heatmap.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,WAAA;EACA,aAAA;EACA,gBAAA;AACJ;;AAEA;EACE,kBAAA;EACA,gBAAA;EACA,qBAAA;EACA,YAAA;EACA;;0BAAA;AAGF;;AAEA;EACI,4BAAA;AACJ;;AAEA;EACE,wBAAA;EACA,YAAA;AACF;;AAEA;EACI,sBAAA;AACJ;;AAEA;EACE,aAAA;AACF;;AAEA;EACI,kBAAA;AACJ;;AAEA;EACE,aAAA;AACF;;AAEA;EAEI,YAAA;AACJ;;AAII;EACE,SAAA;EACA,gBAAA;AADN;AAMI;EACE,uBAAA;EACA,yBAAA;AAJN;;AASE,+BAAA;AACF;EACE,qBAAA,EAAA,4BAAA;EACA,oCAAA,EAAA,qCAAA;AANF;;AASA;EACE,kBAAA;EACA,0CAAA;AANF;;AASA;EACE,2BAAA;AANF;;AASA;EACE,2BAAA;AANF;;AASA;EACE,2BAAA;AANF;;AASA;EACE,4BAAA;AANF\",\"sourcesContent\":[\".dialogSize{\\n    width: 30vw;\\n    height: 150px;\\n    min-width: 150px;\\n}\\n\\n:host {\\n  position: absolute;\\n  overflow: hidden;\\n  z-index: 1 !important;\\n  padding: 1px;\\n  /*top: 37px !important;\\n  left: 1px !important; \\n  width: 99% !important; */ \\n}\\n\\n.p-component p-dropdown {\\n    overflow: visible !important;\\n}\\n\\n.network {\\n  margin-top: 0 !important;\\n  cursor: grab;\\n}\\n\\n.ui-dropdown {\\n    width: 100% !important;\\n}\\n\\n.display-none {\\n  display: none;\\n}\\n\\n.bottom-table{\\n    font-size: calc((.5vmax));   \\n}\\n\\n#node-max-radius-row, #node-min-radius-row {\\n  display: none;\\n}\\n\\n.clusters path {\\n    cursor: -webkit-grab;\\n    cursor: grab;\\n  }\\n\\n:host ::ng-deep {\\n  .p-accordion-tab:not(.p-accordion-tab-active) {\\n    .p-toggleable-content {\\n      height: 0;\\n      overflow: hidden;\\n    }\\n  }\\n\\n  .p-accordion-tab.p-accordion-tab-active {\\n    .p-toggleable-content {\\n      height: auto !important;\\n      overflow: auto !important;\\n    }\\n  }\\n}\\n\\n  /* Button appearance on hover */\\n.btn-icon:hover {\\n  transform: scale(1.1); /* Slight enlarge on hover */\\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n\\n.btn-icon {\\n  margin-right: 10px;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n}\\n\\n.flaticon-settings:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-pin:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-download:before {\\n  font-weight: 800 !important;\\n}\\n\\n#network-export-filetype {\\n  overflow: visible !important;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*\n * phylogenetic-plugin.component.css\n * Copyright (C) 2022 ylb9\n *\n * Distributed under terms of the MIT license.\n */\n#phylocanavas {\n  height: 100%;\n}\n\n:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n}\n\n#phyloTooltip {\n  position: absolute;\n  background: lightgray;\n  border-radius: 0.25rem;\n  padding: 0.25rem;\n}\n\n:host ::ng-deep .p-accordion-tab:not(.p-accordion-tab-active) .p-toggleable-content {\n  height: 0;\n  overflow: hidden;\n}\n:host ::ng-deep .p-accordion-tab.p-accordion-tab-active .p-toggleable-content {\n  height: auto !important;\n  overflow: auto !important;\n}\n\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n  background: white;\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/PhylogeneticComponent/phylogenetic-plugin.component.scss\"],\"names\":[],\"mappings\":\"AAAA;;;;;EAAA;AAOA;EACI,YAAA;AAAJ;;AAGA;EACE,kBAAA;EACA,gBAAA;EACA,qBAAA;AAAF;;AAGA;EACI,kBAAA;EACA,qBAAA;EACA,sBAAA;EACA,gBAAA;AAAJ;;AAKI;EACE,SAAA;EACA,gBAAA;AAFN;AAOI;EACE,uBAAA;EACA,yBAAA;AALN;;AAUC,+BAAA;AACA;EACC,qBAAA,EAAA,4BAAA;EACA,oCAAA,EAAA,qCAAA;AAPF;;AAUA;EACE,kBAAA;EACA,0CAAA;EACA,iBAAA;AAPF;;AAUA;EACE,2BAAA;AAPF;;AAWA;EACE,2BAAA;AARF\",\"sourcesContent\":[\"/*\\n * phylogenetic-plugin.component.css\\n * Copyright (C) 2022 ylb9\\n *\\n * Distributed under terms of the MIT license.\\n */\\n\\n#phylocanavas {\\n    height: 100%;\\n}\\n\\n:host {\\n  position: absolute;\\n  overflow: hidden;\\n  z-index: 1 !important;\\n}\\n\\n#phyloTooltip {\\n    position: absolute;\\n    background: lightgray;\\n    border-radius: 0.25rem;\\n    padding: 0.25rem;\\n}\\n\\n:host ::ng-deep {\\n  .p-accordion-tab:not(.p-accordion-tab-active) {\\n    .p-toggleable-content {\\n      height: 0;\\n      overflow: hidden;\\n    }\\n  }\\n\\n  .p-accordion-tab.p-accordion-tab-active {\\n    .p-toggleable-content {\\n      height: auto !important;\\n      overflow: auto !important;\\n    }\\n  }\\n}\\n\\n /* Button appearance on hover */\\n .btn-icon:hover {\\n  transform: scale(1.1); /* Slight enlarge on hover */\\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n\\n.btn-icon {\\n  margin-right: 10px;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n  background: white;\\n}\\n\\n.flaticon-settings:before {\\n  font-weight: 800 !important;\\n}\\n\\n\\n.flaticon-download:before {\\n  font-weight: 800 !important;\\n}\\n  \\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n}\n\n#epiCurve {\n  padding-top: 50px;\n}\n\n#epiCurve .axis--grid .domain {\n  fill: #ddd;\n  stroke: none;\n}\n\n#epiCurve .axis--x .domain,\n#epiCurve .axis--grid .tick line {\n  stroke: #fff;\n}\n\n#epiCurve .axis--grid .tick--minor line {\n  stroke-opacity: 0.5;\n}\n\n#epiCurve-date-field {\n  width: auto;\n}\n\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n  background: white;\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}\n\n#tool-btn-container {\n  display: flex !important;\n}\n\n.tool-btn {\n  height: 30px;\n  width: 30px !important;\n  display: block !important;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/TimelineComponent/timeline-component.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;EACA,gBAAA;EACA,qBAAA;AACJ;;AAEE;EACE,iBAAA;AACJ;;AACE;EACE,UAAA;EACA,YAAA;AAEJ;;AACE;;EAEE,YAAA;AAEJ;;AACE;EACE,mBAAA;AAEJ;;AAAE;EACE,WAAA;AAGJ;;AACG,+BAAA;AACF;EACG,qBAAA,EAAA,4BAAA;EACA,oCAAA,EAAA,qCAAA;AAEJ;;AACE;EACE,kBAAA;EACA,0CAAA;EACA,iBAAA;AAEJ;;AACE;EACE,2BAAA;AAEJ;;AACE;EACE,2BAAA;AAEJ;;AACE;EACE,wBAAA;AAEJ;;AACE;EACE,YAAA;EACA,sBAAA;EACA,yBAAA;AAEJ\",\"sourcesContent\":[\":host {\\n    position: absolute;\\n    overflow: hidden;\\n    z-index: 1 !important;\\n  }\\n\\n  #epiCurve {\\n    padding-top: 50px;\\n  }\\n  #epiCurve .axis--grid .domain {\\n    fill: #ddd;\\n    stroke: none;\\n  }\\n  \\n  #epiCurve .axis--x .domain,\\n  #epiCurve .axis--grid .tick line {\\n    stroke: #fff;\\n  }\\n  \\n  #epiCurve .axis--grid .tick--minor line {\\n    stroke-opacity: 0.5;\\n  }\\n  #epiCurve-date-field {\\n    width: auto;\\n  }\\n\\n\\n   /* Button appearance on hover */\\n .btn-icon:hover {\\n    transform: scale(1.1); /* Slight enlarge on hover */\\n    background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n  }\\n  \\n  .btn-icon {\\n    margin-right: 10px;\\n    box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n    background: white;\\n  }\\n  \\n  .flaticon-settings:before {\\n    font-weight: 800 !important;\\n  }\\n  \\n  .flaticon-download:before {\\n    font-weight: 800 !important;\\n  }\\n\\n  #tool-btn-container {\\n    display: flex !important;\\n  }\\n\\n  .tool-btn {\\n    height: 30px;\\n    width: 30px !important;\\n    display: block !important;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.dialogSize {\n  width: 30vw;\n  height: 150px;\n  min-width: 150px;\n}\n\n:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n  padding: 1px;\n  /*top: 37px !important;\n  left: 1px !important; \n  width: 99% !important; */\n}\n\n::ng-deep .css-1vv8bkf-link-arrow {\n  fill: #4e5f99;\n}\n::ng-deep .css-uryleg-label-background {\n  fill: transparent !important;\n}\n::ng-deep .css-14dxyvq-background {\n  fill: transparent !important;\n}\n\n/* Ensure the container is positioned relatively to position the grid overlay correctly */\n.cytoscape-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n/* Grid Overlay Styling */\n.grid-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-image: linear-gradient(to right, lightgray 1px, transparent 1px), linear-gradient(to bottom, lightgray 1px, transparent 1px);\n  background-size: 100px 100px; /* Adjust grid spacing here */\n  pointer-events: none; /* Make sure grid doesn't capture mouse events */\n  z-index: 1; /* Position grid above Cytoscape's canvas */\n  transition: opacity 0.3s ease;\n  opacity: 1;\n}\n\n.grid-overlay.hidden {\n  opacity: 0;\n}\n\n#cy {\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n\n.network {\n  margin-top: 0 !important;\n  cursor: grab;\n}\n\n.ui-dropdown {\n  width: 100% !important;\n}\n\n.display-none {\n  display: none;\n}\n\n.bottom-table {\n  font-size: 0.5vmax;\n}\n\n#node-max-radius-row, #node-min-radius-row {\n  display: none;\n}\n\n.clusters path {\n  cursor: grab;\n}\n\n:host ::ng-deep .p-accordion-tab:not(.p-accordion-tab-active) .p-toggleable-content {\n  height: 0;\n  overflow: hidden;\n}\n:host ::ng-deep .p-accordion-tab.p-accordion-tab-active .p-toggleable-content {\n  height: auto !important;\n  overflow: auto !important;\n}\n\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1); /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\n}\n\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n}\n\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-pin:before {\n  font-weight: 800 !important;\n}\n\n.flaticon-download:before {\n  font-weight: 800 !important;\n}\n\n#network-export-filename {\n  height: 42px;\n}\n\n#network-attribute-table {\n  border-spacing: 0;\n  width: 100%;\n  border: 1px solid #ddd;\n}\n\n#network-attribute-table td, #network-attribute-table th {\n  text-align: left;\n  padding: 2px;\n  border: 1px solid #ddd;\n}\n\n#network-attribute-table tr:nth-child(even) {\n  background-color: #f2f2f2;\n}\n\n#network-attribute-table tr:nth-child(odd) {\n  background-color: #fff;\n}\n\n:root {\n  --vis-graph-link-label-background: black;\n  --vis-dark-graph-link-label-background: black;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/TwoDComponent/twoD-plugin.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,WAAA;EACA,aAAA;EACA,gBAAA;AACJ;;AAEA;EACE,kBAAA;EACA,gBAAA;EACA,qBAAA;EACA,YAAA;EACA;;0BAAA;AAGF;;AAUE;EACE,aAAA;AAPJ;AASE;EACE,4BAAA;AAPJ;AAUE;EACE,4BAAA;AARJ;;AAaA,yFAAA;AACA;EACE,kBAAA;EACA,WAAA;EACA,YAAA;AAVF;;AAaA,yBAAA;AACA;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,YAAA;EACA,uIACI;EAEJ,4BAAA,EAAA,6BAAA;EACA,oBAAA,EAAA,gDAAA;EACA,UAAA,EAAA,2CAAA;EACA,6BAAA;EACA,UAAA;AAZF;;AAeA;EACE,UAAA;AAZF;;AAeA;EAEE,WAAA;EACA,YAAA;EACA,MAAA;EACA,OAAA;AAbF;;AAkBA;EACE,wBAAA;EACA,YAAA;AAfF;;AAkBA;EACI,sBAAA;AAfJ;;AAkBA;EACE,aAAA;AAfF;;AAkBA;EACI,kBAAA;AAfJ;;AAkBA;EACE,aAAA;AAfF;;AAkBA;EAEI,YAAA;AAfJ;;AAoBI;EACE,SAAA;EACA,gBAAA;AAjBN;AAsBI;EACE,uBAAA;EACA,yBAAA;AApBN;;AAyBE,+BAAA;AACF;EACE,qBAAA,EAAA,4BAAA;EACA,oCAAA,EAAA,qCAAA;AAtBF;;AAyBA;EACE,kBAAA;EACA,0CAAA;AAtBF;;AAyBA;EACE,2BAAA;AAtBF;;AAyBA;EACE,2BAAA;AAtBF;;AAyBA;EACE,2BAAA;AAtBF;;AAyBA;EACE,YAAA;AAtBF;;AAyBA;EACE,iBAAA;EACA,WAAA;EACA,sBAAA;AAtBF;;AAyBA;EACE,gBAAA;EACA,YAAA;EACA,sBAAA;AAtBF;;AAyBA;EACE,yBAAA;AAtBF;;AAyBA;EACE,sBAAA;AAtBF;;AAyBA;EACE,wCAAA;EACA,6CAAA;AAtBF\",\"sourcesContent\":[\".dialogSize{\\n    width: 30vw;\\n    height: 150px;\\n    min-width: 150px;\\n}\\n\\n:host {\\n  position: absolute;\\n  overflow: hidden;\\n  z-index: 1 !important;\\n  padding: 1px;\\n  /*top: 37px !important;\\n  left: 1px !important; \\n  width: 99% !important; */ \\n}\\n\\n// :root {\\n//   --vis-graph-brush-selection-opacity: 0.5; // Adjust the opacity value as needed\\n//   --vis-graph-brushed-node-stroke-color: #ff0000; // Adjust the color as needed\\n//   --vis-graph-brushed-node-label-text-color: #00ff00; // Adjust the color as needed\\n//   --vis-graph-brushed-node-icon-fill-color: #0000ff; // Adjust the color as needed\\n// }\\n\\n::ng-deep {\\n  .css-1vv8bkf-link-arrow {\\n    fill: #4e5f99;\\n  }\\n  .css-uryleg-label-background {\\n    fill: transparent !important;\\n  }\\n\\n  .css-14dxyvq-background {\\n    fill: transparent !important;\\n}\\n\\n}\\n\\n/* Ensure the container is positioned relatively to position the grid overlay correctly */\\n.cytoscape-container {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n/* Grid Overlay Styling */\\n.grid-overlay {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-image: \\n      linear-gradient(to right, lightgray 1px, transparent 1px),\\n      linear-gradient(to bottom, lightgray 1px, transparent 1px);\\n  background-size: 100px 100px; /* Adjust grid spacing here */\\n  pointer-events: none; /* Make sure grid doesn't capture mouse events */\\n  z-index: 1; /* Position grid above Cytoscape's canvas */\\n  transition: opacity 0.3s ease;\\n  opacity: 1;\\n}\\n\\n.grid-overlay.hidden {\\n  opacity: 0;\\n}\\n\\n#cy {\\n  // position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n}\\n\\n\\n\\n.network {\\n  margin-top: 0 !important;\\n  cursor: grab;\\n}\\n\\n.ui-dropdown {\\n    width: 100% !important;\\n}\\n\\n.display-none {\\n  display: none;\\n}\\n\\n.bottom-table{\\n    font-size: calc((.5vmax));   \\n}\\n\\n#node-max-radius-row, #node-min-radius-row {\\n  display: none;\\n}\\n\\n.clusters path {\\n    cursor: -webkit-grab;\\n    cursor: grab;\\n  }\\n\\n:host ::ng-deep {\\n  .p-accordion-tab:not(.p-accordion-tab-active) {\\n    .p-toggleable-content {\\n      height: 0;\\n      overflow: hidden;\\n    }\\n  }\\n\\n  .p-accordion-tab.p-accordion-tab-active {\\n    .p-toggleable-content {\\n      height: auto !important;\\n      overflow: auto !important;\\n    }\\n  }\\n}\\n\\n  /* Button appearance on hover */\\n.btn-icon:hover {\\n  transform: scale(1.1); /* Slight enlarge on hover */\\n  background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n\\n.btn-icon {\\n  margin-right: 10px;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n}\\n\\n.flaticon-settings:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-pin:before {\\n  font-weight: 800 !important;\\n}\\n\\n.flaticon-download:before {\\n  font-weight: 800 !important;\\n}\\n\\n#network-export-filename{\\n  height: 42px;  \\n}\\n\\n#network-attribute-table {\\n  border-spacing: 0;\\n  width: 100%;\\n  border: 1px solid #ddd;\\n}\\n\\n#network-attribute-table td, #network-attribute-table th {\\n  text-align: left;\\n  padding: 2px;\\n  border: 1px solid #ddd;\\n}\\n\\n#network-attribute-table tr:nth-child(even) {\\n  background-color: #f2f2f2;\\n}\\n\\n#network-attribute-table tr:nth-child(odd) {\\n  background-color: #fff;\\n}\\n\\n:root {\\n  --vis-graph-link-label-background: black;\\n  --vis-dark-graph-link-label-background: black;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n}\n\n.waterfall-wrapper {\n  padding: 40px 20px 10px 20px;\n}\n\n.rowExpansionContent {\n  background-color: #E3F2FD;\n  padding: 0px 0px 16px 16px;\n}\n\n.rowExpansionContent div {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  display: block;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/WaterfallComponent/waterfall.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;EACA,gBAAA;EACA,qBAAA;AACJ;;AAEA;EACI,4BAAA;AACJ;;AAEA;EACI,yBAAA;EACA,0BAAA;AACJ;;AAEA;EACI,gBAAA;EACA,mBAAA;EACA,uBAAA;EACA,cAAA;AACJ\",\"sourcesContent\":[\":host {\\n    position: absolute;\\n    overflow: hidden;\\n    z-index: 1 !important;\\n}\\n\\n.waterfall-wrapper {\\n    padding: 40px 20px 10px 20px;\\n}\\n\\n.rowExpansionContent {\\n    background-color: #E3F2FD;\\n    padding: 0px 0px 16px 16px;\\n}\\n\\n.rowExpansionContent div {\\n    overflow: hidden;\\n    white-space: nowrap; \\n    text-overflow: ellipsis; \\n    display: block;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.example-container {\n  width: 400px;\n  height: 200px;\n  margin: 12px;\n  border: 1px solid #555;\n}\n:host {\n  position: absolute;\n  overflow: hidden;\n}\nmat-drawer-content {\n  padding: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n.spinner-wrapper {\n  position: fixed;\n  /* Absolute positioning relative to the viewport */\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(255, 255, 255, 0.8);\n  /* Optional background overlay */\n  z-index: 9999;\n  /* Ensures it appears above all content */\n  display: flex;\n  /* Utilizes Flexbox */\n  align-items: center;\n  /* Center vertically */\n  justify-content: center;\n  /* Center horizontally */\n}\n#file-footer {\n  z-index: 1;\n  position: absolute;\n  bottom: 15px;\n  width: 100%;\n}\n#file-prompt {\n  z-index: 1;\n  position: relative;\n}\n#alignment-preview {\n  margin: 0 15px;\n  padding: 0;\n  min-height: 115px;\n  max-height: 200px;\n  overflow-x: scroll;\n  overflow-y: auto;\n}\n#distance-metrics_chosen .chosen-choices {\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n}\n#loading-information {\n  font-family: \"Courier New\", Courier, \"Lucida Sans Typewriter\", \"Lucida Typewriter\", monospace;\n  font-size: 11px;\n  font-style: normal;\n  font-variant: normal;\n  font-weight: 400;\n  line-height: 23px;\n  padding: 10px;\n  white-space: pre-line;\n}\n.dna {\n  margin: 40px auto;\n  width: 360px;\n  height: 70px;\n  perspective: 466px;\n  transform-style: preserve-3d;\n}\n.ele {\n  width: 1px;\n  height: 70px;\n  float: left;\n  margin: 0 8px;\n  border-left: 1px #b0b0b0 dashed;\n  position: relative;\n  transform: rotateX(-360deg);\n  animation: run 2s linear infinite;\n}\n.ele:before,\n.ele:after {\n  content: \"\";\n  width: 10px;\n  height: 10px;\n  background: deepskyblue;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.ele:before {\n  top: -2px;\n  background: #000000;\n}\n.ele:after {\n  bottom: -2px;\n}\n.ele:nth-of-type(1) {\n  animation-delay: -0.15s;\n}\n.ele:nth-of-type(2) {\n  animation-delay: -0.3s;\n}\n.ele:nth-of-type(3) {\n  animation-delay: -0.45s;\n}\n.ele:nth-of-type(4) {\n  animation-delay: -0.6s;\n}\n.ele:nth-of-type(5) {\n  animation-delay: -0.75s;\n}\n.ele:nth-of-type(6) {\n  animation-delay: -0.9s;\n}\n.ele:nth-of-type(7) {\n  animation-delay: -1.05s;\n}\n.ele:nth-of-type(8) {\n  animation-delay: -1.2s;\n}\n.ele:nth-of-type(9) {\n  animation-delay: -1.35s;\n}\n.ele:nth-of-type(10) {\n  animation-delay: -1.5s;\n}\n.ele:nth-of-type(11) {\n  animation-delay: -1.65s;\n}\n.ele:nth-of-type(12) {\n  animation-delay: -1.8s;\n}\n.ele:nth-of-type(13) {\n  animation-delay: -1.95s;\n}\n.ele:nth-of-type(14) {\n  animation-delay: -2.1s;\n}\n.ele:nth-of-type(15) {\n  animation-delay: -2.25s;\n}\n.ele:nth-of-type(16) {\n  animation-delay: -2.4s;\n}\n.ele:nth-of-type(17) {\n  animation-delay: -2.55s;\n}\n.ele:nth-of-type(18) {\n  animation-delay: -2.7s;\n}\n.ele:nth-of-type(19) {\n  animation-delay: -2.85s;\n}\n.ele:nth-of-type(20) {\n  animation-delay: -3s;\n}\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1);\n  /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1);\n  /* Subtle background color on hover */\n}\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/filesComponent/files-plugin.component.less\"],\"names\":[],\"mappings\":\"AAAA;EACI,YAAA;EACA,aAAA;EACA,YAAA;EACA,sBAAA;AACJ;AAEA;EACI,kBAAA;EACA,gBAAA;AAAJ;AAGA;EACI,aAAA;EACA,aAAA;EACA,sBAAA;EACA,uBAAA;AADJ;AAIA;EACI,eAAA;EAFF,kDAAkD;EAGhD,MAAA;EACA,OAAA;EACA,QAAA;EACA,SAAA;EACA,0CAAA;EADF,gCAAgC;EAE9B,aAAA;EAAF,yCAAyC;EACvC,aAAA;EACF,qBAAqB;EAAnB,mBAAA;EAEF,sBAAsB;EADpB,uBAAA;EAGF,wBAAwB;AAC1B;AADA;EACI,UAAA;EACA,kBAAA;EACA,YAAA;EACA,WAAA;AAGJ;AAAA;EACI,UAAA;EACA,kBAAA;AAEJ;AAEA;EACI,cAAA;EACA,UAAA;EACA,iBAAA;EACA,iBAAA;EACA,kBAAA;EACA,gBAAA;AAAJ;AAGA;EACI,yBAAA;EACA,sBAAA;AADJ;AAIA;EACI,6FAAA;EACA,eAAA;EACA,kBAAA;EACA,oBAAA;EACA,gBAAA;EACA,iBAAA;EACA,aAAA;EACA,qBAAA;AAFJ;AAKA;EACI,iBAAA;EACA,YAAA;EACA,YAAA;EACA,kBAAA;EACA,4BAAA;AAHJ;AAMA;EACI,UAAA;EACA,YAAA;EACA,WAAA;EACA,aAAA;EACA,+BAAA;EACA,kBAAA;EACA,2BAAA;EACA,iCAAA;AAJJ;AAOA;;EAEI,WAAA;EACA,WAAA;EACA,YAAA;EACA,uBAAA;EACA,kBAAA;EACA,kBAAA;EACA,SAAA;EACA,2BAAA;AALJ;AAQA;EACI,SAAA;EACA,mBAAA;AANJ;AASA;EACI,YAAA;AAPJ;AAUA;EACI,uBAAA;AARJ;AAWA;EACI,sBAAA;AATJ;AAYA;EACI,uBAAA;AAVJ;AAaA;EACI,sBAAA;AAXJ;AAcA;EACI,uBAAA;AAZJ;AAeA;EACI,sBAAA;AAbJ;AAgBA;EACI,uBAAA;AAdJ;AAiBA;EACI,sBAAA;AAfJ;AAkBA;EACI,uBAAA;AAhBJ;AAmBA;EACI,sBAAA;AAjBJ;AAoBA;EACI,uBAAA;AAlBJ;AAqBA;EACI,sBAAA;AAnBJ;AAsBA;EACI,uBAAA;AApBJ;AAuBA;EACI,sBAAA;AArBJ;AAwBA;EACI,uBAAA;AAtBJ;AAyBA;EACI,sBAAA;AAvBJ;AA0BA;EACI,uBAAA;AAxBJ;AA2BA;EACI,sBAAA;AAzBJ;AA4BA;EACI,uBAAA;AA1BJ;AA6BA;EACI,oBAAA;AA3BJ;AA8BA;EACI,2BAAA;AA5BJ;AACA,+BAA+B;AA+B/B;EACI,qBAAA;EA7BF,4BAA4B;EA8B1B,oCAAA;EA5BF,qCAAqC;AACvC;AA8BA;EACI,kBAAA;EACA,0CAAA;AA5BJ\",\"sourcesContent\":[\".example-container {\\n    width: 400px;\\n    height: 200px;\\n    margin: 12px;\\n    border: 1px solid #555;\\n}\\n\\n:host {\\n    position: absolute;\\n    overflow: hidden;\\n}\\n\\nmat-drawer-content {\\n    padding: 12px;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: flex-start;\\n}\\n\\n.spinner-wrapper {\\n    position: fixed; /* Absolute positioning relative to the viewport */\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    background-color: rgba(255, 255, 255, 0.8); /* Optional background overlay */\\n    z-index: 9999; /* Ensures it appears above all content */\\n    display: flex; /* Utilizes Flexbox */\\n    align-items: center; /* Center vertically */\\n    justify-content: center; /* Center horizontally */\\n  }\\n\\n#file-footer {\\n    z-index: 1;\\n    position: absolute;\\n    bottom: 15px;\\n    width: 100%;\\n}\\n\\n#file-prompt {\\n    z-index: 1;\\n    position: relative;\\n}\\n\\n\\n#alignment-preview {\\n    margin: 0 15px;\\n    padding: 0;\\n    min-height: 115px;\\n    max-height: 200px;\\n    overflow-x: scroll;\\n    overflow-y: auto;\\n}\\n\\n#distance-metrics_chosen .chosen-choices {\\n    border: 1px solid #ced4da;\\n    border-radius: 0.25rem;\\n}\\n\\n#loading-information {\\n    font-family: \\\"Courier New\\\", Courier, \\\"Lucida Sans Typewriter\\\", \\\"Lucida Typewriter\\\", monospace;\\n    font-size: 11px;\\n    font-style: normal;\\n    font-variant: normal;\\n    font-weight: 400;\\n    line-height: 23px;\\n    padding: 10px;\\n    white-space: pre-line;\\n}\\n\\n.dna {\\n    margin: 40px auto;\\n    width: 360px;\\n    height: 70px;\\n    perspective: 466px;\\n    transform-style: preserve-3d;\\n}\\n\\n.ele {\\n    width: 1px;\\n    height: 70px;\\n    float: left;\\n    margin: 0 8px;\\n    border-left: 1px #b0b0b0 dashed;\\n    position: relative;\\n    transform: rotateX(-360deg);\\n    animation: run 2s linear infinite;\\n}\\n\\n.ele:before,\\n.ele:after {\\n    content: \\\"\\\";\\n    width: 10px;\\n    height: 10px;\\n    background: deepskyblue;\\n    border-radius: 50%;\\n    position: absolute;\\n    left: 50%;\\n    transform: translateX(-50%);\\n}\\n\\n.ele:before {\\n    top: -2px;\\n    background: #000000;\\n}\\n\\n.ele:after {\\n    bottom: -2px;\\n}\\n\\n.ele:nth-of-type(1) {\\n    animation-delay: -0.15s;\\n}\\n\\n.ele:nth-of-type(2) {\\n    animation-delay: -0.3s;\\n}\\n\\n.ele:nth-of-type(3) {\\n    animation-delay: -0.45s;\\n}\\n\\n.ele:nth-of-type(4) {\\n    animation-delay: -0.6s;\\n}\\n\\n.ele:nth-of-type(5) {\\n    animation-delay: -0.75s;\\n}\\n\\n.ele:nth-of-type(6) {\\n    animation-delay: -0.9s;\\n}\\n\\n.ele:nth-of-type(7) {\\n    animation-delay: -1.05s;\\n}\\n\\n.ele:nth-of-type(8) {\\n    animation-delay: -1.2s;\\n}\\n\\n.ele:nth-of-type(9) {\\n    animation-delay: -1.35s;\\n}\\n\\n.ele:nth-of-type(10) {\\n    animation-delay: -1.5s;\\n}\\n\\n.ele:nth-of-type(11) {\\n    animation-delay: -1.65s;\\n}\\n\\n.ele:nth-of-type(12) {\\n    animation-delay: -1.8s;\\n}\\n\\n.ele:nth-of-type(13) {\\n    animation-delay: -1.95s;\\n}\\n\\n.ele:nth-of-type(14) {\\n    animation-delay: -2.1s;\\n}\\n\\n.ele:nth-of-type(15) {\\n    animation-delay: -2.25s;\\n}\\n\\n.ele:nth-of-type(16) {\\n    animation-delay: -2.4s;\\n}\\n\\n.ele:nth-of-type(17) {\\n    animation-delay: -2.55s;\\n}\\n\\n.ele:nth-of-type(18) {\\n    animation-delay: -2.7s;\\n}\\n\\n.ele:nth-of-type(19) {\\n    animation-delay: -2.85s;\\n}\\n\\n.ele:nth-of-type(20) {\\n    animation-delay: -3s;\\n}\\n\\n.flaticon-settings:before {\\n    font-weight: 800 !important;\\n}\\n\\n/* Button appearance on hover */\\n.btn-icon:hover {\\n    transform: scale(1.1); /* Slight enlarge on hover */\\n    background-color: rgba(0, 0, 0, 0.1); /* Subtle background color on hover */\\n}\\n  \\n.btn-icon {\\n    margin-right: 10px;\\n    box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host ::ng-deep .ui-multiselected-item-token,\n:host ::ng-deep .ui-multiselected-empty-token {\n  padding: 2px 4px;\n  margin: 0 0.286em 0 0;\n  display: inline-block;\n  vertical-align: middle;\n  height: 1.857em;\n}\n.color-display {\n  width: 20px;\n  height: 20px;\n  border: 1px solid #ccc;\n  display: inline-block;\n  cursor: default;\n}\n/* Search */\n.autocomplete-wrapper {\n  position: relative;\n  /*border: solid 1px #EEE;*/\n  padding: 1px 2px;\n  font-family: 'Verdana', sans-serif;\n}\n.autocomplete-wrapper #search {\n  padding: 0px 0px 0px 5px;\n  margin: 0;\n  width: 100%;\n  font-size: 13px;\n}\n.autocomplete-wrapper #search:focus {\n  outline: 0;\n}\n.autocomplete-wrapper #search-results {\n  display: none;\n  position: absolute;\n  z-index: 5;\n  top: 36px;\n  left: -1px;\n  right: -1px;\n  border: solid 1px #CCC;\n  min-height: 50px;\n  max-height: 200px;\n  overflow-y: scroll;\n  list-style: none;\n  padding: 2px;\n  background: white;\n}\n.autocomplete-wrapper #search-results li {\n  padding: 5px;\n  margin: 0;\n  font-size: 13px;\n}\n.autocomplete-wrapper #search-results li:hover {\n  background: #EEE;\n  cursor: pointer;\n}\n#url-warning-div {\n  background-color: #f00;\n  color: #fff;\n  font-weight: 600;\n  font-size: 14px;\n  text-align: center;\n}\n#url-warning-div a {\n  color: #fff;\n}\n#search-form {\n  display: none;\n  float: right;\n  z-index: 2;\n  position: relative;\n  margin-left: auto;\n}\nlabel[for=\"search\"] {\n  color: white;\n  margin-right: 10px;\n}\n#search {\n  border-radius: 0.25rem 0 0 0.25rem;\n}\n#search-field {\n  border-radius: 0 0.25rem 0.25rem 0;\n  border-left: 0;\n  margin-left: 2px;\n}\n#casesensitivebutton,\n#wholewordbutton {\n  margin: 2px;\n  border-radius: 0.25rem;\n}\n:host ::ng-deep .ui-multiselected-item-token {\n  background: #007ad9;\n  color: #ffffff;\n}\n:host ::ng-deep .ui-multiselected-empty-token {\n  background: #d95f00;\n  color: #ffffff;\n}\n.tab-content {\n  padding-top: 15px;\n}\n.loader {\n  position: absolute;\n  left: calc(50% - 20px);\n  top: 40%;\n}\n.pointer {\n  cursor: pointer;\n}\n.about-links {\n  padding: 10px 0 10px 0;\n}\n.tabulator {\n  font-size: 12px;\n  border: none;\n}\n.tabulator .tabulator-header {\n  font-weight: normal;\n  border-bottom: 1px solid;\n  border-bottom-color: rgba(0, 0, 0, 0.12);\n  color: rgba(0, 0, 0, 0.54);\n}\n.tabulator .tabulator-header .tabulator-col {\n  height: 48px;\n  background-color: #ffffff;\n  border: none;\n  padding: 0 7px;\n}\n.tabulator-row {\n  border-bottom: 1px solid;\n  border-bottom-color: rgba(0, 0, 0, 0.12);\n  min-height: 48px;\n  vertical-align: middle;\n}\n.tabulator-row .tabulator-cell {\n  padding: 16px 7px;\n  border-right: none;\n  vertical-align: middle;\n}\n.tabulator-row .tabulator-cell:first-of-type,\n.tabulator .tabulator-header .tabulator-col:first-of-type {\n  padding-left: 24px;\n}\n.tabulator-row.tabulator-row-even {\n  background-color: #ffffff;\n}\n/* Tooltip container */\n.tooltip {\n  position: relative;\n  display: inline-block;\n  border-bottom: 1px dotted black;\n  /* If you want dots under the hoverable text */\n}\n/* Tooltip text */\n.tooltip .tooltiptext {\n  visibility: hidden;\n  width: 120px;\n  background-color: black;\n  color: #fff;\n  text-align: center;\n  padding: 5px 0;\n  border-radius: 6px;\n  /* Position the tooltip text - see examples below! */\n  position: absolute;\n  z-index: 1;\n}\n/* Show the tooltip text when you mouse over the tooltip container */\n.tooltip:hover .tooltiptext {\n  visibility: visible;\n}\n.floater {\n  border: 1px solid #cccccc;\n  border-radius: 0.25rem;\n}\n#color-transparency-wrapper {\n  display: none;\n  position: absolute;\n  z-index: 1100;\n  border-radius: 0.25rem;\n  color: #303030;\n  background-color: #f8f9fa !important;\n  padding: 4px 8px;\n  transform: rotate(270deg);\n  transform-origin: top left;\n}\n.mt-icon-toolbar {\n  width: 26px;\n  height: 26px;\n  margin-left: 5px;\n}\n.transparency-symbol {\n  cursor: pointer;\n}\n#network-statistics-wrapper {\n  display: none;\n  position: absolute;\n  bottom: 10px;\n  right: 20px;\n  z-index: 1;\n  color: #303030;\n  background-color: #f8f9fa !important;\n  border: 1px solid #c0c0c0;\n  border-radius: 0.25rem;\n}\n#network-statistics-draghandle {\n  display: none;\n  width: 100%;\n  text-align: center;\n}\n#network-statistics-table td {\n  border: none;\n  padding: 0.125rem 0.25rem;\n}\nmat-slider {\n  width: 300px;\n}\n#reveal-all {\n  background-color: #dadada;\n}\n.custom-file-label {\n  margin-left: 15px;\n  margin-right: 15px;\n}\n#timeline {\n  padding-top: 50px;\n}\n#timeline .axis--grid .domain {\n  fill: #ddd;\n  stroke: none;\n}\n#timeline .axis--x .domain,\n#timeline .axis--grid .tick line {\n  stroke: #fff;\n}\n#timeline .axis--grid .tick--minor line {\n  stroke-opacity: 0.5;\n}\n#timeline-date-field {\n  width: auto;\n}\n#global-timeline-wrapper {\n  /* background: #f8f9fa; */\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  right: 15px;\n  z-index: 1001;\n}\n#timeline-play-button {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  background: #f08080;\n  padding-right: 10px;\n  border-radius: 3px;\n  border: none;\n  color: white;\n  margin: 0;\n  padding: 0 12px;\n  width: 60px;\n  cursor: pointer;\n  height: 30px;\n}\n#global-timeline-field {\n  padding: 4px;\n  font-size: 1.25em;\n}\n#timeline-play:hover {\n  background-color: #696969;\n}\n.track,\n.track-inset,\n.track-overlay {\n  stroke-linecap: round;\n}\n.track {\n  stroke: #000;\n  stroke-opacity: 0.3;\n  stroke-width: 10px;\n}\n.track-inset {\n  stroke: #dcdcdc;\n  stroke-width: 8px;\n}\n.track-overlay {\n  pointer-events: stroke;\n  stroke-width: 50px;\n  stroke: transparent;\n}\n.handle {\n  fill: #fff;\n  stroke: #000;\n  cursor: grab;\n  stroke-opacity: 0.5;\n  stroke-width: 1.25px;\n}\n.p-dialog .p-dialog-header button {\n  color: #495057;\n  width: 2rem;\n  height: 2rem;\n  border-radius: 50%;\n}\n.p-dialog .p-dialog-header button:enabled:hover {\n  border-color: transparent;\n  background: #e9ecef;\n}\n#nodeColorCounts,\n#nodeColorFrequencies,\n#linkColorCounts,\n#linkColorFrequencies {\n  width: 100%;\n  border-radius: 0;\n  display: flex;\n  justify-content: space-between;\n  gap: 15px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/microbe-trace-next-plugin.component.less\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\":host ::ng-deep .ui-multiselected-item-token,\\n:host ::ng-deep .ui-multiselected-empty-token {\\n    padding: 2px 4px;\\n    margin: 0 0.286em 0 0;\\n    display: inline-block;\\n    vertical-align: middle;\\n    height: 1.857em;\\n}\\n\\n.color-display {\\n  width: 20px;\\n  height: 20px;\\n  border: 1px solid #ccc;\\n  display: inline-block;\\n  cursor: default;\\n}\\n\\n\\n/* Search */\\n.autocomplete-wrapper {\\n  position: relative;\\n  /*border: solid 1px #EEE;*/\\n  padding: 1px 2px;\\n  font-family: 'Verdana', sans-serif;\\n}\\n.autocomplete-wrapper #search {\\n  padding: 0px 0px 0px 5px;\\n  margin: 0;\\n  width: 100%;\\n  font-size: 13px;\\n}\\n.autocomplete-wrapper #search:focus {\\n  outline: 0;\\n}\\n.autocomplete-wrapper #search-results {\\n  display: none;\\n  position: absolute;\\n  z-index: 5;\\n  top: 36px;\\n  left: -1px;\\n  right: -1px;\\n  border: solid 1px #CCC;\\n  min-height: 50px;\\n  max-height: 200px;\\n  overflow-y: scroll;\\n  list-style: none;\\n  padding: 2px;\\n  background: white;\\n}\\n.autocomplete-wrapper #search-results li {\\n  padding: 5px;\\n  margin: 0;\\n  font-size: 13px;\\n}\\n.autocomplete-wrapper #search-results li:hover {\\n  background: #EEE;\\n  cursor: pointer;\\n}\\n\\n#url-warning-div {\\n  background-color: #f00;\\n  color: #fff;\\n  font-weight: 600;\\n  font-size: 14px;\\n  text-align: center;\\n  a {\\n    color: #fff;\\n  }\\n}\\n\\n#search-form {\\n  display: none;\\n  float: right;\\n  z-index: 2;\\n  position: relative;\\n  margin-left: auto;\\n}\\nlabel[for=\\\"search\\\"] {\\n  color: white;\\n  margin-right: 10px;\\n}\\n#search {\\n  border-radius: 0.25rem 0 0 0.25rem;\\n}\\n#search-field {\\n  border-radius: 0 0.25rem 0.25rem 0;\\n  border-left: 0;\\n  margin-left: 2px;\\n}\\n\\n#casesensitivebutton, #wholewordbutton {\\n  margin: 2px;\\n  border-radius: 0.25rem;\\n}\\n\\n:host ::ng-deep .ui-multiselected-item-token {\\n  background: #007ad9;\\n  color: #ffffff;\\n}\\n\\n:host ::ng-deep .ui-multiselected-empty-token {\\n  background: #d95f00;\\n  color: #ffffff;\\n}\\n\\n.tab-content {\\n  padding-top: 15px;\\n}\\n\\n.loader {\\n    position: absolute;\\n    left: calc(50% - 20px);\\n    top: 40%;\\n}\\n\\n.pointer {\\n    cursor: pointer;\\n}\\n\\n.about-links {\\n  padding: 10px 0 10px 0;\\n}\\n\\n//Tabulator styles override\\n\\n.tabulator {\\n  font-size: 12px;\\n  border: none;\\n}\\n\\n.tabulator .tabulator-header {\\n  font-weight: normal;\\n  border-bottom: 1px solid;\\n  border-bottom-color: rgba(0, 0, 0, 0.12);\\n  color: rgba(0, 0, 0, 0.54);\\n}\\n\\n.tabulator .tabulator-header .tabulator-col {\\n  height: 48px;\\n  background-color: #ffffff;\\n  border: none;\\n  padding: 0 7px;\\n}\\n\\n.tabulator-row {\\n  border-bottom: 1px solid;\\n  border-bottom-color: rgba(0, 0, 0, 0.12);\\n  min-height: 48px;\\n  vertical-align: middle;\\n}\\n\\n.tabulator-row .tabulator-cell {\\n  padding: 16px 7px;\\n  border-right: none;\\n  vertical-align: middle;\\n}\\n\\n.tabulator-row .tabulator-cell:first-of-type,\\n.tabulator .tabulator-header .tabulator-col:first-of-type {\\n  padding-left: 24px;\\n}\\n\\n.tabulator-row.tabulator-row-even {\\n  background-color: #ffffff;\\n}\\n\\n/* Tooltip container */\\n.tooltip {\\n    position: relative;\\n    display: inline-block;\\n    border-bottom: 1px dotted black; /* If you want dots under the hoverable text */\\n}\\n\\n/* Tooltip text */\\n.tooltip .tooltiptext {\\n    visibility: hidden;\\n    width: 120px;\\n    background-color: black;\\n    color: #fff;\\n    text-align: center;\\n    padding: 5px 0;\\n    border-radius: 6px;\\n    /* Position the tooltip text - see examples below! */\\n    position: absolute;\\n    z-index: 1;\\n}\\n\\n/* Show the tooltip text when you mouse over the tooltip container */\\n.tooltip:hover .tooltiptext {\\n    visibility: visible;\\n}\\n\\n// color table\\n.floater {\\n    border: 1px solid #cccccc;\\n    border-radius: 0.25rem;\\n}\\n\\n#color-transparency-wrapper {\\n    display: none;\\n    position: absolute;\\n    z-index: 1100;\\n    border-radius: 0.25rem;\\n    color: #303030;\\n    background-color: #f8f9fa !important;\\n    padding: 4px 8px;\\n    transform: rotate(270deg);\\n    transform-origin: top left;\\n}\\n\\n.mt-icon-toolbar {\\n  width: 26px;\\n  height: 26px;\\n  margin-left: 5px;\\n}\\n\\n.transparency-symbol {\\n    cursor: pointer;\\n}\\n\\n#network-statistics-wrapper {\\n    display: none;\\n    position: absolute;\\n    bottom: 10px;\\n    right: 20px;\\n    z-index: 1;\\n    color: #303030;\\n    background-color: #f8f9fa !important;\\n    border: 1px solid #c0c0c0;\\n    border-radius: 0.25rem;\\n  }\\n  #network-statistics-draghandle {\\n    display: none;\\n    width: 100%;\\n    text-align: center;\\n  }\\n  #network-statistics-table td {\\n    border: none;\\n    padding: 0.125rem 0.25rem;\\n  }\\n\\n  mat-slider {\\n    width: 300px;\\n  }\\n\\n  #reveal-all {\\n    background-color: #dadada;\\n  }\\n\\n  .custom-file-label {\\n    margin-left: 15px;\\n    margin-right: 15px;\\n  }\\n\\n  #timeline {\\n    padding-top: 50px;\\n  }\\n  #timeline .axis--grid .domain {\\n    fill: #ddd;\\n    stroke: none;\\n  }\\n  \\n  #timeline .axis--x .domain,\\n  #timeline .axis--grid .tick line {\\n    stroke: #fff;\\n  }\\n  \\n  #timeline .axis--grid .tick--minor line {\\n    stroke-opacity: 0.5;\\n  }\\n  #timeline-date-field {\\n    width: auto;\\n  }\\n  \\n\\n  #global-timeline-wrapper {\\n    /* background: #f8f9fa; */\\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\\n    position: absolute;\\n    left: 0px;\\n    bottom: 0px;\\n    right: 15px;\\n    z-index: 1001;\\n  }\\n  \\n  #timeline-play-button {\\n    position: absolute;\\n    top: 10px;\\n    left: 10px;\\n    background: #f08080;\\n    padding-right: 10px;\\n    border-radius: 3px;\\n    border: none;\\n    color: white;\\n    margin: 0;\\n    padding: 0 12px;\\n    width: 60px;\\n    cursor: pointer;\\n    height: 30px;\\n  }\\n  #global-timeline-field {\\n    padding: 4px;\\n    font-size: 1.25em;\\n  }\\n  #timeline-play:hover {\\n    background-color: #696969;\\n  }    \\n  .track,\\n  .track-inset,\\n  .track-overlay {\\n    stroke-linecap: round;\\n  }\\n  .track {\\n    stroke: #000;\\n    stroke-opacity: 0.3;\\n    stroke-width: 10px;\\n  }\\n  .track-inset {\\n    stroke: #dcdcdc;\\n    stroke-width: 8px;\\n  }\\n  .track-overlay {\\n    pointer-events: stroke;\\n    stroke-width: 50px;\\n    stroke: transparent;\\n    // cursor: crosshair;\\n  }\\n  .handle {\\n    fill: #fff;\\n    stroke: #000;\\n    cursor:grab;\\n    stroke-opacity: 0.5;\\n    stroke-width: 1.25px;\\n  }\\n\\n  .p-dialog .p-dialog-header button {\\n    color: #495057;\\n    width: 2rem;\\n    height: 2rem;\\n    border-radius: 50%;\\n  }\\n  .p-dialog .p-dialog-header button:enabled:hover {\\n    border-color: transparent;\\n    background: #e9ecef;\\n  }\\n\\n#nodeColorCounts, #nodeColorFrequencies, #linkColorCounts, #linkColorFrequencies {\\n  width: 100%; \\n  border-radius: 0; \\n  display: flex; \\n  justify-content: space-between;\\n  gap: 15px;\\n}\\n  \\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: absolute;\n  overflow: hidden;\n  z-index: 1 !important;\n}\n#tool-btn-container {\n  display: flex !important;\n}\n.tool-btn {\n  height: 30px;\n}\n:host ::ng-deep .ui-table-customers {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12);\n}\n:host ::ng-deep .ui-table-customers .customer-badge {\n  border-radius: 2px;\n  padding: 0.25em 0.5em;\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 12px;\n  letter-spacing: 0.3px;\n}\n:host ::ng-deep .ui-table-customers .customer-badge.status-qualified {\n  background-color: #C8E6C9;\n  color: #256029;\n}\n:host ::ng-deep .ui-table-customers .customer-badge.status-unqualified {\n  background-color: #FFCDD2;\n  color: #C63737;\n}\n:host ::ng-deep .ui-table-customers .customer-badge.status-negotiation {\n  background-color: #FEEDAF;\n  color: #8A5340;\n}\n:host ::ng-deep .ui-table-customers .customer-badge.status-new {\n  background-color: #B3E5FC;\n  color: #23547B;\n}\n:host ::ng-deep .ui-table-customers .customer-badge.status-renewal {\n  background-color: #ECCFFF;\n  color: #694382;\n}\n:host ::ng-deep .ui-table-customers .customer-badge.status-proposal {\n  background-color: #FFD8B2;\n  color: #805B36;\n}\n:host ::ng-deep .ui-table-customers .flag {\n  vertical-align: middle;\n  width: 30px;\n  height: 20px;\n}\n:host ::ng-deep .ui-table-customers .ui-multiselect-representative-option {\n  display: inline-block;\n  vertical-align: middle;\n}\n:host ::ng-deep .ui-table-customers .ui-multiselect-representative-option img {\n  vertical-align: middle;\n  width: 24px;\n}\n:host ::ng-deep .ui-table-customers .ui-multiselect-representative-option span {\n  margin-top: 0.125em;\n  vertical-align: middle;\n  margin-left: 0.5em;\n}\n:host ::ng-deep .ui-table-customers .ui-paginator .ui-dropdown {\n  float: left;\n}\n:host ::ng-deep .ui-table-customers .ui-paginator .ui-paginator-current {\n  float: right;\n}\n:host ::ng-deep .ui-table-customers .ui-progressbar {\n  height: 8px;\n  background-color: #D8DADC;\n}\n:host ::ng-deep .ui-table-customers .ui-progressbar .ui-progressbar-value {\n  background-color: #00ACAD;\n}\n:host ::ng-deep .ui-table-customers .ui-column-filter {\n  display: block;\n}\n:host ::ng-deep .ui-table-customers .ui-column-filter input {\n  width: 100%;\n}\n:host ::ng-deep .ui-table-customers .ui-table-globalfilter-container {\n  float: right;\n}\n:host ::ng-deep .ui-table-customers .ui-table-globalfilter-container input {\n  width: 200px;\n}\n:host ::ng-deep .ui-table-customers .ui-datepicker {\n  min-width: 25em;\n}\n:host ::ng-deep .ui-table-customers .ui-datepicker td {\n  font-weight: 400;\n}\n:host ::ng-deep .ui-table-customers .ui-table-caption {\n  border: 0 none;\n  padding: 12px;\n  text-align: left;\n  font-size: 20px;\n}\n:host ::ng-deep .ui-table-customers .ui-paginator {\n  border: 0 none;\n  padding: 1em;\n}\n:host ::ng-deep .ui-table-customers .ui-table-thead > tr > th {\n  border: 0 none;\n  text-align: left;\n}\n:host ::ng-deep .ui-table-customers .ui-table-thead > tr > th.ui-filter-column {\n  border-top: 1px solid #c8c8c8;\n}\n:host ::ng-deep .ui-table-customers .ui-table-thead > tr > th:first-child {\n  width: 5em;\n  text-align: center;\n}\n:host ::ng-deep .ui-table-customers .ui-table-thead > tr > th:last-child {\n  width: 8em;\n  text-align: center;\n}\n:host ::ng-deep .ui-table-customers .ui-table-tbody > tr > td {\n  border: 0 none;\n  cursor: auto;\n}\n:host ::ng-deep .ui-table-customers .ui-table-tbody > tr > td:first-child {\n  width: 3em;\n  text-align: center;\n}\n:host ::ng-deep .ui-table-customers .ui-table-tbody > tr > td:last-child {\n  width: 8em;\n  text-align: center;\n}\n:host ::ng-deep .ui-table-customers .ui-dropdown-label:not(.ui-placeholder) {\n  text-transform: uppercase;\n}\n:host ::ng-deep .ui-table-customers .ui-table-tbody > tr > td .ui-column-title {\n  display: none;\n}\n.item {\n  display: inline-block;\n  background: blue;\n}\n.filterType {\n  background: transparent;\n  border-color: transparent;\n  border-width: 0px;\n  border: 0px solid transparent;\n  border-style: inset;\n  outline-style: dashed;\n  outline-color: transparent;\n}\n/* Responsive */\n@media screen and (max-width: 64em) {\n  :host ::ng-deep .ui-table.ui-table-customers .ui-table-thead > tr > th,\n  :host ::ng-deep .ui-table.ui-table-customers .ui-table-tfoot > tr > td {\n    display: none !important;\n  }\n  :host ::ng-deep .ui-table.ui-table-customers .ui-table-tbody > tr > td {\n    text-align: left;\n    display: block;\n    border: 0 none !important;\n    width: 100% !important;\n    float: left;\n    clear: left;\n    border: 0 none;\n  }\n  :host ::ng-deep .ui-table.ui-table-customers .ui-table-tbody > tr > td .ui-column-title {\n    padding: 0.4em;\n    min-width: 30%;\n    display: inline-block;\n    margin: -0.4em 1em -0.4em -0.4em;\n    font-weight: bold;\n  }\n}\n.table-wrapper {\n  padding: 70px 20px 10px 20px;\n}\n/* Button appearance on hover */\n.btn-icon:hover {\n  transform: scale(1.1);\n  /* Slight enlarge on hover */\n  background-color: rgba(0, 0, 0, 0.1);\n  /* Subtle background color on hover */\n}\n.btn-icon {\n  margin-right: 10px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n  background: white;\n}\n.flaticon-settings:before {\n  font-weight: 800 !important;\n}\n.flaticon-download:before {\n  font-weight: 800 !important;\n}\n::ng-deep .p-datatable-scrollable-table > .p-datatable-thead {\n  z-index: 1 !important;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/visualizationComponents/TableComponent/table-plugin-component.less\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;EACA,gBAAA;EACA,qBAAA;AACJ;AAEA;EACI,wBAAA;AAAJ;AAGA;EACI,YAAA;AADJ;AAKA;EACI,+GAAA;AAHJ;AAEA;EAIQ,kBAAA;EACA,qBAAA;EACA,yBAAA;EACA,gBAAA;EACA,eAAA;EACA,qBAAA;AAHR;AAKQ;EACI,yBAAA;EACA,cAAA;AAHZ;AAMQ;EACI,yBAAA;EACA,cAAA;AAJZ;AAOQ;EACI,yBAAA;EACA,cAAA;AALZ;AAQQ;EACI,yBAAA;EACA,cAAA;AANZ;AASQ;EACI,yBAAA;EACA,cAAA;AAPZ;AAUQ;EACI,yBAAA;EACA,cAAA;AARZ;AA9BA;EA2CQ,sBAAA;EACA,WAAA;EACA,YAAA;AAVR;AAnCA;EAiDQ,qBAAA;EACA,sBAAA;AAXR;AAvCA;EAqDY,sBAAA;EACA,WAAA;AAXZ;AA3CA;EA0DY,mBAAA;EACA,sBAAA;EACA,kBAAA;AAZZ;AAhDA;EAkEY,WAAA;AAfZ;AAnDA;EAsEY,YAAA;AAhBZ;AAtDA;EA2EQ,WAAA;EACA,yBAAA;AAlBR;AA1DA;EA+EY,yBAAA;AAlBZ;AA7DA;EAoFQ,cAAA;AApBR;AAhEA;EAuFY,WAAA;AApBZ;AAnEA;EA4FQ,YAAA;AAtBR;AAtEA;EA+FY,YAAA;AAtBZ;AAzEA;EAoGQ,eAAA;AAxBR;AA5EA;EAuGY,gBAAA;AAxBZ;AA/EA;EA4GQ,cAAA;EACA,aAAA;EACA,gBAAA;EACA,eAAA;AA1BR;AArFA;EAmHQ,cAAA;EACA,YAAA;AA3BR;AAzFA;EAwHQ,cAAA;EACA,gBAAA;AA5BR;AA8BQ;EACI,6BAAA;AA5BZ;AA+BQ;EACI,UAAA;EACA,kBAAA;AA7BZ;AAgCQ;EACI,UAAA;EACA,kBAAA;AA9BZ;AAxGA;EA2IQ,cAAA;EACA,YAAA;AAhCR;AAkCQ;EACI,UAAA;EACA,kBAAA;AAhCZ;AAmCQ;EACI,UAAA;EACA,kBAAA;AAjCZ;AApHA;EA0JQ,yBAAA;AAnCR;AAvHA;EA8JQ,aAAA;AApCR;AA0CA;EACI,qBAAA;EACA,gBAAA;AAxCJ;AA2CA;EACI,uBAAA;EACA,yBAAA;EACA,iBAAA;EACA,6BAAA;EAEA,mBAAA;EACA,qBAAA;EACA,0BAAA;AA1CJ;AACA,eAAe;AA6Cf;EAEQ;;IAIQ,wBAAA;EA9Cd;EA0CM;IAQQ,gBAAA;IACA,cAAA;IACA,yBAAA;IACA,sBAAA;IACA,WAAA;IACA,WAAA;IACA,cAAA;EA/Cd;EAiCM;IAiBY,cAAA;IACA,cAAA;IACA,qBAAA;IACA,gCAAA;IACA,iBAAA;EA/ClB;AACF;AAqDA;EACI,4BAAA;AAnDJ;AACA,+BAA+B;AAuD/B;EACI,qBAAA;EArDF,4BAA4B;EAuD1B,oCAAA;EArDF,qCAAqC;AACvC;AAwDA;EACI,kBAAA;EACA,0CAAA;EACA,iBAAA;AAtDJ;AAyDA;EACI,2BAAA;AAvDJ;AA0DA;EACI,2BAAA;AAxDJ;AA2DA;EACI,qBAAA;AAzDJ\",\"sourcesContent\":[\":host {\\n    position: absolute;\\n    overflow: hidden;\\n    z-index: 1 !important;\\n}\\n\\n#tool-btn-container {\\n    display: flex !important;\\n}\\n\\n.tool-btn {\\n    height: 30px;\\n}\\n\\n\\n:host ::ng-deep .ui-table-customers {\\n    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12);\\n\\n    .customer-badge {\\n        border-radius: 2px;\\n        padding: .25em .5em;\\n        text-transform: uppercase;\\n        font-weight: 700;\\n        font-size: 12px;\\n        letter-spacing: .3px;\\n\\n        &.status-qualified {\\n            background-color: #C8E6C9;\\n            color: #256029;\\n        }\\n\\n        &.status-unqualified {\\n            background-color: #FFCDD2;\\n            color: #C63737;\\n        }\\n\\n        &.status-negotiation {\\n            background-color: #FEEDAF;\\n            color: #8A5340;\\n        }\\n\\n        &.status-new {\\n            background-color: #B3E5FC;\\n            color: #23547B;\\n        }\\n\\n        &.status-renewal {\\n            background-color: #ECCFFF;\\n            color: #694382;\\n        }\\n\\n        &.status-proposal {\\n            background-color: #FFD8B2;\\n            color: #805B36;\\n        }\\n    }\\n\\n    .flag {\\n        vertical-align: middle;\\n        width: 30px;\\n        height: 20px;\\n    }\\n\\n    .ui-multiselect-representative-option {\\n        display: inline-block;\\n        vertical-align: middle;\\n\\n        img {\\n            vertical-align: middle;\\n            width: 24px;\\n        }\\n\\n        span {\\n            margin-top: .125em;\\n            vertical-align: middle;\\n            margin-left: .5em\\n        }\\n    }\\n\\n    .ui-paginator {\\n        .ui-dropdown {\\n            float: left;\\n        }\\n\\n        .ui-paginator-current {\\n            float: right;\\n        }\\n    }\\n\\n    .ui-progressbar {\\n        height: 8px;\\n        background-color: #D8DADC;\\n\\n        .ui-progressbar-value {\\n            background-color: #00ACAD;\\n        }\\n    }\\n\\n    .ui-column-filter {\\n        display: block;\\n\\n        input {\\n            width: 100%;\\n        }\\n    }\\n\\n    .ui-table-globalfilter-container {\\n        float: right;\\n\\n        input {\\n            width: 200px;\\n        }\\n    }\\n\\n    .ui-datepicker {\\n        min-width: 25em;\\n\\n        td {\\n            font-weight: 400;\\n        }\\n    }\\n\\n    .ui-table-caption {\\n        border: 0 none;\\n        padding: 12px;\\n        text-align: left;\\n        font-size: 20px;\\n    }\\n\\n    .ui-paginator {\\n        border: 0 none;\\n        padding: 1em;\\n    }\\n\\n    .ui-table-thead>tr>th {\\n        border: 0 none;\\n        text-align: left;\\n\\n        &.ui-filter-column {\\n            border-top: 1px solid #c8c8c8;\\n        }\\n\\n        &:first-child {\\n            width: 5em;\\n            text-align: center;\\n        }\\n\\n        &:last-child {\\n            width: 8em;\\n            text-align: center;\\n        }\\n    }\\n\\n    .ui-table-tbody>tr>td {\\n        border: 0 none;\\n        cursor: auto;\\n\\n        &:first-child {\\n            width: 3em;\\n            text-align: center;\\n        }\\n\\n        &:last-child {\\n            width: 8em;\\n            text-align: center;\\n        }\\n    }\\n\\n    .ui-dropdown-label:not(.ui-placeholder) {\\n        text-transform: uppercase;\\n    }\\n\\n    .ui-table-tbody>tr>td .ui-column-title {\\n        display: none;\\n    }\\n}\\n\\n.wrapper {}\\n\\n.item {\\n    display: inline-block;\\n    background: blue;\\n}\\n\\n.filterType {\\n    background: transparent;\\n    border-color: transparent;\\n    border-width: 0px;\\n    border: 0px solid transparent;\\n\\n    border-style: inset;\\n    outline-style: dashed;\\n    outline-color: transparent;\\n}\\n\\n/* Responsive */\\n@media screen and (max-width: 64em) {\\n    :host ::ng-deep .ui-table {\\n        &.ui-table-customers {\\n\\n            .ui-table-thead>tr>th,\\n            .ui-table-tfoot>tr>td {\\n                display: none !important;\\n            }\\n\\n            .ui-table-tbody>tr>td {\\n                text-align: left;\\n                display: block;\\n                border: 0 none !important;\\n                width: 100% !important;\\n                float: left;\\n                clear: left;\\n                border: 0 none;\\n\\n                .ui-column-title {\\n                    padding: .4em;\\n                    min-width: 30%;\\n                    display: inline-block;\\n                    margin: -.4em 1em -.4em -.4em;\\n                    font-weight: bold;\\n                }\\n            }\\n        }\\n    }\\n}\\n\\n.table-wrapper {\\n    padding: 70px 20px 10px 20px;\\n}\\n\\n\\n/* Button appearance on hover */\\n.btn-icon:hover {\\n    transform: scale(1.1);\\n    /* Slight enlarge on hover */\\n    background-color: rgba(0, 0, 0, 0.1);\\n    /* Subtle background color on hover */\\n}\\n\\n.btn-icon {\\n    margin-right: 10px;\\n    box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n    background: white;\\n}\\n\\n.flaticon-settings:before {\\n    font-weight: 800 !important;\\n}\\n\\n.flaticon-download:before {\\n    font-weight: 800 !important;\\n}\\n\\n::ng-deep .p-datatable-scrollable-table > .p-datatable-thead { \\n    z-index: 1 !important; \\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","var map = {\n\t\"./af\": 85637,\n\t\"./af.js\": 85637,\n\t\"./ar\": 6777,\n\t\"./ar-dz\": 74508,\n\t\"./ar-dz.js\": 74508,\n\t\"./ar-kw\": 67504,\n\t\"./ar-kw.js\": 67504,\n\t\"./ar-ly\": 95373,\n\t\"./ar-ly.js\": 95373,\n\t\"./ar-ma\": 92412,\n\t\"./ar-ma.js\": 92412,\n\t\"./ar-ps\": 78823,\n\t\"./ar-ps.js\": 78823,\n\t\"./ar-sa\": 36670,\n\t\"./ar-sa.js\": 36670,\n\t\"./ar-tn\": 36448,\n\t\"./ar-tn.js\": 36448,\n\t\"./ar.js\": 6777,\n\t\"./az\": 23009,\n\t\"./az.js\": 23009,\n\t\"./be\": 28299,\n\t\"./be.js\": 28299,\n\t\"./bg\": 4685,\n\t\"./bg.js\": 4685,\n\t\"./bm\": 11171,\n\t\"./bm.js\": 11171,\n\t\"./bn\": 23590,\n\t\"./bn-bd\": 5841,\n\t\"./bn-bd.js\": 5841,\n\t\"./bn.js\": 23590,\n\t\"./bo\": 54309,\n\t\"./bo.js\": 54309,\n\t\"./br\": 54130,\n\t\"./br.js\": 54130,\n\t\"./bs\": 8033,\n\t\"./bs.js\": 8033,\n\t\"./ca\": 55294,\n\t\"./ca.js\": 55294,\n\t\"./cs\": 53028,\n\t\"./cs.js\": 53028,\n\t\"./cv\": 5807,\n\t\"./cv.js\": 5807,\n\t\"./cy\": 70342,\n\t\"./cy.js\": 70342,\n\t\"./da\": 38269,\n\t\"./da.js\": 38269,\n\t\"./de\": 11489,\n\t\"./de-at\": 42123,\n\t\"./de-at.js\": 42123,\n\t\"./de-ch\": 17757,\n\t\"./de-ch.js\": 17757,\n\t\"./de.js\": 11489,\n\t\"./dv\": 28152,\n\t\"./dv.js\": 28152,\n\t\"./el\": 7687,\n\t\"./el.js\": 7687,\n\t\"./en-au\": 46668,\n\t\"./en-au.js\": 46668,\n\t\"./en-ca\": 76798,\n\t\"./en-ca.js\": 76798,\n\t\"./en-gb\": 53615,\n\t\"./en-gb.js\": 53615,\n\t\"./en-ie\": 91364,\n\t\"./en-ie.js\": 91364,\n\t\"./en-il\": 79907,\n\t\"./en-il.js\": 79907,\n\t\"./en-in\": 70533,\n\t\"./en-in.js\": 70533,\n\t\"./en-nz\": 33190,\n\t\"./en-nz.js\": 33190,\n\t\"./en-sg\": 51096,\n\t\"./en-sg.js\": 51096,\n\t\"./eo\": 3962,\n\t\"./eo.js\": 3962,\n\t\"./es\": 37726,\n\t\"./es-do\": 65010,\n\t\"./es-do.js\": 65010,\n\t\"./es-mx\": 63654,\n\t\"./es-mx.js\": 63654,\n\t\"./es-us\": 59043,\n\t\"./es-us.js\": 59043,\n\t\"./es.js\": 37726,\n\t\"./et\": 25343,\n\t\"./et.js\": 25343,\n\t\"./eu\": 90728,\n\t\"./eu.js\": 90728,\n\t\"./fa\": 60787,\n\t\"./fa.js\": 60787,\n\t\"./fi\": 71771,\n\t\"./fi.js\": 71771,\n\t\"./fil\": 45335,\n\t\"./fil.js\": 45335,\n\t\"./fo\": 69761,\n\t\"./fo.js\": 69761,\n\t\"./fr\": 1670,\n\t\"./fr-ca\": 28991,\n\t\"./fr-ca.js\": 28991,\n\t\"./fr-ch\": 97280,\n\t\"./fr-ch.js\": 97280,\n\t\"./fr.js\": 1670,\n\t\"./fy\": 24203,\n\t\"./fy.js\": 24203,\n\t\"./ga\": 69858,\n\t\"./ga.js\": 69858,\n\t\"./gd\": 38605,\n\t\"./gd.js\": 38605,\n\t\"./gl\": 27365,\n\t\"./gl.js\": 27365,\n\t\"./gom-deva\": 33896,\n\t\"./gom-deva.js\": 33896,\n\t\"./gom-latn\": 95587,\n\t\"./gom-latn.js\": 95587,\n\t\"./gu\": 97950,\n\t\"./gu.js\": 97950,\n\t\"./he\": 92029,\n\t\"./he.js\": 92029,\n\t\"./hi\": 51897,\n\t\"./hi.js\": 51897,\n\t\"./hr\": 29816,\n\t\"./hr.js\": 29816,\n\t\"./hu\": 22253,\n\t\"./hu.js\": 22253,\n\t\"./hy-am\": 28196,\n\t\"./hy-am.js\": 28196,\n\t\"./id\": 51307,\n\t\"./id.js\": 51307,\n\t\"./is\": 95474,\n\t\"./is.js\": 95474,\n\t\"./it\": 23099,\n\t\"./it-ch\": 45807,\n\t\"./it-ch.js\": 45807,\n\t\"./it.js\": 23099,\n\t\"./ja\": 19127,\n\t\"./ja.js\": 19127,\n\t\"./jv\": 30182,\n\t\"./jv.js\": 30182,\n\t\"./ka\": 10758,\n\t\"./ka.js\": 10758,\n\t\"./kk\": 93444,\n\t\"./kk.js\": 93444,\n\t\"./km\": 72034,\n\t\"./km.js\": 72034,\n\t\"./kn\": 46223,\n\t\"./kn.js\": 46223,\n\t\"./ko\": 83064,\n\t\"./ko.js\": 83064,\n\t\"./ku\": 8714,\n\t\"./ku-kmr\": 10961,\n\t\"./ku-kmr.js\": 10961,\n\t\"./ku.js\": 8714,\n\t\"./ky\": 12062,\n\t\"./ky.js\": 12062,\n\t\"./lb\": 84796,\n\t\"./lb.js\": 84796,\n\t\"./lo\": 19279,\n\t\"./lo.js\": 19279,\n\t\"./lt\": 106,\n\t\"./lt.js\": 106,\n\t\"./lv\": 11840,\n\t\"./lv.js\": 11840,\n\t\"./me\": 42240,\n\t\"./me.js\": 42240,\n\t\"./mi\": 13588,\n\t\"./mi.js\": 13588,\n\t\"./mk\": 15518,\n\t\"./mk.js\": 15518,\n\t\"./ml\": 37823,\n\t\"./ml.js\": 37823,\n\t\"./mn\": 98657,\n\t\"./mn.js\": 98657,\n\t\"./mr\": 61285,\n\t\"./mr.js\": 61285,\n\t\"./ms\": 43014,\n\t\"./ms-my\": 86253,\n\t\"./ms-my.js\": 86253,\n\t\"./ms.js\": 43014,\n\t\"./mt\": 20167,\n\t\"./mt.js\": 20167,\n\t\"./my\": 47940,\n\t\"./my.js\": 47940,\n\t\"./nb\": 50014,\n\t\"./nb.js\": 50014,\n\t\"./ne\": 49023,\n\t\"./ne.js\": 49023,\n\t\"./nl\": 34208,\n\t\"./nl-be\": 71412,\n\t\"./nl-be.js\": 71412,\n\t\"./nl.js\": 34208,\n\t\"./nn\": 81354,\n\t\"./nn.js\": 81354,\n\t\"./oc-lnc\": 40870,\n\t\"./oc-lnc.js\": 40870,\n\t\"./pa-in\": 80389,\n\t\"./pa-in.js\": 80389,\n\t\"./pl\": 7342,\n\t\"./pl.js\": 7342,\n\t\"./pt\": 34774,\n\t\"./pt-br\": 73003,\n\t\"./pt-br.js\": 73003,\n\t\"./pt.js\": 34774,\n\t\"./ro\": 85333,\n\t\"./ro.js\": 85333,\n\t\"./ru\": 73451,\n\t\"./ru.js\": 73451,\n\t\"./sd\": 66302,\n\t\"./sd.js\": 66302,\n\t\"./se\": 59682,\n\t\"./se.js\": 59682,\n\t\"./si\": 80582,\n\t\"./si.js\": 80582,\n\t\"./sk\": 4348,\n\t\"./sk.js\": 4348,\n\t\"./sl\": 95337,\n\t\"./sl.js\": 95337,\n\t\"./sq\": 39358,\n\t\"./sq.js\": 39358,\n\t\"./sr\": 50683,\n\t\"./sr-cyrl\": 69382,\n\t\"./sr-cyrl.js\": 69382,\n\t\"./sr.js\": 50683,\n\t\"./ss\": 51156,\n\t\"./ss.js\": 51156,\n\t\"./sv\": 29855,\n\t\"./sv.js\": 29855,\n\t\"./sw\": 18536,\n\t\"./sw.js\": 18536,\n\t\"./ta\": 15373,\n\t\"./ta.js\": 15373,\n\t\"./te\": 37809,\n\t\"./te.js\": 37809,\n\t\"./tet\": 61297,\n\t\"./tet.js\": 61297,\n\t\"./tg\": 92527,\n\t\"./tg.js\": 92527,\n\t\"./th\": 85862,\n\t\"./th.js\": 85862,\n\t\"./tk\": 79331,\n\t\"./tk.js\": 79331,\n\t\"./tl-ph\": 44387,\n\t\"./tl-ph.js\": 44387,\n\t\"./tlh\": 3592,\n\t\"./tlh.js\": 3592,\n\t\"./tr\": 79732,\n\t\"./tr.js\": 79732,\n\t\"./tzl\": 99570,\n\t\"./tzl.js\": 99570,\n\t\"./tzm\": 83553,\n\t\"./tzm-latn\": 7699,\n\t\"./tzm-latn.js\": 7699,\n\t\"./tzm.js\": 83553,\n\t\"./ug-cn\": 25674,\n\t\"./ug-cn.js\": 25674,\n\t\"./uk\": 69974,\n\t\"./uk.js\": 69974,\n\t\"./ur\": 45773,\n\t\"./ur.js\": 45773,\n\t\"./uz\": 357,\n\t\"./uz-latn\": 77135,\n\t\"./uz-latn.js\": 77135,\n\t\"./uz.js\": 357,\n\t\"./vi\": 20043,\n\t\"./vi.js\": 20043,\n\t\"./x-pseudo\": 40767,\n\t\"./x-pseudo.js\": 40767,\n\t\"./yo\": 80150,\n\t\"./yo.js\": 80150,\n\t\"./zh-cn\": 21828,\n\t\"./zh-cn.js\": 21828,\n\t\"./zh-hk\": 86644,\n\t\"./zh-hk.js\": 86644,\n\t\"./zh-mo\": 79305,\n\t\"./zh-mo.js\": 79305,\n\t\"./zh-tw\": 31860,\n\t\"./zh-tw.js\": 31860\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 35358;"],"names":["NgModule","RouterModule","MicrobeTraceNextHomeComponent","routes","path","component","AppRoutingModule","__decorate","imports","forRoot","exports","Component","AppComponent","constructor","title","selector","template","__NG_CLI_RESOURCE__0","BrowserModule","BrowserAnimationsModule","CommonModule","Lara","providePrimeNG","$","provideHttpClient","withInterceptorsFromDi","withJsonpSupport","FormsModule","UtilsModule","GoldenLayoutComponentService","GoldenLayoutHostComponent","TableModule","FileUploadModule","ListboxModule","RadioButtonModule","CalendarModule","PaginatorModule","ProgressBarModule","ConfirmDialogModule","DropdownModule","AccordionModule","SidebarModule","MultiSelectModule","SliderModule","TabViewModule","SelectButtonModule","TreeModule","DialogModule","OrderListModule","AppSessionService","AppUiCustomizationService","AppUrlService","FilesComponent","PhylogeneticComponent","TimelineComponent","TwoDComponent","CoreModule","TableComponent","MapComponent","AlignmentViewComponent","LeafletModule","LeafletMarkerClusterModule","MatButtonModule","MatInputModule","MatMenuModule","MatToolbarModule","MatSliderModule","DndDirective","MatSelectModule","MatIconModule","MatProgressSpinnerModule","CrosstabComponent","AggregateComponent","BubbleComponent","TooltipModule","TabsModule","ModalModule","BsDropdownModule","PopoverModule","GanttComponent","GanttChartComponent","GanttChartService","HeatmapComponent","WaterfallComponent","GoogleTagManagerModule","window","routerOptions","TestedComponent","AppModule","declarations","bootstrap","id","providers","theme","preset","Directive","InjectionToken","BaseComponentDirective","rootHtmlElement","setPositionAndSize","left","top","width","height","style","numberToPixels","setVisibility","visible","display","setZIndex","value","zIndex","toString","HTMLElement","GoldenLayoutContainerTokenName","GoldenLayoutContainerInjectionToken","Injectable","Output","EventEmitter","Injector","BehaviorSubject","Observable","Subject","d3","patristic","Papa","_","moment","WorkerModule","LocalStorageService","AuspiceHandler","AppComponentBase","MicrobeTraceNextVisuals","HttpClient","CommonService","setLinkTableElement","element","linkElementSource","next","setNodeTableElement","nodeElementSource","injector","localStorageService","visuals","http","LoadViewEvent","decoder","TextDecoder","r01","Math","random","activeTab","debugMode","currentLinkTableElement","asObservable","currentNodeTableElement","GlobalSettingsModel","SelectedColorNodesByVariable","SelectedColorLinksByVariable","SelectedNodeColorVariable","SelectedLinkColorVariable","SelectedPruneWityTypesVariable","SelectedStatisticsTypesVariable","SelectedClusterMinimumSizeVariable","SelectedLinkSortVariable","SelectedLinkThresholdVariable","SelectedDistanceMetricVariable","SelectedLinkColorTableTypesVariable","SelectedNodeColorTableTypesVariable","SelectedColorVariable","SelectedBackgroundColorVariable","SelectedApplyStyleVariable","SelectedRevealTypesVariable","metricChanged","sessionDestroyed","newSession","styleFileApplied","tableCleared","statisticsChanged","FP_removeFiles","twoD_saveNodePos","dataSkeleton","nodes","links","unoNodes","unoLinks","clusters","nodeFields","nodeExclusions","linkFields","clusterFields","nodeFilter","linkFilter","clusterFilter","nodeFilteredValues","linkFilteredValues","clusterFilteredValues","nodeTableColumns","linkTableColumns","clusterTableColumns","tree","newickString","reference","watermark","HXB2","defaultWidgets","sessionSkeleton","data","files","layout","content","type","messages","meta","loadTime","readyTime","Date","now","startTime","anySequences","network","allPinned","timelinePinned","timelineNodes","initialLoad","launched","state","timeStart","timeEnd","timeTarget","linkAlphas","linkColors","schemePaired","linkValueNames","nodeAlphas","nodeColors","schemeCategory10","concat","slice","nodeColorsTable","nodeColorsTableHistory","nodeColorsTableKeys","linkColorsTable","linkColorsTableKeys","nodeSymbols","nodeSymbolsTable","nodeSymbolsTableKeys","nodeValueNames","polygonAlphas","polygonColors","polygonValueNames","overwrite","widgets","timeline","warnings","tempSkeleton","componentCache","mapData","matrix","messageTimeout","linkAlphaMap","session","linkColorMap","nodeAlphaMap","nodeColorMap","nodeSymbolMap","polygonAlphaMap","polygonColorMap","trees","temp","_linkThreshold$","linkThreshold$","_networkUpdated$","networkUpdated$","exportRequestedSource","exportRequested$","exportOptions","filename","filetype","scale","quality","createPolygonColorMap","polygonGroups","aggregates","groups","forEach","d","key","values","length","Object","keys","sort","a","b","colors","m","ceil","Array","fill","undefined","domain","scaleOrdinal","getNetworkNodes","n","out","i","node","push","JSON","parse","stringify","computer","resetData","console","log","ngOnInit","initialize","reset","capitalize","s","charAt","toUpperCase","clearData","updateLegacyNodeSymbols","defaultNode","index","_id","selected","cluster","degree","origin","hasDistance","setLinkThreshold","newThreshold","linkThreshold","networkUpdated","setNetworkUpdated","newPruned","onMetricChanged","metric","emit","onNewSession","onSessionDestroyed","onStyleFileApplied","onTableCleared","tableId","onStatisticsChanged","statisticsType","onlyUnique","self","indexOf","includes","container","returnValue","pos","filterXSS","t","e","argType","tempT","replace","isNumber","addNode","newNode","check","trim","uniq","assign","newElement","prototype","hasOwnProperty","call","addLink","newLink","source","target","serv","linkIsNew","sdlinks","oldLink","myorigin","filter","distanceOrigin","directed","merge","warn","seen","len","j","item","getSelectedNode","find","getColorByIndex","variable","color","convertToGraphDataArray","microbeData","map","group","label","nodeSize","borderWidth","link","chapter","distance","linkWidth","updateNodesAndGeneratePanels","graphData","updatedNodes","uniqueGroups","from","Set","panels","groupNodes","groupColor","labelPosition","borderColor","fillColor","padding","dashedOutline","halveLinksArray","halfIndex","processSVG","svg","$xml","document","getElementById","each","$node","gephid","attr","size","parseFloat","$link","coords","split","base","$l","findIndex","abs","runHamsters","processJSON","json","extension","result","error","applySession","version","applyGHOST","applyHIVTrace","stashObject","prop","trigger","off","tabs","templateRef","tabTitle","isActive","componentRef","oldSession","v","processData","geoJSONLayerName","geoJSON","applyStyle","finishUp","createLinkColorMap","createNodeColorMap","$id","val","toLowerCase","hivtrace","patient_attributes","sequences","ghost","genotypes","dist","applyAuspice","auspice","Promise","resolve","auspiceHandler","auspiceData","run","openAuspiceUrl","url","auspiceDataHolder","get","subscribe","updateNetwork","updateStatistics","decode","x","parseFASTA","text","response","compute_parse_fastaWorker","postMessage","onmessage","Uint8Array","start","toLocaleString","fromWorker","worker","observer","messageHandler","event","errorHandler","addEventListener","removeEventListener","terminate","parseCSVMatrix","file","reject","name","nn","nl","compute_parse_csv_matrixWorker","contents","workerObservable","sub","tn","tl","unsubscribe","err","auspiceCallBack","nodeCount","exec","nodeKeys","linkCount","generateSeqs","idPrefix","count","snps","seed","sampleCodons","sampleSNPs","sample","vec","nCodons","samples","idx","floor","seqs","seq","randomCodonSet","join","oldseed","replacementCodonSet","newseed","addedSNPs","randomSNP","locOfSNP","substr","align","params","aligner","referenceLength","compute_align_swWorker","subset","minPadding","Infinity","_seq","_padding","repeat","substring","padEnd","computeConsensus","compute_consensusWorker","consensus","computeAmbiguityCounts","subsetLength","compute_ambiguity_countsWorker","dists","Float32Array","counts","_ambiguity","computeConsensusDistances","nodesLength","Uint16Array","_diff","computeLinks","k","compute_linksWorker","strategy","threshold","l","sourceID","targetID","getDM","dm","treeObj","parseNewick","toMatrix","labels","row","computeTree","toNewick","then","compute_treeWorker","round","treeString","parseJSON","computeDirectionality","compute_directionalityWorker","flips","output","fliplink","fliptemp","computeMST","compute_mstWorker","epsilon","numLinks","computeNN","compute_nnWorker","computeTriangulation","compute_triangulationWorker","_this","_asyncToGenerator","_this2","clearTimeout","fields","field","nodeSkeleton","fieldsToCheck","f","times","time","isValid","isNaN","toDate","minTime","min","minTimeString","String","html","titleize","css","updateThresholdHistogram","hide","setLinkVisibility","tagClusters","setClusterVisibility","setNodeVisibility","thing","fadeIn","setTimeout","launchView","convertName","delayFunction","_x","_x2","_delayFunction","apply","arguments","callback","loadOtherViews","_loadOtherViews","_this3","_ref","view","viewName","microbeTrace","Viewclick","epiCurve","viewActive","_x3","foldMultiSelect","foldRaces","foldExposures","races","displayValue","Race","selectedRace","raceDetails","race","RaceDetails","exposures","Exposure","exposureDetails","exposure","ExposureInfoWorkplaceIsCriticalInfra","ExposureInfoWorkplaceSetting","ExposureDetails","getVisibleNodes","copy","getVisibleLinks","cloneDeep","getVisibleClusters","is","vnodes","vlinks","clusterCount","src","tgt","singletons","setExportOptions","options","getExportOptions","requestExport","dv","ind","aggregatesTL","nodesTL","nodeColorsTL","valuesTL","tempNodeColors","table","nodeColor","nodeColorKeys","multiLinkCount","o","lv","cycles","linksTL","linkColorsTL","dd","tempLinkColors","linkColor","linkColorsKeys","newTempSkeleton","obj","commonService","newSessionSkeleton","onLinkThresholdChanged","getJurisdictions","appRootUrl","responseType","toPromise","header","catch","getMapData","parts","format","contrastColor","hexcolor","r","parseInt","g","yiq","peek","ra","unparseSVG","svgNode","setAttribute","selectorTextArr","nClasses","classList","c","getElementsByTagName","nNodes","classes","extractedCSSText","nStylesheets","styleSheets","cssRules","nRules","rule","selectorText","cssText","styleElement","createElement","innerHTML","refNode","hasChildNodes","children","insertBefore","serializer","XMLSerializer","serializeToString","exportHIVTRACE","geneticLinks","pas","trace_results","Degrees","Distribution","Model","fitted","rho","Count","Edges","attributes","removed","support","Chronic","Clusters","Nodes","baseline","edi","patient_attribute_schema","Settings","contaminants","small","numNodes","tempnodes","lsv","DFS","clusterID","sum_distances","links_per_node","mean_genetic_distance","silent","dateField","checkCluster","showNN","overrideNN","fileName","hasAuspice","test","includesDistanceOrigin","updatePinNodes","fixed","preFixed","fx","fy","y","histogram","_this4","thresholdHistogram","select","max","Number","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","range","ticks","scaleLinear","bins","thresholds","bar","selectAll","enter","append","x0","that","updateThreshold","xc","mouse","decimalPlaces","toFixed","on","preventDefault","providedIn","Inject","ElementRef","ChangeDetectionStrategy","ChangeDetectorRef","XLSX","saveAs","fileto","generateCanvas","tn93","EventEmitterService","ComponentContainer","elRef","eventEmitterService","cdr","nativeElement","LoadDefaultVisualizationEvent","SelectedDefaultDistanceMetricVariable","SelectedAmbiguityResolutionStrategyVariable","SelectedAmbiguityThresholdVariable","SelectedDefaultDistanceThresholdVariable","SelectedDefaultViewVariable","SelectedGenerateNumberVariable","DirectionalityTypes","SelectedDirectionalityTypeVariable","TriangulationTypes","SelectedTriangulationTypeVariable","AutostashingTypes","SelectedAutostashingTypeVariable","AlignTypes","SelectedAlignTypeVariable","isLoadingFiles","ReferenceTypes","SelectedReferenceTypeVariable","SelectedRefSeqFileLoadVariable","RefSeqIDTypes","SelectedRefSeqIDVariable","SelectedAlignerMatchVariable","SelectedAlignerMismatchVariable","SelectedAlignerGapOVariable","SelectedAlignerGapEVariable","IsReferenceSourceSelected","IsReferenceOptionsSelected","SelectedAuditEmptyVariable","SelectedAuditGapsVariable","SelectedAuditRNAVariable","SelectedAuditAminoAcidsVariable","SelectedAuditCIGARVariable","SelectedAuditMalformedVariable","IsDataAvailable","displayFileSettings","displaySequenceSettings","displayloadingInformationModal","nodeIds","edgeIds","uniqueNodes","uniqueEdgeNodes","onLinkThresholdChange","onDistanceMetricChange","slideUp","slideDown","parent","loadDefaultVisualization","subsVar","invokeFirstComponentFunction","processFile","removeAllFiles","applyStyleFileSettings","removeFile","empty","show","reader","FileReader","onloadend","readyState","DONE","readAsText","readFastas","updatePreview","auditBlock","logAudit","parentContext","match","button","thi$","removeClass","addClass","splice","isGaps","isRNA","isAA","isDNA","isCIGAR","isMalformed","checkEmpty","checkGaps","checkRNA","checkAA","checkCIGAR","checkMalformed","change","setItem","cachedLSV","getItem","cachedView","localStorage","autostash","clearInterval","interval","auspiceUrlVal","getJSON","bind","populateTable","fileTableRows","remove","addToTable","toglleAll","InitView","handleContainerStateRequestEvent","changeDefaultView","selectedOptions","innerText","openSettings","openExport","openCenter","openRefreshScreen","openSelectDataSetScreen","showSequenceSettings","focus","showMessage","msg","launchClick","thresholdOnLaunch","metricOnLaunch","ambiguityOnLaunch","viewOnLaunch","creatLaunchSequences","nFiles","hierarchy","some","field2","fileNum","nodeRegex","newNodes","sources","targets","forEachLink","safeLink","field1","srcIndex","tgtIndex","field3","bidirectional","workbook","read","utils","sheet_to_json","Sheets","SheetNames","nodeIDs","f1","f2","results","safeKey","totalNodes","dynamicTyping","skipEmptyLines","complete","safeNode","step","cell","newLinks","ids","processSequence","gapString","isLocal","gap","toInts","detectChanges","accordianToggle","open","processFiles","rawfile","pop","auspiceFile","promise","nodeEdgeCheck","isFasta","isNewick","isXL","isJSON","isAuspice","isNode","headers","addTableTile","loadNodes","loadEdges","context","root","fnamerow","Blob","appendTo","optionsrow","h","matchHeaders","these","list","refit","first","second","third","updateMetadata","fileTable","selectElements","querySelectorAll","el","$el","fname","selects","isJson","firstField","currentNodeId","currentEdgeId","allNodesListNodes","allEdgeListNodes","runNodeEdgeCheck","fastas","nodeFilesWithSeqs","fasta","csv","seqLabel","dataJSON","canvas","onAmbiguityStrategyChanged","onAmbiguityThresholdChanged","generateSequences","File","unparse","args","changeDetection","OnPush","componentTypeName","ComponentFactoryResolver","componentFactoryResolver","_componentTypeMap","Map","registerComponentType","componentType","set","getRegisteredComponentTypeNames","createComponent","componentTypeJsonValue","Error","provider","provide","useValue","create","componentFactoryRef","resolveComponentFactory","ApplicationRef","ViewChild","ViewContainerRef","GoldenLayout","goldenLayout","_goldenLayout","virtualActive","_virtualActive","viewContainerRefActive","_viewContainerRefActive","isGoldenLayoutSubWindow","isSubWindow","_appRef","_elRef","goldenLayoutComponentService","_componentRefMap","_goldenLayoutBoundingClientRect","DOMRect","_goldenLayoutBindComponentEventListener","itemConfig","handleBindComponentEvent","_goldenLayoutUnbindComponentEventListener","handleUnbindComponentEvent","TabRemovedEvent","TabChangedEvent","_goldenLayoutElement","ngOnDestroy","destroy","initialise","resizeWithContainerAutomatically","beforeVirtualRectingEvent","handleBeforeVirtualRectingEvent","checkAddDefaultPopinButton","contentItem","handleActiveTabChange","setViewContainerRefActive","setVirtualActive","clear","setSize","getComponentRef","focusComponent","componentId","componentItem","instance","virtualRectingRequiredEvent","handleContainerVirtualRectingRequiredEvent","virtualVisibilityChangeRequiredEvent","handleContainerVisibilityChangeRequiredEvent","virtualZIndexChangeRequiredEvent","logicalZIndex","defaultZIndex","handleContainerVirtualZIndexChangeRequiredEvent","_componentViewContainerRef","insert","hostView","attachView","componentRootElement","appendChild","domElem","rootNodes","virtual","delete","viewRefIndex","removeChild","detachView","getBoundingClientRect","containerBoundingClientRect","removeComponent","_title","static","strainSymbol","Symbol","NODE_VISIBLE","invalidStrings","nodeList","linkList","recurseChildren","makeNode","branch","Branch","rootNode","newTree","child","addChild","branch_attrs","mutations","nuc","attribute","node_attrs","combineMutations","leaves","getLeaves","leaf","mutHolder","ancestor","getAncestors","nodeIndex","nodeHolder","parseAuspice","auspiceTree","treeToNewick","temporal","internalNodeNames","nodeAnnotation","getXVal","getTraitFromNode","getDivFromNode","recurse","parentX","childSubtrees","subtree","rootXVal","trait","entropy","confidence","isValueValid","div","makeLinksFromMatrix","addLatLong","metadata","geo_resolutions","deme","latitude","demes","longtude","longitude","jsonObj","fullTree","distanceMatrix","updatedTree","bareNewickString","newick","ColorIterator","position","current","valid","CustomShapes","diamondAlt","draw","tan30","sqrt","tan30_2","moveTo","lineTo","closePath","diamondSquare","w","hexagon","sideLength","area","num","denom","rotatePoint","theta","cos","sin","tau","PI","R","hexagonAlt","octogon","circumradiusCoeff","circumradius","side","octagonAlt","pentagon","triangleDown","triangleLeft","triangleRight","points","shapes","DialogSettings","dialogControlId","isVisible","linkTop","linkLeft","mapRight","nodeTop","nodeLeft","shapeTop","shapeRight","polygonRight","polygonTop","polygonLeft","getDialogControl","querySelector","getDomRect","dialogControl","onShow","onHide","setStateBeforeExport","stateBeforeExport","domRect","restoreStateAfterExport","innerHeight","innerWidth","InlineWorker","func","onMessage","onError","WORKER_ENABLED","Worker","urls","functionBody","request","XMLHttpRequest","send","responseText","finish","URL","createObjectURL","onerror","ViewChildren","QueryList","ViewEncapsulation","Renderer2","DomSanitizer","Tabulator","JSZip","html2canvas","domSanitizer","cdref","renderer","ambiguity","showSettings","showExport","showCenter","showPinAllNodes","showRefresh","showButtonGroup","showSorting","downloadedBlocks","ledgerOptions","ledgerOptionSelected","ledgerOptionSelectedFlag","selectedItemsLabel","displayHelp","displayAbout","displayStashDialog","displayUrlDialog","displayMTDialog","displayRecallStashDialog","displayLedgerLoaderDialog","saveFileName","saveByCluster","saveFileTypeOptions","selectedSaveFileType","searchField","searchText","BlockChainLedgerNodeList","BlockChainLedgerEdgeList","FieldList","ToolTipFieldList","PruneWityTypes","RevealTypes","StatisticsTypes","SelectedTimelineVariable","timelineSpeed","LinkColorTableTypes","NodeColorTableTypes","activeTabNdx","ShowGlobalSettingsLinkColorTable","ShowGlobalSettingsNodeColorTable","roles","ShowGlobalSettingsSettingsPane","cachedGlobalSettingsVisibility","cachedGlobalSettingsLinkColorVisibility","cachedGlobalSettingsNodeColorVisibility","playBtnText","previousTab","bpaaSPayloadWrappers","DisplayGlobalSettingsDialogEvent","HideThisForNow","homepageTabs","onDistanceMetricChanged","appSession","activeTabIndex","dataSetView","dataSetViewSelected","currentUrl","location","href","URLSearchParams","search","getGlobalSettingsData","performExport","thresholdSubscription","elem","documentElement","GlobalSettingsDialogSettings","GlobalSettingsLinkColorDialogSettings","GlobalSettingsNodeColorDialogSettings","clearTable","onShowStatisticsChanged","generateNodeLinkTable","generateNodeColorTable","fadeTo","animate","marginTop","opacity","addComponent","goldenLayoutComponent","_goldenLayoutHostComponent","newComponent","addTab","setActiveTabProperties","loadSettings","visualWrapper","visualWrapperRef","useCORS","onclone","clonedDoc","clonedInputs","input","getAttribute","span","backgroundColor","border","parentNode","replaceChild","imgData","toDataURL","download","body","click","tab","deleteFile","onSearch","dataSet","fieldData","encodedField","charCodeAt","add","dataArray","vre","RegExp","$li","ac_v","ac_val","ac_vre","firstSelected","onSearchFieldChange","ev","onWholeWordChange","onCaseSensitiveChange","prepareFilesLists","$event","fadeOut","_removeGlView","getfileContent","updateMetric","toLocaleLowerCase","updateAmbiguity","toLocaleUpperCase","updateLaunchView","recallClicked","continueClicked","onBackgroundChanged","onMinimumClusterSizeChanged","onLinkSortChanged","onApplyStyle","onload","onColorNodesByChanged","onColorLinksByChanged","onEpsilonValueChange","onPruneWithTypesChanged","newValue","SelectedEpsilonValue","pow","toPrecision","tableComp","onLinkColorTableChanged","onNodeColorTableChanged","checkActiveView","onNodeColorChanged","publishUpdateNodeColors","updateNodeColors","publishUpdateVisualization","updateVisualization","publishUpdateLinkColor","updateLinkColor","onLinkColorChanged","isEditable","linkColorTable","aggregateValues","disabled","colorinput","alphainput","clientY","clientX","nonEditCell","$this","isAscending","updateCountFreqTable","delay","parents","eq","rows","toArray","comparer","reverse","valA","getCellValue","valB","localeCompare","onTimelineChanged","loadingJsonFile","bubble","sortData","globalTimelineField","encodedGlobalTimelineField","formatDateIntoYear","timeFormat","formatDateIntoMonthYear","formatDateIntoMonth","formatDateMonthYear","formatDateDateMonth","timeDomainStart","timeDomainEnd","days","diff","tickDateFormat","handleDateFormat","startDate","endDate","margin","right","bottom","svgTimeline","currentTimelineValue","currentTimelineTargetValue","playButton","xAttribute","scaleTime","clamp","nice","slider","drag","interrupt","update","invert","handle","playTimeline","setInterval","showNodeColorTable","hideNodeColorTable","showLinkColorTable","hideLinkColorTable","prevColorNodesByVariable","nodeColorTable","one","asc","toggleColorTableSettings","tableName","settingsPane","toggleColorTableColumns","column","tableReferenceName","showCount","showFreq","countColumn","freqColumn","minClust","revealClicked","updateGlobalSettingsModel","updatedVisualization","getUserRoles","ngAfterViewInit","DisplayUrlDialog","subscription","publishLoadNewData","getLedgerData","convertToCSV","objArray","tmpArray","str","headerLoaded","line","index1","index2","officialInstance","prodVal","devVal","localVal","getHeight","timelineHeight","warningHeight","showSpinner","spinnerDivElement","spinnerElement","hideSpinner","resetLayout","fileList","getSinglefileContent","onPanelHide","onClickChildOptionContainer","onClickChildOptionChecbox","onChangeChildOptionCheckbox","DisplayHelp","DisplayAbout","clusterSaveClick","DisplayStashDialog","saveStash","blob","zip","lightTabs","clusterNodeList","clusterLinkList","singletonNodeList","dyadNodeList","dyadEdgeList","clusterNodes","clusterLinks","singletonFolder","dyadFolder","currentCluster","clusterFolder","folder","clusterNode","NodeList","clusterLink","LinkList","nodesBlob","edgesBlob","generateAsync","stash","compression","compressionOptions","level","getAuspiceName","nameParts","saveUrl","auspiceUrl","DisplayMTDialog","ResetTabs","home","NewSession","onReloadScreen","DisplayRecallStashDialog","recallStash","FileClick","actionName","stashSession","updateTable","SettingsClick","DisplayGlobalSettingsDialog","stashes","selectable","columns","sorter","fullname","date","toISOString","setData","tabNdx","linkThresholdSparkline","globalSettingsTab","active","WindowClick","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","reload","HelpClick","activeComponentName","tabLabel","tabPosition","activate","onLoadNewData","publishFilterDataChange","onFilterDataChange","Default","encapsulation","None","BpaaSPayloadWrapper","BlockHashCode","BlockName","BpaaSPayload","FuzzyMatchRatios","BpaaSPayloadWrapperData","Type","SubType","JurisdictionKey","JurisdictionName","Jurisdiction","FileName","Data","EventManager","OrderList","GoogleTagManagerService","eventManager","gtmService","SelectedDataTables","fieldOptions","items","SelectedDataFields","settingsOpen","exportOpen","SelectedAggregateExportFilename","AggregateExportFileTypeList","SelectedAggregateExportFileType","aggregate","updateFieldOptions","pushTag","page_location","page_title","tableColumns","updateViewHeight","updateTableColWidth","fullField","dataset","total","rawdata","arow","groupName","viewHeight","tableStyle","addTable","orderList","cd","deleteTable","loc","short_label","formatTableTitle","inputString","colGroupName","onRecallSession","exportVisualization","tmpData","percent","wb","book_new","ws","json_to_sheet","book_append_sheet","writeFile","outputData","datasetName","default","pdfMake","pdfFonts","vfs","documentDefinition","image","alignment","headerRow","widths","footer","currentPage","pageCount","styles","fontSize","bold","paddedTable","createPdf","reordered","updatedTableOrder","updateDataField","svgAsPngUri","alignmentDialogSettings","ShowAlignExportPane","showHideOptions","labelFieldList","longestSeqLength","alignmentTopDisplayOptions","charSettingOptions","seqTypeOptions","selectedSeqType","startPos","rulerIntervalOptions","translationSetting","sizes","colorSchemeOptions","AlignmentExportFileName","AlignmentExportFileTypeVis","AlignmentExportFileTypeData","setEvents","setDefaultWidgets","nodesWithSeq","seqArray","labelArray","getData","calculateProportionAtEachLocation","onAlignmentTopChange","useCustomColorScheme","onSelectedColorChanged","onSelectedSizeChanged","shortenNodesWithSeq","updateMiniMapVisibility","goldenLayoutComponentResize","highlightRows","indexList","isArray","currentObj","updateLongestSeqLength","longestSeq","updateAlignment","spanWidth","spanHeight","charSetting","colorScheme","updateViewHeights","updateMiniMap","seqArrayShortened","showMiniMapHighlight","miniMap","mmDimensions","scaleFactorNumber","highlightHeight","scaleFactorLength","rightWidth","highlightWidth","canvasWidth","updateMiniMapHighlight","hideMiniMapHighlight","miniMapClick","canvasHolder","canvasLabels","alignmentTop","highlightDimensions","horizontalScroll","scrollLeft","verticalScroll","scrollTop","showTooltip","getRelativeMousePosition","adjX","offsetX","offsetY","htmlString","tabulate","hideTooltip","downSizedSeq","countMatrix","proportionMatrix","positionMatrix","nt","calcProportion","sum","calculatePosition","mergeA","mergeB","sortedIndexes","locA","locB","calculateProportionAminoAcids","reduce","acc","cur","calculatePositionMatrixAminoAcids","proportionMatrixAA","nonZeroIndexes","compareIndices","calculateAdvancedProportion","xPos","getSVGWidth","onSeqTypeChange","revert2NT","NT2Codon","convertToAASequence","getNT2AATable","NT2AA_table","AAarray","NT_check","aaString","codon","checkAmbiguousCodons","gapCount","aa","A","N","D","C","Q","E","G","H","I","L","K","M","F","P","S","T","W","Y","V","X","positionMatrixAA","ambiguousCheck","positionPossibilities","currentNT","possibleCodons","nt0","nt1","nt2","possibleAA","AA","newSeqs","codons","rightViewHeight","calculateRightHeight","alignmentViewHeight","calculateViewHeight","canvasViewHeight","calculateCanvasViewHeight","miniMapHeight","outerHeight","calculateRightWidth","leftWidth","onSpanHeightChange","onSpanWidthChange","skipUpdateAlignment","updateColorScheme","isFieldNumerical","indexes","scroll","topIndex","bottomIndex","scrollPos","selectedNodes","firstPositionSelected","calculateY","canvasScroll","dataType","tableHtml","index2NT","numberOfRows","AAindex","rect","pageX","pageY","onLabelFieldChange","onSortFieldChange","newSort","sortField","exportPNG","mainCanvas","exportWidth","exportHeight","encoderType","encoderOptions","topB64string","imageDataUrl","exportCanvas","ctx","getContext","iTop","Image","iMain","drawImage","canvasDataURL","foreignObj","createElementNS","exportData","includeConsensus","megaFormat","getConsensus","consensusString","exportDataTable","option","csvString","csvHeader","innerArray","consensusInterator","getNextPosition","chars","char","bracketContent","consensusSeq","maxPos","config","longest","ch","cw","alpha","fillStyle","fillRect","nucleotide","col","font","textAlign","textBaseline","fillText","refSeq","cytoscape","BubbleExportFileType","BubbleExportFileName","SelectedBubbleExportScaleVariable","selectedFieldList","nodeSpacing","allData","visibleData","X_categories","X_tickValues","Y_categories","Y_tickValues","scaleFactor","svgDefs","NodeCollapsingTypes","viewWidth","setWidgets","updateAxisValues","onNodeSizeChange","setSelectedNodes","updateVisibleNodes","updateNodes","generateCytoscape","xVariable","yVariable","SelectedNodeCollapsingTypeVariable","mapDataToCytoscapElements","totalCount","edges","AddAxes","Axes","cy","fit","lock","getCytoscapeStyle","cyContainer","elements","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","evt","originalEvent","tooltipHTML","toolTip","transition","once","nodeDR","Xgroup","Ygroup","strokeColor","nodeX","locX","nodeY","locY","updateAxes","updateColors","currentLength","visibleNodes","vNode","getCollapsedData","axis","xLoc","yLoc","filteredNodes","calculateHexagonalGridPositions","initial","fullNodes","X_group","Y_group","currentFullNode","fNode","changedVisibleNodes","generateCollapsedCounts","generatePieChartsSVGDefs","resetToDefault","svgPattern","b64","btoa","colorCategory","currentNodes","previousTotal","cNode","currentCategory","countItem","indexNumber","patternString","proportions","coordinates","proportion","cv","yPos","arcStart","largeArcFlag","arcEnd","fillcolor","colorVariable","Fnode","currentNode","dataNode","layerDistance","layer","nodesInLayer","angle","onNodeCollapsingChange","datum","datum_all","onDataChange","sortVariable","allNodes","getTime","recalculatePositions","onNodeSpacingChange","unlock","positions","showGlobalSettings","currrentVar","getAxisLabel","setCalculatedResolution","CalculatedResolution","updateCalculatedResolution","pngString","png","bg","maxHeight","maxWidth","Table","showOptions","SelectedCrossTabExportFilename","SelectedCrossTabExportFileType","CrossTabExportFileTypeList","selectedSize","class","crossTab","updateFieldLists","pFooterHeight","scrollHeight","tableStyleCrosstab","fieldList","xValues","yValues","totalRow","newRow","SelectedTableData","convertToProportion","pivotCrosstab","tmp","prevData","prevColumns","newData","newTotalRow","newTableColumns","pcol","ncol","aRow","useProportionChanged","tempX","tempY","saveAsExcelFile","dataTable","exportFilename","exportCSV","dataBody","formatData","dataRow","xlsx","worksheet","excelBuffer","write","bookType","EXCEL_TYPE","onTableSizeChange","colorSchemes","colorful","cool","warm","Input","addDays","newdate","setDate","getDate","day","monthIndex","getMonth","year","getFullYear","monthNames","shortenDate","computeGrid","flag","qts","ganttChartService","ganttDateRange","gridPrecisionX","gridWidthX","transformX","gridWidthY","rectHeight","ganttPhases","gridPath","xAxis","yAxis","ganttMinDate","yTrans","yPadding","ganttMaxDate","transformGanttDate","xPadding","transform","cnt","phase","getWidth","gEntry","to","setDimensions","host","currentElement","dims","setColors","team","customColorScheme","definePhaseTimelines","phaseTimelines","timelines","info","componentID","setValues","gridID","ngOnChanges","ganttOpacity","computeRectDimensions","rectWidth","computeLegionDimensions","noOfLines","legionWidth","legionHeight","maxX","minX","computeLegion","legion","legionLine","ganttTeams","oneDay","daysSinceMinDate","closestMultipleLessThanEqualTo","factor","closestMultipleMoreThanEqualTo","froms","tos","phases","minDate","maxDate","printAll","domToImage","svgStyle","customShapes","ShowNetworkAttributes","ShowStatistics","ShowGanttExportPane","ShowGanttSettingsPane","settings","GanttEntryName","GanttStartVariable","GanttEndVariable","GanttEntryColor","ganttEntries","SelectedGanttChartImageFilenameVariable","NetworkExportFileTypeList","SelectedNetworkExportFileTypeListVariable","GanttSettingsDialogSettings","gantt","dataAvail","ganttChartData","isExportClosed","getNodeIds","makeBlankEntry","timelineEntry","blankEntry","makeGanttEntry","dateName","startVariable","endVariable","entryColor","nodeData","hasTimeZone","regExp","entry","ganttEntry","createGanttEntry","newEntry","entryName","existingData","markForCheck","resetEntryForm","removeGanttEntry","startingEntries","endingEntries","updateEntryColor","startingData","idSet","listGanttEntries","saveImage","domId","exportImageType","toPng","dataUrl","toJpeg","svgContent","parser","DOMParser","deserialized","parseFromString","HeatmapSettingsDialogSettings","ShowHeatmapExportPane","invertOptions","SelectedImageFilenameVariable","SelectedNetworkExportFileTypeVariable","SelectedDistanceMatrixFilenameVariable","heatmap","invertX","invertY","heatmapShowLabels","loColor","medColor","hiColor","heatmapMetric","reCenter","Plotly","redrawHeatmap","drawHeatmap","xLabels","yLabels","heatmapLabels","heatmapData","z","colorscale","parentElement","heatmapContainerRef","clientWidth","clientHeight","heatmapLayout","xaxis","yaxis","heatmapConfig","displaylogo","displayModeBar","newPlot","heatmapElement","setStyle","autotick","showticklabels","setBackground","contrast","mainSvg","rectBg","titles","axisTexts","updateLoColor","updateMedColor","updateHiColor","updateInvertX","direction","updateInvertY","fixedContent","fixGradient","insertionPoint","getElementsByClassName","startingUrl","idVal","saveDistanceMatrix","csvContent","unshift","tileLayer","latLng","markerClusterGroup","circleMarker","featureGroup","LongLatClass","layers","MapLayers","ShowGEOMapExportPane","ShowGEOMapSettingsPane","SelectedLatitude","SelectedLongitude","SelectedCensusTract","SelectedZipCode","SelectedCounty","SelectedState","SelectedCountry","SelectedResidenceAddress","SelectedVenueAddress","SelectedExposureAddress","geocoder","address","OriginalCenterLocation","markers","SelectedNetworkExportFilenameVariable","SelectedNetworkExportScaleVariable","SelectedNetworkExportQualityVariable","CalculatedResolutionWidth","CalculatedResolutionHeight","NodesTypes","SelectedNodesTypeVariable","LinksTypes","SelectedLinksTypeVariable","CountriesTypes","SelectedCountriesTypeVariable","StatesTypes","SelectedStatesTypeVariable","CountiesTypes","SelectedCountiesTypeVariable","BasemapTypes","SelectedBasemapTypeVariable","SatelliteTypes","SelectedSatelliteTypeVariable","GeospatialTypes","SelectedGeospatialTypeVariable","SelectedNodeTransparencyVariable","SelectedNodeJitterVariable","SelectedNodeTooltipVariable","SelectedLinkTransparencyVariable","SelectedLinkTooltipVariable","clusterImages","m1","m2","m3","m4","m5","locationsFound","mapTooltip","leafletMarkers","isExporting","exportTryCount","colorIterator","marker","triangle","square","circle","dateFilterRangeValues","dateFilterRangeMax","dateFilterRangeDates","geospatialNodes","gisMap","NodeMapSettingsExportDialogSettings","initializeMap","zipcodes","drawNodes","visNodes","matchCoordinates","_jlat","_jlon","rerollNodeAndJitter","drawLinks","lmap","invalidateSize","centerMap","codeAddress","Latitude","Longitude","initializeLeafletMap","mapTokenKey","basemap","maxZoom","attribution","satellite","leafletInitialOptions","zoom","zoomControl","preferCanvas","center","leafletMarkerClusterOptions","showCoverageOnHover","zoomToBoundsOnClick","spiderfyOnMaxZoom","removeOutsideVisibleBounds","maxClusterRadius","spiderLegPolylineOptions","onMapReady","setPosition","onMarkerClusterReady","markerCluster","getMarker","radius","onDateFilterChange","dateFilterRangeMinDate","showAllVisibleMarkers","getLayers","flyToBounds","getBounds","clearAllMarkers","clearAllMarkers_Leaflet","removeNodes","removeLinks","dataFound","rerollCheck","jitter","resetStack","onMapNodeShowHideChange","onMapLinksShowHideChange","onCountriesShowHidChange","countries","addTo","onStatesShowHideChange","states","onCountiesShowHideChange","counties","onBasemapChange","isReload","bringToFront","onSatelliteChange","onGeospatialTypeChange","onNodeTransparencyChange","onNodeJitterChange","onNodeToolTipChange","onLinkTransparencyChange","onLinkToolTipChange","exportWork","onCloseExport","toBlob","displayColorOptions","addressList","positionList","geocode","status","geometry","lat","lng","alert","weight","fillOpacity","norefresh","country","features","properties","_lat","_lon","sval","usps","cval","county","fips","zo","zipcode","tracts","tract","lon","getResidenceMarker","iconCode","iconSettings","mapIconUrl","mapIconColor","divIcon","className","Util","iconSize","locationDetail","Name","FullAddress","icon","getVenueMarker","DateOfContact","getExposureMarkers","exposureProp","locationDetails","ExposedDate","rerollNodes","drawLeafletMapNodes","drawLeafletMapNodesList","selectedColor","showNodeTooltip","clickHandler","addLayers","addLayer","lcv","color1","color2","dashPattern1","dashPattern2","polyline1","polyline","dashArray","polyline2","connectorLine","locationData","htmlText","containerPoint","duration","showLinkTooltip","tooltip","sourceTarget","ctrlKey","bringToBack","_theta","_j","clearLayers","MarkerWithData","Marker","CircleWithData","CircleMarker","PolyLineWithData","Polyline","TidyTree","ShowPhylogeneticExportPane","ShowPhylogeneticSettingsPane","radToDeg","multidrag","TreeLayouts","SelectedTreeLayoutVariable","TreeModes","SelectedTreeModeVariable","TreeTypes","SelectedTreeTypeVariable","SelectedVerticalStretchVariable","SelectedHorizontalStretchVariable","SelectedLeafLabelShowVariable","SelectedLeafLabelVariable","LeafLabelFieldList","SelectedLeafLabelSizeVariable","SelectedLeafTooltipShowVariable","SelectedLeafTooltipVariable","LeafTooltipFieldList","SelectedLeafNodeShowVariable","SelectedLeafNodeSizeVariable","SelectedLeafNodeColorVariable","SelectedSelectedLeafNodeColorVariable","SelectedBranchNodeShowVariable","SelectedBranchNodeSizeVariable","SelectedBranchNodeColorVariable","SelectedBranchSizeVariable","SelectedBranchLabelSizeVariable","SelectedBranchLabelShowVariable","SelectedBranchDistanceShowVariable","SelectedBranchDistanceSizeVariable","SelectedBranchTooltipShowVariable","hideShowOptions","SelectedTreeImageFilenameVariable","SelectedNewickStringFilenameVariable","ShowAdvancedExport","PhylogeneticTreeExportDialogSettings","ContextSelectedNodeAttributes","openTree","phylogenetic","buildTree","mergeNodeData","styleTree","showContextMenu","code","shiftKey","setBranchLabels","eachBranchLabel","styleBranchLabel","setBranchNodes","eachBranchNode","styleBranchNode","setBranchDistances","eachBranchDistance","styleBranchDistance","setLeafNodes","eachLeafNode","styleLeafNode","setLeafLabels","eachLeafLabel","styleLeafLabel","branchEls","styleBranch","leafSize","getLeafSize","node_values","node_color","clone","getTreeOptions","getTreeHandlers","treeOpts","mode","leafNodes","branchNodes","leafLabels","branchLabels","branchDistances","ruler","animation","handlers","contextmenu","showtooltip","hidetooltip","getContextLeftVal","getContextTopVal","leftVal","topVal","reroot","hideContextMenu","rotate","getRoot","flip","htmlValue","node_id","node_value","thisTree","recenter","redraw","onTreeLayoutChange","setLayout","onTreeModeChange","setMode","onTreeTypeChange","setType","onLeafLabelVariableChange","labelVar","onLeafTooltipVariableChange","onHorizontalStretchChange","cached","setAnimation","setHStretch","onVerticalStretchChange","setVStretch","onBranchLabelShowChange","onBranchLabelSizeChange","onBranchDistanceShowChange","onBranchDistanceSizeChange","onBranchNodeShowChange","onBranchNodeSizeChange","onBranchTooltipShowChange","onLeafLabelTooltipShowChange","onLeafLabelShowChange","onLeafNodeSizeVariableChange","onLeafLabelSizeChange","onBranchSizeChange","treeId","saveNewickString","newickBlob","SelectedTableExportFilenameVariable","TableExportFileTypeList","exportColumnOptions","exportAllColumns","SelectedTableExportFileTypeListVariable","SelectedTextSizeVariable","ShowTableExportPane","ShowTableSettingsPane","TableColumns","SelectableTableColumns","AvailableColumns","TableDatas","TableDataSelection","TableType","filterTypes","selectedRows","createTable","temp2","availableColumns","rowData","filteredValue","EXCEL_EXTENSION","onTableFilter","filterValue","filterType","onFilter","filteredValues","filters","onRowSelect","nodeSelect","onRowUnselect","isSelect","tableData","tableType","isNewTableData","dataSelection","selectedTableColumns","foundFilterItem","foundAvailableColumn","curVal","typeData","nrow","stringVal","foundTableData","resetTextsize","reorderColumns","saveSvgAsPng","FieldListStack","binSizes","graphTypes","selectedGraphType","legendPositionOptions","ShowEpiSettingsPane","ShowEpiExportPane","EpiExportFileName","EpiExportFileType","localColorMap","tick","isPlaying","setDefaultsWidgets","tickInterval","updateSettingsRows","SelectedDateFieldVariable","SelectedDateFieldVariable2","SelectedDateFieldVariable3","setupEventListeners","refresh","refreshMulti","updateSizes","getTimes","binInterval","calculateBinInterval","rangeRound","epiCurveSVGElement","classed","updateLocalColorMap","maxCount","updateBins","x1","length2","generateLegend","currentCount","currentbin","numberOfBins","xOffset","nodeColorTableKeys","wrapper","epiCurveElement","middle","xLabelOffset","configureXAxisSettings","axisLeft","fieldNames","prevLength","rowCount","nLength","baseX","stopTimeline","startTimeline","setTimer","maxTime","timeMonth","timeDay","timeMonday","setMonth","timeYear","heights","offsets","bin","paritalSum","numberOfDays","axisBottom","tickFormat","every","onDateFieldChange","onBinSizeChange","onGraphTypeChange","onUseNodeColorChange","onTickIntevalChange","onLegendPositionChange","setCumulative","getImageDimensions","timer","stop","timerFlush","selection","brushSelection","brushG","brush","move","propagate","Clipboard","clipboard","vizLoaded","nodePositions","layoutParallelNodesPerColumn","overideTransparency","containerHeight","selectedNodeId","selectedNodeShape","linkMin","linkMax","linkMid","nodeMin","nodeMax","nodeScale","nodeMid","autoFit","Show2DExportPane","Show2DSettingsPane","halfWidth","halfHeight","force","LinkToolTipList","ctrlPressed","dragging","isLoading","SelectedPolygonLabelVariable","SelectedPolygonColorVariable","SelectedPolygonLabelOrientationVariable","SelectedPolygonLabelSizeVariable","SelectedPolygonGatherValue","CenterPolygonVariable","SelectedPolygonLabelShowVariable","SelectedPolygonColorShowVariable","SelectedPolygonColorTableShowVariable","SelectedNodeLabelVariable","SelectedNodeSymbolVariable","SelectedNodeShapeVariable","SelectedNodeRadiusVariable","SelectedNodeRadiusSizeVariable","SelectedNodeRadiusSizeMaxVariable","SelectedNodeRadiusSizeMinVariable","TableTypes","SelectedNetworkTableTypeVariable","SelectedLinkLabelVariable","SelectedLinkDecimalVariable","SelectedLinkWidthByVariable","SelectedLinkWidthMax","SelectedLinkWidthMin","ReciprocalTypes","SelectedLinkReciprocalTypeVariable","SelectedLinkWidthVariable","SelectedLinkLengthVariable","ArrowTypes","bidirectionalOptions","SelectedLinkArrowTypeVariable","SelectedLinkBidirectionalTypeVariable","NeighborTypes","SelectedNetworkNeighborTypeVariable","GridLineTypes","SelectedNetworkGridLineTypeVariable","SelecetedNetworkLinkStrengthVariable","SelectedNodeLabelSizeVariable","nodeBorderWidth","ShowNodeSymbolWrapper","ShowNodeSymbolTable","ShowPolygonColorTable","NodeSymbolTableWrapperDialogSettings","PolygonColorTableWrapperDialogSettings","Node2DNetworkExportDialogSettings","symbolTableWrapper","linkColorTableWrapper","nodeColorTableWrapper","isMac","navigator","userAgent","polygonNodeSelected","_partialUpdate","networkUpdatedSubscription","_rerender","saveNodePos","mapDataToCytoscapeElements","timelineTick","parentNodes","lineSelectedColor","getLinkLabel","lineColor","getLinkColor","lineOpacity","getLinkWidth","getNodeLabel","getNodeSize","getNodeColor","getNodeBorderWidth","selectedBorderColor","getNodeFontSize","shape","getNodeShape","_fx","_fy","getCytoscapeStyles","line-opacity","ele","attachCytoscapeEvents","connectedEdges","edge","updateNodePos","globalNode","ensureArray","networkData","mtSelectedNode","unselect","baseResolution","resolutionValue","debouncedRerender","debounceDelay","rerenderTimeout","onNetworkExportFiletypeChange","toggleAdvancedExport","networkWhitespaceClicked","updatePolygonColors","polygonSort","polygonColorHeaderTitle","polygonHeader","countSort","countHeader","polygonColorTable","updateGroupNodeColors","polygonsToggle","updateNodeGrouping","onPolygonLabelOrientationChange","batch","addParentNodesAndGroupChildren","removeParentNodesAndUngroupChildren","groupMap","has","entries","nodesInGroup","parentId","isParent","newColor","polygonColorsToggle","onPolygonColorChanged","polygonColorsTableToggle","onPolygonColorTableChange","getVLinks","holder","oNum","origins","getLLinks","calcAngle","atan","copyID","copySeq","tt_var_len","tooltipHtml","tooltipVariables","varName","redrawNodes","symbolVariable","redrawNodeBorder","redrawLabels","centerPolygons","updateGroupAssignments","foci","existingParents","p","rawGroup","childNode","onPolygonLabelSizeChange","textValign","textHalign","onPolygonLabelShowChange","onNodeLabelVaribleChange","updateNodeLabels","onNodeShapeChange","newShape","updateNodeShapes","defaultSize","med","oldrng","sizeVariable","scaleValue","scalar","mid","linkScale","finalColor","alphaValue","labelVariable","labelValue","onNodeLabelSizeChange","setNodeLabelSize","updateNodeLabelSizes","onNodeLabelOrientationChange","onNodeTooltipVariableChange","selectedValue","onNodeSymbolVariableChange","onNodeSymbolTableChange","generateNodeSymbolSelectionTable","symbolMapping","symbols","optionsHtml","symbolText","onNodeRadiusVariableChange","updateNodeSizes","onNodeRadiusMaxChange","updateMinMaxNode","onNodeRadiusMinChange","onNodeBorderWidthChange","updateNodeBorders","onNodeRadiusChange","visLinks","newElements","nodeRepulsion","idealEdgeLength","edgeElasticity","gravity","numIter","onNodeSymbolChange","onLinkTooltipVariableChange","onLinkLabelVariableChange","newLabel","onLinkDecimalVariableChange","onLinkOpacityChange","updateLinkWidthRows","onLinkWidthVariableChange","updateMinMaxLink","scaleLinkWidth","minWidth","MAX_VALUE","MIN_VALUE","onLinkWidthReciprocalNonReciprocalChange","onLinkWidthChange","onLinkWidthMaxChange","onLinkWidthMinChange","onLinkLengthChange","onLinkDirectedUndirectedChange","isDirected","onLinkBidirectionalChange","sourceArrowShape","targetArrowShape","onDontHighlightNeighborsHighlightNeighborsChange","calculateLinkWidthScale","linearScale","dataMin","dataMax","reciprocal","scaledValue","onNetworkGridlinesShowHideChange","onNodeChargeChange","onNetworkGravityChange","onNetworkFrictionChange","onNetworkLinkStrengthVariableChange","stroke","stroke_width","scaleValues","dataValue","scaledWidth","isFiltered","enableSettings","currentPosition","newNodeIds","newLinkIds","hasClass","cyEdge","colorObject","newSize","newBorderWidth","updateLinkWidths","newWidth","newFontSize","onNodeLabelChange","onNodeColorChange","metaDataToSkip","expandedClusterRowData","expandedNodeRowData","expandedLinkRowData","waterfall","clusterTableData","nodeTableData","linkTableData","cl","updateTableWidths","clusterTableWidth","clusterTable","_totalTableWidth","nodeTableWidth","nodeTable","linkTableWidth","linkTable","onClusterRowSelect","degreeCount","selectedNodeRow","selectedLinkRow","onClusterRowUnselect","onNodeRowSelect","onNodeRowUnselect","onLinkRowSelect","linkIndex","linkData","onLinkRowUnselect","bioseq","compute_consensus","maxKey","maxVal","encoder","TextEncoder","encode","buffer","compute_ambiguity_counts","sequence","sequenceLength","compute_links","s1","s2","c1","c2","onInts","sourceInThreshold","sourceSeq","compute_tree","RNJ","parseMatrix","toObject","compute_directionality","getDescendant","compute_mst","minDist","nodeid","minKey","mstSet","min_index","primMST","graph","u","nearest_neighbour_graph","mst_parents","mst","nng","longest_edge","bfs_update_matrix","weights","visited","queue","shift","compute_nn","compute_triangulation","missingCell","minRange","companionA","companionB","newVal","compute_parse_fasta","currentSeq","lines","isblank","compute_align_sw","rst","fmt","cigar2gaps","CIGAR","_score","score","_cigar","MenuAsideDirective","MenuAsideOffcanvasDirective","MenuHorizontalOffcanvasDirective","MenuHorizontalDirective","MenuAsideToggleDirective","NavigationEnd","Router","router","offcanvasClass","mUtil","menuOffcanvas","mOffcanvas","baseClass","overlay","closeBy","toggleBy","events","pipe","isMobileDevice","toggle","mToggle","targetState","togglerState","LayoutConfigService","objectPath","LayoutRefService","mergeMap","layoutConfigService","layoutRefService","onLayoutConfigUpdated$","layoutRefs$","initMenu","headerHeight","getComputedStyle","getViewPort","submenu","desktop","tablet","mobile","accordion","autoScroll","expandAll","menu","mMenu","slideSpeed","UtilsService","layoutRefs","addElement","HttpParams","HttpHeaders","urlParam","encodeURIComponent","isObject","mergeDeep","getPath","fullpath","getFindHTTPParams","queryParams","sortOrder","pageNumber","pageSize","getHTTPHeader","isInteger","isFinite","isString","environment","production","enableProdMode","platformBrowserDynamic","bootstrapModule","AppConsts","tenancyNamePlaceHolderInUrl","localeMappings","userManagement","defaultAdminUserName","localization","defaultLocalizationSourceName","authorization","encrptedAuthTokenName","grid","defaultPageSize","PrimengTableHelper","localizationSourceName","ui","appUrlService","primengTableHelper","flattenDeep","array","ls","sourcename","localizedText","localize","isGranted","permissionName","permission","isGrantedAny","permissions","tenancyNamePlaceHolder","_appSessionService","getAppRootUrlOfTenant","tenancyName","baseUrl","ensureEndsWith","appBaseUrlFormat","appBaseHref","removeFromStart","AppUrlService_1","removeFromEnd","Pipe","LocalizePipe","init","getContainerClass","_theme","baseSettings","layoutType","isLeftMenuUsed","getAppModuleBodyClass","topMenuUsed","contentSkin","desktopFixedHeader","mobileFixedHeader","fixedAside","defaultMinimizedAside","defaultHiddenAside","asideSkin","fixedFooter","fixedBody","mobileFixedBody","getAccountModuleBodyClass","getSelectEditionBodyClass","getSideBarMenuClass","menuCssClass","submenuToggle","getMenuListClass","getTopBarMenuContainerClass","getIsMenuScrollable","allowMenuScroll","getSideBarMenuItemClass","isMenuActive","HostBinding","HostListener","fileDropped","onDragOver","stopPropagation","fileOver","onDragLeave","ondrop","dataTransfer","predefinedRecordsCountPerPage","defaultRecordsCountPerPage","isResponsive","totalRecordsCount","showLoadingIndicator","hideLoadingIndicator","getSorting","sorting","getMaxResultCount","paginator","getSkipCount","shouldResetPaging","Subscription","onFirstComponentButtonClick","localForage","removeItem","defaults","colorOptions","nodeColorMode","equidistantLeaves","hStretch","vStretch","rotation","setTree","eachBefore","validLayouts","validTypes","validModes","validNodeColorModes","validBranchColorModes","updateRuler","getX","getY","getLength","linkTransformers","smooth","horizontal","linkHorizontal","vertical","linkVertical","circular","linkRadial","straight","startAngle","startRadius","endAngle","endRadius","y0","y1","weighted","dendrogram","circularPoint","nodeTransformers","findNodeColor","defaultNodeColor","_guid","highlightColor","findBranchColor","branchColorMode","defaultBranchColor","childLeafNodes","getAllLeaves","allChildLeafNodesInNodeList","includeSelf","labelTransformers","labeler","separation","depth","linkTransformer","labelTransformer","paths","end","exit","descendants","nodeLabels","nodeTransformer","nodeGlyphs","zoomIdentity","translate","newLayout","setColorOptions","newColorOptions","newMode","newType","setRotation","degrees","animCache","styler","setEquidistantLeaves","isEquidistant","setRuler","getNodeGUIDs","leavesOnly","predicate","_groups","nodeGUIDs","__data__","handler"],"sourceRoot":"webpack:///","x_google_ignoreList":[72]}